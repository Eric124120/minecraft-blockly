/*! For license information please see main.bc685370.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(8937)},2845:function(e,t,n){var o,i,r;i=[n(9810)],void 0===(r="function"===typeof(o=function(e){return e})?o.apply(t,i):o)||(e.exports=r)},9810:function(e,t,n){var o,i,r,s;s=function(){var e={},t=t||{};t.scope={},t.createTemplateTagFirstArg=function(e){return e.raw=e},t.createTemplateTagFirstArgWithRaw=function(e,t){return e.raw=t,e},t.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},t.arrayIterator=function(e){return{next:t.arrayIteratorImpl(e)}},t.makeIterator=function(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):t.arrayIterator(e)},t.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},t.arrayFromIterable=function(e){return e instanceof Array?e:t.arrayFromIterator(t.makeIterator(e))},t.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.ASSUME_ES5=!1,t.ASSUME_NO_NATIVE_MAP=!1,t.ASSUME_NO_NATIVE_SET=!1,t.SIMPLE_FROUND_POLYFILL=!1,t.ISOLATE_POLYFILLS=!1,t.FORCE_POLYFILL_PROMISE=!1,t.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,t.defineProperty=t.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},t.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var o=e[t];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")},t.global=t.getGlobal(this),t.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x"),t.TRUST_ES6_POLYFILLS=!t.ISOLATE_POLYFILLS||t.IS_SYMBOL_NATIVE,t.polyfills={},t.propertyToPolyfillSymbol={},t.POLYFILL_PREFIX="$jscp$",t.polyfill=function(e,n,o,i){n&&(t.ISOLATE_POLYFILLS?t.polyfillIsolated(e,n,o,i):t.polyfillUnisolated(e,n,o,i))},t.polyfillUnisolated=function(e,n,o,i){for(o=t.global,e=e.split("."),i=0;i<e.length-1;i++){var r=e[i];if(!(r in o))return;o=o[r]}(n=n(i=o[e=e[e.length-1]]))!=i&&null!=n&&t.defineProperty(o,e,{configurable:!0,writable:!0,value:n})},t.polyfillIsolated=function(e,n,o,i){var r=e.split(".");e=1===r.length,i=r[0],i=!e&&i in t.polyfills?t.polyfills:t.global;for(var s=0;s<r.length-1;s++){var l=r[s];if(!(l in i))return;i=i[l]}r=r[r.length-1],null!=(n=n(o=t.IS_SYMBOL_NATIVE&&"es6"===o?i[r]:null))&&(e?t.defineProperty(t.polyfills,r,{configurable:!0,writable:!0,value:n}):n!==o&&(void 0===t.propertyToPolyfillSymbol[r]&&(o=1e9*Math.random()>>>0,t.propertyToPolyfillSymbol[r]=t.IS_SYMBOL_NATIVE?t.global.Symbol(r):t.POLYFILL_PREFIX+o+"$"+r),t.defineProperty(i,t.propertyToPolyfillSymbol[r],{configurable:!0,writable:!0,value:n})))},t.assign=t.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(e,n){for(var o=1;o<arguments.length;o++){var i=arguments[o];if(i)for(var r in i)t.owns(i,r)&&(e[r]=i[r])}return e},t.polyfill("Object.assign",(function(e){return e||t.assign}),"es6","es3"),t.objectCreate=t.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){var t=function(){};return t.prototype=e,new t},t.getConstructImplementation=function(){if(t.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(function(){function e(){}return new e,Reflect.construct(e,[],(function(){})),new e instanceof e}())return Reflect.construct;var e=Reflect.construct;return function(t,n,o){return t=e(t,n),o&&Reflect.setPrototypeOf(t,o.prototype),t}}return function(e,n,o){return void 0===o&&(o=e),o=t.objectCreate(o.prototype||Object.prototype),Function.prototype.apply.call(e,o,n)||o}},t.construct=t.getConstructImplementation(),t.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(t){}return!1},t.setPrototypeOf=t.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:t.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,t.inherits=function(e,n){if(e.prototype=t.objectCreate(n.prototype),e.prototype.constructor=e,t.setPrototypeOf){var o=t.setPrototypeOf;o(e,n)}else for(o in n)if("prototype"!=o)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(e,o,i)}else e[o]=n[o];e.superClass_=n.prototype},t.polyfill("Reflect",(function(e){return e||{}}),"es6","es3"),t.polyfill("Reflect.construct",(function(e){return t.construct}),"es6","es3"),t.polyfill("Reflect.setPrototypeOf",(function(e){if(e)return e;if(t.setPrototypeOf){var n=t.setPrototypeOf;return function(e,t){try{return n(e,t),!0}catch(o){return!1}}}return null}),"es6","es5"),t.polyfill("globalThis",(function(e){return e||t.global}),"es_2020","es3"),t.checkStringArgs=function(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""},t.polyfill("String.prototype.startsWith",(function(e){return e||function(e,n){var o=t.checkStringArgs(this,e,"startsWith");e+="";var i=o.length,r=e.length;n=Math.max(0,Math.min(0|n,o.length));for(var s=0;s<r&&n<i;)if(o[n++]!=e[s++])return!1;return s>=r}}),"es6","es3"),t.initSymbol=function(){},t.polyfill("Symbol",(function(e){if(e)return e;var n=function(e,n){this.$jscomp$symbol$id_=e,t.defineProperty(this,"description",{configurable:!0,writable:!0,value:n})};n.prototype.toString=function(){return this.$jscomp$symbol$id_};var o="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(t){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new n(o+(t||"")+"_"+i++,t)}}),"es6","es3"),t.polyfill("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<n.length;o++){var i=t.global[n[o]];"function"===typeof i&&"function"!=typeof i.prototype[e]&&t.defineProperty(i.prototype,e,{configurable:!0,writable:!0,value:function(){return t.iteratorPrototype(t.arrayIteratorImpl(this))}})}return e}),"es6","es3"),t.iteratorPrototype=function(e){return(e={next:e})[Symbol.iterator]=function(){return this},e},t.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var n=0,o=!1,i={next:function(){if(!o&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return o=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i},t.polyfill("Array.prototype.keys",(function(e){return e||function(){return t.iteratorFromArray(this,(function(e){return e}))}}),"es6","es3"),t.polyfill("Object.setPrototypeOf",(function(e){return e||t.setPrototypeOf}),"es6","es5"),t.polyfill("Array.prototype.values",(function(e){return e||function(){return t.iteratorFromArray(this,(function(e,t){return t}))}}),"es8","es3"),t.polyfill("Object.entries",(function(e){return e||function(e){var n,o=[];for(n in e)t.owns(e,n)&&o.push([n,e[n]]);return o}}),"es8","es3"),t.polyfill("Object.getOwnPropertySymbols",(function(e){return e||function(){return[]}}),"es6","es5"),t.polyfill("Reflect.ownKeys",(function(e){return e||function(e){var t=[],n=Object.getOwnPropertyNames(e);e=Object.getOwnPropertySymbols(e);for(var o=0;o<n.length;o++)("jscomp_symbol_"==n[o].substring(0,14)?e:t).push(n[o]);return t.concat(e)}}),"es6","es5"),t.polyfill("Object.getOwnPropertyDescriptors",(function(e){return e||function(e){for(var t={},n=Reflect.ownKeys(e),o=0;o<n.length;o++)t[n[o]]=Object.getOwnPropertyDescriptor(e,n[o]);return t}}),"es8","es5"),t.polyfill("Array.prototype.fill",(function(e){return e||function(e,t,n){var o=this.length||0;for(0>t&&(t=Math.max(0,o+t)),(null==n||n>o)&&(n=o),0>(n=Number(n))&&(n=Math.max(0,o+n)),t=Number(t||0);t<n;t++)this[t]=e;return this}}),"es6","es3"),t.typedArrayFill=function(e){return e||Array.prototype.fill},t.polyfill("Int8Array.prototype.fill",t.typedArrayFill,"es6","es5"),t.polyfill("Uint8Array.prototype.fill",t.typedArrayFill,"es6","es5"),t.polyfill("Uint8ClampedArray.prototype.fill",t.typedArrayFill,"es6","es5"),t.polyfill("Int16Array.prototype.fill",t.typedArrayFill,"es6","es5"),t.polyfill("Uint16Array.prototype.fill",t.typedArrayFill,"es6","es5"),t.polyfill("Int32Array.prototype.fill",t.typedArrayFill,"es6","es5"),t.polyfill("Uint32Array.prototype.fill",t.typedArrayFill,"es6","es5"),t.polyfill("Float32Array.prototype.fill",t.typedArrayFill,"es6","es5"),t.polyfill("Float64Array.prototype.fill",t.typedArrayFill,"es6","es5"),t.polyfill("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}}),"es6","es3"),t.polyfill("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var o=n.length;for(0>(t=t||0)&&(t=Math.max(t+o,0));t<o;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}}),"es7","es3"),t.polyfill("String.prototype.includes",(function(e){return e||function(e,n){return-1!==t.checkStringArgs(this,e,"includes").indexOf(e,n||0)}}),"es6","es3");var o=o||{};o.global=globalThis||root,o.define=function(e,t){return t},o.DEBUG=!1,o.DISALLOW_TEST_ONLY_CODE=!o.DEBUG,o.provide=function(e){},o.module=function(e){},o.module.get=function(e){},o.module.declareLegacyNamespace=function(){},o.setTestOnly=function(e){if(o.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},o.require=function(e){},o.requireType=function(e){};var i,r,s,l,a={warn:function(e,t,n,o){e=e+" was deprecated on "+t+" and will be deleted on "+n+".",o&&(e+="\nUse "+o+" instead."),console.warn(e)}},c={},u=!1;c.register=function(e){if(u)throw Error("CSS already injected");Array.isArray(e)?((0,a.warn)("Registering CSS by passing an array of strings","September 2021","September 2022","css.register passing a multiline string"),c.content+="\n"+e.join("\n")):c.content+="\n"+e},c.inject=function(e,t){u||(u=!0,e&&(e=t.replace(/[\\/]$/,""),t=c.content.replace(/<<<PATH>>>/g,e),c.content="",(e=document.createElement("style")).id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},c.content='\n  .blocklySvg {\n    background-color: #fff;\n    outline: none;\n    overflow: hidden;  /* IE overflows by default. */\n    position: absolute;\n    display: block;\n  }\n\n  .blocklyWidgetDiv {\n    display: none;\n    position: absolute;\n    z-index: 99999;  /* big value for bootstrap3 compatibility */\n  }\n\n  .injectionDiv {\n    height: 100%;\n    position: relative;\n    overflow: hidden;  /* So blocks in drag surface disappear at edges */\n    touch-action: none;\n  }\n\n  .blocklyNonSelectable {\n    user-select: none;\n    -ms-user-select: none;\n    -webkit-user-select: none;\n  }\n\n  .blocklyWsDragSurface {\n    display: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n\n  /* Added as a separate rule with multiple classes to make it more specific\n     than a bootstrap rule that selects svg:root. See issue #1275 for context.\n  */\n  .blocklyWsDragSurface.blocklyOverflowVisible {\n    overflow: visible;\n  }\n\n  .blocklyBlockDragSurface {\n    display: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    overflow: visible !important;\n    z-index: 50;  /* Display below toolbox, but above everything else. */\n  }\n\n  .blocklyBlockCanvas.blocklyCanvasTransitioning,\n  .blocklyBubbleCanvas.blocklyCanvasTransitioning {\n    transition: transform .5s;\n  }\n\n  .blocklyTooltipDiv {\n    background-color: #ffffc7;\n    border: 1px solid #ddc;\n    box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\n    color: #000;\n    display: none;\n    font: 9pt sans-serif;\n    opacity: .9;\n    padding: 2px;\n    position: absolute;\n    z-index: 100000;  /* big value for bootstrap3 compatibility */\n  }\n\n  .blocklyDropDownDiv {\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 1000;\n    display: none;\n    border: 1px solid;\n    border-color: #dadce0;\n    background-color: #fff;\n    border-radius: 2px;\n    padding: 4px;\n    box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n  }\n\n  .blocklyDropDownDiv.blocklyFocused {\n    box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n  }\n\n  .blocklyDropDownContent {\n    max-height: 300px;  // @todo: spec for maximum height.\n    overflow: auto;\n    overflow-x: hidden;\n    position: relative;\n  }\n\n  .blocklyDropDownArrow {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 16px;\n    height: 16px;\n    z-index: -1;\n    background-color: inherit;\n    border-color: inherit;\n  }\n\n  .blocklyDropDownButton {\n    display: inline-block;\n    float: left;\n    padding: 0;\n    margin: 4px;\n    border-radius: 4px;\n    outline: none;\n    border: 1px solid;\n    transition: box-shadow .1s;\n    cursor: pointer;\n  }\n\n  .blocklyArrowTop {\n    border-top: 1px solid;\n    border-left: 1px solid;\n    border-top-left-radius: 4px;\n    border-color: inherit;\n  }\n\n  .blocklyArrowBottom {\n    border-bottom: 1px solid;\n    border-right: 1px solid;\n    border-bottom-right-radius: 4px;\n    border-color: inherit;\n  }\n\n  .blocklyResizeSE {\n    cursor: se-resize;\n    fill: #aaa;\n  }\n\n  .blocklyResizeSW {\n    cursor: sw-resize;\n    fill: #aaa;\n  }\n\n  .blocklyResizeLine {\n    stroke: #515A5A;\n    stroke-width: 1;\n  }\n\n  .blocklyHighlightedConnectionPath {\n    fill: none;\n    stroke: #fc3;\n    stroke-width: 4px;\n  }\n\n  .blocklyPathLight {\n    fill: none;\n    stroke-linecap: round;\n    stroke-width: 1;\n  }\n\n  .blocklySelected>.blocklyPathLight {\n    display: none;\n  }\n\n  .blocklyDraggable {\n    /* backup for browsers (e.g. IE11) that don\'t support grab */\n    cursor: url("<<<PATH>>>/handopen.cur"), auto;\n    cursor: grab;\n    cursor: -webkit-grab;\n  }\n\n    /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n  .blocklyDragging {\n    /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n    cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n    cursor: grabbing;\n    cursor: -webkit-grabbing;\n  }\n\n    /* Changes cursor on mouse down. Not effective in Firefox because of\n       https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\n  .blocklyDraggable:active {\n    /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n    cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n    cursor: grabbing;\n    cursor: -webkit-grabbing;\n  }\n\n  /* Change the cursor on the whole drag surface in case the mouse gets\n     ahead of block during a drag. This way the cursor is still a closed hand.\n    */\n  .blocklyBlockDragSurface .blocklyDraggable {\n    /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n    cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n    cursor: grabbing;\n    cursor: -webkit-grabbing;\n  }\n\n  .blocklyDragging.blocklyDraggingDelete {\n    cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n  }\n\n  .blocklyDragging>.blocklyPath,\n  .blocklyDragging>.blocklyPathLight {\n    fill-opacity: .8;\n    stroke-opacity: .8;\n  }\n\n  .blocklyDragging>.blocklyPathDark {\n    display: none;\n  }\n\n  .blocklyDisabled>.blocklyPath {\n    fill-opacity: .5;\n    stroke-opacity: .5;\n  }\n\n  .blocklyDisabled>.blocklyPathLight,\n  .blocklyDisabled>.blocklyPathDark {\n    display: none;\n  }\n\n  .blocklyInsertionMarker>.blocklyPath,\n  .blocklyInsertionMarker>.blocklyPathLight,\n  .blocklyInsertionMarker>.blocklyPathDark {\n    fill-opacity: .2;\n    stroke: none;\n  }\n\n  .blocklyMultilineText {\n    font-family: monospace;\n  }\n\n  .blocklyNonEditableText>text {\n    pointer-events: none;\n  }\n\n  .blocklyFlyout {\n    position: absolute;\n    z-index: 20;\n  }\n\n  .blocklyText text {\n    cursor: default;\n  }\n\n  /*\n    Don\'t allow users to select text.  It gets annoying when trying to\n    drag a block and selected text moves instead.\n  */\n  .blocklySvg text,\n  .blocklyBlockDragSurface text {\n    user-select: none;\n    -ms-user-select: none;\n    -webkit-user-select: none;\n    cursor: inherit;\n  }\n\n  .blocklyHidden {\n    display: none;\n  }\n\n  .blocklyFieldDropdown:not(.blocklyHidden) {\n    display: block;\n  }\n\n  .blocklyIconGroup {\n    cursor: default;\n  }\n\n  .blocklyIconGroup:not(:hover),\n  .blocklyIconGroupReadonly {\n    opacity: .6;\n  }\n\n  .blocklyIconShape {\n    fill: #00f;\n    stroke: #fff;\n    stroke-width: 1px;\n  }\n\n  .blocklyIconSymbol {\n    fill: #fff;\n  }\n\n  .blocklyMinimalBody {\n    margin: 0;\n    padding: 0;\n  }\n\n  .blocklyHtmlInput {\n    border: none;\n    border-radius: 4px;\n    height: 100%;\n    margin: 0;\n    outline: none;\n    padding: 0;\n    width: 100%;\n    text-align: center;\n    display: block;\n    box-sizing: border-box;\n  }\n\n  /* Edge and IE introduce a close icon when the input value is longer than a\n     certain length. This affects our sizing calculations of the text input.\n     Hiding the close icon to avoid that. */\n  .blocklyHtmlInput::-ms-clear {\n    display: none;\n  }\n\n  .blocklyMainBackground {\n    stroke-width: 1;\n    stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */\n  }\n\n  .blocklyMutatorBackground {\n    fill: #fff;\n    stroke: #ddd;\n    stroke-width: 1;\n  }\n\n  .blocklyFlyoutBackground {\n    fill: #ddd;\n    fill-opacity: .8;\n  }\n\n  .blocklyMainWorkspaceScrollbar {\n    z-index: 20;\n  }\n\n  .blocklyFlyoutScrollbar {\n    z-index: 30;\n  }\n\n  .blocklyScrollbarHorizontal,\n  .blocklyScrollbarVertical {\n    position: absolute;\n    outline: none;\n  }\n\n  .blocklyScrollbarBackground {\n    opacity: 0;\n  }\n\n  .blocklyScrollbarHandle {\n    fill: #ccc;\n  }\n\n  .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n  .blocklyScrollbarHandle:hover {\n    fill: #bbb;\n  }\n\n  /* Darken flyout scrollbars due to being on a grey background. */\n  /* By contrast, workspace scrollbars are on a white background. */\n  .blocklyFlyout .blocklyScrollbarHandle {\n    fill: #bbb;\n  }\n\n  .blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n  .blocklyFlyout .blocklyScrollbarHandle:hover {\n    fill: #aaa;\n  }\n\n  .blocklyInvalidInput {\n    background: #faa;\n  }\n\n  .blocklyVerticalMarker {\n    stroke-width: 3px;\n    fill: rgba(255,255,255,.5);\n    pointer-events: none;\n  }\n\n  .blocklyComputeCanvas {\n    position: absolute;\n    width: 0;\n    height: 0;\n  }\n\n  .blocklyNoPointerEvents {\n    pointer-events: none;\n  }\n\n  .blocklyContextMenu {\n    border-radius: 4px;\n    max-height: 100%;\n  }\n\n  .blocklyDropdownMenu {\n    border-radius: 2px;\n    padding: 0 !important;\n  }\n\n  .blocklyDropdownMenu .blocklyMenuItem {\n    /* 28px on the left for icon or checkbox. */\n    padding-left: 28px;\n  }\n\n  /* BiDi override for the resting state. */\n  .blocklyDropdownMenu .blocklyMenuItemRtl {\n    /* Flip left/right padding for BiDi. */\n    padding-left: 5px;\n    padding-right: 28px;\n  }\n\n  .blocklyWidgetDiv .blocklyMenu {\n    background: #fff;\n    border: 1px solid transparent;\n    box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n    font: normal 13px Arial, sans-serif;\n    margin: 0;\n    outline: none;\n    padding: 4px 0;\n    position: absolute;\n    overflow-y: auto;\n    overflow-x: hidden;\n    max-height: 100%;\n    z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n  }\n\n  .blocklyWidgetDiv .blocklyMenu.blocklyFocused {\n    box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n  }\n\n  .blocklyDropDownDiv .blocklyMenu {\n    background: inherit;  /* Compatibility with gapi, reset from goog-menu */\n    border: inherit;  /* Compatibility with gapi, reset from goog-menu */\n    font: normal 13px "Helvetica Neue", Helvetica, sans-serif;\n    outline: none;\n    position: relative;  /* Compatibility with gapi, reset from goog-menu */\n    z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n  }\n\n  /* State: resting. */\n  .blocklyMenuItem {\n    border: none;\n    color: #000;\n    cursor: pointer;\n    list-style: none;\n    margin: 0;\n    /* 7em on the right for shortcut. */\n    min-width: 7em;\n    padding: 6px 15px;\n    white-space: nowrap;\n  }\n\n  /* State: disabled. */\n  .blocklyMenuItemDisabled {\n    color: #ccc;\n    cursor: inherit;\n  }\n\n  /* State: hover. */\n  .blocklyMenuItemHighlight {\n    background-color: rgba(0,0,0,.1);\n  }\n\n  /* State: selected/checked. */\n  .blocklyMenuItemCheckbox {\n    height: 16px;\n    position: absolute;\n    width: 16px;\n  }\n\n  .blocklyMenuItemSelected .blocklyMenuItemCheckbox {\n    background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\n    float: left;\n    margin-left: -24px;\n    position: static;  /* Scroll with the menu. */\n  }\n\n  .blocklyMenuItemRtl .blocklyMenuItemCheckbox {\n    float: right;\n    margin-right: -24px;\n  }\n',e.module$exports$Blockly$utils$string={startsWith:function(e,t){return 0===e.lastIndexOf(t,0)},shortestStringLength:function(e){return e.length?e.reduce((function(e,t){return e.length<t.length?e:t})).length:0},commonWordPrefix:function(t,n){if(!t.length)return 0;if(1===t.length)return t[0].length;var o,i=0;for(n=n||(0,e.module$exports$Blockly$utils$string.shortestStringLength)(t),o=0;o<n;o++){for(var r=t[0][o],s=1;s<t.length;s++)if(r!==t[s][o])return i;" "===r&&(i=o+1)}for(r=1;r<t.length;r++)if((s=t[r][o])&&" "!==s)return i;return n},commonWordSuffix:function(t,n){if(!t.length)return 0;if(1===t.length)return t[0].length;var o,i=0;for(n=n||(0,e.module$exports$Blockly$utils$string.shortestStringLength)(t),o=0;o<n;o++){for(var r=t[0].substr(-o-1,1),s=1;s<t.length;s++)if(r!==t[s].substr(-o-1,1))return i;" "===r&&(i=o+1)}for(r=1;r<t.length;r++)if((s=t[r].charAt(t[r].length-o-1))&&" "!==s)return i;return n},wrap:function(e,t){e=e.split("\n");for(var n=0;n<e.length;n++)e[n]=i(e[n],t);return e.join("\n")}},i=function(e,t){if(e.length<=t)return e;for(var n=e.trim().split(/\s+/),o=0;o<n.length;o++)n[o].length>t&&(t=n[o].length);var i=-1/0,a=1;do{o=i;var c=e;e=[],i=n.length/a;for(var u=1,p=0;p<n.length-1;p++)u<(p+1.5)/i?(u++,e[p]=!0):e[p]=!1;e=s(n,e,t),i=r(n,e,t),e=l(n,e),a++}while(i>o);return c},r=function(e,t,n){for(var o=[0],i=[],r=0;r<e.length;r++)o[o.length-1]+=e[r].length,!0===t[r]?(o.push(0),i.push(e[r].charAt(e[r].length-1))):!1===t[r]&&o[o.length-1]++;for(e=Math.max.apply(Math,o),r=t=0;r<o.length;r++)t-=2*Math.pow(Math.abs(n-o[r]),1.5),t-=Math.pow(e-o[r],1.5),-1!==".?!".indexOf(i[r])?t+=n/3:-1!==",;)]}".indexOf(i[r])&&(t+=n/4);return 1<o.length&&o[o.length-1]<=o[o.length-2]&&(t+=.5),t},s=function(e,t,n){for(var o,i=r(e,t,n),l=0;l<t.length-1;l++)if(t[l]!==t[l+1]){var a=[].concat(t);a[l]=!a[l],a[l+1]=!a[l+1];var c=r(e,a,n);c>i&&(i=c,o=a)}return o?s(e,o,n):t},l=function(e,t){for(var n=[],o=0;o<e.length;o++)n.push(e[o]),void 0!==t[o]&&n.push(t[o]?"\n":" ");return n.join("")},e.module$exports$Blockly$utils$string.isNumber=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},e.module$exports$Blockly$ConnectionType={ConnectionType:{INPUT_VALUE:1,OUTPUT_VALUE:2,NEXT_STATEMENT:3,PREVIOUS_STATEMENT:4}},e.module$exports$Blockly$internalConstants={LINE_MODE_MULTIPLIER:40,PAGE_MODE_MULTIPLIER:125,DRAG_RADIUS:5,FLYOUT_DRAG_RADIUS:10,SNAP_RADIUS:28},e.module$exports$Blockly$internalConstants.CONNECTING_SNAP_RADIUS=e.module$exports$Blockly$internalConstants.SNAP_RADIUS,e.module$exports$Blockly$internalConstants.CURRENT_CONNECTION_PREFERENCE=8,e.module$exports$Blockly$internalConstants.BUMP_DELAY=250,e.module$exports$Blockly$internalConstants.BUMP_RANDOMNESS=10,e.module$exports$Blockly$internalConstants.COLLAPSE_CHARS=30,e.module$exports$Blockly$internalConstants.LONGPRESS=750,e.module$exports$Blockly$internalConstants.SOUND_LIMIT=100,e.module$exports$Blockly$internalConstants.DRAG_STACK=!0,e.module$exports$Blockly$internalConstants.SPRITE={width:96,height:124,url:"sprites.png"},e.module$exports$Blockly$internalConstants.DRAG_NONE=0,e.module$exports$Blockly$internalConstants.DRAG_STICKY=1,e.module$exports$Blockly$internalConstants.DRAG_BEGIN=1,e.module$exports$Blockly$internalConstants.DRAG_FREE=2,e.module$exports$Blockly$internalConstants.OPPOSITE_TYPE=[],e.module$exports$Blockly$internalConstants.OPPOSITE_TYPE[e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE]=e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE,e.module$exports$Blockly$internalConstants.OPPOSITE_TYPE[e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE]=e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,e.module$exports$Blockly$internalConstants.OPPOSITE_TYPE[e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT]=e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT,e.module$exports$Blockly$internalConstants.OPPOSITE_TYPE[e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT]=e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT,e.module$exports$Blockly$internalConstants.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",e.module$exports$Blockly$internalConstants.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",e.module$exports$Blockly$utils$global={},e.module$exports$Blockly$utils$global.globalThis=function(){return"object"===typeof globalThis?globalThis:"object"===typeof self?self:"object"===typeof window?window:"object"===typeof n.g?n.g:this}();var p={};p.TOUCH_ENABLED="ontouchstart"in e.module$exports$Blockly$utils$global.globalThis||!!(e.module$exports$Blockly$utils$global.globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!e.module$exports$Blockly$utils$global.globalThis.navigator||!e.module$exports$Blockly$utils$global.globalThis.navigator.maxTouchPoints&&!e.module$exports$Blockly$utils$global.globalThis.navigator.msMaxTouchPoints);var h=null;p.TOUCH_MAP={},e.module$exports$Blockly$utils$global.globalThis.PointerEvent?p.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:p.TOUCH_ENABLED&&(p.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});var d=0;p.longStart=function(t,n){(0,p.longStop)(),t.changedTouches&&1!==t.changedTouches.length||(d=setTimeout((function(){t.changedTouches&&(t.button=2,t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),n&&n.handleRightClick(t)}),e.module$exports$Blockly$internalConstants.LONGPRESS))},p.longStop=function(){d&&(clearTimeout(d),d=0)},p.clearTouchIdentifier=function(){h=null},p.shouldHandleEvent=function(e){return!(0,p.isMouseOrTouchEvent)(e)||(0,p.checkTouchIdentifier)(e)},p.getTouchIdentifierFromEvent=function(e){return void 0!==e.pointerId?e.pointerId:e.changedTouches&&e.changedTouches[0]&&void 0!==e.changedTouches[0].identifier&&null!==e.changedTouches[0].identifier?e.changedTouches[0].identifier:"mouse"},p.checkTouchIdentifier=function(e){var t=(0,p.getTouchIdentifierFromEvent)(e);return void 0!==h&&null!==h?h===t:("mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type)&&(h=t,!0)},p.setClientFromTouch=function(t){if((0,e.module$exports$Blockly$utils$string.startsWith)(t.type,"touch")){var n=t.changedTouches[0];t.clientX=n.clientX,t.clientY=n.clientY}},p.isMouseOrTouchEvent=function(t){return(0,e.module$exports$Blockly$utils$string.startsWith)(t.type,"touch")||(0,e.module$exports$Blockly$utils$string.startsWith)(t.type,"mouse")||(0,e.module$exports$Blockly$utils$string.startsWith)(t.type,"pointer")},p.isTouchEvent=function(t){return(0,e.module$exports$Blockly$utils$string.startsWith)(t.type,"touch")||(0,e.module$exports$Blockly$utils$string.startsWith)(t.type,"pointer")},p.splitEventByTouches=function(e){var t=[];if(e.changedTouches)for(var n=0;n<e.changedTouches.length;n++)t[n]={type:e.type,changedTouches:[e.changedTouches[n]],target:e.target,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}};else t.push(e);return t};var f={};!function(t){function n(e){return-1!==o.indexOf(e.toUpperCase())}f.raw=t;var o=f.raw.toUpperCase();f.IE=n("Trident")||n("MSIE"),f.EDGE=n("Edge"),f.JavaFx=n("JavaFX"),f.CHROME=(n("Chrome")||n("CriOS"))&&!f.EDGE,f.WEBKIT=n("WebKit")&&!f.EDGE,f.GECKO=n("Gecko")&&!f.WEBKIT&&!f.IE&&!f.EDGE,f.ANDROID=n("Android"),t=e.module$exports$Blockly$utils$global.globalThis.navigator&&e.module$exports$Blockly$utils$global.globalThis.navigator.maxTouchPoints,f.IPAD=n("iPad")||n("Macintosh")&&0<t,f.IPOD=n("iPod"),f.IPHONE=n("iPhone")&&!f.IPAD&&!f.IPOD,f.MAC=n("Macintosh"),f.TABLET=f.IPAD||f.ANDROID&&!n("Mobile")||n("Silk"),f.MOBILE=!f.TABLET&&(f.IPOD||f.IPHONE||f.ANDROID||n("IEMobile"))}(e.module$exports$Blockly$utils$global.globalThis.navigator&&e.module$exports$Blockly$utils$global.globalThis.navigator.userAgent||"");var g,_={conditionalBind:function(t,n,o,i,r,s){var l=!1,a=function(e){var t=!r;e=(0,p.splitEventByTouches)(e);for(var n=0;n<e.length;n++){var s=e[n];t&&!(0,p.shouldHandleEvent)(s)||((0,p.setClientFromTouch)(s),o?i.call(o,s):i(s),l=!0)}},c=[];if(e.module$exports$Blockly$utils$global.globalThis.PointerEvent&&n in p.TOUCH_MAP)for(var u=0;u<p.TOUCH_MAP[n].length;u++){var h=p.TOUCH_MAP[n][u];t.addEventListener(h,a,!1),c.push([t,h,a])}else if(t.addEventListener(n,a,!1),c.push([t,n,a]),n in p.TOUCH_MAP)for(u=function(e){a(e),l&&!s&&e.preventDefault()},h=0;h<p.TOUCH_MAP[n].length;h++){var d=p.TOUCH_MAP[n][h];t.addEventListener(d,u,!1),c.push([t,d,u])}return c},bind:function(t,n,o,i){var r=function(e){o?i.call(o,e):i(e)},s=[];if(e.module$exports$Blockly$utils$global.globalThis.PointerEvent&&n in p.TOUCH_MAP)for(var l=0;l<p.TOUCH_MAP[n].length;l++){var a=p.TOUCH_MAP[n][l];t.addEventListener(a,r,!1),s.push([t,a,r])}else if(t.addEventListener(n,r,!1),s.push([t,n,r]),n in p.TOUCH_MAP)for(l=function(e){if(e.changedTouches&&1===e.changedTouches.length){var t=e.changedTouches[0];e.clientX=t.clientX,e.clientY=t.clientY}r(e),e.preventDefault()},a=0;a<p.TOUCH_MAP[n].length;a++){var c=p.TOUCH_MAP[n][a];t.addEventListener(c,l,!1),s.push([t,c,l])}return s},unbind:function(e){for(var t;e.length;){var n=(t=e.pop())[0],o=t[1];t=t[2],n.removeEventListener(o,t,!1)}return t},isTargetInput:function(e){return"textarea"===e.target.type||"text"===e.target.type||"number"===e.target.type||"email"===e.target.type||"password"===e.target.type||"search"===e.target.type||"tel"===e.target.type||"url"===e.target.type||e.target.isContentEditable||e.target.dataset&&"true"===e.target.dataset.isTextInput},isRightButton:function(e){return!(!e.ctrlKey||!f.MAC)||2===e.button},mouseToSvg:function(e,t,n){var o=t.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,n||(n=t.getScreenCTM().inverse()),o.matrixTransform(n)},getScrollDeltaPixels:function(t){switch(t.deltaMode){default:return{x:t.deltaX,y:t.deltaY};case 1:return{x:t.deltaX*e.module$exports$Blockly$internalConstants.LINE_MODE_MULTIPLIER,y:t.deltaY*e.module$exports$Blockly$internalConstants.LINE_MODE_MULTIPLIER};case 2:return{x:t.deltaX*e.module$exports$Blockly$internalConstants.PAGE_MODE_MULTIPLIER,y:t.deltaY*e.module$exports$Blockly$internalConstants.PAGE_MODE_MULTIPLIER}}}};e.module$exports$Blockly$blocks={},e.module$exports$Blockly$blocks.Blocks=Object.create(null),e.module$exports$Blockly$common={},e.module$exports$Blockly$common.getMainWorkspace=function(){return g},e.module$exports$Blockly$common.setMainWorkspace=function(e){g=e};var m,y=null;e.module$exports$Blockly$common.getSelected=function(){return y},e.module$exports$Blockly$common.setSelected=function(e){y=e},e.module$exports$Blockly$common.getParentContainer=function(){return m},e.module$exports$Blockly$common.setParentContainer=function(e){m=e},e.module$exports$Blockly$common.svgResize=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;var t=e.getParentSvg(),n=e.getCachedParentSvgSize(),o=t.parentNode;if(o){var i=o.offsetWidth;o=o.offsetHeight,n.width!==i&&(t.setAttribute("width",i+"px"),e.setCachedParentSvgSize(i,null)),n.height!==o&&(t.setAttribute("height",o+"px"),e.setCachedParentSvgSize(null,o)),e.resize()}},e.module$exports$Blockly$common.draggingConnections=[],e.module$exports$Blockly$common.getBlockTypeCounts=function(e,t){var n=Object.create(null),o=e.getDescendants(!0);for(t&&(e=e.getNextBlock())&&(e=o.indexOf(e),o.splice(e,o.length-e)),e=0;t=o[e];e++)n[t.type]?n[t.type]++:n[t.type]=1;return n};var v=function(e){return function(){this.jsonInit(e)}};e.module$exports$Blockly$common.defineBlocksWithJsonArray=function(t){for(var n=0;n<t.length;n++){var o=t[n];if(o){var i=o.type;i?(e.module$exports$Blockly$blocks.Blocks[i]&&console.warn("Block definition #"+n+' in JSON array overwrites prior definition of "'+i+'".'),e.module$exports$Blockly$blocks.Blocks[i]={init:v(o)}):console.warn("Block definition #"+n+" in JSON array is missing a type attribute. Skipping.")}else console.warn("Block definition #"+n+" in JSON array is "+o+". Skipping.")}};var T={},E=!1;T.isVisible=function(){return E},Object.defineProperties(T,{visible:{get:function(){return(0,a.warn)("Blockly.Tooltip.visible","September 2021","September 2022","Blockly.Tooltip.isVisible()"),(0,T.isVisible)()}}});var k=!1;T.LIMIT=50;var b=0,C=0,S=0,I=0,R=null,O=null;T.OFFSET_X=0,T.OFFSET_Y=10,T.RADIUS_OK=10,T.HOVER_MS=750,T.MARGINS=5;var w=null;T.getDiv=function(){return w},Object.defineProperties(T,{DIV:{get:function(){return(0,a.warn)("Blockly.Tooltip.DIV","September 2021","September 2022","Blockly.Tooltip.getDiv()"),(0,T.getDiv)()}}}),T.getTooltipOfObject=function(e){if(e=B(e)){for(e=e.tooltip;"function"===typeof e;)e=e();if("string"!==typeof e)throw Error("Tooltip function must return a string.");return e}return""};var B=function(e){for(;e&&e.tooltip;){if("string"===typeof e.tooltip||"function"===typeof e.tooltip)return e;e=e.tooltip}return null};T.createDom=function(){w||((w=document.createElement("div")).className="blocklyTooltipDiv",((0,e.module$exports$Blockly$common.getParentContainer)()||document.body).appendChild(w))},T.bindMouseEvents=function(e){e.mouseOverWrapper_=(0,_.bind)(e,"mouseover",null,A),e.mouseOutWrapper_=(0,_.bind)(e,"mouseout",null,x),e.addEventListener("mousemove",N,!1)},T.unbindMouseEvents=function(e){e&&((0,_.unbind)(e.mouseOverWrapper_),(0,_.unbind)(e.mouseOutWrapper_),e.removeEventListener("mousemove",N))};var A=function(e){k||(e=B(e.currentTarget),R!==e&&((0,T.hide)(),O=null,R=e),clearTimeout(b))},x=function(e){k||(b=setTimeout((function(){O=R=null,(0,T.hide)()}),1),clearTimeout(C))},N=function(e){if(R&&R.tooltip&&!k)if(E){var t=S-e.pageX;e=I-e.pageY,Math.sqrt(t*t+e*e)>T.RADIUS_OK&&(0,T.hide)()}else O!==R&&(clearTimeout(C),S=e.pageX,I=e.pageY,C=setTimeout(D,T.HOVER_MS))};T.dispose=function(){O=R=null,(0,T.hide)()},T.hide=function(){E&&(E=!1,w&&(w.style.display="none")),C&&clearTimeout(C)},T.block=function(){(0,T.hide)(),k=!0},T.unblock=function(){k=!1};var D=function(){if(!k&&(O=R,w)){w.textContent="";var t=(0,T.getTooltipOfObject)(R);t=(t=(0,e.module$exports$Blockly$utils$string.wrap)(t,T.LIMIT)).split("\n");for(var n=0;n<t.length;n++){var o=document.createElement("div");o.appendChild(document.createTextNode(t[n])),w.appendChild(o)}t=R.RTL,n=document.documentElement.clientWidth,o=document.documentElement.clientHeight,w.style.direction=t?"rtl":"ltr",w.style.display="block",E=!0;var i=S;i=t?i-(T.OFFSET_X+w.offsetWidth):i+T.OFFSET_X;var r=I+T.OFFSET_Y;r+w.offsetHeight>o+window.scrollY&&(r-=w.offsetHeight+2*T.OFFSET_Y),t?i=Math.max(T.MARGINS-window.scrollX,i):i+w.offsetWidth>n+window.scrollX-2*T.MARGINS&&(i=n-w.offsetWidth-2*T.MARGINS),w.style.top=r+"px",w.style.left=i+"px"}},M={SVG_NS:"http://www.w3.org/2000/svg",HTML_NS:"http://www.w3.org/1999/xhtml",XLINK_NS:"http://www.w3.org/1999/xlink",NodeType:{ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16}},P=null,L=0,F=null;M.createSvgElement=function(e,t,n){for(var o in e=document.createElementNS(M.SVG_NS,String(e)),t)e.setAttribute(o,t[o]);return document.body.runtimeStyle&&(e.runtimeStyle=e.currentStyle=e.style),n&&n.appendChild(e),e},M.addClass=function(e,t){var n=e.getAttribute("class")||"";return-1===(" "+n+" ").indexOf(" "+t+" ")&&(n&&(n+=" "),e.setAttribute("class",n+t),!0)},M.removeClasses=function(e,t){t=t.split(" ");for(var n=0;n<t.length;n++)(0,M.removeClass)(e,t[n])},M.removeClass=function(e,t){var n=e.getAttribute("class");if(-1===(" "+n+" ").indexOf(" "+t+" "))return!1;n=n.split(/\s+/);for(var o=0;o<n.length;o++)n[o]&&n[o]!==t||(n.splice(o,1),o--);return n.length?e.setAttribute("class",n.join(" ")):e.removeAttribute("class"),!0},M.hasClass=function(e,t){return-1!==(" "+e.getAttribute("class")+" ").indexOf(" "+t+" ")},M.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},M.insertAfter=function(e,t){var n=t.nextSibling;if(!(t=t.parentNode))throw Error("Reference node has no parent.");n?t.insertBefore(e,n):t.appendChild(e)},M.containsNode=function(e,t){return!!(e.compareDocumentPosition(t)&M.NodeType.DOCUMENT_POSITION_CONTAINED_BY)},M.setCssTransform=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},M.startTextWidthCache=function(){L++,P||(P=Object.create(null))},M.stopTextWidthCache=function(){--L||(P=null)},M.getTextWidth=function(e){var t,n=e.textContent+"\n"+e.className.baseVal;if(P&&(t=P[n]))return t;try{t=f.IE||f.EDGE?e.getBBox().width:e.getComputedTextLength()}catch(o){return 8*e.textContent.length}return P&&(P[n]=t),t},M.getFastTextWidth=function(e,t,n,o){return(0,M.getFastTextWidthWithSizeString)(e,t+"pt",n,o)},M.getFastTextWidthWithSizeString=function(e,t,n,o){var i,r=e.textContent;return e=r+"\n"+e.className.baseVal,P&&(i=P[e])||(F||((i=document.createElement("canvas")).className="blocklyComputeCanvas",document.body.appendChild(i),F=i.getContext("2d")),F.font=n+" "+t+" "+o,i=F.measureText(r).width,P&&(P[e]=i)),i},M.measureFontMetrics=function(e,t,n,o){var i=document.createElement("span");i.style.font=n+" "+t+" "+o,i.textContent=e,(e=document.createElement("div")).style.width="1px",e.style.height=0,(t=document.createElement("div")).setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),t.appendChild(i),t.appendChild(e),document.body.appendChild(t),n={height:0,baseline:0};try{t.style.alignItems="baseline",n.baseline=e.offsetTop-i.offsetTop,t.style.alignItems="flex-end",n.height=e.offsetTop-i.offsetTop}finally{document.body.removeChild(t)}return n};var $,U={},H=null,V=null,G="",W="";U.getDiv=function(){return $},U.testOnly_setDiv=function(e){$=e},Object.defineProperties(U,{DIV:{get:function(){return(0,a.warn)("Blockly.WidgetDiv.DIV","September 2021","September 2022","Blockly.WidgetDiv.getDiv()"),(0,U.getDiv)()}}}),U.createDom=function(){$||(($=document.createElement("div")).className="blocklyWidgetDiv",((0,e.module$exports$Blockly$common.getParentContainer)()||document.body).appendChild($))},U.show=function(t,n,o){(0,U.hide)(),H=t,V=o,(t=$).style.direction=n?"rtl":"ltr",t.style.display="block",n=(0,e.module$exports$Blockly$common.getMainWorkspace)(),G=n.getRenderer().getClassName(),W=n.getTheme().getClassName(),(0,M.addClass)(t,G),(0,M.addClass)(t,W)},U.hide=function(){if((0,U.isVisible)()){H=null;var t=$;t.style.display="none",t.style.left="",t.style.top="",V&&V(),V=null,t.textContent="",G&&((0,M.removeClass)(t,G),G=""),W&&((0,M.removeClass)(t,W),W=""),(0,e.module$exports$Blockly$common.getMainWorkspace)().markFocused()}},U.isVisible=function(){return!!H},U.hideIfOwner=function(e){H===e&&(0,U.hide)()};var z=function(e,t,n){$.style.left=e+"px",$.style.top=t+"px",$.style.height=n+"px"};U.positionWithAnchor=function(e,t,n,o){var i=j(e,t,n);e=Y(e,t,n,o),0>i?z(e,0,n.height+i):z(e,i,n.height)};var Y=function(e,t,n,o){return o?Math.min(Math.max(t.right-n.width,e.left),e.right-n.width):Math.max(Math.min(t.left,e.right-n.width),e.left)},j=function(e,t,n){return t.bottom+n.height>=e.bottom?t.top-n.height:t.bottom},X={Role:{GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",LISTBOX:"listbox",MENU:"menu",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",OPTION:"option",PRESENTATION:"presentation",ROW:"row",TREE:"tree",TREEITEM:"treeitem"},State:{ACTIVEDESCENDANT:"activedescendant",COLCOUNT:"colcount",DISABLED:"disabled",EXPANDED:"expanded",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",ORIENTATION:"orientation",POSINSET:"posinset",ROWCOUNT:"rowcount",SELECTED:"selected",SETSIZE:"setsize",VALUEMAX:"valuemax",VALUEMIN:"valuemin"},setRole:function(e,t){e.setAttribute("role",t)},setState:function(e,t,n){Array.isArray(n)&&(n=n.join(" ")),e.setAttribute("aria-"+t,n)}},K={TEST_ONLY:{}},J=0;K.getNextUniqueId=function(){return"blockly-"+(J++).toString(36)};var q="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";K.TEST_ONLY.genUid=function(){for(var e=q.length,t=[],n=0;20>n;n++)t[n]=q.charAt(Math.random()*e);return t.join("")},K.genUid=function(){return K.TEST_ONLY.genUid()};var Z={},Q=Object.create(null);Z.TEST_ONLY={typeMap:Q};var ee=Object.create(null);Z.DEFAULT="default",Z.Type=function(e){this.name_=e},Z.Type.prototype.toString=function(){return this.name_},Z.Type.CONNECTION_CHECKER=new Z.Type("connectionChecker"),Z.Type.CURSOR=new Z.Type("cursor"),Z.Type.EVENT=new Z.Type("event"),Z.Type.FIELD=new Z.Type("field"),Z.Type.RENDERER=new Z.Type("renderer"),Z.Type.TOOLBOX=new Z.Type("toolbox"),Z.Type.THEME=new Z.Type("theme"),Z.Type.TOOLBOX_ITEM=new Z.Type("toolboxItem"),Z.Type.FLYOUTS_VERTICAL_TOOLBOX=new Z.Type("flyoutsVerticalToolbox"),Z.Type.FLYOUTS_HORIZONTAL_TOOLBOX=new Z.Type("flyoutsHorizontalToolbox"),Z.Type.METRICS_MANAGER=new Z.Type("metricsManager"),Z.Type.BLOCK_DRAGGER=new Z.Type("blockDragger"),Z.Type.SERIALIZER=new Z.Type("serializer"),Z.register=function(e,t,n,o){if(!(e instanceof Z.Type)&&"string"!==typeof e||""===String(e).trim())throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=String(e).toLowerCase(),"string"!==typeof t||""===t.trim())throw Error('Invalid name "'+t+'". The name must be a non-empty string.');var i=t.toLowerCase();if(!n)throw Error("Can not register a null value");var r=Q[e],s=ee[e];if(r||(r=Q[e]=Object.create(null),s=ee[e]=Object.create(null)),te(e,n),!o&&r[i])throw Error('Name "'+i+'" with type "'+e+'" already registered.');r[i]=n,s[i]=t};var te=function(e,t){if(e===String(Z.Type.FIELD)&&"function"!==typeof t.fromJson)throw Error('Type "'+e+'" must have a fromJson function')};Z.unregister=function(e,t){e=String(e).toLowerCase(),t=t.toLowerCase();var n=Q[e];n&&n[t]?(delete Q[e][t],delete ee[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")};var ne=function(e,t,n){e=String(e).toLowerCase(),t=t.toLowerCase();var o=Q[e];if(!o||!o[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",n)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return o[t]};Z.hasItem=function(e,t){return e=String(e).toLowerCase(),t=t.toLowerCase(),!!(e=Q[e])&&!!e[t]},Z.getClass=function(e,t,n){return ne(e,t,n)},Z.getObject=function(e,t,n){return ne(e,t,n)},Z.getAllItems=function(e,t,n){e=String(e).toLowerCase();var o=Q[e];if(!o){if(o="Unable to find ["+e+"] in the registry.",n)throw Error(o+" You must require or register a "+e+" plugin.");return console.warn(o),null}if(!t)return o;e=ee[e],n=Object.create(null),t=Object.keys(o);for(var i=0;i<t.length;i++){var r=t[i];n[e[r]]=o[r]}return n},Z.getClassFromOptions=function(e,t,n){return"function"===typeof(t=t.plugins[e.toString()]||Z.DEFAULT)?t:(0,Z.getClass)(e,t,n)};var oe={},ie="",re=!0;oe.setRecordUndo=function(e){re=e},oe.getRecordUndo=function(){return re};var se=0;oe.CREATE="create",oe.BLOCK_CREATE=oe.CREATE,oe.DELETE="delete",oe.BLOCK_DELETE=oe.DELETE,oe.CHANGE="change",oe.BLOCK_CHANGE=oe.CHANGE,oe.MOVE="move",oe.BLOCK_MOVE=oe.MOVE,oe.VAR_CREATE="var_create",oe.VAR_DELETE="var_delete",oe.VAR_RENAME="var_rename",oe.UI="ui",oe.BLOCK_DRAG="drag",oe.SELECTED="selected",oe.CLICK="click",oe.MARKER_MOVE="marker_move",oe.BUBBLE_OPEN="bubble_open",oe.TRASHCAN_OPEN="trashcan_open",oe.TOOLBOX_ITEM_SELECT="toolbox_item_select",oe.THEME_CHANGE="theme_change",oe.VIEWPORT_CHANGE="viewport_change",oe.COMMENT_CREATE="comment_create",oe.COMMENT_DELETE="comment_delete",oe.COMMENT_CHANGE="comment_change",oe.COMMENT_MOVE="comment_move",oe.FINISHED_LOADING="finished_loading",oe.BUMP_EVENTS=[oe.CREATE,oe.MOVE,oe.COMMENT_CREATE,oe.COMMENT_MOVE];var le=[];oe.fire=function(e){(0,oe.isEnabled)()&&(le.length||setTimeout(ae,0),le.push(e))};var ae=function(){for(var e,t=(0,oe.filter)(le,!0),n=le.length=0;e=t[n];n++)if(e.workspaceId){var o=Nn.Workspace.getById(e.workspaceId);o&&o.fireChangeListener(e)}};oe.filter=function(e,t){e=e.slice(),t||e.reverse();for(var n=[],o=Object.create(null),i=0,r=void 0;r=e[i];i++)if(!r.isNull()){var s=[r.isUiEvent?oe.UI:r.type,r.blockId,r.workspaceId].join(" "),l=o[s],a=l?l.event:null;l?r.type===oe.MOVE&&l.index===i-1?(a.newParentId=r.newParentId,a.newInputName=r.newInputName,a.newCoordinate=r.newCoordinate,l.index=i):r.type===oe.CHANGE&&r.element===a.element&&r.name===a.name?a.newValue=r.newValue:r.type===oe.VIEWPORT_CHANGE?(a.viewTop=r.viewTop,a.viewLeft=r.viewLeft,a.scale=r.scale,a.oldScale=r.oldScale):r.type===oe.CLICK&&a.type===oe.BUBBLE_OPEN||(o[s]={event:r,index:i},n.push(r)):(o[s]={event:r,index:i},n.push(r))}for(e=n.filter((function(e){return!e.isNull()})),t||e.reverse(),t=1,n=void 0;n=e[t];t++)n.type===oe.CHANGE&&"mutation"===n.element&&e.unshift(e.splice(t,1)[0]);return e},oe.clearPendingUndo=function(){for(var e,t=0;e=le[t];t++)e.recordUndo=!1},oe.disable=function(){se++},oe.enable=function(){se--},oe.isEnabled=function(){return 0===se},oe.getGroup=function(){return ie},oe.setGroup=function(e){ie="boolean"===typeof e?e?(0,K.genUid)():"":e},oe.getDescendantIds=function(e){var t=[];e=e.getDescendants(!1);for(var n,o=0;n=e[o];o++)t[o]=n.id;return t},oe.fromJson=function(e,t){var n=(0,oe.get)(e.type);if(!n)throw Error("Unknown event type.");return(n=new n).fromJson(e),n.workspaceId=t.id,n},oe.get=function(e){return(0,Z.getClass)(Z.Type.EVENT,e)},oe.disableOrphans=function(e){if((e.type===oe.MOVE||e.type===oe.CREATE)&&e.workspaceId){var t=Nn.Workspace.getById(e.workspaceId),n=t.getBlockById(e.blockId);if(n){e=re;try{re=!1;var o=n.getParent();if(o&&o.isEnabled()){var i=n.getDescendants(!1);for(t=0,o=void 0;o=i[t];t++)o.setEnabled(!0)}else if((n.outputConnection||n.previousConnection)&&!t.isDragging())do{n.setEnabled(!1),n=n.getNextBlock()}while(n)}finally{re=e}}}},oe.TEST_ONLY={FIRE_QUEUE:le,fireNow:ae};var ce={toRadians:function(e){return e*Math.PI/180},toDegrees:function(e){return 180*e/Math.PI},clamp:function(e,t,n){if(n<e){var o=n;n=e,e=o}return Math.max(e,Math.min(t,n))}},ue={bumpIntoBounds:function(e,t,n){var o=n.getBoundingRectangle(),i=o.right-o.left,r=(0,ce.clamp)(t.top,o.top,t.top+t.height-(o.bottom-o.top))-o.top,s=t.left;return t=t.left+t.width-i,e.RTL?s=Math.min(t,s):t=Math.max(s,t),!(!(e=(0,ce.clamp)(s,o.left,t)-o.left)&&!r)&&(n.moveBy(e,r),!0)},bumpIntoBoundsHandler:function(e){return function(t){var n=e.getMetricsManager();if(n.hasFixedEdges()&&!e.isDragging())if(-1!==oe.BUMP_EVENTS.indexOf(t.type)){n=n.getScrollMetrics(!0);var o=pe(e,t);if(o){var i=(0,oe.getGroup)();(0,oe.setGroup)(t.group),(0,ue.bumpIntoBounds)(e,n,o)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),null!==i&&(0,oe.setGroup)(i)}}else t.type===oe.VIEWPORT_CHANGE&&t.scale>t.oldScale&&(0,ue.bumpTopObjectsIntoBounds)(e)}}},pe=function(e,t){var n=null;switch(t.type){case oe.CREATE:case oe.MOVE:(n=e.getBlockById(t.blockId))&&(n=n.getRootBlock());break;case oe.COMMENT_CREATE:case oe.COMMENT_MOVE:n=e.getCommentById(t.commentId)}return n};ue.bumpTopObjectsIntoBounds=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);for(var n,o=e.getTopBoundedElements(),i=0;n=o[i];i++)(0,ue.bumpIntoBounds)(e,t,n)}};var he={Coordinate:function(e,t){this.x=e,this.y=t}};he.Coordinate.equals=function(e,t){return e===t||!(!e||!t)&&e.x===t.x&&e.y===t.y},he.Coordinate.distance=function(e,t){var n=e.x-t.x;return e=e.y-t.y,Math.sqrt(n*n+e*e)},he.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},he.Coordinate.difference=function(e,t){return new he.Coordinate(e.x-t.x,e.y-t.y)},he.Coordinate.sum=function(e,t){return new he.Coordinate(e.x+t.x,e.y+t.y)},he.Coordinate.prototype.clone=function(){return new he.Coordinate(this.x,this.y)},he.Coordinate.prototype.scale=function(e){return this.x*=e,this.y*=e,this},he.Coordinate.prototype.translate=function(e,t){return this.x+=e,this.y+=t,this};var de={Size:function(e,t){this.width=e,this.height=t}};de.Size.equals=function(e,t){return e===t||!(!e||!t)&&e.width===t.width&&e.height===t.height};var fe={getSize:function(e){if("none"!==_e(e,"display"))return ge(e);var t=e.style,n=t.display,o=t.visibility,i=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";var r=e.offsetWidth;return e=e.offsetHeight,t.display=n,t.position=i,t.visibility=o,new de.Size(r,e)}},ge=function(e){return new de.Size(e.offsetWidth,e.offsetHeight)},_e=function(e,t){return(0,fe.getComputedStyle)(e,t)||(0,fe.getCascadedStyle)(e,t)||e.style&&e.style[t]};fe.getComputedStyle=function(e,t){return document.defaultView&&document.defaultView.getComputedStyle&&(e=document.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""},fe.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},fe.getPageOffset=function(e){var t=new he.Coordinate(0,0);e=e.getBoundingClientRect();var n=document.documentElement;return n=new he.Coordinate(window.pageXOffset||n.scrollLeft,window.pageYOffset||n.scrollTop),t.x=e.left+n.x,t.y=e.top+n.y,t},fe.getViewportPageOffset=function(){var e=document.body,t=document.documentElement;return new he.Coordinate(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},fe.setElementShown=function(e,t){e.style.display=t?"":"none"},fe.isRightToLeft=function(e){return"rtl"===_e(e,"direction")},fe.getBorderBox=function(e){var t=(0,fe.getComputedStyle)(e,"borderLeftWidth"),n=(0,fe.getComputedStyle)(e,"borderRightWidth"),o=(0,fe.getComputedStyle)(e,"borderTopWidth");return e=(0,fe.getComputedStyle)(e,"borderBottomWidth"),{top:parseFloat(o),right:parseFloat(n),bottom:parseFloat(e),left:parseFloat(t)}},fe.scrollIntoContainerView=function(e,t,n){e=(0,fe.getContainerOffsetToScrollInto)(e,t,n),t.scrollLeft=e.x,t.scrollTop=e.y},fe.getContainerOffsetToScrollInto=function(e,t,n){var o=(0,fe.getPageOffset)(e),i=(0,fe.getPageOffset)(t),r=(0,fe.getBorderBox)(t),s=o.x-i.x-r.left;return o=o.y-i.y-r.top,i=ge(e),e=t.clientWidth-i.width,i=t.clientHeight-i.height,r=t.scrollLeft,t=t.scrollTop,n?(r+=s-e/2,t+=o-i/2):(r+=Math.min(s,Math.max(s-e,0)),t+=Math.min(o,Math.max(o-i,0))),new he.Coordinate(r,t)};var me={Rect:function(e,t,n,o){this.top=e,this.bottom=t,this.left=n,this.right=o}};me.Rect.prototype.contains=function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom},me.Rect.prototype.intersects=function(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)};var ye={},ve=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,Te=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;ye.getRelativeXY=function(e){var t=new he.Coordinate(0,0),n=e.getAttribute("x");return n&&(t.x=parseInt(n,10)),(n=e.getAttribute("y"))&&(t.y=parseInt(n,10)),(n=(n=e.getAttribute("transform"))&&n.match(ve))&&(t.x+=Number(n[1]),n[3]&&(t.y+=Number(n[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(Te))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},ye.getInjectionDivXY=function(e){for(var t=0,n=0;e;){var o=(0,ye.getRelativeXY)(e);if(t+=o.x,n+=o.y,-1!==(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;e=e.parentNode}return new he.Coordinate(t,n)},ye.is3dSupported=function(){if(void 0!==ye.is3dSupported.cached_)return ye.is3dSupported.cached_;if(!e.module$exports$Blockly$utils$global.globalThis.getComputedStyle)return!1;var t=document.createElement("p"),n="none",o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var i in document.body.insertBefore(t,null),o)if(void 0!==t.style[i]){if(t.style[i]="translate3d(1px,1px,1px)",!(n=e.module$exports$Blockly$utils$global.globalThis.getComputedStyle(t)))return document.body.removeChild(t),!1;n=n.getPropertyValue(o[i])}return document.body.removeChild(t),ye.is3dSupported.cached_="none"!==n,ye.is3dSupported.cached_},ye.getViewportBBox=function(){var e=(0,fe.getViewportPageOffset)();return new me.Rect(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},ye.getDocumentScroll=function(){var e=document.documentElement,t=window;return f.IE&&t.pageYOffset!==e.scrollTop?new he.Coordinate(e.scrollLeft,e.scrollTop):new he.Coordinate(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},ye.screenToWsCoordinates=function(e,t){var n=t.x;t=t.y;var o=e.getInjectionDiv().getBoundingClientRect();return n=new he.Coordinate(n-o.left,t-o.top),t=e.getOriginOffsetInPixels(),he.Coordinate.difference(n,t).scale(1/e.scale)},ye.svgSize=function(e){return(0,a.warn)("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize"),new de.Size(e.cachedWidth_,e.cachedHeight_)},ye.TEST_ONLY={XY_REGEX:ve,XY_STYLE_REGEX:Te};var Ee={Svg:function(e){this.tagName_=e}};Ee.Svg.prototype.toString=function(){return this.tagName_},Ee.Svg.ANIMATE=new Ee.Svg("animate"),Ee.Svg.CIRCLE=new Ee.Svg("circle"),Ee.Svg.CLIPPATH=new Ee.Svg("clipPath"),Ee.Svg.DEFS=new Ee.Svg("defs"),Ee.Svg.FECOMPOSITE=new Ee.Svg("feComposite"),Ee.Svg.FECOMPONENTTRANSFER=new Ee.Svg("feComponentTransfer"),Ee.Svg.FEFLOOD=new Ee.Svg("feFlood"),Ee.Svg.FEFUNCA=new Ee.Svg("feFuncA"),Ee.Svg.FEGAUSSIANBLUR=new Ee.Svg("feGaussianBlur"),Ee.Svg.FEPOINTLIGHT=new Ee.Svg("fePointLight"),Ee.Svg.FESPECULARLIGHTING=new Ee.Svg("feSpecularLighting"),Ee.Svg.FILTER=new Ee.Svg("filter"),Ee.Svg.FOREIGNOBJECT=new Ee.Svg("foreignObject"),Ee.Svg.G=new Ee.Svg("g"),Ee.Svg.IMAGE=new Ee.Svg("image"),Ee.Svg.LINE=new Ee.Svg("line"),Ee.Svg.PATH=new Ee.Svg("path"),Ee.Svg.PATTERN=new Ee.Svg("pattern"),Ee.Svg.POLYGON=new Ee.Svg("polygon"),Ee.Svg.RECT=new Ee.Svg("rect"),Ee.Svg.SVG=new Ee.Svg("svg"),Ee.Svg.TEXT=new Ee.Svg("text"),Ee.Svg.TSPAN=new Ee.Svg("tspan");var ke={BlockDragSurfaceSvg:function(e){this.container_=e,this.createDom()}};ke.BlockDragSurfaceSvg.prototype.SVG_=null,ke.BlockDragSurfaceSvg.prototype.dragGroup_=null,ke.BlockDragSurfaceSvg.prototype.container_=null,ke.BlockDragSurfaceSvg.prototype.scale_=1,ke.BlockDragSurfaceSvg.prototype.surfaceXY_=null,ke.BlockDragSurfaceSvg.prototype.childSurfaceXY_=new he.Coordinate(0,0),ke.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=(0,M.createSvgElement)(Ee.Svg.SVG,{xmlns:M.SVG_NS,"xmlns:html":M.HTML_NS,"xmlns:xlink":M.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=(0,M.createSvgElement)(Ee.Svg.G,{},this.SVG_))},ke.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(e){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(e),this.SVG_.style.display="block",this.surfaceXY_=new he.Coordinate(0,0)},ke.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(e,t,n){this.scale_=n,e=e.toFixed(0),t=t.toFixed(0),this.childSurfaceXY_.x=parseInt(e,10),this.childSurfaceXY_.y=parseInt(t,10),this.dragGroup_.setAttribute("transform","translate("+e+","+t+") scale("+n+")")},ke.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var e=this.surfaceXY_.x,t=this.surfaceXY_.y;e=e.toFixed(0),t=t.toFixed(0),this.SVG_.style.display="block",(0,M.setCssTransform)(this.SVG_,"translate3d("+e+"px, "+t+"px, 0)")},ke.BlockDragSurfaceSvg.prototype.translateBy=function(e,t){this.surfaceXY_=new he.Coordinate(this.surfaceXY_.x+e,this.surfaceXY_.y+t),this.translateSurfaceInternal_()},ke.BlockDragSurfaceSvg.prototype.translateSurface=function(e,t){this.surfaceXY_=new he.Coordinate(e*this.scale_,t*this.scale_),this.translateSurfaceInternal_()},ke.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var e=(0,ye.getRelativeXY)(this.SVG_);return new he.Coordinate(e.x/this.scale_,e.y/this.scale_)},ke.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},ke.BlockDragSurfaceSvg.prototype.getSvgRoot=function(){return this.SVG_},ke.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},ke.BlockDragSurfaceSvg.prototype.getWsTranslation=function(){return this.childSurfaceXY_.clone()},ke.BlockDragSurfaceSvg.prototype.clearAndHide=function(e){if(e?e.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null};var be={DropDownDiv:function(){}};be.DropDownDiv.ARROW_SIZE=16,be.DropDownDiv.BORDER_SIZE=1,be.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,be.DropDownDiv.PADDING_Y=16,be.DropDownDiv.ANIMATION_TIME=.25,be.DropDownDiv.animateOutTimer_=null,be.DropDownDiv.onHide_=null,be.DropDownDiv.rendererClassName_="",be.DropDownDiv.themeClassName_="",be.DropDownDiv.boundsElement_=null,be.DropDownDiv.owner_=null,be.DropDownDiv.positionToField_=null,be.DropDownDiv.createDom=function(){if(!be.DropDownDiv.DIV_){var t=document.createElement("div");t.className="blocklyDropDownDiv",((0,e.module$exports$Blockly$common.getParentContainer)()||document.body).appendChild(t),be.DropDownDiv.DIV_=t,(t=document.createElement("div")).className="blocklyDropDownContent",be.DropDownDiv.DIV_.appendChild(t),be.DropDownDiv.content_=t,(t=document.createElement("div")).className="blocklyDropDownArrow",be.DropDownDiv.DIV_.appendChild(t),be.DropDownDiv.arrow_=t,be.DropDownDiv.DIV_.style.opacity=0,be.DropDownDiv.DIV_.style.transition="transform "+be.DropDownDiv.ANIMATION_TIME+"s, opacity "+be.DropDownDiv.ANIMATION_TIME+"s",be.DropDownDiv.DIV_.addEventListener("focusin",(function(){(0,M.addClass)(be.DropDownDiv.DIV_,"blocklyFocused")})),be.DropDownDiv.DIV_.addEventListener("focusout",(function(){(0,M.removeClass)(be.DropDownDiv.DIV_,"blocklyFocused")}))}},be.DropDownDiv.setBoundsElement=function(e){be.DropDownDiv.boundsElement_=e},be.DropDownDiv.getContentDiv=function(){return be.DropDownDiv.content_},be.DropDownDiv.clearContent=function(){be.DropDownDiv.content_.textContent="",be.DropDownDiv.content_.style.width=""},be.DropDownDiv.setColour=function(e,t){be.DropDownDiv.DIV_.style.backgroundColor=e,be.DropDownDiv.DIV_.style.borderColor=t},be.DropDownDiv.showPositionedByBlock=function(e,t,n,o){return Re(Se(t),e,n,o)},be.DropDownDiv.showPositionedByField=function(e,t,n){return be.DropDownDiv.positionToField_=!0,Re(Ie(e),e,t,n)};var Ce={},Se=function(e){var t=e.getSvgRoot(),n=t.getBBox(),o=e.workspace.scale;return e=n.height*o,n=n.width*o,t=(0,fe.getPageOffset)(t),new me.Rect(t.y,t.y+e,t.x,t.x+n)},Ie=function(e){return e=e.getScaledBBox(),new me.Rect(e.top,e.bottom,e.left,e.right)},Re=function(e,t,n,o){var i=e.left+(e.right-e.left)/2,r=e.bottom;e=e.top,o&&(e+=o);for(var s=(o=t.getSourceBlock()).workspace;s.options.parentWorkspace;)s=s.options.parentWorkspace;return be.DropDownDiv.setBoundsElement(s.getParentSvg().parentNode),be.DropDownDiv.show(t,o.RTL,i,r,i,e,n)};be.DropDownDiv.show=function(t,n,o,i,r,s,l){return be.DropDownDiv.owner_=t,be.DropDownDiv.onHide_=l||null,(t=be.DropDownDiv.DIV_).style.direction=n?"rtl":"ltr",n=(0,e.module$exports$Blockly$common.getMainWorkspace)(),be.DropDownDiv.rendererClassName_=n.getRenderer().getClassName(),be.DropDownDiv.themeClassName_=n.getTheme().getClassName(),(0,M.addClass)(t,be.DropDownDiv.rendererClassName_),(0,M.addClass)(t,be.DropDownDiv.themeClassName_),Ae(o,i,r,s)},Ce.getBoundsInfo=function(){var e=(0,fe.getPageOffset)(be.DropDownDiv.boundsElement_),t=(0,fe.getSize)(be.DropDownDiv.boundsElement_);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},Ce.getPositionMetrics=function(e,t,n,o){var i=Ce.getBoundsInfo(),r=(0,fe.getSize)(be.DropDownDiv.DIV_);return t+r.height<i.bottom?Oe(e,t,i,r):o-r.height>i.top?we(n,o,i,r):t+r.height<document.documentElement.clientHeight?Oe(e,t,i,r):o-r.height>document.documentElement.clientTop?we(n,o,i,r):Be(e,i,r)};var Oe=function(e,t,n,o){return{initialX:(e=be.DropDownDiv.getPositionX(e,n.left,n.right,o.width)).divX,initialY:t,finalX:e.divX,finalY:t+be.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:-(be.DropDownDiv.ARROW_SIZE/2+be.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},we=function(e,t,n,o){return{initialX:(e=be.DropDownDiv.getPositionX(e,n.left,n.right,o.width)).divX,initialY:t-o.height,finalX:e.divX,finalY:t-o.height-be.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:o.height-2*be.DropDownDiv.BORDER_SIZE-be.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},Be=function(e,t,n){return{initialX:(e=be.DropDownDiv.getPositionX(e,t.left,t.right,n.width)).divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}};be.DropDownDiv.getPositionX=function(e,t,n,o){return t=(0,ce.clamp)(t,e-o/2,n-o),e=e-be.DropDownDiv.ARROW_SIZE/2-t,n=be.DropDownDiv.ARROW_HORIZONTAL_PADDING,{arrowX:e=(0,ce.clamp)(n,e,o-n-be.DropDownDiv.ARROW_SIZE),divX:t}},be.DropDownDiv.isVisible=function(){return!!be.DropDownDiv.owner_},be.DropDownDiv.hideIfOwner=function(e,t){return be.DropDownDiv.owner_===e&&(t?be.DropDownDiv.hideWithoutAnimation():be.DropDownDiv.hide(),!0)},be.DropDownDiv.hide=function(){be.DropDownDiv.DIV_.style.transform="translate(0, 0)",be.DropDownDiv.DIV_.style.opacity=0,be.DropDownDiv.animateOutTimer_=setTimeout((function(){be.DropDownDiv.hideWithoutAnimation()}),1e3*be.DropDownDiv.ANIMATION_TIME),be.DropDownDiv.onHide_&&(be.DropDownDiv.onHide_(),be.DropDownDiv.onHide_=null)},be.DropDownDiv.hideWithoutAnimation=function(){if(be.DropDownDiv.isVisible()){be.DropDownDiv.animateOutTimer_&&clearTimeout(be.DropDownDiv.animateOutTimer_);var t=be.DropDownDiv.DIV_;t.style.transform="",t.style.left="",t.style.top="",t.style.opacity=0,t.style.display="none",t.style.backgroundColor="",t.style.borderColor="",be.DropDownDiv.onHide_&&(be.DropDownDiv.onHide_(),be.DropDownDiv.onHide_=null),be.DropDownDiv.clearContent(),be.DropDownDiv.owner_=null,be.DropDownDiv.rendererClassName_&&((0,M.removeClass)(t,be.DropDownDiv.rendererClassName_),be.DropDownDiv.rendererClassName_=""),be.DropDownDiv.themeClassName_&&((0,M.removeClass)(t,be.DropDownDiv.themeClassName_),be.DropDownDiv.themeClassName_=""),(0,e.module$exports$Blockly$common.getMainWorkspace)().markFocused()}};var Ae=function(e,t,n,o){(e=Ce.getPositionMetrics(e,t,n,o)).arrowVisible?(be.DropDownDiv.arrow_.style.display="",be.DropDownDiv.arrow_.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",be.DropDownDiv.arrow_.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):be.DropDownDiv.arrow_.style.display="none",t=Math.floor(e.initialX),n=Math.floor(e.initialY),o=Math.floor(e.finalX);var i=Math.floor(e.finalY),r=be.DropDownDiv.DIV_;return r.style.left=t+"px",r.style.top=n+"px",r.style.display="block",r.style.opacity=1,r.style.transform="translate("+(o-t)+"px,"+(i-n)+"px)",!!e.arrowAtTop};be.DropDownDiv.repositionForWindowResize=function(){if(be.DropDownDiv.owner_){var e=be.DropDownDiv.owner_,t=e.getSourceBlock();t=(e=be.DropDownDiv.positionToField_?Ie(e):Se(t)).left+(e.right-e.left)/2,Ae(t,e.bottom,t,e.top)}else be.DropDownDiv.hide()},be.DropDownDiv.TEST_ONLY=Ce;var xe,Ne,De,Me={Grid:function(e,t){this.gridPattern_=e,this.spacing_=t.spacing,this.length_=t.length,this.line2_=(this.line1_=e.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=t.snap}};Me.Grid.prototype.scale_=1,Me.Grid.prototype.dispose=function(){this.gridPattern_=null},Me.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},Me.Grid.prototype.getSpacing=function(){return this.spacing_},Me.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},Me.Grid.prototype.update=function(e){this.scale_=e;var t=this.spacing_*e||100;this.gridPattern_.setAttribute("width",t),this.gridPattern_.setAttribute("height",t);var n=(t=Math.floor(this.spacing_/2)+.5)-this.length_/2,o=t+this.length_/2;t*=e,n*=e,o*=e,this.setLineAttributes_(this.line1_,e,n,o,t,t),this.setLineAttributes_(this.line2_,e,t,t,n,o)},Me.Grid.prototype.setLineAttributes_=function(e,t,n,o,i,r){e&&(e.setAttribute("stroke-width",t),e.setAttribute("x1",n),e.setAttribute("y1",i),e.setAttribute("x2",o),e.setAttribute("y2",r))},Me.Grid.prototype.moveTo=function(e,t){this.gridPattern_.setAttribute("x",e),this.gridPattern_.setAttribute("y",t),(f.IE||f.EDGE)&&this.update(this.scale_)},Me.Grid.createDom=function(e,t,n){return e=(0,M.createSvgElement)(Ee.Svg.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},n),0<t.length&&0<t.spacing?((0,M.createSvgElement)(Ee.Svg.LINE,{stroke:t.colour},e),1<t.length&&(0,M.createSvgElement)(Ee.Svg.LINE,{stroke:t.colour},e)):(0,M.createSvgElement)(Ee.Svg.LINE,{},e),e},e.module$exports$Blockly$Msg={},e.module$exports$Blockly$Msg.Msg=Object.create(null),e.module$exports$Blockly$utils$xml={NAME_SPACE:"https://developers.google.com/blockly/xml"},xe=e.module$exports$Blockly$utils$global.globalThis.document,e.module$exports$Blockly$utils$xml.getDocument=function(){return xe},e.module$exports$Blockly$utils$xml.setDocument=function(e){xe=e},e.module$exports$Blockly$utils$xml.createElement=function(t){return xe.createElementNS(e.module$exports$Blockly$utils$xml.NAME_SPACE,t)},e.module$exports$Blockly$utils$xml.createTextNode=function(e){return xe.createTextNode(e)},e.module$exports$Blockly$utils$xml.textToDomDocument=function(e){return(new DOMParser).parseFromString(e,"text/xml")},e.module$exports$Blockly$utils$xml.domToText=function(e){return(new XMLSerializer).serializeToString(e)},e.module$exports$Blockly$inputTypes={},e.module$exports$Blockly$inputTypes.inputTypes={VALUE:e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,STATEMENT:e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT,DUMMY:5},e.module$exports$Blockly$Xml={workspaceToDom:function(t,n){var o=(0,e.module$exports$Blockly$utils$xml.createElement)("xml"),i=(0,e.module$exports$Blockly$Xml.variablesToDom)(e.module$exports$Blockly$Variables.allUsedVarModels(t));i.hasChildNodes()&&o.appendChild(i),i=t.getTopComments(!0);for(var r=0;r<i.length;r++)o.appendChild(i[r].toXmlWithXY(n));for(t=t.getTopBlocks(!0),i=0;i<t.length;i++)o.appendChild((0,e.module$exports$Blockly$Xml.blockToDomWithXY)(t[i],n));return o},variablesToDom:function(t){for(var n=(0,e.module$exports$Blockly$utils$xml.createElement)("variables"),o=0;o<t.length;o++){var i=t[o],r=(0,e.module$exports$Blockly$utils$xml.createElement)("variable");r.appendChild((0,e.module$exports$Blockly$utils$xml.createTextNode)(i.name)),i.type&&r.setAttribute("type",i.type),r.id=i.getId(),n.appendChild(r)}return n},blockToDomWithXY:function(t,n){if(t.isInsertionMarker()&&!(t=t.getChildren(!1)[0]))return new DocumentFragment;var o;t.workspace.RTL&&(o=t.workspace.getWidth()),n=(0,e.module$exports$Blockly$Xml.blockToDom)(t,n);var i=t.getRelativeToSurfaceXY();return n.setAttribute("x",Math.round(t.workspace.RTL?o-i.x:i.x)),n.setAttribute("y",Math.round(i.y)),n}},Ne=function(t){if(t.isSerializable()){var n=(0,e.module$exports$Blockly$utils$xml.createElement)("field");return n.setAttribute("name",t.name||""),t.toXml(n)}return null},De=function(e,t){for(var n=0;n<e.inputList.length;n++)for(var o=e.inputList[n],i=0;i<o.fieldRow.length;i++){var r=Ne(o.fieldRow[i]);r&&t.appendChild(r)}},e.module$exports$Blockly$Xml.blockToDom=function(t,n){if(t.isInsertionMarker())return(n=t.getChildren(!1)[0])?(0,e.module$exports$Blockly$Xml.blockToDom)(n):new DocumentFragment;var o=(0,e.module$exports$Blockly$utils$xml.createElement)(t.isShadow()?"shadow":"block");if(o.setAttribute("type",t.type),n||o.setAttribute("id",t.id),t.mutationToDom){var i=t.mutationToDom();i&&(i.hasChildNodes()||i.hasAttributes())&&o.appendChild(i)}if(De(t,o),i=t.getCommentText()){var r=t.commentModel.size,s=t.commentModel.pinned,l=(0,e.module$exports$Blockly$utils$xml.createElement)("comment");l.appendChild((0,e.module$exports$Blockly$utils$xml.createTextNode)(i)),l.setAttribute("pinned",s),l.setAttribute("h",r.height),l.setAttribute("w",r.width),o.appendChild(l)}for(t.data&&((i=(0,e.module$exports$Blockly$utils$xml.createElement)("data")).appendChild((0,e.module$exports$Blockly$utils$xml.createTextNode)(t.data)),o.appendChild(i)),i=0;i<t.inputList.length;i++)if(s=void 0,l=!0,(r=t.inputList[i]).type!==e.module$exports$Blockly$inputTypes.inputTypes.DUMMY){var a=r.connection.targetBlock();r.type===e.module$exports$Blockly$inputTypes.inputTypes.VALUE?s=(0,e.module$exports$Blockly$utils$xml.createElement)("value"):r.type===e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&(s=(0,e.module$exports$Blockly$utils$xml.createElement)("statement"));var c=r.connection.getShadowDom();!c||a&&a.isShadow()||s.appendChild(Pe(c,n)),a&&(a=(0,e.module$exports$Blockly$Xml.blockToDom)(a,n)).nodeType===M.NodeType.ELEMENT_NODE&&(s.appendChild(a),l=!1),s.setAttribute("name",r.name),l||o.appendChild(s)}if(void 0!==t.inputsInline&&t.inputsInline!==t.inputsInlineDefault&&o.setAttribute("inline",t.inputsInline),t.isCollapsed()&&o.setAttribute("collapsed",!0),t.isEnabled()||o.setAttribute("disabled",!0),t.isDeletable()||t.isShadow()||o.setAttribute("deletable",!1),t.isMovable()||t.isShadow()||o.setAttribute("movable",!1),t.isEditable()||o.setAttribute("editable",!1),(i=t.getNextBlock())&&(r=(0,e.module$exports$Blockly$Xml.blockToDom)(i,n)).nodeType===M.NodeType.ELEMENT_NODE){var u=(0,e.module$exports$Blockly$utils$xml.createElement)("next");u.appendChild(r),o.appendChild(u)}return!(t=t.nextConnection&&t.nextConnection.getShadowDom())||i&&i.isShadow()||u.appendChild(Pe(t,n)),o};var Pe=function(e,t){for(var n,o=e=e.cloneNode(!0);o;)if(t&&"shadow"===o.nodeName&&o.removeAttribute("id"),o.firstChild)o=o.firstChild;else{for(;o&&!o.nextSibling;)n=o,o=o.parentNode,n.nodeType===M.NodeType.TEXT_NODE&&""===n.data.trim()&&o.firstChild!==n&&(0,M.removeNode)(n);o&&(n=o,o=o.nextSibling,n.nodeType===M.NodeType.TEXT_NODE&&""===n.data.trim()&&(0,M.removeNode)(n))}return e};e.module$exports$Blockly$Xml.domToText=function(t){return(0,e.module$exports$Blockly$utils$xml.domToText)(t).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},e.module$exports$Blockly$Xml.domToPrettyText=function(t){t=(0,e.module$exports$Blockly$Xml.domToText)(t).split("<");for(var n="",o=1;o<t.length;o++){var i=t[o];"/"===i[0]&&(n=n.substring(2)),t[o]=n+"<"+i,"/"!==i[0]&&"/>"!==i.slice(-2)&&(n+="  ")}return(t=(t=t.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},e.module$exports$Blockly$Xml.textToDom=function(t){var n=(0,e.module$exports$Blockly$utils$xml.textToDomDocument)(t);if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+t);return n.documentElement},e.module$exports$Blockly$Xml.clearWorkspaceAndLoadFromXml=function(t,n){return n.setResizesEnabled(!1),n.clear(),t=(0,e.module$exports$Blockly$Xml.domToWorkspace)(t,n),n.setResizesEnabled(!0),t},e.module$exports$Blockly$Xml.domToWorkspace=function(t,n){if(t instanceof Nn.Workspace){var o=t;t=n,n=o,console.warn("Deprecated call to domToWorkspace, swap the arguments.")}var i;n.RTL&&(i=n.getWidth()),o=[],(0,M.startTextWidthCache)();var r=(0,oe.getGroup)();r||(0,oe.setGroup)(!0),n.setResizesEnabled&&n.setResizesEnabled(!1);var s=!0;try{for(var l=0,a=void 0;a=t.childNodes[l];l++){var c=a.nodeName.toLowerCase(),u=a;if("block"===c||"shadow"===c&&!(0,oe.getRecordUndo)()){var p=(0,e.module$exports$Blockly$Xml.domToBlock)(u,n);o.push(p.id);var h=u.hasAttribute("x")?parseInt(u.getAttribute("x"),10):10,d=u.hasAttribute("y")?parseInt(u.getAttribute("y"),10):10;isNaN(h)||isNaN(d)||p.moveBy(n.RTL?i-h:h,d),s=!1}else{if("shadow"===c)throw TypeError("Shadow block cannot be a top-level block.");if("comment"===c)if(n.rendered){var f=Tr.WorkspaceCommentSvg;f?f.fromXml(u,n,i):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment.")}else{var g=vr.WorkspaceComment;g?g.fromXml(u,n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.")}else if("variables"===c){if(!s)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");(0,e.module$exports$Blockly$Xml.domToVariables)(u,n),s=!1}}}}finally{r||(0,oe.setGroup)(!1),(0,M.stopTextWidthCache)()}return n.setResizesEnabled&&n.setResizesEnabled(!0),(0,oe.fire)(new((0,oe.get)(oe.FINISHED_LOADING))(n)),o},e.module$exports$Blockly$Xml.appendDomToWorkspace=function(t,n){var o;if(Object.prototype.hasOwnProperty.call(n,"scale")&&(o=n.getBlocksBoundingBox()),t=(0,e.module$exports$Blockly$Xml.domToWorkspace)(t,n),o&&o.top!==o.bottom){var i=o.bottom;o=n.RTL?o.right:o.left;for(var r=1/0,s=-1/0,l=1/0,a=0;a<t.length;a++){var c=n.getBlockById(t[a]).getRelativeToSurfaceXY();c.y<l&&(l=c.y),c.x<r&&(r=c.x),c.x>s&&(s=c.x)}for(i=i-l+10,o=n.RTL?o-s:o-r,r=0;r<t.length;r++)n.getBlockById(t[r]).moveBy(o,i)}return t},e.module$exports$Blockly$Xml.domToBlock=function(t,n){if(t instanceof Nn.Workspace){var o=t;t=n,n=o,console.warn("Deprecated call to domToBlock, swap the arguments.")}(0,oe.disable)(),o=n.getAllVariables();try{var i=Ue(t,n),r=i.getDescendants(!1);if(n.rendered){i.setConnectionTracking(!1);for(var s=r.length-1;0<=s;s--)r[s].initSvg();for(var l=r.length-1;0<=l;l--)r[l].render(!1);setTimeout((function(){i.disposed||i.setConnectionTracking(!0)}),1),i.updateDisabled(),n.resizeContents()}else for(var a=r.length-1;0<=a;a--)r[a].initModel()}finally{(0,oe.enable)()}if((0,oe.isEnabled)()){for(t=e.module$exports$Blockly$Variables.getAddedVariables(n,o),n=0;n<t.length;n++)r=t[n],(0,oe.fire)(new((0,oe.get)(oe.VAR_CREATE))(r));(0,oe.fire)(new((0,oe.get)(oe.CREATE))(i))}return i},e.module$exports$Blockly$Xml.domToVariables=function(e,t){for(var n=0;n<e.childNodes.length;n++){var o=e.childNodes[n];if(o.nodeType===M.NodeType.ELEMENT_NODE){var i=o.getAttribute("type"),r=o.getAttribute("id");t.createVariable(o.textContent,i,r)}}};var Le=function(e){for(var t={childBlockElement:null,childShadowElement:null},n=0;n<e.childNodes.length;n++){var o=e.childNodes[n];o.nodeType===M.NodeType.ELEMENT_NODE&&("block"===o.nodeName.toLowerCase()?t.childBlockElement=o:"shadow"===o.nodeName.toLowerCase()&&(t.childShadowElement=o))}return t},Fe=function(e,t,n,o){for(var i=0;i<e.length;i++){var r=e[i],s=r.getAttribute("name"),l=n.getInput(s);if(!l){console.warn("Ignoring non-existent input "+s+" in block "+o);break}if((r=Le(r)).childBlockElement){if(!l.connection)throw TypeError("Input connection does not exist.");Ue(r.childBlockElement,t,l.connection,!1)}r.childShadowElement&&l.connection.setShadowDom(r.childShadowElement)}},$e=function(e,t,n){for(var o=0;o<e.length;o++){var i=Le(e[o]);if(i.childBlockElement){if(!n.nextConnection)throw TypeError("Next statement does not exist.");if(n.nextConnection.isConnected())throw TypeError("Next statement is already connected.");Ue(i.childBlockElement,t,n.nextConnection,!0)}i.childShadowElement&&n.nextConnection&&n.nextConnection.setShadowDom(i.childShadowElement)}},Ue=function(e,t,n,o){var i=e.getAttribute("type");if(!i)throw TypeError("Block type unspecified: "+e.outerHTML);var r=e.getAttribute("id");r=t.newBlock(i,r);var s=function(e){for(var t={mutation:[],comment:[],data:[],field:[],input:[],next:[]},n=0;n<e.childNodes.length;n++){var o=e.childNodes[n];if(o.nodeType!==M.NodeType.TEXT_NODE)switch(o.nodeName.toLowerCase()){case"mutation":t.mutation.push(o);break;case"comment":if(!_r){console.warn("Missing require for Comment, ignoring block comment.");break}t.comment.push(o);break;case"data":t.data.push(o);break;case"title":case"field":t.field.push(o);break;case"value":case"statement":t.input.push(o);break;case"next":t.next.push(o);break;default:console.warn("Ignoring unknown tag: "+o.nodeName)}}return t}(e),l=function(e,t){for(var n=!1,o=0;o<e.length;o++){var i=e[o];t.domToMutation&&(t.domToMutation(i),t.initSvg&&(n=!0))}return n}(s.mutation,r);if(function(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=o.textContent,r="true"===o.getAttribute("pinned"),s=parseInt(o.getAttribute("w"),10);o=parseInt(o.getAttribute("h"),10),t.setCommentText(i),t.commentModel.pinned=r,isNaN(s)||isNaN(o)||(t.commentModel.size=new de.Size(s,o)),r&&t.getCommentIcon&&!t.isInFlyout&&setTimeout((function(){t.getCommentIcon().setVisible(!0)}),1)}}(s.comment,r),function(e,t){for(var n=0;n<e.length;n++)t.data=e[n].textContent}(s.data,r),n)if(o){if(!r.previousConnection)throw TypeError("Next block does not have previous statement.");n.connect(r.previousConnection)}else if(r.outputConnection)n.connect(r.outputConnection);else{if(!r.previousConnection)throw TypeError("Child block does not have output or previous statement.");n.connect(r.previousConnection)}if(function(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=o.getAttribute("name");He(t,i,o)}}(s.field,r),Fe(s.input,t,r,i),$e(s.next,t,r),l&&r.initSvg(),(t=e.getAttribute("inline"))&&r.setInputsInline("true"===t),(t=e.getAttribute("disabled"))&&r.setEnabled("true"!==t&&"disabled"!==t),(t=e.getAttribute("deletable"))&&r.setDeletable("true"===t),(t=e.getAttribute("movable"))&&r.setMovable("true"===t),(t=e.getAttribute("editable"))&&r.setEditable("true"===t),(t=e.getAttribute("collapsed"))&&r.setCollapsed("true"===t),"shadow"===e.nodeName.toLowerCase()){for(e=r.getChildren(!1),t=0;t<e.length;t++)if(!e[t].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(r.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");r.setShadow(!0)}return r},He=function(e,t,n){var o=e.getField(t);o?o.fromXml(n):console.warn("Ignoring non-existent field "+t+" in block "+e.type)};e.module$exports$Blockly$Xml.deleteNext=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if("next"===n.nodeName.toLowerCase()){e.removeChild(n);break}}};var Ve={},Ge="categoryToolbox",We="flyoutToolbox";Ve.Position={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3},Ve.convertToolboxDefToJson=function(e){return e?((e instanceof Element||"string"===typeof e)&&(e=(0,Ve.parseToolboxTree)(e),e=Ye(e)),ze(e),e):null};var ze=function(e){var t=e.kind;if(e=e.contents,t&&t!==We&&t!==Ge)throw Error("Invalid toolbox kind "+t+". Please supply either flyoutToolbox or "+Ge);if(!e)throw Error("Toolbox must have a contents attribute.")};Ve.convertFlyoutDefToJsonArray=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:je(e):[]},Ve.hasCategories=function(e){if(!e)return!1;var t=e.kind;return t?t===Ge:!!e.contents.filter((function(e){return"CATEGORY"===e.kind.toUpperCase()})).length},Ve.isCategoryCollapsible=function(e){return!(!e||!e.contents)&&!!e.contents.filter((function(e){return"CATEGORY"===e.kind.toUpperCase()})).length};var Ye=function(e){var t={contents:je(e)};return e instanceof Node&&Xe(e,t),t},je=function e(t){var n,o=[],i=t.childNodes;for(i||(i=t),t=0;n=i[t];t++)if(n.tagName){var r={},s=n.tagName.toUpperCase();r.kind=s,"BLOCK"===s?r.blockxml=n:n.childNodes&&0<n.childNodes.length&&(r.contents=e(n)),Xe(n,r),o.push(r)}return o},Xe=function(e,t){for(var n=0;n<e.attributes.length;n++){var o=e.attributes[n];-1<o.nodeName.indexOf("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[o.nodeName.replace("css-","")]=o.value):t[o.nodeName]=o.value}};Ve.parseToolboxTree=function(t){if(t){if("string"!==typeof t&&(f.IE&&t.outerHTML?t=t.outerHTML:t instanceof Element||(t=null)),"string"===typeof t&&"xml"!==(t=(0,e.module$exports$Blockly$Xml.textToDom)(t)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else t=null;return t},e.module$exports$Blockly$utils$object={inherits:function(e,t){e.superClass_=t.prototype,Object.setPrototypeOf(e,t),e.prototype=Object.create(t.prototype),e.prototype.constructor=e},mixin:function(e,t){for(var n in t)e[n]=t[n]},deepMerge:function(t,n){for(var o in n)t[o]=null!==n[o]&&"object"===typeof n[o]?(0,e.module$exports$Blockly$utils$object.deepMerge)(t[o]||Object.create(null),n[o]):n[o];return t},values:function(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}};var Ke={Theme:function(e,t,n,o){this.name=e,this.blockStyles=t||Object.create(null),this.categoryStyles=n||Object.create(null),this.componentStyles=o||Object.create(null),this.fontStyle=Object.create(null),this.startHats=null,(0,Z.register)(Z.Type.THEME,e,this)}};Ke.Theme.prototype.getClassName=function(){return this.name+"-theme"},Ke.Theme.prototype.setBlockStyle=function(e,t){this.blockStyles[e]=t},Ke.Theme.prototype.setCategoryStyle=function(e,t){this.categoryStyles[e]=t},Ke.Theme.prototype.getComponentStyle=function(e){return(e=this.componentStyles[e])&&"string"===typeof e&&this.getComponentStyle(e)?this.getComponentStyle(e):e?String(e):null},Ke.Theme.prototype.setComponentStyle=function(e,t){this.componentStyles[e]=t},Ke.Theme.prototype.setFontStyle=function(e){this.fontStyle=e},Ke.Theme.prototype.setStartHats=function(e){this.startHats=e},Ke.Theme.defineTheme=function(t,n){var o=new Ke.Theme(t),i=n.base;return i&&("string"===typeof i&&(i=(0,Z.getObject)(Z.Type.THEME,i)),i instanceof Ke.Theme&&((0,e.module$exports$Blockly$utils$object.deepMerge)(o,i),o.name=t)),(0,e.module$exports$Blockly$utils$object.deepMerge)(o.blockStyles,n.blockStyles),(0,e.module$exports$Blockly$utils$object.deepMerge)(o.categoryStyles,n.categoryStyles),(0,e.module$exports$Blockly$utils$object.deepMerge)(o.componentStyles,n.componentStyles),(0,e.module$exports$Blockly$utils$object.deepMerge)(o.fontStyle,n.fontStyle),null!==n.startHats&&(o.startHats=n.startHats),o};var Je={};Je.Classic=new Ke.Theme("classic",{colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},{colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}});var qe={Options:function(e){var t=null,n=!1,o=!1,i=!1,r=!1,s=!1,l=!1,a=!!e.readOnly;a||(t=(0,Ve.convertToolboxDefToJson)(e.toolbox),n=(0,Ve.hasCategories)(t),void 0===(o=e.trashcan)&&(o=n),void 0===(i=e.collapse)&&(i=n),void 0===(r=e.comments)&&(r=n),void 0===(s=e.disable)&&(s=n),void 0===(l=e.sounds)&&(l=!0));var c=e.maxTrashcanContents;o?void 0===c&&(c=32):c=0;var u=!!e.rtl,p=e.horizontalLayout;void 0===p&&(p=!1);var h=e.toolboxPosition;h="end"!==h,h=p?h?Ve.Position.TOP:Ve.Position.BOTTOM:h===u?Ve.Position.RIGHT:Ve.Position.LEFT;var d=e.css;void 0===d&&(d=!0);var f="https://blockly-demo.appspot.com/static/media/";e.media?f=e.media:e.path&&(f=e.path+"media/");var g=void 0===e.oneBasedIndex||!!e.oneBasedIndex,_=e.renderer||"geras",m=e.plugins||{};this.RTL=u,this.oneBasedIndex=g,this.collapse=i,this.comments=r,this.disable=s,this.readOnly=a,this.maxBlocks=e.maxBlocks||1/0,this.maxInstances=e.maxInstances,this.pathToMedia=f,this.hasCategories=n,this.moveOptions=qe.Options.parseMoveOptions_(e,n),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=o,this.maxTrashcanContents=c,this.hasSounds=l,this.hasCss=d,this.horizontalLayout=p,this.languageTree=t,this.gridOptions=qe.Options.parseGridOptions_(e),this.zoomOptions=qe.Options.parseZoomOptions_(e),this.toolboxPosition=h,this.theme=qe.Options.parseThemeOptions_(e),this.renderer=_,this.rendererOverrides=e.rendererOverrides,this.gridPattern=null,this.parentWorkspace=e.parentWorkspace,this.plugins=m}};qe.Options.parseMoveOptions_=function(e,t){var n=e.move||{},o={};return void 0===n.scrollbars&&void 0===e.scrollbars?o.scrollbars=t:"object"===typeof n.scrollbars?(o.scrollbars={},o.scrollbars.horizontal=!!n.scrollbars.horizontal,o.scrollbars.vertical=!!n.scrollbars.vertical,o.scrollbars.horizontal&&o.scrollbars.vertical?o.scrollbars=!0:o.scrollbars.horizontal||o.scrollbars.vertical||(o.scrollbars=!1)):o.scrollbars=!!n.scrollbars||!!e.scrollbars,o.wheel=o.scrollbars&&void 0!==n.wheel?!!n.wheel:"object"===typeof o.scrollbars,o.drag=!!o.scrollbars&&(void 0===n.drag||!!n.drag),o},qe.Options.parseZoomOptions_=function(e){e=e.zoom||{};var t={};return t.controls=void 0!==e.controls&&!!e.controls,t.wheel=void 0!==e.wheel&&!!e.wheel,t.startScale=void 0===e.startScale?1:Number(e.startScale),t.maxScale=void 0===e.maxScale?3:Number(e.maxScale),t.minScale=void 0===e.minScale?.3:Number(e.minScale),t.scaleSpeed=void 0===e.scaleSpeed?1.2:Number(e.scaleSpeed),t.pinch=void 0===e.pinch?t.wheel||t.controls:!!e.pinch,t},qe.Options.parseGridOptions_=function(e){e=e.grid||{};var t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=void 0===e.length?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t},qe.Options.parseThemeOptions_=function(e){return"string"===typeof(e=e.theme||Je.Classic)?(0,Z.getObject)(Z.Type.THEME,e):e instanceof Ke.Theme?e:Ke.Theme.defineTheme(e.name||"builtin"+(0,K.getNextUniqueId)(),e)};var Ze={Scrollbar:function(e,t,n,o,i){this.workspace_=e,this.pair_=n||!1,this.horizontal_=t,this.margin_=void 0!==i?i:Ze.Scrollbar.DEFAULT_SCROLLBAR_MARGIN,this.ratio=this.oldHostMetrics_=null,this.createDom_(o),this.position=new he.Coordinate(0,0),e=Ze.Scrollbar.scrollbarThickness,t?(this.svgBackground_.setAttribute("height",e),this.outerSvg_.setAttribute("height",e),this.svgHandle_.setAttribute("height",e-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",e),this.outerSvg_.setAttribute("width",e),this.svgHandle_.setAttribute("width",e-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=(0,_.conditionalBind)(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=(0,_.conditionalBind)(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)}};Ze.Scrollbar.prototype.origin_=new he.Coordinate(0,0),Ze.Scrollbar.prototype.startDragMouse_=0,Ze.Scrollbar.prototype.scrollbarLength_=0,Ze.Scrollbar.prototype.handleLength_=0,Ze.Scrollbar.prototype.handlePosition_=0,Ze.Scrollbar.prototype.isVisible_=!0,Ze.Scrollbar.prototype.containerVisible_=!0,Ze.Scrollbar.scrollbarThickness=15,p.TOUCH_ENABLED&&(Ze.Scrollbar.scrollbarThickness=25),Ze.Scrollbar.DEFAULT_SCROLLBAR_MARGIN=.5,Ze.Scrollbar.metricsAreEquivalent_=function(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop},Ze.Scrollbar.prototype.dispose=function(){this.cleanUp_(),(0,_.unbind)(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,(0,_.unbind)(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,(0,M.removeNode)(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},Ze.Scrollbar.prototype.constrainHandleLength_=function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_)},Ze.Scrollbar.prototype.setHandleLength_=function(e){this.handleLength_=e,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},Ze.Scrollbar.prototype.constrainHandlePosition_=function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_-this.handleLength_)},Ze.Scrollbar.prototype.setHandlePosition=function(e){this.handlePosition_=e,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},Ze.Scrollbar.prototype.setScrollbarLength_=function(e){this.scrollbarLength_=e,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollbarLength_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollbarLength_)},Ze.Scrollbar.prototype.setPosition=function(e,t){this.position.x=e,this.position.y=t,(0,M.setCssTransform)(this.outerSvg_,"translate("+(this.position.x+this.origin_.x)+"px,"+(this.position.y+this.origin_.y)+"px)")},Ze.Scrollbar.prototype.resize=function(e){(e||(e=this.workspace_.getMetrics()))&&(this.oldHostMetrics_&&Ze.Scrollbar.metricsAreEquivalent_(e,this.oldHostMetrics_)||(this.horizontal_?this.resizeHorizontal_(e):this.resizeVertical_(e),this.oldHostMetrics_=e,this.updateMetrics_()))},Ze.Scrollbar.prototype.requiresViewResize_=function(e){return!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics_.absoluteTop!==e.absoluteTop},Ze.Scrollbar.prototype.resizeHorizontal_=function(e){this.requiresViewResize_(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)},Ze.Scrollbar.prototype.resizeViewHorizontal=function(e){var t=e.viewWidth-2*this.margin_;this.pair_&&(t-=Ze.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,t)),t=e.absoluteLeft+this.margin_,this.pair_&&this.workspace_.RTL&&(t+=Ze.Scrollbar.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-Ze.Scrollbar.scrollbarThickness-this.margin_),this.resizeContentHorizontal(e)},Ze.Scrollbar.prototype.resizeContentHorizontal=function(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var t=this.scrollbarLength_*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength_(t),this.setHandleLength_(t),t=e.scrollWidth-e.viewWidth;var n=this.scrollbarLength_-this.handleLength_;e=(e.viewLeft-e.scrollLeft)/t*n,e=this.constrainHandlePosition_(e),this.setHandlePosition(e),this.ratio=n/t}},Ze.Scrollbar.prototype.resizeVertical_=function(e){this.requiresViewResize_(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)},Ze.Scrollbar.prototype.resizeViewVertical=function(e){var t=e.viewHeight-2*this.margin_;this.pair_&&(t-=Ze.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,t)),this.setPosition(this.workspace_.RTL?e.absoluteLeft+this.margin_:e.absoluteLeft+e.viewWidth-Ze.Scrollbar.scrollbarThickness-this.margin_,e.absoluteTop+this.margin_),this.resizeContentVertical(e)},Ze.Scrollbar.prototype.resizeContentVertical=function(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var t=this.scrollbarLength_*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength_(t),this.setHandleLength_(t),t=e.scrollHeight-e.viewHeight;var n=this.scrollbarLength_-this.handleLength_;e=(e.viewTop-e.scrollTop)/t*n,e=this.constrainHandlePosition_(e),this.setHandlePosition(e),this.ratio=n/t}},Ze.Scrollbar.prototype.createDom_=function(e){var t="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");e&&(t+=" "+e),this.outerSvg_=(0,M.createSvgElement)(Ee.Svg.SVG,{class:t},null),this.svgGroup_=(0,M.createSvgElement)(Ee.Svg.G,{},this.outerSvg_),this.svgBackground_=(0,M.createSvgElement)(Ee.Svg.RECT,{class:"blocklyScrollbarBackground"},this.svgGroup_),e=Math.floor((Ze.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=(0,M.createSvgElement)(Ee.Svg.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),(0,M.insertAfter)(this.outerSvg_,this.workspace_.getParentSvg())},Ze.Scrollbar.prototype.isVisible=function(){return this.isVisible_},Ze.Scrollbar.prototype.setContainerVisible=function(e){var t=e!==this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()},Ze.Scrollbar.prototype.setVisible=function(e){var t=e!==this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=e,t&&this.updateDisplay_()},Ze.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},Ze.Scrollbar.prototype.onMouseDownBar_=function(e){if(this.workspace_.markFocused(),(0,p.clearTouchIdentifier)(),this.cleanUp_(),(0,_.isRightButton)(e))e.stopPropagation();else{var t=(0,_.mouseToSvg)(e,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());t=this.horizontal_?t.x:t.y;var n=(0,ye.getInjectionDivXY)(this.svgHandle_);n=this.horizontal_?n.x:n.y;var o=this.handlePosition_,i=.95*this.handleLength_;t<=n?o-=i:t>=n+this.handleLength_&&(o+=i),this.setHandlePosition(this.constrainHandlePosition_(o)),this.updateMetrics_(),e.stopPropagation(),e.preventDefault()}},Ze.Scrollbar.prototype.onMouseDownHandle_=function(e){this.workspace_.markFocused(),this.cleanUp_(),(0,_.isRightButton)(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?e.clientX:e.clientY,Ze.Scrollbar.onMouseUpWrapper_=(0,_.conditionalBind)(document,"mouseup",this,this.onMouseUpHandle_),Ze.Scrollbar.onMouseMoveWrapper_=(0,_.conditionalBind)(document,"mousemove",this,this.onMouseMoveHandle_),e.stopPropagation(),e.preventDefault())},Ze.Scrollbar.prototype.onMouseMoveHandle_=function(e){this.setHandlePosition(this.constrainHandlePosition_(this.startDragHandle+((this.horizontal_?e.clientX:e.clientY)-this.startDragMouse_))),this.updateMetrics_()},Ze.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),(0,p.clearTouchIdentifier)(),this.cleanUp_()},Ze.Scrollbar.prototype.cleanUp_=function(){this.workspace_.hideChaff(!0),Ze.Scrollbar.onMouseUpWrapper_&&((0,_.unbind)(Ze.Scrollbar.onMouseUpWrapper_),Ze.Scrollbar.onMouseUpWrapper_=null),Ze.Scrollbar.onMouseMoveWrapper_&&((0,_.unbind)(Ze.Scrollbar.onMouseMoveWrapper_),Ze.Scrollbar.onMouseMoveWrapper_=null)},Ze.Scrollbar.prototype.getRatio_=function(){var e=this.handlePosition_/(this.scrollbarLength_-this.handleLength_);return isNaN(e)&&(e=0),e},Ze.Scrollbar.prototype.updateMetrics_=function(){var e=this.getRatio_(),t={};this.horizontal_?t.x=e:t.y=e,this.workspace_.setMetrics(t)},Ze.Scrollbar.prototype.set=function(e,t){this.setHandlePosition(this.constrainHandlePosition_(e*this.ratio)),(t||void 0===t)&&this.updateMetrics_()},Ze.Scrollbar.prototype.setOrigin=function(e,t){this.origin_=new he.Coordinate(e,t)};var Qe={ScrollbarPair:function(e,t,n,o,i){this.workspace_=e,n=void 0===n||n;var r=(t=void 0===t||t)&&n;t&&(this.hScroll=new Ze.Scrollbar(e,!0,r,o,i)),n&&(this.vScroll=new Ze.Scrollbar(e,!1,r,o,i)),r&&(this.corner_=(0,M.createSvgElement)(Ee.Svg.RECT,{height:Ze.Scrollbar.scrollbarThickness,width:Ze.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),(0,M.insertAfter)(this.corner_,e.getBubbleCanvas())),this.oldHostMetrics_=null}};Qe.ScrollbarPair.prototype.dispose=function(){(0,M.removeNode)(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)},Qe.ScrollbarPair.prototype.resize=function(){var e=this.workspace_.getMetrics();if(e){var t=!1,n=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===e.viewWidth&&this.oldHostMetrics_.viewHeight===e.viewHeight&&this.oldHostMetrics_.absoluteTop===e.absoluteTop&&this.oldHostMetrics_.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===e.scrollWidth&&this.oldHostMetrics_.viewLeft===e.viewLeft&&this.oldHostMetrics_.scrollLeft===e.scrollLeft||(t=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===e.scrollHeight&&this.oldHostMetrics_.viewTop===e.viewTop&&this.oldHostMetrics_.scrollTop===e.scrollTop||(n=!0)):n=t=!0,t||n){try{(0,oe.disable)(),this.hScroll&&t&&this.hScroll.resize(e),this.vScroll&&n&&this.vScroll.resize(e)}finally{(0,oe.enable)()}this.workspace_.maybeFireViewportChangeEvent()}this.hScroll&&this.vScroll&&(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===e.viewWidth&&this.oldHostMetrics_.absoluteLeft===e.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight===e.viewHeight&&this.oldHostMetrics_.absoluteTop===e.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position.y)),this.oldHostMetrics_=e}},Qe.ScrollbarPair.prototype.canScrollHorizontally=function(){return!!this.hScroll},Qe.ScrollbarPair.prototype.canScrollVertically=function(){return!!this.vScroll},Qe.ScrollbarPair.prototype.setOrigin=function(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)},Qe.ScrollbarPair.prototype.set=function(e,t,n){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(n||void 0===n)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace_.setMetrics(e))},Qe.ScrollbarPair.prototype.setX=function(e){this.hScroll&&this.hScroll.set(e,!0)},Qe.ScrollbarPair.prototype.setY=function(e){this.vScroll&&this.vScroll.set(e,!0)},Qe.ScrollbarPair.prototype.setContainerVisible=function(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)},Qe.ScrollbarPair.prototype.isVisible=function(){var e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e},Qe.ScrollbarPair.prototype.resizeContent=function(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)},Qe.ScrollbarPair.prototype.resizeView=function(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)};var et={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},tt={ShortcutRegistry:function(){tt.ShortcutRegistry.registry=this,this.registry_=Object.create(null),this.keyMap_=Object.create(null)}};tt.ShortcutRegistry.modifierKeys={Shift:et.SHIFT,Control:et.CTRL,Alt:et.ALT,Meta:et.META},tt.ShortcutRegistry.prototype.register=function(e,t){if(this.registry_[e.name]&&!t)throw Error('Shortcut with name "'+e.name+'" already exists.');this.registry_[e.name]=e},tt.ShortcutRegistry.prototype.unregister=function(e){return this.registry_[e]?(this.removeAllKeyMappings(e),delete this.registry_[e],!0):(console.warn('Keyboard shortcut with name "'+e+'" not found.'),!1)},tt.ShortcutRegistry.prototype.addKeyMapping=function(e,t,n){e=String(e);var o=this.keyMap_[e];if(o&&!n)throw Error('Shortcut with name "'+t+'" collides with shortcuts '+o.toString());o&&n?o.unshift(t):this.keyMap_[e]=[t]},tt.ShortcutRegistry.prototype.removeKeyMapping=function(e,t,n){var o=this.keyMap_[e];if(!o&&!n)return console.warn('No keyboard shortcut with name "'+t+'" registered with key code "'+e+'"'),!1;var i=o.indexOf(t);return-1<i?(o.splice(i,1),0===o.length&&delete this.keyMap_[e],!0):(n||console.warn('No keyboard shortcut with name "'+t+'" registered with key code "'+e+'"'),!1)},tt.ShortcutRegistry.prototype.removeAllKeyMappings=function(e){for(var t in this.keyMap_)this.removeKeyMapping(t,e,!0)},tt.ShortcutRegistry.prototype.setKeyMap=function(e){this.keyMap_=e},tt.ShortcutRegistry.prototype.getKeyMap=function(){return(0,e.module$exports$Blockly$utils$object.deepMerge)(Object.create(null),this.keyMap_)},tt.ShortcutRegistry.prototype.getRegistry=function(){return(0,e.module$exports$Blockly$utils$object.deepMerge)(Object.create(null),this.registry_)},tt.ShortcutRegistry.prototype.onKeyDown=function(e,t){var n=this.serializeKeyEvent_(t);if(!(n=this.getShortcutNamesByKeyCode(n)))return!1;for(var o,i=0;o=n[i];i++)if((!(o=this.registry_[o]).preconditionFn||o.preconditionFn(e))&&o.callback&&o.callback(e,t,o))return!0;return!1},tt.ShortcutRegistry.prototype.getShortcutNamesByKeyCode=function(e){return this.keyMap_[e]||[]},tt.ShortcutRegistry.prototype.getKeyCodesByShortcutName=function(e){var t,n=[];for(t in this.keyMap_)-1<this.keyMap_[t].indexOf(e)&&n.push(t);return n},tt.ShortcutRegistry.prototype.serializeKeyEvent_=function(e){var t,n="";for(t in tt.ShortcutRegistry.modifierKeys)e.getModifierState(t)&&(""!==n&&(n+="+"),n+=t);return""!==n&&e.keyCode?n=n+"+"+e.keyCode:e.keyCode&&(n=e.keyCode.toString()),n},tt.ShortcutRegistry.prototype.checkModifiers_=function(t){for(var n,o=(0,e.module$exports$Blockly$utils$object.values)(tt.ShortcutRegistry.modifierKeys),i=0;n=t[i];i++)if(0>o.indexOf(n))throw Error(n+" is not a valid modifier key.")},tt.ShortcutRegistry.prototype.createSerializedKey=function(e,t){var n="";if(t)for(var o in this.checkModifiers_(t),tt.ShortcutRegistry.modifierKeys)-1<t.indexOf(tt.ShortcutRegistry.modifierKeys[o])&&(""!==n&&(n+="+"),n+=o);return""!==n&&e?n=n+"+"+e:e&&(n=e.toString()),n},new tt.ShortcutRegistry;var nt={WorkspaceDragSurfaceSvg:function(e){this.container_=e,this.createDom()}};nt.WorkspaceDragSurfaceSvg.prototype.SVG_=null,nt.WorkspaceDragSurfaceSvg.prototype.container_=null,nt.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=(0,M.createSvgElement)(Ee.Svg.SVG,{xmlns:M.SVG_NS,"xmlns:html":M.HTML_NS,"xmlns:xlink":M.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},nt.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(e,t){e=e.toFixed(0),t=t.toFixed(0),this.SVG_.style.display="block",(0,M.setCssTransform)(this.SVG_,"translate3d("+e+"px, "+t+"px, 0)")},nt.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return(0,ye.getRelativeXY)(this.SVG_)},nt.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(e){if(!e)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var t=this.SVG_.childNodes[0],n=this.SVG_.childNodes[1];if(!(t&&n&&(0,M.hasClass)(t,"blocklyBlockCanvas")&&(0,M.hasClass)(n,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!==this.previousSibling_?(0,M.insertAfter)(t,this.previousSibling_):e.insertBefore(t,e.firstChild),(0,M.insertAfter)(n,t),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");(0,M.setCssTransform)(this.SVG_,""),this.previousSibling_=null},nt.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(e,t,n,o,i,r){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=n,e.setAttribute("transform","translate(0, 0) scale("+r+")"),t.setAttribute("transform","translate(0, 0) scale("+r+")"),this.SVG_.setAttribute("width",o),this.SVG_.setAttribute("height",i),this.SVG_.appendChild(e),this.SVG_.appendChild(t),this.SVG_.style.display="block"};var ot={},it=null;ot.copy=function(e){it=e.toCopyData()},ot.paste=function(){if(!it)return!1;var e=it.source;return e.isFlyout&&(e=e.targetWorkspace),!(!it.typeCounts||!e.isCapacityAvailable(it.typeCounts))&&((0,oe.setGroup)(!0),e.paste(it.saveInfo),(0,oe.setGroup)(!1),!0)},ot.duplicate=function(e){var t=it;(0,ot.copy)(e),e.workspace.paste(it.saveInfo),it=t};var rt={MenuItem:function(e,t){this.content_=e,this.value_=t,this.enabled_=!0,this.element_=null,this.rightToLeft_=!1,this.roleName_=null,this.highlight_=this.checked_=this.checkable_=!1,this.actionHandler_=null}};rt.MenuItem.prototype.createDom=function(){var e=document.createElement("div");e.id=(0,K.getNextUniqueId)(),this.element_=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled_?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked_?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight_?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft_?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var t=document.createElement("div");if(t.className="blocklyMenuItemContent goog-menuitem-content",this.checkable_){var n=document.createElement("div");n.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",t.appendChild(n)}return n=this.content_,"string"===typeof this.content_&&(n=document.createTextNode(this.content_)),t.appendChild(n),e.appendChild(t),this.roleName_&&(0,X.setRole)(e,this.roleName_),(0,X.setState)(e,X.State.SELECTED,this.checkable_&&this.checked_||!1),(0,X.setState)(e,X.State.DISABLED,!this.enabled_),e},rt.MenuItem.prototype.dispose=function(){this.element_=null},rt.MenuItem.prototype.getElement=function(){return this.element_},rt.MenuItem.prototype.getId=function(){return this.element_.id},rt.MenuItem.prototype.getValue=function(){return this.value_},rt.MenuItem.prototype.setRightToLeft=function(e){this.rightToLeft_=e},rt.MenuItem.prototype.setRole=function(e){this.roleName_=e},rt.MenuItem.prototype.setCheckable=function(e){this.checkable_=e},rt.MenuItem.prototype.setChecked=function(e){this.checked_=e},rt.MenuItem.prototype.setHighlighted=function(e){this.highlight_=e;var t=this.getElement();t&&this.isEnabled()&&(e?((0,M.addClass)(t,"blocklyMenuItemHighlight"),(0,M.addClass)(t,"goog-menuitem-highlight")):((0,M.removeClass)(t,"blocklyMenuItemHighlight"),(0,M.removeClass)(t,"goog-menuitem-highlight")))},rt.MenuItem.prototype.isEnabled=function(){return this.enabled_},rt.MenuItem.prototype.setEnabled=function(e){this.enabled_=e},rt.MenuItem.prototype.performAction=function(){this.isEnabled()&&this.actionHandler_&&this.actionHandler_(this)},rt.MenuItem.prototype.onAction=function(e,t){this.actionHandler_=e.bind(t)};var st={Menu:function(){this.menuItems_=[],this.roleName_=this.element_=this.onKeyDownHandler_=this.mouseLeaveHandler_=this.mouseEnterHandler_=this.clickHandler_=this.mouseOverHandler_=this.highlightedItem_=this.openingCoords=null}};st.Menu.prototype.addChild=function(e){this.menuItems_.push(e)},st.Menu.prototype.render=function(e){var t=document.createElement("div");t.className="blocklyMenu goog-menu blocklyNonSelectable",t.tabIndex=0,this.roleName_&&(0,X.setRole)(t,this.roleName_),this.element_=t;for(var n,o=0;n=this.menuItems_[o];o++)t.appendChild(n.createDom());this.mouseOverHandler_=(0,_.conditionalBind)(t,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=(0,_.conditionalBind)(t,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=(0,_.conditionalBind)(t,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=(0,_.conditionalBind)(t,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownHandler_=(0,_.conditionalBind)(t,"keydown",this,this.handleKeyEvent_),e.appendChild(t)},st.Menu.prototype.getElement=function(){return this.element_},st.Menu.prototype.focus=function(){var e=this.getElement();e&&(e.focus({preventScroll:!0}),(0,M.addClass)(e,"blocklyFocused"))},st.Menu.prototype.blur_=function(){var e=this.getElement();e&&(e.blur(),(0,M.removeClass)(e,"blocklyFocused"))},st.Menu.prototype.setRole=function(e){this.roleName_=e},st.Menu.prototype.dispose=function(){this.mouseOverHandler_&&((0,_.unbind)(this.mouseOverHandler_),this.mouseOverHandler_=null),this.clickHandler_&&((0,_.unbind)(this.clickHandler_),this.clickHandler_=null),this.mouseEnterHandler_&&((0,_.unbind)(this.mouseEnterHandler_),this.mouseEnterHandler_=null),this.mouseLeaveHandler_&&((0,_.unbind)(this.mouseLeaveHandler_),this.mouseLeaveHandler_=null),this.onKeyDownHandler_&&((0,_.unbind)(this.onKeyDownHandler_),this.onKeyDownHandler_=null);for(var e,t=0;e=this.menuItems_[t];t++)e.dispose();this.element_=null},st.Menu.prototype.getMenuItem_=function(e){for(var t=this.getElement();e&&e!==t;){if((0,M.hasClass)(e,"blocklyMenuItem"))for(var n,o=0;n=this.menuItems_[o];o++)if(n.getElement()===e)return n;e=e.parentElement}return null},st.Menu.prototype.setHighlighted=function(e){var t=this.highlightedItem_;t&&(t.setHighlighted(!1),this.highlightedItem_=null),e&&(e.setHighlighted(!0),this.highlightedItem_=e,t=this.getElement(),(0,fe.scrollIntoContainerView)(e.getElement(),t),(0,X.setState)(t,X.State.ACTIVEDESCENDANT,e.getId()))},st.Menu.prototype.highlightNext=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(e,1)},st.Menu.prototype.highlightPrevious=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(0>e?this.menuItems_.length:e,-1)},st.Menu.prototype.highlightFirst_=function(){this.highlightHelper_(-1,1)},st.Menu.prototype.highlightLast_=function(){this.highlightHelper_(this.menuItems_.length,-1)},st.Menu.prototype.highlightHelper_=function(e,t){e+=t;for(var n;n=this.menuItems_[e];){if(n.isEnabled()){this.setHighlighted(n);break}e+=t}},st.Menu.prototype.handleMouseOver_=function(e){(e=this.getMenuItem_(e.target))&&(e.isEnabled()?this.highlightedItem_!==e&&this.setHighlighted(e):this.setHighlighted(null))},st.Menu.prototype.handleClick_=function(e){var t=this.openingCoords;if(this.openingCoords=null,t&&"number"===typeof e.clientX){var n=new he.Coordinate(e.clientX,e.clientY);if(1>he.Coordinate.distance(t,n))return}(e=this.getMenuItem_(e.target))&&e.performAction()},st.Menu.prototype.handleMouseEnter_=function(e){this.focus()},st.Menu.prototype.handleMouseLeave_=function(e){this.getElement()&&(this.blur_(),this.setHighlighted(null))},st.Menu.prototype.handleKeyEvent_=function(e){if(this.menuItems_.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem_;switch(e.keyCode){case et.ENTER:case et.SPACE:t&&t.performAction();break;case et.UP:this.highlightPrevious();break;case et.DOWN:this.highlightNext();break;case et.PAGE_UP:case et.HOME:this.highlightFirst_();break;case et.PAGE_DOWN:case et.END:this.highlightLast_();break;default:return}e.preventDefault(),e.stopPropagation()}},st.Menu.prototype.getSize=function(){var e=this.getElement(),t=(0,fe.getSize)(e);return t.height=e.scrollHeight,t};var lt={VARIABLES:100,BLOCKS:50},at={register:function(e,t){(0,Z.register)(Z.Type.SERIALIZER,e,t)},unregister:function(e){(0,Z.unregister)(Z.Type.SERIALIZER,e)}},ct={DeserializationError:function(){var e=Error.apply(this,arguments);this.message=e.message,"stack"in e&&(this.stack=e.stack)}};t.inherits(ct.DeserializationError,Error),ct.MissingBlockType=function(e){ct.DeserializationError.call(this,"Expected to find a 'type' property, defining the block type"),this.state=e},t.inherits(ct.MissingBlockType,ct.DeserializationError),ct.MissingConnection=function(e,t,n){ct.DeserializationError.call(this,"The block "+t.toDevString()+" is missing a(n) "+e+"\nconnection"),this.block=t,this.state=n},t.inherits(ct.MissingConnection,ct.DeserializationError),ct.BadConnectionCheck=function(e,t,n,o){ct.DeserializationError.call(this,"The block "+n.toDevString()+" could not connect its\n"+t+" to its parent, because: "+e),this.childBlock=n,this.childState=o},t.inherits(ct.BadConnectionCheck,ct.DeserializationError),ct.RealChildOfShadow=function(e){ct.DeserializationError.call(this,"Encountered a real block which is defined as a child of a shadow\nblock. It is an invariant of Blockly that shadow blocks only have shadow\nchildren"),this.state=e},t.inherits(ct.RealChildOfShadow,ct.DeserializationError);var ut={ISerializer:function(){}};ut.ISerializer.prototype.save=function(e){},ut.ISerializer.prototype.load=function(e,t){},ut.ISerializer.prototype.clear=function(e){};var pt={save:function(e,t){var n=void 0===t?{}:t;t=void 0!==n.addCoordinates&&n.addCoordinates;var o=void 0===n.addInputBlocks||n.addInputBlocks,i=void 0===n.addNextBlocks||n.addNextBlocks;if(n=void 0===n.doFullSerialization||n.doFullSerialization,e.isInsertionMarker())return null;var r={type:e.type,id:e.id};return t&&dt(e,r),ht(e,r),ft(e,r),gt(e,r),_t(e,r,n),o&&mt(e,r,n),i&&yt(e,r,n),r}},ht=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.enabled=!1),void 0!==e.inputsInline&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},dt=function(e,t){var n=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(n.RTL?n.getWidth()-e.x:e.x),t.y=Math.round(e.y)},ft=function(t,n){t.saveExtraState?null!==(t=t.saveExtraState())&&(n.extraState=t):t.mutationToDom&&null!==(t=t.mutationToDom())&&(n.extraState=(0,e.module$exports$Blockly$Xml.domToText)(t).replace(' xmlns="https://developers.google.com/blockly/xml"',""))},gt=function(e,t){e.getCommentText()&&(t.icons={comment:{text:e.getCommentText(),pinned:e.commentModel.pinned,height:Math.round(e.commentModel.size.height),width:Math.round(e.commentModel.size.width)}})},_t=function(e,t,n){for(var o=Object.create(null),i=0;i<e.inputList.length;i++)for(var r=e.inputList[i],s=0;s<r.fieldRow.length;s++){var l=r.fieldRow[s];l.isSerializable()&&(o[l.name]=l.saveState(n))}Object.keys(o).length&&(t.fields=o)},mt=function(t,n,o){for(var i=Object.create(null),r=0;r<t.inputList.length;r++){var s=t.inputList[r];if(s.type!==e.module$exports$Blockly$inputTypes.inputTypes.DUMMY){var l=vt(s.connection,o);l&&(i[s.name]=l)}}Object.keys(i).length&&(n.inputs=i)},yt=function(e,t,n){e.nextConnection&&(e=vt(e.nextConnection,n))&&(t.next=e)},vt=function(e,t){var n=e.getShadowState(!0);if(e=e.targetBlock(),!n&&!e)return null;var o=Object.create(null);return n&&(o.shadow=n),e&&!e.isShadow()&&(o.block=(0,pt.save)(e,{doFullSerialization:t})),o};pt.append=function(e,t,n){return n=void 0===n?{}:n,(0,pt.appendInternal)(e,t,{recordUndo:void 0!==n.recordUndo&&n.recordUndo})},pt.appendInternal=function(e,t,n){var o=void 0===n?{}:n;n=void 0===o.parentConnection?void 0:o.parentConnection;var i=void 0!==o.isShadow&&o.isShadow,r=void 0!==o.recordUndo&&o.recordUndo;o=(0,oe.getRecordUndo)(),(0,oe.setRecordUndo)(r),(r=(0,oe.getGroup)())||(0,oe.setGroup)(!0),(0,oe.disable)();var s=Tt(e,t,{parentConnection:n,isShadow:i});return(0,oe.enable)(),(0,oe.fire)(new((0,oe.get)(oe.CREATE))(s)),(0,oe.setGroup)(r),(0,oe.setRecordUndo)(o),t.rendered&&setTimeout((function(){s.disposed||s.setConnectionTracking(!0)}),1),s};var Tt=function(e,t,n){var o=void 0===n?{}:n;if(n=void 0===o.parentConnection?void 0:o.parentConnection,o=void 0!==o.isShadow&&o.isShadow,!e.type)throw new ct.MissingBlockType(e);var i=t.newBlock(e.type,e.id);return i.setShadow(o),Et(i,e),kt(i,e),bt(i,e),Ct(n,i,e),St(i,e),It(i,e),Rt(i,e),Ot(i,e),Bt(i,t.rendered),i},Et=function(e,t){var n=void 0===t.x?0:t.x;t=void 0===t.y?0:t.y;var o=e.workspace;n=o.RTL?o.getWidth()-n:n,e.moveBy(n,t)},kt=function(e,t){t.collapsed&&e.setCollapsed(!0),!1===t.enabled&&e.setEnabled(!1),void 0!==t.inline&&e.setInputsInline(t.inline),void 0!==t.data&&(e.data=t.data)},bt=function(t,n){n.extraState&&(t.loadExtraState?t.loadExtraState(n.extraState):t.domToMutation((0,e.module$exports$Blockly$Xml.textToDom)(n.extraState)))},Ct=function(t,n,o){if(t){if(t.getSourceBlock().isShadow()&&!n.isShadow())throw new ct.RealChildOfShadow(o);if(t.type===e.module$exports$Blockly$inputTypes.inputTypes.VALUE){var i=n.outputConnection;if(!i)throw new ct.MissingConnection("output",n,o)}else if(!(i=n.previousConnection))throw new ct.MissingConnection("previous",n,o);if(!t.connect(i)){var r=n.workspace.connectionChecker;throw new ct.BadConnectionCheck(r.getErrorMessage(r.canConnectWithReason(i,t,!1),i,t),t.type===e.module$exports$Blockly$inputTypes.inputTypes.VALUE?"output connection":"previous connection",n,o)}}},St=function(e,t){t.icons&&(t=t.icons.comment)&&(e.setCommentText(t.text),e.commentModel.pinned=t.pinned,e.commentModel.size=new de.Size(t.width,t.height),t.pinned&&e.getCommentIcon&&!e.isInFlyout&&setTimeout((function(){return e.getCommentIcon().setVisible(!0)}),1))},It=function(e,t){if(t.fields)for(var n=Object.keys(t.fields),o=0;o<n.length;o++){var i=n[o],r=t.fields[i],s=e.getField(i);s?s.loadState(r):console.warn("Ignoring non-existant field "+i+" in block "+e.type)}},Rt=function(e,t){if(t.inputs)for(var n=Object.keys(t.inputs),o=0;o<n.length;o++){var i=n[o],r=e.getInput(i);if(!r||!r.connection)throw new ct.MissingConnection(i,e,t);wt(r.connection,t.inputs[i])}},Ot=function(e,t){if(t.next){if(!e.nextConnection)throw new ct.MissingConnection("next",e,t);wt(e.nextConnection,t.next)}},wt=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&Tt(t.block,e.getSourceBlock().workspace,{parentConnection:e})},Bt=function(e,t){t?(e.setConnectionTracking(!1),e.initSvg(),e.render(!1)):e.initModel()},At=pt.save,xt=function(){this.priority=lt.BLOCKS};xt.prototype.save=function(e){for(var n=[],o=(e=t.makeIterator(e.getTopBlocks(!1))).next();!o.done;o=e.next())(o=At(o.value,{addCoordinates:!0,doFullSerialization:!1}))&&n.push(o);return n.length?{languageVersion:0,blocks:n}:null},xt.prototype.load=function(e,n){for(var o=(e=t.makeIterator(e.blocks)).next();!o.done;o=e.next())(0,pt.append)(o.value,n,{recordUndo:(0,oe.getRecordUndo)()})},xt.prototype.clear=function(e){for(var n=(e=t.makeIterator(e.getTopBlocks(!1))).next();!n.done;n=e.next())n.value.dispose(!1)},(0,at.register)("blocks",new xt);var Nt=function(){this.isBlank=null,this.workspaceId=void 0,this.group=(0,oe.getGroup)(),this.recordUndo=(0,oe.getRecordUndo)()};Nt.prototype.isUiEvent=!1,Nt.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),e},Nt.prototype.fromJson=function(e){this.isBlank=!1,this.group=e.group},Nt.prototype.isNull=function(){return!1},Nt.prototype.run=function(e){},Nt.prototype.getEventWorkspace_=function(){var e;if(this.workspaceId&&(e=Nn.Workspace.getById(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e};var Dt={BlockBase:function(e){Dt.BlockBase.superClass_.constructor.call(this),this.blockId=(this.isBlank="undefined"===typeof e)?"":e.id,this.workspaceId=this.isBlank?"":e.workspace.id}};(0,e.module$exports$Blockly$utils$object.inherits)(Dt.BlockBase,Nt),Dt.BlockBase.prototype.toJson=function(){var e=Dt.BlockBase.superClass_.toJson.call(this);return e.blockId=this.blockId,e},Dt.BlockBase.prototype.fromJson=function(e){Dt.BlockBase.superClass_.fromJson.call(this,e),this.blockId=e.blockId};var Mt,Pt={BlockCreate:function(t){Pt.BlockCreate.superClass_.constructor.call(this,t),t&&(t.isShadow()&&(this.recordUndo=!1),this.xml=(0,e.module$exports$Blockly$Xml.blockToDomWithXY)(t),this.ids=(0,oe.getDescendantIds)(t),this.json=(0,pt.save)(t,{addCoordinates:!0}))}};(0,e.module$exports$Blockly$utils$object.inherits)(Pt.BlockCreate,Dt.BlockBase),Pt.BlockCreate.prototype.type=oe.CREATE,Pt.BlockCreate.prototype.toJson=function(){var t=Pt.BlockCreate.superClass_.toJson.call(this);return t.xml=(0,e.module$exports$Blockly$Xml.domToText)(this.xml),t.ids=this.ids,t.json=this.json,this.recordUndo||(t.recordUndo=this.recordUndo),t},Pt.BlockCreate.prototype.fromJson=function(t){Pt.BlockCreate.superClass_.fromJson.call(this,t),this.xml=(0,e.module$exports$Blockly$Xml.textToDom)(t.xml),this.ids=t.ids,this.json=t.json,void 0!==t.recordUndo&&(this.recordUndo=t.recordUndo)},Pt.BlockCreate.prototype.run=function(e){var t=this.getEventWorkspace_();if(e)(0,pt.append)(this.json,t);else for(e=0;e<this.ids.length;e++){var n=this.ids[e],o=t.getBlockById(n);o?o.dispose(!1):n===this.blockId&&console.warn("Can't uncreate non-existent block: "+n)}},(0,Z.register)(Z.Type.EVENT,oe.CREATE,Pt.BlockCreate),e.module$exports$Blockly$ContextMenu={},Mt=null,e.module$exports$Blockly$ContextMenu.getCurrentBlock=function(){return Mt},e.module$exports$Blockly$ContextMenu.setCurrentBlock=function(e){Mt=e},Object.defineProperties(e.module$exports$Blockly$ContextMenu,{currentBlock:{get:function(){return(0,a.warn)("Blockly.ContextMenu.currentBlock","September 2021","September 2022","Blockly.Tooltip.getCurrentBlock()"),(0,e.module$exports$Blockly$ContextMenu.getCurrentBlock)()},set:function(t){(0,a.warn)("Blockly.ContextMenu.currentBlock","September 2021","September 2022","Blockly.Tooltip.setCurrentBlock(block)"),(0,e.module$exports$Blockly$ContextMenu.setCurrentBlock)(t)}}});var Lt=null;e.module$exports$Blockly$ContextMenu.show=function(t,n,o){if((0,U.show)(e.module$exports$Blockly$ContextMenu,o,e.module$exports$Blockly$ContextMenu.dispose),n.length){var i=Ft(n,o);Lt=i,$t(i,t,o),setTimeout((function(){i.focus()}),1),Mt=null}else(0,e.module$exports$Blockly$ContextMenu.hide)()};var Ft=function(t,n){var o=new st.Menu;o.setRole(X.Role.MENU);for(var i=0;i<t.length;i++){var r=t[i],s=new rt.MenuItem(r.text);s.setRightToLeft(n),s.setRole(X.Role.MENUITEM),o.addChild(s),s.setEnabled(r.enabled),r.enabled&&s.onAction((function(t){(0,e.module$exports$Blockly$ContextMenu.hide)(),this.callback(this.scope)}),r)}return o},$t=function(e,t,n){var o=(0,ye.getViewportBBox)();t=new me.Rect(t.clientY+o.top,t.clientY+o.top,t.clientX+o.left,t.clientX+o.left),Ut(e);var i=e.getSize();n&&(t.left+=i.width,t.right+=i.width,o.left+=i.width,o.right+=i.width),(0,U.positionWithAnchor)(o,t,i,n),e.focus()},Ut=function(e){var t=(0,U.getDiv)();if(!t)throw Error("Attempting to create a context menu when widget div is null");e.render(t),t=e.getElement(),(0,M.addClass)(t,"blocklyContextMenu"),(0,_.conditionalBind)(t,"contextmenu",null,Ht),e.focus()},Ht=function(e){e.preventDefault(),e.stopPropagation()};e.module$exports$Blockly$ContextMenu.hide=function(){(0,U.hideIfOwner)(e.module$exports$Blockly$ContextMenu),Mt=null},e.module$exports$Blockly$ContextMenu.dispose=function(){Lt&&(Lt.dispose(),Lt=null)},e.module$exports$Blockly$ContextMenu.callbackFactory=function(t,n){return function(){(0,oe.disable)();try{var o=(0,e.module$exports$Blockly$Xml.domToBlock)(n,t.workspace),i=t.getRelativeToSurfaceXY();i.x=t.RTL?i.x-e.module$exports$Blockly$internalConstants.SNAP_RADIUS:i.x+e.module$exports$Blockly$internalConstants.SNAP_RADIUS,i.y+=2*e.module$exports$Blockly$internalConstants.SNAP_RADIUS,o.moveBy(i.x,i.y)}finally{(0,oe.enable)()}(0,oe.isEnabled)()&&!o.isShadow()&&(0,oe.fire)(new((0,oe.get)(oe.CREATE))(o)),o.select()}},e.module$exports$Blockly$ContextMenu.commentDeleteOption=function(t){return{text:e.module$exports$Blockly$Msg.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){(0,oe.setGroup)(!0),t.dispose(),(0,oe.setGroup)(!1)}}},e.module$exports$Blockly$ContextMenu.commentDuplicateOption=function(t){return{text:e.module$exports$Blockly$Msg.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){(0,ot.duplicate)(t)}}},e.module$exports$Blockly$ContextMenu.workspaceCommentOption=function(t,n){var o=Tr;if(!o)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var i={enabled:!f.IE};return i.text=e.module$exports$Blockly$Msg.Msg.ADD_COMMENT,i.callback=function(){var i=new o(t,e.module$exports$Blockly$Msg.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,o.DEFAULT_SIZE,o.DEFAULT_SIZE),r=t.getInjectionDiv().getBoundingClientRect();r=new he.Coordinate(n.clientX-r.left,n.clientY-r.top);var s=t.getOriginOffsetInPixels();(r=he.Coordinate.difference(r,s)).scale(1/t.scale),i.moveBy(r.x,r.y),t.rendered&&(i.initSvg(),i.render(),i.select())},i};var Vt=function(e,t){return-1!==(t=e.indexOf(t))&&(e.splice(t,1),!0)},Gt={},Wt=!1;Gt.isDebuggerEnabled=function(){return Wt},Gt.startDebugger=function(){Wt=!0},Gt.stopDebugger=function(){Wt=!1};var zt={Types:{NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608}};zt.Types.LEFT_CORNER=zt.Types.LEFT_SQUARE_CORNER|zt.Types.LEFT_ROUND_CORNER,zt.Types.RIGHT_CORNER=zt.Types.RIGHT_SQUARE_CORNER|zt.Types.RIGHT_ROUND_CORNER,zt.Types.nextTypeValue_=16777216,zt.Types.getType=function(e){return Object.prototype.hasOwnProperty.call(zt.Types,e)||(zt.Types[e]=zt.Types.nextTypeValue_,zt.Types.nextTypeValue_<<=1),zt.Types[e]},zt.Types.isField=function(e){return e.type&zt.Types.FIELD},zt.Types.isHat=function(e){return e.type&zt.Types.HAT},zt.Types.isIcon=function(e){return e.type&zt.Types.ICON},zt.Types.isSpacer=function(e){return e.type&zt.Types.SPACER},zt.Types.isInRowSpacer=function(e){return e.type&zt.Types.IN_ROW_SPACER},zt.Types.isInput=function(e){return e.type&zt.Types.INPUT},zt.Types.isExternalInput=function(e){return e.type&zt.Types.EXTERNAL_VALUE_INPUT},zt.Types.isInlineInput=function(e){return e.type&zt.Types.INLINE_INPUT},zt.Types.isStatementInput=function(e){return e.type&zt.Types.STATEMENT_INPUT},zt.Types.isPreviousConnection=function(e){return e.type&zt.Types.PREVIOUS_CONNECTION},zt.Types.isNextConnection=function(e){return e.type&zt.Types.NEXT_CONNECTION},zt.Types.isPreviousOrNextConnection=function(e){return e.type&(zt.Types.PREVIOUS_CONNECTION|zt.Types.NEXT_CONNECTION)},zt.Types.isLeftRoundedCorner=function(e){return e.type&zt.Types.LEFT_ROUND_CORNER},zt.Types.isRightRoundedCorner=function(e){return e.type&zt.Types.RIGHT_ROUND_CORNER},zt.Types.isLeftSquareCorner=function(e){return e.type&zt.Types.LEFT_SQUARE_CORNER},zt.Types.isRightSquareCorner=function(e){return e.type&zt.Types.RIGHT_SQUARE_CORNER},zt.Types.isCorner=function(e){return e.type&zt.Types.CORNER},zt.Types.isJaggedEdge=function(e){return e.type&zt.Types.JAGGED_EDGE},zt.Types.isRow=function(e){return e.type&zt.Types.ROW},zt.Types.isBetweenRowSpacer=function(e){return e.type&zt.Types.BETWEEN_ROW_SPACER},zt.Types.isTopRow=function(e){return e.type&zt.Types.TOP_ROW},zt.Types.isBottomRow=function(e){return e.type&zt.Types.BOTTOM_ROW},zt.Types.isTopOrBottomRow=function(e){return e.type&(zt.Types.TOP_ROW|zt.Types.BOTTOM_ROW)},zt.Types.isInputRow=function(e){return e.type&zt.Types.INPUT_ROW};var Yt={Row:function(e){this.type=zt.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT,this.align=null}};Yt.Row.prototype.getLastInput=function(){for(var e=this.elements.length-1;0<=e;e--){var t=this.elements[e];if(zt.Types.isInput(t))return t}return null},Yt.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},Yt.Row.prototype.startsWithElemSpacer=function(){return!0},Yt.Row.prototype.endsWithElemSpacer=function(){return!0},Yt.Row.prototype.getFirstSpacer=function(){for(var e=0;e<this.elements.length;e++){var t=this.elements[e];if(zt.Types.isSpacer(t))return t}return null},Yt.Row.prototype.getLastSpacer=function(){for(var e=this.elements.length-1;0<=e;e--){var t=this.elements[e];if(zt.Types.isSpacer(t))return t}return null};var jt={BottomRow:function(e){jt.BottomRow.superClass_.constructor.call(this,e),this.type|=zt.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0}};(0,e.module$exports$Blockly$utils$object.inherits)(jt.BottomRow,Yt.Row),jt.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection||!!e.getNextBlock()},jt.BottomRow.prototype.hasRightSquareCorner=function(e){return!0},jt.BottomRow.prototype.measure=function(){for(var e=0,t=0,n=0,o=0;o<this.elements.length;o++){var i=this.elements[o];t+=i.width,zt.Types.isSpacer(i)||(zt.Types.isNextConnection(i)?n=Math.max(n,i.height):e=Math.max(e,i.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+n,this.descenderHeight=n,this.widthWithConnectedBlocks=this.width},jt.BottomRow.prototype.startsWithElemSpacer=function(){return!1},jt.BottomRow.prototype.endsWithElemSpacer=function(){return!1};var Xt=function(e){this.height=this.width=0,this.type=zt.Types.NONE,this.centerline=this.xPos=0,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},Kt={Connection:function(e,t){Kt.Connection.superClass_.constructor.call(this,e),this.connectionModel=t,this.shape=this.constants_.shapeFor(t),this.isDynamicShape=!!this.shape.isDynamic,this.type|=zt.Types.CONNECTION}};(0,e.module$exports$Blockly$utils$object.inherits)(Kt.Connection,Xt);var Jt={},qt=.45;Jt.getHsvSaturation=function(){return qt},Jt.setHsvSaturation=function(e){qt=e};var Zt=.65;Jt.getHsvValue=function(){return Zt},Jt.setHsvValue=function(e){Zt=e},Jt.parse=function(e){e=String(e).toLowerCase().trim();var t=Jt.names[e];if(t)return t;if(t="#"===(t="0x"===e.substring(0,2)?"#"+e.substring(2):e)[0]?t:"#"+t,/^#[0-9a-f]{6}$/.test(t))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var n=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return n&&(e=Number(n[1]),t=Number(n[2]),n=Number(n[3]),0<=e&&256>e&&0<=t&&256>t&&0<=n&&256>n)?(0,Jt.rgbToHex)(e,t,n):null},Jt.rgbToHex=function(e,t,n){return t=e<<16|t<<8|n,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},Jt.hexToRgb=function(e){return(e=(0,Jt.parse)(e))?[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]:[0,0,0]},Jt.hsvToHex=function(e,t,n){var o=0,i=0,r=0;if(0===t)r=i=o=n;else{var s=Math.floor(e/60),l=e/60-s;e=n*(1-t);var a=n*(1-t*l);switch(t=n*(1-t*(1-l)),s){case 1:o=a,i=n,r=e;break;case 2:o=e,i=n,r=t;break;case 3:o=e,i=a,r=n;break;case 4:o=t,i=e,r=n;break;case 5:o=n,i=e,r=a;break;case 6:case 0:o=n,i=t,r=e}}return(0,Jt.rgbToHex)(Math.floor(o),Math.floor(i),Math.floor(r))},Jt.blend=function(e,t,n){return(e=(0,Jt.parse)(e))&&(t=(0,Jt.parse)(t))?(e=(0,Jt.hexToRgb)(e),t=(0,Jt.hexToRgb)(t),(0,Jt.rgbToHex)(Math.round(t[0]+n*(e[0]-t[0])),Math.round(t[1]+n*(e[1]-t[1])),Math.round(t[2]+n*(e[2]-t[2])))):null},Jt.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},Jt.hueToHex=function(e){return(0,Jt.hsvToHex)(e,qt,255*Zt)};var Qt={point:function(e,t){return" "+e+","+t+" "},curve:function(e,t){return" "+e+t.join("")},moveTo:function(e,t){return" M "+e+","+t+" "},moveBy:function(e,t){return" m "+e+","+t+" "},lineTo:function(e,t){return" l "+e+","+t+" "},line:function(e){return" l"+e.join("")},lineOnAxis:function(e,t){return" "+e+" "+t+" "},arc:function(e,t,n,o){return e+" "+n+" "+n+" "+t+o}},en={},tn=function t(n,o){var i=[],r=n.split("");r.push("");var s=0;n=[];for(var l=null,a=0;a<r.length;a++){var c=r[a];0===s?"%"===c?((s=n.join(""))&&i.push(s),n.length=0,s=1):n.push(c):1===s?"%"===c?(n.push(c),s=0):o&&"0"<=c&&"9">=c?(s=2,l=c,(c=n.join(""))&&i.push(c),n.length=0):"{"===c?s=3:(n.push("%",c),s=0):2===s?"0"<=c&&"9">=c?l+=c:(i.push(parseInt(l,10)),a--,s=0):3===s&&(""===c?(n.splice(0,0,"%{"),a--,s=0):"}"!==c?n.push(c):(s=n.join(""),/[A-Z]\w*/i.test(s)?(c=s.toUpperCase(),(c=(0,e.module$exports$Blockly$utils$string.startsWith)(c,"BKY_")?c.substring(4):null)&&c in e.module$exports$Blockly$Msg.Msg?"string"===typeof(s=e.module$exports$Blockly$Msg.Msg[c])?Array.prototype.push.apply(i,t(s,o)):o?i.push(String(s)):i.push(s):i.push("%{"+s+"}")):i.push("%{"+s+"}"),s=n.length=0))}for((o=n.join(""))&&i.push(o),r=[],l=n.length=0;l<i.length;l++)"string"===typeof i[l]?n.push(i[l]):((o=n.join(""))&&r.push(o),n.length=0,r.push(i[l]));return(o=n.join(""))&&r.push(o),n.length=0,r};en.tokenizeInterpolation=function(e){return tn(e,!0)},en.replaceMessageReferences=function(e){return"string"!==typeof e?e:(e=tn(e,!1)).length?String(e[0]):""},en.checkMessageReferences=function(t){for(var n=!0,o=e.module$exports$Blockly$Msg.Msg,i=t.match(/%{BKY_[A-Z]\w*}/gi),r=0;r<i.length;r++)void 0===o[i[r].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+i[r]+" in "+t),n=!1);return n},en.parseBlockColour=function(e){var t="string"===typeof e?(0,en.replaceMessageReferences)(e):e,n=Number(t);if(!isNaN(n)&&0<=n&&360>=n)return{hue:n,hex:(0,Jt.hsvToHex)(n,(0,Jt.getHsvSaturation)(),255*(0,Jt.getHsvValue)())};if(n=(0,Jt.parse)(t))return{hue:null,hex:n};throw n='Invalid colour: "'+t+'"',e!==t&&(n+=' (from "'+e+'")'),Error(n)};var nn={ConstantProvider:function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=(0,Qt.moveBy)(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_TEXT_BASELINE_CENTER=!f.IE&&!f.EDGE,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2),this.defs_=null,this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2}}};nn.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},nn.ConstantProvider.prototype.setTheme=function(e){this.blockStyles=Object.create(null);var t,n=e.blockStyles;for(t in n)this.blockStyles[t]=this.validatedBlockStyle_(n[t]);this.setDynamicProperties_(e)},nn.ConstantProvider.prototype.setDynamicProperties_=function(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=null!==e.startHats?e.startHats:this.ADD_START_HATS},nn.ConstantProvider.prototype.setFontConstants_=function(e){this.FIELD_TEXT_FONTFAMILY=e.fontStyle&&void 0!==e.fontStyle.family?e.fontStyle.family:this.FIELD_TEXT_FONTFAMILY,this.FIELD_TEXT_FONTWEIGHT=e.fontStyle&&void 0!==e.fontStyle.weight?e.fontStyle.weight:this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTSIZE=e.fontStyle&&void 0!==e.fontStyle.size?e.fontStyle.size:this.FIELD_TEXT_FONTSIZE,e=(0,M.measureFontMetrics)("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline},nn.ConstantProvider.prototype.setComponentConstants_=function(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY},nn.ConstantProvider.prototype.getBlockStyleForColour=function(e){var t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}},nn.ConstantProvider.prototype.getBlockStyle=function(e){return this.blockStyles[e||""]||(e&&0===e.indexOf("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))},nn.ConstantProvider.prototype.createBlockStyle_=function(e){return this.validatedBlockStyle_({colourPrimary:e})},nn.ConstantProvider.prototype.validatedBlockStyle_=function(t){var n={};return t&&(0,e.module$exports$Blockly$utils$object.mixin)(n,t),t=(0,en.parseBlockColour)(n.colourPrimary||"#000"),n.colourPrimary=t.hex,n.colourSecondary=n.colourSecondary?(0,en.parseBlockColour)(n.colourSecondary).hex:this.generateSecondaryColour_(n.colourPrimary),n.colourTertiary=n.colourTertiary?(0,en.parseBlockColour)(n.colourTertiary).hex:this.generateTertiaryColour_(n.colourPrimary),n.hat=n.hat||"",n},nn.ConstantProvider.prototype.generateSecondaryColour_=function(e){return(0,Jt.blend)("#fff",e,.6)||e},nn.ConstantProvider.prototype.generateTertiaryColour_=function(e){return(0,Jt.blend)("#fff",e,.3)||e},nn.ConstantProvider.prototype.dispose=function(){this.embossFilter_&&(0,M.removeNode)(this.embossFilter_),this.disabledPattern_&&(0,M.removeNode)(this.disabledPattern_),this.debugFilter_&&(0,M.removeNode)(this.debugFilter_),this.cssNode_=null},nn.ConstantProvider.prototype.makeJaggedTeeth=function(){var e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH;return{height:e,width:t,path:(0,Qt.line)([(0,Qt.point)(t,e/4),(0,Qt.point)(2*-t,e/2),(0,Qt.point)(t,e/4)])}},nn.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH;return{height:e,width:t,path:(0,Qt.curve)("c",[(0,Qt.point)(30,-e),(0,Qt.point)(70,-e),(0,Qt.point)(t,0)])}},nn.ConstantProvider.prototype.makePuzzleTab=function(){function e(e){var o=-(e=e?-1:1),i=n/2,r=i+2.5,s=i+.5,l=(0,Qt.point)(-t,e*i);return i=(0,Qt.point)(t,e*i),(0,Qt.curve)("c",[(0,Qt.point)(0,e*r),(0,Qt.point)(-t,o*s),l])+(0,Qt.curve)("s",[(0,Qt.point)(t,2.5*o),i])}var t=this.TAB_WIDTH,n=this.TAB_HEIGHT,o=e(!0),i=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:n,pathDown:i,pathUp:o}},nn.ConstantProvider.prototype.makeNotch=function(){function e(e){return(0,Qt.line)([(0,Qt.point)(e*o,n),(0,Qt.point)(3*e,0),(0,Qt.point)(e*o,-n)])}var t=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,o=(t-3)/2,i=e(1),r=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:n,pathLeft:i,pathRight:r}},nn.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS;return{width:e,height:e,pathTop:(0,Qt.arc)("a","0 0,0",e,(0,Qt.point)(-e,e)),pathBottom:(0,Qt.arc)("a","0 0,0",e,(0,Qt.point)(e,e))}},nn.ConstantProvider.prototype.makeOutsideCorners=function(){var e=this.CORNER_RADIUS,t=(0,Qt.moveBy)(0,e)+(0,Qt.arc)("a","0 0,1",e,(0,Qt.point)(e,-e)),n=(0,Qt.arc)("a","0 0,1",e,(0,Qt.point)(e,e)),o=(0,Qt.arc)("a","0 0,1",e,(0,Qt.point)(-e,-e));return{topLeft:t,topRight:n,bottomRight:(0,Qt.arc)("a","0 0,1",e,(0,Qt.point)(-e,e)),bottomLeft:o,rightHeight:e}},nn.ConstantProvider.prototype.shapeFor=function(t){switch(t.type){case e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE:case e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE:return this.PUZZLE_TAB;case e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT:case e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},nn.ConstantProvider.prototype.createDom=function(e,t,n){this.injectCSS_(t,n),this.defs_=(0,M.createSvgElement)(Ee.Svg.DEFS,{},e),e=(0,M.createSvgElement)(Ee.Svg.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs_),(0,M.createSvgElement)(Ee.Svg.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=(0,M.createSvgElement)(Ee.Svg.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),(0,M.createSvgElement)(Ee.Svg.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),(0,M.createSvgElement)(Ee.Svg.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),(0,M.createSvgElement)(Ee.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter_=e,e=(0,M.createSvgElement)(Ee.Svg.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs_),(0,M.createSvgElement)(Ee.Svg.RECT,{width:10,height:10,fill:"#aaa"},e),(0,M.createSvgElement)(Ee.Svg.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern_=e,this.createDebugFilter()},nn.ConstantProvider.prototype.createDebugFilter=function(){if(!this.debugFilter_){var e=(0,M.createSvgElement)(Ee.Svg.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs_),t=(0,M.createSvgElement)(Ee.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},e);(0,M.createSvgElement)(Ee.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),(0,M.createSvgElement)(Ee.Svg.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),(0,M.createSvgElement)(Ee.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter_=e}},nn.ConstantProvider.prototype.injectCSS_=function(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode_=document.getElementById(e);var n=t.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=n:((t=document.createElement("style")).id=e,e=document.createTextNode(n),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode_=t)},nn.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText, ",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect,",e+" .blocklyEditableText>rect {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","fill-opacity: .6;","stroke: none;","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text {","fill: #000;","}",e+" .blocklyFlyoutLabelText {","fill: #000;","}",e+" .blocklyText.blocklyBubbleText {","fill: #000;","}",e+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",e+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",e+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",e+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",e+" .blocklyReplaceable .blocklyPathLight,",e+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]};var on={register:function(e,t){(0,Z.register)(Z.Type.FIELD,e,t)},unregister:function(e){(0,Z.unregister)(Z.Type.FIELD,e)},fromJson:function(e){var t=(0,Z.getObject)(Z.Type.FIELD,e.type);return t?t.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)}},rn={MarkerManager:function(e){this.cursorSvg_=this.cursor_=null,this.markers_=Object.create(null),this.workspace_=e}};rn.MarkerManager.LOCAL_MARKER="local_marker_1",rn.MarkerManager.prototype.registerMarker=function(e,t){this.markers_[e]&&this.unregisterMarker(e),t.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers_[e]=t},rn.MarkerManager.prototype.unregisterMarker=function(e){var t=this.markers_[e];if(!t)throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.");t.dispose(),delete this.markers_[e]},rn.MarkerManager.prototype.getCursor=function(){return this.cursor_},rn.MarkerManager.prototype.getMarker=function(e){return this.markers_[e]||null},rn.MarkerManager.prototype.setCursor=function(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},rn.MarkerManager.prototype.setCursorSvg=function(e){e?(this.workspace_.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},rn.MarkerManager.prototype.setMarkerSvg=function(e){e?this.workspace_.getBlockCanvas()&&(this.cursorSvg_?this.workspace_.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace_.getBlockCanvas().appendChild(e)):this.markerSvg_=null},rn.MarkerManager.prototype.updateMarkers=function(){this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace_.getCursor().draw()},rn.MarkerManager.prototype.dispose=function(){for(var e,t=Object.keys(this.markers_),n=0;e=t[n];n++)this.unregisterMarker(e);this.markers_=null,this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)};var sn={BlockChange:function(e,t,n,o,i){sn.BlockChange.superClass_.constructor.call(this,e),e&&(this.element="undefined"===typeof t?"":t,this.name="undefined"===typeof n?"":n,this.oldValue="undefined"===typeof o?"":o,this.newValue="undefined"===typeof i?"":i)}};(0,e.module$exports$Blockly$utils$object.inherits)(sn.BlockChange,Dt.BlockBase),sn.BlockChange.prototype.type=oe.CHANGE,sn.BlockChange.prototype.toJson=function(){var e=sn.BlockChange.superClass_.toJson.call(this);return e.element=this.element,this.name&&(e.name=this.name),e.oldValue=this.oldValue,e.newValue=this.newValue,e},sn.BlockChange.prototype.fromJson=function(e){sn.BlockChange.superClass_.fromJson.call(this,e),this.element=e.element,this.name=e.name,this.oldValue=e.oldValue,this.newValue=e.newValue},sn.BlockChange.prototype.isNull=function(){return this.oldValue===this.newValue},sn.BlockChange.prototype.run=function(t){var n=this.getEventWorkspace_().getBlockById(this.blockId);if(n)switch(n.mutator&&n.mutator.setVisible(!1),t=t?this.newValue:this.oldValue,this.element){case"field":(n=n.getField(this.name))?n.setValue(t):console.warn("Can't set non-existent field: "+this.name);break;case"comment":n.setCommentText(t||null);break;case"collapsed":n.setCollapsed(!!t);break;case"disabled":n.setEnabled(!t);break;case"inline":n.setInputsInline(!!t);break;case"mutation":var o=sn.BlockChange.getExtraBlockState_(n);n.loadExtraState?n.loadExtraState(JSON.parse(t||"{}")):n.domToMutation&&n.domToMutation((0,e.module$exports$Blockly$Xml.textToDom)(t||"<mutation/>")),(0,oe.fire)(new sn.BlockChange(n,"mutation",null,o,t));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},sn.BlockChange.getExtraBlockState_=function(t){return t.saveExtraState?(t=t.saveExtraState())?JSON.stringify(t):"":t.mutationToDom&&(t=t.mutationToDom())?(0,e.module$exports$Blockly$Xml.domToText)(t):""},(0,Z.register)(Z.Type.EVENT,oe.CHANGE,sn.BlockChange);var ln={},an=0,cn=null;ln.disposeUiEffect=function(e){var t=e.workspace,n=e.getSvgRoot();t.getAudioManager().play("delete"),e=t.getSvgXY(n),(n=n.cloneNode(!0)).translateX_=e.x,n.translateY_=e.y,n.setAttribute("transform","translate("+e.x+","+e.y+")"),t.getParentSvg().appendChild(n),n.bBox_=n.getBBox(),un(n,t.RTL,new Date,t.scale)};var un=function e(t,n,o,i){var r=(new Date-o)/150;1<r?(0,M.removeNode)(t):(t.setAttribute("transform","translate("+(t.translateX_+(n?-1:1)*t.bBox_.width*i/2*r)+","+(t.translateY_+t.bBox_.height*i*r)+") scale("+(1-r)*i+")"),setTimeout(e,10,t,n,o,i))};ln.connectionUiEffect=function(e){var t=e.workspace,n=t.scale;if(t.getAudioManager().play("click"),!(1>n)){var o=t.getSvgXY(e.getSvgRoot());e.outputConnection?(o.x+=(e.RTL?3:-3)*n,o.y+=13*n):e.previousConnection&&(o.x+=(e.RTL?-23:23)*n,o.y+=3*n),e=(0,M.createSvgElement)(Ee.Svg.CIRCLE,{cx:o.x,cy:o.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg()),pn(e,new Date,n)}};var pn=function e(t,n,o){var i=(new Date-n)/150;1<i?(0,M.removeNode)(t):(t.setAttribute("r",25*i*o),t.style.opacity=1-i,an=setTimeout(e,10,t,n,o))};ln.disconnectUiEffect=function(e){if(e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),hn(e.getSvgRoot(),t,new Date)}};var hn=function e(t,n,o){var i=(new Date-o)/200;1<i?t.skew_="":(t.skew_="skewX("+Math.round(Math.sin(i*Math.PI*3)*(1-i)*n)+")",cn=t,an=setTimeout(e,10,t,n,o)),t.setAttribute("transform",t.translate_+t.skew_)};ln.disconnectUiStop=function(){if(cn){clearTimeout(an);var e=cn;e.skew_="",e.setAttribute("transform",e.translate_),cn=null}};var dn={ComponentManager:function(){this.componentData_=Object.create(null),this.capabilityToComponentIds_=Object.create(null)}};dn.ComponentManager.prototype.addComponent=function(e,t){var n=e.component.id;if(!t&&this.componentData_[n])throw Error('Plugin "'+n+'" with capabilities "'+this.componentData_[n].capabilities+'" already added.');this.componentData_[n]=e,t=[];for(var o=0;o<e.capabilities.length;o++){var i=String(e.capabilities[o]).toLowerCase();t.push(i),void 0===this.capabilityToComponentIds_[i]?this.capabilityToComponentIds_[i]=[n]:this.capabilityToComponentIds_[i].push(n)}this.componentData_[n].capabilities=t},dn.ComponentManager.prototype.removeComponent=function(e){var t=this.componentData_[e];if(t){for(var n=0;n<t.capabilities.length;n++){var o=String(t.capabilities[n]).toLowerCase();Vt(this.capabilityToComponentIds_[o],e)}delete this.componentData_[e]}},dn.ComponentManager.prototype.addCapability=function(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?console.warn('Plugin "'+e+'already has capability "'+t+'"'):(t=String(t).toLowerCase(),this.componentData_[e].capabilities.push(t),this.capabilityToComponentIds_[t].push(e))},dn.ComponentManager.prototype.removeCapability=function(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=String(t).toLowerCase(),Vt(this.componentData_[e].capabilities,t),Vt(this.capabilityToComponentIds_[t],e)):console.warn('Plugin "'+e+"doesn't have capability \""+t+'" to remove')},dn.ComponentManager.prototype.hasCapability=function(e,t){return t=String(t).toLowerCase(),-1!==this.componentData_[e].capabilities.indexOf(t)},dn.ComponentManager.prototype.getComponent=function(e){return this.componentData_[e]&&this.componentData_[e].component},dn.ComponentManager.prototype.getComponents=function(e,t){if(e=String(e).toLowerCase(),!(e=this.capabilityToComponentIds_[e]))return[];var n=[];if(t){var o=[],i=this.componentData_;e.forEach((function(e){o.push(i[e])})),o.sort((function(e,t){return e.weight-t.weight})),o.forEach((function(e){n.push(e.component)}))}else{var r=this.componentData_;e.forEach((function(e){n.push(r[e].component)}))}return n},dn.ComponentManager.Capability=function(e){this.name_=e},dn.ComponentManager.Capability.prototype.toString=function(){return this.name_},dn.ComponentManager.Capability.POSITIONABLE=new dn.ComponentManager.Capability("positionable"),dn.ComponentManager.Capability.DRAG_TARGET=new dn.ComponentManager.Capability("drag_target"),dn.ComponentManager.Capability.DELETE_AREA=new dn.ComponentManager.Capability("delete_area"),dn.ComponentManager.Capability.AUTOHIDEABLE=new dn.ComponentManager.Capability("autohideable");var fn={},gn=function(e,t){window.alert(e),t&&t()},_n=function(e,t){t(window.confirm(e))},mn=function(e,t,n){n(window.prompt(e,t))};fn.alert=function(e,t){gn(e,t)},fn.setAlert=function(e){gn=e},fn.confirm=function(e,t){_n(e,t)},fn.setConfirm=function(e){_n=e},fn.prompt=function(e,t,n){mn(e,t,n)},fn.setPrompt=function(e){mn=e};var yn={VarBase:function(e){yn.VarBase.superClass_.constructor.call(this),this.varId=(this.isBlank="undefined"===typeof e)?"":e.getId(),this.workspaceId=this.isBlank?"":e.workspace.id}};(0,e.module$exports$Blockly$utils$object.inherits)(yn.VarBase,Nt),yn.VarBase.prototype.toJson=function(){var e=yn.VarBase.superClass_.toJson.call(this);return e.varId=this.varId,e},yn.VarBase.prototype.fromJson=function(e){yn.VarBase.superClass_.toJson.call(this),this.varId=e.varId};var vn={VarCreate:function(e){vn.VarCreate.superClass_.constructor.call(this,e),e&&(this.varType=e.type,this.varName=e.name)}};(0,e.module$exports$Blockly$utils$object.inherits)(vn.VarCreate,yn.VarBase),vn.VarCreate.prototype.type=oe.VAR_CREATE,vn.VarCreate.prototype.toJson=function(){var e=vn.VarCreate.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},vn.VarCreate.prototype.fromJson=function(e){vn.VarCreate.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},vn.VarCreate.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)},(0,Z.register)(Z.Type.EVENT,oe.VAR_CREATE,vn.VarCreate);var Tn,En={VariableModel:function(e,t,n,o){this.workspace=e,this.name=t,this.type=n||"",this.id_=o||(0,K.genUid)(),(0,oe.fire)(new((0,oe.get)(oe.VAR_CREATE))(this))}};En.VariableModel.prototype.getId=function(){return this.id_},En.VariableModel.compareByName=function(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})},e.module$exports$Blockly$Variables={CATEGORY_NAME:"VARIABLE",allUsedVarModels:function(e){var t=e.getAllBlocks(!1);e=Object.create(null);for(var n=0;n<t.length;n++){var o=t[n].getVarModels();if(o)for(var i=0;i<o.length;i++){var r=o[i],s=r.getId();s&&(e[s]=r)}}for(var l in t=[],e)t.push(e[l]);return t}},Tn={},e.module$exports$Blockly$Variables.allDeveloperVariables=function(e){e=e.getAllBlocks(!1);for(var t,n=Object.create(null),o=0;t=e[o];o++){var i=t.getDeveloperVariables;if(!i&&t.getDeveloperVars&&(i=t.getDeveloperVars,Tn[t.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+t.type+"')"),Tn[t.type]=!0)),i)for(t=i(),i=0;i<t.length;i++)n[t[i]]=!0}return Object.keys(n)},e.module$exports$Blockly$Variables.flyoutCategory=function(t){var n=[],o=document.createElement("button");return o.setAttribute("text","%{BKY_NEW_VARIABLE}"),o.setAttribute("callbackKey","CREATE_VARIABLE"),t.registerButtonCallback("CREATE_VARIABLE",(function(t){(0,e.module$exports$Blockly$Variables.createVariableButtonHandler)(t.getTargetWorkspace())})),n.push(o),t=(0,e.module$exports$Blockly$Variables.flyoutCategoryBlocks)(t),n.concat(t)},e.module$exports$Blockly$Variables.flyoutCategoryBlocks=function(t){var n=[];if(0<(t=t.getVariablesOfType("")).length){var o=t[t.length-1];if(e.module$exports$Blockly$blocks.Blocks.variables_set){var i=(0,e.module$exports$Blockly$utils$xml.createElement)("block");i.setAttribute("type","variables_set"),i.setAttribute("gap",e.module$exports$Blockly$blocks.Blocks.math_change?8:24),i.appendChild((0,e.module$exports$Blockly$Variables.generateVariableFieldDom)(o)),n.push(i)}if(e.module$exports$Blockly$blocks.Blocks.math_change&&((i=(0,e.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type","math_change"),i.setAttribute("gap",e.module$exports$Blockly$blocks.Blocks.variables_get?20:8),i.appendChild((0,e.module$exports$Blockly$Variables.generateVariableFieldDom)(o)),o=(0,e.module$exports$Blockly$Xml.textToDom)('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),i.appendChild(o),n.push(i)),e.module$exports$Blockly$blocks.Blocks.variables_get)for(t.sort(En.VariableModel.compareByName),o=0;i=t[o];o++){var r=(0,e.module$exports$Blockly$utils$xml.createElement)("block");r.setAttribute("type","variables_get"),r.setAttribute("gap",8),r.appendChild((0,e.module$exports$Blockly$Variables.generateVariableFieldDom)(i)),n.push(r)}}return n},e.module$exports$Blockly$Variables.VAR_LETTER_OPTIONS="ijkmnopqrstuvwxyzabcdefgh",e.module$exports$Blockly$Variables.generateUniqueName=function(t){return(0,e.module$exports$Blockly$Variables.generateUniqueNameFromOptions)(e.module$exports$Blockly$Variables.VAR_LETTER_OPTIONS.charAt(0),t.getAllVariableNames())},e.module$exports$Blockly$Variables.generateUniqueNameFromOptions=function(t,n){if(!n.length)return t;for(var o=e.module$exports$Blockly$Variables.VAR_LETTER_OPTIONS,i="",r=o.indexOf(t);;){for(var s=!1,l=0;l<n.length;l++)if(n[l].toLowerCase()===t){s=!0;break}if(!s)return t;++r===o.length&&(r=0,i=Number(i)+1),t=o.charAt(r)+i}},e.module$exports$Blockly$Variables.createVariableButtonHandler=function(t,n,o){var i=o||"";!function o(r){(0,e.module$exports$Blockly$Variables.promptName)(e.module$exports$Blockly$Msg.Msg.NEW_VARIABLE_TITLE,r,(function(r){if(r){var s=(0,e.module$exports$Blockly$Variables.nameUsedWithAnyType)(r,t);if(s){if(s.type===i)var l=e.module$exports$Blockly$Msg.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",s.name);else l=(l=e.module$exports$Blockly$Msg.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",s.name).replace("%2",s.type);(0,fn.alert)(l,(function(){o(r)}))}else t.createVariable(r,i),n&&n(r)}else n&&n(null)}))}("")},e.module$exports$Blockly$Variables.renameVariable=function(t,n,o){!function i(r){var s=e.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE_TITLE.replace("%1",n.name);(0,e.module$exports$Blockly$Variables.promptName)(s,r,(function(r){if(r){var s=kn(r,n.type,t);s?(s=e.module$exports$Blockly$Msg.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",s.name).replace("%2",s.type),(0,fn.alert)(s,(function(){i(r)}))):(t.renameVariableById(n.getId(),r),o&&o(r))}else o&&o(null)}))}("")},e.module$exports$Blockly$Variables.promptName=function(t,n,o){(0,fn.prompt)(t,n,(function(t){t&&((t=t.replace(/[\s\xa0]+/g," ").trim())===e.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE||t===e.module$exports$Blockly$Msg.Msg.NEW_VARIABLE)&&(t=null),o(t)}))};var kn=function(e,t,n){n=n.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var o,i=0;o=n[i];i++)if(o.name.toLowerCase()===e&&o.type!==t)return o;return null};e.module$exports$Blockly$Variables.nameUsedWithAnyType=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var n,o=0;n=t[o];o++)if(n.name.toLowerCase()===e)return n;return null},e.module$exports$Blockly$Variables.generateVariableFieldDom=function(t){var n=(0,e.module$exports$Blockly$utils$xml.createElement)("field");return n.setAttribute("name","VAR"),n.setAttribute("id",t.getId()),n.setAttribute("variabletype",t.type),t=(0,e.module$exports$Blockly$utils$xml.createTextNode)(t.name),n.appendChild(t),n},e.module$exports$Blockly$Variables.getOrCreateVariablePackage=function(t,n,o,i){var r=(0,e.module$exports$Blockly$Variables.getVariable)(t,n,o,i);return r||(r=bn(t,n,o,i)),r},e.module$exports$Blockly$Variables.getVariable=function(e,t,n,o){var i=e.getPotentialVariableMap(),r=null;if(t&&(!(r=e.getVariableById(t))&&i&&(r=i.getVariableById(t)),r))return r;if(n){if(void 0===o)throw Error("Tried to look up a variable by name without a type");!(r=e.getVariable(n,o))&&i&&(r=i.getVariable(n,o))}return r};var bn=function(t,n,o,i){var r=t.getPotentialVariableMap();return o||(o=e.module$exports$Blockly$Variables.generateUniqueName(t.isFlyout?t.targetWorkspace:t)),r?r.createVariable(o,i,n):t.createVariable(o,i,n)};e.module$exports$Blockly$Variables.getAddedVariables=function(e,t){e=e.getAllVariables();var n=[];if(t.length!==e.length)for(var o=0;o<e.length;o++){var i=e[o];-1===t.indexOf(i)&&n.push(i)}return n},e.module$exports$Blockly$Names={Names:function(e,t){if(this.variablePrefix_=t||"",this.reservedDict_=Object.create(null),e)for(e=e.split(","),t=0;t<e.length;t++)this.reservedDict_[e[t]]=!0;this.reset()},NameType:{DEVELOPER_VARIABLE:"DEVELOPER_VARIABLE",VARIABLE:"VARIABLE",PROCEDURE:"PROCEDURE"}},e.module$exports$Blockly$Names.Names.DEVELOPER_VARIABLE_TYPE=e.module$exports$Blockly$Names.NameType.DEVELOPER_VARIABLE,e.module$exports$Blockly$Names.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},e.module$exports$Blockly$Names.Names.prototype.setVariableMap=function(e){this.variableMap_=e},e.module$exports$Blockly$Names.Names.prototype.getNameForUserVariable_=function(e){return this.variableMap_?(e=this.variableMap_.getVariableById(e))?e.name:null:(console.warn("Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null)},e.module$exports$Blockly$Names.Names.prototype.populateVariables=function(t){t=(0,e.module$exports$Blockly$Variables.allUsedVarModels)(t);for(var n=0;n<t.length;n++)this.getName(t[n].getId(),e.module$exports$Blockly$Names.NameType.VARIABLE)},e.module$exports$Blockly$Names.Names.prototype.populateProcedures=function(t){t=(t=e.module$exports$Blockly$Procedures.allProcedures(t))[0].concat(t[1]);for(var n=0;n<t.length;n++)this.getName(t[n][0],e.module$exports$Blockly$Names.NameType.PROCEDURE)},e.module$exports$Blockly$Names.Names.prototype.getName=function(t,n){var o=t;n===e.module$exports$Blockly$Names.NameType.VARIABLE&&(t=this.getNameForUserVariable_(t))&&(o=t),t=o.toLowerCase();var i=n===e.module$exports$Blockly$Names.NameType.VARIABLE||n===e.module$exports$Blockly$Names.NameType.DEVELOPER_VARIABLE?this.variablePrefix_:"";n in this.db_||(this.db_[n]=Object.create(null));var r=this.db_[n];return t in r?i+r[t]:(n=this.getDistinctName(o,n),r[t]=n.substr(i.length),n)},e.module$exports$Blockly$Names.Names.prototype.getUserNames=function(e){return Object.keys(this.db_[e]||{})},e.module$exports$Blockly$Names.Names.prototype.getDistinctName=function(t,n){t=this.safeName_(t);for(var o="";this.dbReverse_[t+o]||t+o in this.reservedDict_;)o=o?o+1:2;return t+=o,this.dbReverse_[t]=!0,(n===e.module$exports$Blockly$Names.NameType.VARIABLE||n===e.module$exports$Blockly$Names.NameType.DEVELOPER_VARIABLE?this.variablePrefix_:"")+t},e.module$exports$Blockly$Names.Names.prototype.safeName_=function(t){return t?(t=encodeURI(t.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!=="0123456789".indexOf(t[0])&&(t="my_"+t)):t=e.module$exports$Blockly$Msg.Msg.UNNAMED_KEY||"unnamed",t},e.module$exports$Blockly$Names.Names.equals=function(e,t){return e.toLowerCase()===t.toLowerCase()};var Cn={VarDelete:function(e){Cn.VarDelete.superClass_.constructor.call(this,e),e&&(this.varType=e.type,this.varName=e.name)}};(0,e.module$exports$Blockly$utils$object.inherits)(Cn.VarDelete,yn.VarBase),Cn.VarDelete.prototype.type=oe.VAR_DELETE,Cn.VarDelete.prototype.toJson=function(){var e=Cn.VarDelete.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},Cn.VarDelete.prototype.fromJson=function(e){Cn.VarDelete.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},Cn.VarDelete.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)},(0,Z.register)(Z.Type.EVENT,oe.VAR_DELETE,Cn.VarDelete);var Sn={VarRename:function(e,t){Sn.VarRename.superClass_.constructor.call(this,e),e&&(this.oldName=e.name,this.newName="undefined"===typeof t?"":t)}};(0,e.module$exports$Blockly$utils$object.inherits)(Sn.VarRename,yn.VarBase),Sn.VarRename.prototype.type=oe.VAR_RENAME,Sn.VarRename.prototype.toJson=function(){var e=Sn.VarRename.superClass_.toJson.call(this);return e.oldName=this.oldName,e.newName=this.newName,e},Sn.VarRename.prototype.fromJson=function(e){Sn.VarRename.superClass_.fromJson.call(this,e),this.oldName=e.oldName,this.newName=e.newName},Sn.VarRename.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)},(0,Z.register)(Z.Type.EVENT,oe.VAR_RENAME,Sn.VarRename);var In={VariableMap:function(e){this.variableMap_=Object.create(null),this.workspace=e}};In.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},In.VariableMap.prototype.renameVariable=function(e,t){var n=this.getVariable(t,e.type),o=this.workspace.getAllBlocks(!1);(0,oe.setGroup)(!0);try{n&&n.getId()!==e.getId()?this.renameVariableWithConflict_(e,t,n,o):this.renameVariableAndUses_(e,t,o)}finally{(0,oe.setGroup)(!1)}},In.VariableMap.prototype.renameVariableById=function(e,t){var n=this.getVariableById(e);if(!n)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(n,t)},In.VariableMap.prototype.renameVariableAndUses_=function(e,t,n){for((0,oe.fire)(new((0,oe.get)(oe.VAR_RENAME))(e,t)),e.name=t,t=0;t<n.length;t++)n[t].updateVarName(e)},In.VariableMap.prototype.renameVariableWithConflict_=function(e,t,n,o){var i=e.type;for(t!==n.name&&this.renameVariableAndUses_(n,t,o),t=0;t<o.length;t++)o[t].renameVarById(e.getId(),n.getId());(0,oe.fire)(new((0,oe.get)(oe.VAR_DELETE))(e)),Vt(this.variableMap_[i],e)},In.VariableMap.prototype.createVariable=function(e,t,n){var o=this.getVariable(e,t);if(o){if(n&&o.getId()!==n)throw Error('Variable "'+e+'" is already in use and its id is "'+o.getId()+'" which conflicts with the passed in id, "'+n+'".');return o}if(n&&this.getVariableById(n))throw Error('Variable id, "'+n+'", is already in use.');return o=n||(0,K.genUid)(),t=t||"",o=new En.VariableModel(this.workspace,e,t,o),(e=this.variableMap_[t]||[]).push(o),delete this.variableMap_[t],this.variableMap_[t]=e,o},In.VariableMap.prototype.deleteVariable=function(e){for(var t=e.getId(),n=this.variableMap_[e.type],o=0;o<n.length;o++)if(n[o].getId()===t){n.splice(o,1),(0,oe.fire)(new((0,oe.get)(oe.VAR_DELETE))(e));break}},In.VariableMap.prototype.deleteVariableById=function(t){var n=this.getVariableById(t);if(n){var o=n.name,i=this.getVariableUsesById(t);t=0;for(var r=void 0;r=i[t];t++)if("procedures_defnoreturn"===r.type||"procedures_defreturn"===r.type)return t=String(r.getFieldValue("NAME")),o=e.module$exports$Blockly$Msg.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",o).replace("%2",t),void(0,fn.alert)(o);var s=this;1<i.length?(o=e.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(i.length)).replace("%2",o),(0,fn.confirm)(o,(function(e){e&&n&&s.deleteVariableInternal(n,i)}))):s.deleteVariableInternal(n,i)}else console.warn("Can't delete non-existent variable: "+t)},In.VariableMap.prototype.deleteVariableInternal=function(e,t){var n=(0,oe.getGroup)();n||(0,oe.setGroup)(!0);try{for(var o=0;o<t.length;o++)t[o].dispose(!0);this.deleteVariable(e)}finally{n||(0,oe.setGroup)(!1)}},In.VariableMap.prototype.getVariable=function(t,n){if(n=this.variableMap_[n||""])for(var o,i=0;o=n[i];i++)if(e.module$exports$Blockly$Names.Names.equals(o.name,t))return o;return null},In.VariableMap.prototype.getVariableById=function(e){for(var t=Object.keys(this.variableMap_),n=0;n<t.length;n++)for(var o,i=t[n],r=0;o=this.variableMap_[i][r];r++)if(o.getId()===e)return o;return null},In.VariableMap.prototype.getVariablesOfType=function(e){return(e=this.variableMap_[e||""])?e.slice():[]},In.VariableMap.prototype.getVariableTypes=function(t){var n={};(0,e.module$exports$Blockly$utils$object.mixin)(n,this.variableMap_),t&&t.getPotentialVariableMap()&&(0,e.module$exports$Blockly$utils$object.mixin)(n,t.getPotentialVariableMap().variableMap_),t=Object.keys(n),n=!1;for(var o=0;o<t.length;o++)""===t[o]&&(n=!0);return n||t.push(""),t},In.VariableMap.prototype.getAllVariables=function(){var e,t=[];for(e in this.variableMap_)t=t.concat(this.variableMap_[e]);return t},In.VariableMap.prototype.getAllVariableNames=function(){var e,t=[];for(e in this.variableMap_)for(var n,o=this.variableMap_[e],i=0;n=o[i];i++)t.push(n.name);return t},In.VariableMap.prototype.getVariableUsesById=function(e){for(var t=[],n=this.workspace.getAllBlocks(!1),o=0;o<n.length;o++){var i=n[o].getVarModels();if(i)for(var r=0;r<i.length;r++)i[r].getId()===e&&t.push(n[o])}return t};var Rn={BlockMove:function(e){Rn.BlockMove.superClass_.constructor.call(this,e),e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}};(0,e.module$exports$Blockly$utils$object.inherits)(Rn.BlockMove,Dt.BlockBase),Rn.BlockMove.prototype.type=oe.MOVE,Rn.BlockMove.prototype.toJson=function(){var e=Rn.BlockMove.superClass_.toJson.call(this);return this.newParentId&&(e.newParentId=this.newParentId),this.newInputName&&(e.newInputName=this.newInputName),this.newCoordinate&&(e.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),this.recordUndo||(e.recordUndo=this.recordUndo),e},Rn.BlockMove.prototype.fromJson=function(e){if(Rn.BlockMove.superClass_.fromJson.call(this,e),this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate){var t=e.newCoordinate.split(",");this.newCoordinate=new he.Coordinate(Number(t[0]),Number(t[1]))}void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},Rn.BlockMove.prototype.recordNew=function(){var e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate},Rn.BlockMove.prototype.currentLocation_=function(){var e=this.getEventWorkspace_().getBlockById(this.blockId),t={},n=e.getParent();return n?(t.parentId=n.id,(e=n.getInputWithBlock(e))&&(t.inputName=e.name)):t.coordinate=e.getRelativeToSurfaceXY(),t},Rn.BlockMove.prototype.isNull=function(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&he.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},Rn.BlockMove.prototype.run=function(t){var n=this.getEventWorkspace_(),o=n.getBlockById(this.blockId);if(o){var i=t?this.newParentId:this.oldParentId,r=t?this.newInputName:this.oldInputName;if(t=t?this.newCoordinate:this.oldCoordinate,i){var s=n.getBlockById(i);if(!s)return void console.warn("Can't connect to non-existent block: "+i)}if(o.getParent()&&o.unplug(),t)r=o.getRelativeToSurfaceXY(),o.moveBy(t.x-r.x,t.y-r.y);else{if((!(n=o.outputConnection)||o.previousConnection&&o.previousConnection.isConnected())&&(n=o.previousConnection),o=n.type,r){if(o=s.getInput(r))var l=o.connection}else o===e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT&&(l=s.nextConnection);l?n.connect(l):console.warn("Can't connect to non-existent input: "+r)}}else console.warn("Can't move non-existent block: "+this.blockId)},(0,Z.register)(Z.Type.EVENT,oe.MOVE,Rn.BlockMove);var On={COLLAPSED_INPUT_NAME:"_TEMP_COLLAPSED_INPUT",COLLAPSED_FIELD_NAME:"_TEMP_COLLAPSED_FIELD"},wn={Connection:function(e,t){this.sourceBlock_=e,this.type=t}};wn.Connection.CAN_CONNECT=0,wn.Connection.REASON_SELF_CONNECTION=1,wn.Connection.REASON_WRONG_TYPE=2,wn.Connection.REASON_TARGET_NULL=3,wn.Connection.REASON_CHECKS_FAILED=4,wn.Connection.REASON_DIFFERENT_WORKSPACES=5,wn.Connection.REASON_SHADOW_PARENT=6,wn.Connection.REASON_DRAG_CHECKS_FAILED=7,wn.Connection.REASON_PREVIOUS_AND_OUTPUT=8,wn.Connection.prototype.targetConnection=null,wn.Connection.prototype.disposed=!1,wn.Connection.prototype.check_=null,wn.Connection.prototype.shadowDom_=null,wn.Connection.prototype.x=0,wn.Connection.prototype.y=0,wn.Connection.prototype.connect_=function(t){var n,o=e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,i=this.getSourceBlock(),r=t.getSourceBlock();if(t.isConnected()&&t.disconnect(),this.isConnected()){var s=this.stashShadowState_(),l=this.targetBlock();if(l.isShadow())l.dispose(!1);else{this.disconnect();var a=l}this.applyShadowState_(s)}(0,oe.isEnabled)()&&(n=new((0,oe.get)(oe.MOVE))(r)),Bn(this,t),r.setParent(i),n&&(n.recordNew(),(0,oe.fire)(n)),a&&(t=this.type===o?a.outputConnection:a.previousConnection,(r=wn.Connection.getConnectionForOrphanedConnection(r,t))?t.connect(r):t.onFailedConnect(this))},wn.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowStateInternal_();var e=this.targetBlock();e&&e.unplug()}this.disposed=!0},wn.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},wn.Connection.prototype.isSuperior=function(){return this.type===e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE||this.type===e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT},wn.Connection.prototype.isConnected=function(){return!!this.targetConnection},wn.Connection.prototype.getConnectionChecker=function(){return this.sourceBlock_.workspace.connectionChecker},wn.Connection.prototype.onFailedConnect=function(e){},wn.Connection.prototype.connect=function(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){var t=(0,oe.getGroup)();t||(0,oe.setGroup)(!0),this.isSuperior()?this.connect_(e):e.connect_(this),t||(0,oe.setGroup)(!1)}return this.isConnected()};var Bn=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},An=function(e,t){for(var n,o=null,i=(t=t.outputConnection).getConnectionChecker(),r=0;n=e.inputList[r];r++)if((n=n.connection)&&i.canConnect(t,n,!1)){if(o)return null;o=n}return o};wn.Connection.getConnectionForOrphanedConnection=function(t,n){if(n.type===e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE)return function(e,t){for(var n;n=An(e,t);)if(!(e=n.targetBlock())||e.isShadow())return n;return null}(t,n.getSourceBlock());t=t.lastConnectionInStack(!0);var o=n.getConnectionChecker();return t&&o.canConnect(n,t,!1)?t:null},wn.Connection.prototype.disconnect=function(){var e=this.targetConnection;if(!e)throw Error("Source connection not connected.");if(e.targetConnection!==this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var t=this.sourceBlock_,n=e.getSourceBlock();e=this}else t=e.getSourceBlock(),n=this.sourceBlock_;var o=(0,oe.getGroup)();o||(0,oe.setGroup)(!0),this.disconnectInternal_(t,n),n.isShadow()||e.respawnShadow_(),o||(0,oe.setGroup)(!1)},wn.Connection.prototype.disconnectInternal_=function(e,t){var n;(0,oe.isEnabled)()&&(n=new((0,oe.get)(oe.MOVE))(t)),this.targetConnection=this.targetConnection.targetConnection=null,t.setParent(null),n&&(n.recordNew(),(0,oe.fire)(n))},wn.Connection.prototype.respawnShadow_=function(){this.createShadowBlock_(!0)},wn.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},wn.Connection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},wn.Connection.prototype.setCheck=function(e){return e?(Array.isArray(e)||(e=[e]),this.check_=e,this.onCheckChanged_()):this.check_=null,this},wn.Connection.prototype.getCheck=function(){return this.check_},wn.Connection.prototype.setShadowDom=function(e){this.setShadowStateInternal_({shadowDom:e})},wn.Connection.prototype.getShadowDom=function(t){return t&&this.targetBlock().isShadow()?(0,e.module$exports$Blockly$Xml.blockToDom)(this.targetBlock()):this.shadowDom_},wn.Connection.prototype.setShadowState=function(e){this.setShadowStateInternal_({shadowState:e})},wn.Connection.prototype.getShadowState=function(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?(0,pt.save)(this.targetBlock()):this.shadowState_},wn.Connection.prototype.neighbours=function(e){return[]},wn.Connection.prototype.getParentInput=function(){for(var e=null,t=this.sourceBlock_.inputList,n=0;n<t.length;n++)if(t[n].connection===this){e=t[n];break}return e},wn.Connection.prototype.toString=function(){var e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(var n,o=0;n=e.inputList[o];o++)if(n.connection===this){t=n;break}if(!t)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";t='Input "'+t.name+'" connection on '}return t+e.toDevString()},wn.Connection.prototype.stashShadowState_=function(){var e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState_=this.shadowDom_=null,{shadowDom:e,shadowState:t}},wn.Connection.prototype.applyShadowState_=function(e){var t=e.shadowState;this.shadowDom_=e.shadowDom,this.shadowState_=t},wn.Connection.prototype.setShadowStateInternal_=function(e){var t=void 0===(e=void 0===e?{}:e).shadowState?null:e.shadowState;this.shadowDom_=void 0===e.shadowDom?null:e.shadowDom,this.shadowState_=t,(e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow_(this.targetBlock())):(e=this.createShadowBlock_(!1),this.serializeShadow_(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow_(this.targetBlock()))},wn.Connection.prototype.createShadowBlock_=function(t){var n=this.getSourceBlock(),o=this.getShadowState(),i=this.getShadowDom();if(!n.workspace||!o&&!i)return null;if(o)return(0,pt.appendInternal)(o,n.workspace,{parentConnection:t?this:void 0,isShadow:!0,recordUndo:!1});if(i){if(n=(0,e.module$exports$Blockly$Xml.domToBlock)(i,n.workspace),t)if(this.type===e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE){if(!n.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(n.outputConnection))throw Error("Could not connect shadow block to connection")}else{if(this.type!==e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT)throw Error("Cannot connect a shadow block to a previous/output connection");if(!n.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(n.previousConnection))throw Error("Could not connect shadow block to connection")}return n}return null},wn.Connection.prototype.serializeShadow_=function(t){t&&(this.shadowDom_=(0,e.module$exports$Blockly$Xml.blockToDom)(t),this.shadowState_=(0,pt.save)(t))};var xn={ConnectionChecker:function(){}};xn.ConnectionChecker.prototype.canConnect=function(e,t,n,o){return this.canConnectWithReason(e,t,n,o)===wn.Connection.CAN_CONNECT},xn.ConnectionChecker.prototype.canConnectWithReason=function(e,t,n,o){var i=this.doSafetyChecks(e,t);return i!==wn.Connection.CAN_CONNECT?i:this.doTypeChecks(e,t)?n&&!this.doDragChecks(e,t,o||0)?wn.Connection.REASON_DRAG_CHECKS_FAILED:wn.Connection.CAN_CONNECT:wn.Connection.REASON_CHECKS_FAILED},xn.ConnectionChecker.prototype.getErrorMessage=function(e,t,n){switch(e){case wn.Connection.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case wn.Connection.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case wn.Connection.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case wn.Connection.REASON_TARGET_NULL:return"Target connection is null.";case wn.Connection.REASON_CHECKS_FAILED:return"Connection checks failed. "+t+" expected "+t.getCheck()+", found "+n.getCheck();case wn.Connection.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case wn.Connection.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case wn.Connection.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}},xn.ConnectionChecker.prototype.doSafetyChecks=function(t,n){if(!t||!n)return wn.Connection.REASON_TARGET_NULL;if(t.isSuperior())var o=t.getSourceBlock(),i=n.getSourceBlock(),r=n;else i=t.getSourceBlock(),o=n.getSourceBlock(),r=t,t=n;return o===i?wn.Connection.REASON_SELF_CONNECTION:r.type!==e.module$exports$Blockly$internalConstants.OPPOSITE_TYPE[t.type]?wn.Connection.REASON_WRONG_TYPE:o.workspace!==i.workspace?wn.Connection.REASON_DIFFERENT_WORKSPACES:o.isShadow()&&!i.isShadow()?wn.Connection.REASON_SHADOW_PARENT:r.type===e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE&&i.previousConnection&&i.previousConnection.isConnected()||r.type===e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT&&i.outputConnection&&i.outputConnection.isConnected()?wn.Connection.REASON_PREVIOUS_AND_OUTPUT:wn.Connection.CAN_CONNECT},xn.ConnectionChecker.prototype.doTypeChecks=function(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1},xn.ConnectionChecker.prototype.doDragChecks=function(t,n,o){if(t.distanceFrom(n)>o||n.getSourceBlock().isInsertionMarker())return!1;switch(n.type){case e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(t,n);case e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isInsertionMarker()||t.isConnected())return!1;break;case e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isMovable()&&!n.targetBlock().isShadow())return!1;break;case e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT:if(n.isConnected()&&!t.getSourceBlock().nextConnection&&!n.targetBlock().isShadow()&&n.targetBlock().nextConnection)return!1;break;default:return!1}return-1===e.module$exports$Blockly$common.draggingConnections.indexOf(n)},xn.ConnectionChecker.prototype.canConnectToPrevious_=function(t,n){return!t.targetConnection&&-1===e.module$exports$Blockly$common.draggingConnections.indexOf(n)&&(!n.targetConnection||!!(t=n.targetBlock()).isInsertionMarker()&&!t.getPreviousBlock())},(0,Z.register)(Z.Type.CONNECTION_CHECKER,Z.DEFAULT,xn.ConnectionChecker);var Nn={},Dn=Object.create(null);Nn.Workspace=function(e){this.id=(0,K.genUid)(),Dn[this.id]=this,this.options=e||new qe.Options({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new((0,Z.getClassFromOptions)(Z.Type.CONNECTION_CHECKER,this.options,!0))(this),this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new In.VariableMap(this),this.potentialVariableMap_=null},Nn.Workspace.prototype.rendered=!1,Nn.Workspace.prototype.isClearing=!1,Nn.Workspace.prototype.MAX_UNDO=1024,Nn.Workspace.prototype.connectionDBList=null,Nn.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete Dn[this.id]},Nn.Workspace.SCAN_ANGLE=3,Nn.Workspace.prototype.sortObjects_=function(e,t){return e=e.getRelativeToSurfaceXY(),t=t.getRelativeToSurfaceXY(),e.y+Nn.Workspace.prototype.sortObjects_.offset*e.x-(t.y+Nn.Workspace.prototype.sortObjects_.offset*t.x)},Nn.Workspace.prototype.addTopBlock=function(e){this.topBlocks_.push(e)},Nn.Workspace.prototype.removeTopBlock=function(e){if(!Vt(this.topBlocks_,e))throw Error("Block not present in workspace's list of top-most blocks.")},Nn.Workspace.prototype.getTopBlocks=function(e){var t=[].concat(this.topBlocks_);return e&&1<t.length&&(this.sortObjects_.offset=Math.sin((0,ce.toRadians)(Nn.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),t.sort(this.sortObjects_)),t},Nn.Workspace.prototype.addTypedBlock=function(e){this.typedBlocksDB_[e.type]||(this.typedBlocksDB_[e.type]=[]),this.typedBlocksDB_[e.type].push(e)},Nn.Workspace.prototype.removeTypedBlock=function(e){Vt(this.typedBlocksDB_[e.type],e),this.typedBlocksDB_[e.type].length||delete this.typedBlocksDB_[e.type]},Nn.Workspace.prototype.getBlocksByType=function(e,t){return this.typedBlocksDB_[e]?(e=this.typedBlocksDB_[e].slice(0),t&&1<e.length&&(this.sortObjects_.offset=Math.sin((0,ce.toRadians)(Nn.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),e.sort(this.sortObjects_)),e.filter((function(e){return!e.isInsertionMarker()}))):[]},Nn.Workspace.prototype.addTopComment=function(e){this.topComments_.push(e),this.commentDB_[e.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB_[e.id]=e},Nn.Workspace.prototype.removeTopComment=function(e){if(!Vt(this.topComments_,e))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[e.id]},Nn.Workspace.prototype.getTopComments=function(e){var t=[].concat(this.topComments_);return e&&1<t.length&&(this.sortObjects_.offset=Math.sin((0,ce.toRadians)(Nn.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),t.sort(this.sortObjects_)),t},Nn.Workspace.prototype.getAllBlocks=function(e){if(e){var t=this.getTopBlocks(!0);e=[];for(var n=0;n<t.length;n++)e.push.apply(e,t[n].getDescendants(!0))}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push.apply(e,e[t].getChildren(!1));return e.filter((function(e){return!e.isInsertionMarker()}))},Nn.Workspace.prototype.clear=function(){this.isClearing=!0;try{var e=(0,oe.getGroup)();for(e||(0,oe.setGroup)(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose(!1);for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose();e||(0,oe.setGroup)(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},Nn.Workspace.prototype.renameVariableById=function(e,t){this.variableMap_.renameVariableById(e,t)},Nn.Workspace.prototype.createVariable=function(e,t,n){return this.variableMap_.createVariable(e,t,n)},Nn.Workspace.prototype.getVariableUsesById=function(e){return this.variableMap_.getVariableUsesById(e)},Nn.Workspace.prototype.deleteVariableById=function(e){this.variableMap_.deleteVariableById(e)},Nn.Workspace.prototype.getVariable=function(e,t){return this.variableMap_.getVariable(e,t)},Nn.Workspace.prototype.getVariableById=function(e){return this.variableMap_.getVariableById(e)},Nn.Workspace.prototype.getVariablesOfType=function(e){return this.variableMap_.getVariablesOfType(e)},Nn.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},Nn.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},Nn.Workspace.prototype.getAllVariableNames=function(){return this.variableMap_.getAllVariableNames()},Nn.Workspace.prototype.getWidth=function(){return 0},Nn.Workspace.prototype.newBlock=function(e,t){return new xo.Block(this,e,t)},Nn.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length},Nn.Workspace.prototype.remainingCapacityOfType=function(e){return this.options.maxInstances?(void 0!==this.options.maxInstances[e]?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0},Nn.Workspace.prototype.isCapacityAvailable=function(e){if(!this.hasBlockLimits())return!0;var t,n=0;for(t in e){if(e[t]>this.remainingCapacityOfType(t))return!1;n+=e[t]}return!(n>this.remainingCapacity())},Nn.Workspace.prototype.hasBlockLimits=function(){return 1/0!==this.options.maxBlocks||!!this.options.maxInstances},Nn.Workspace.prototype.getUndoStack=function(){return this.undoStack_},Nn.Workspace.prototype.getRedoStack=function(){return this.redoStack_},Nn.Workspace.prototype.undo=function(e){var t=e?this.redoStack_:this.undoStack_,n=e?this.undoStack_:this.redoStack_,o=t.pop();if(o){for(var i=[o];t.length&&o.group&&o.group===t[t.length-1].group;)i.push(t.pop());for(t=0;t<i.length;t++)n.push(i[t]);i=(0,oe.filter)(i,e),(0,oe.setRecordUndo)(!1);try{for(n=0;n<i.length;n++)i[n].run(e)}finally{(0,oe.setRecordUndo)(!0)}}},Nn.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,(0,oe.clearPendingUndo)()},Nn.Workspace.prototype.addChangeListener=function(e){return this.listeners_.push(e),e},Nn.Workspace.prototype.removeChangeListener=function(e){Vt(this.listeners_,e)},Nn.Workspace.prototype.fireChangeListener=function(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var t=0;t<this.listeners_.length;t++)(0,this.listeners_[t])(e)},Nn.Workspace.prototype.getBlockById=function(e){return this.blockDB_[e]||null},Nn.Workspace.prototype.setBlockById=function(e,t){this.blockDB_[e]=t},Nn.Workspace.prototype.removeBlockById=function(e){delete this.blockDB_[e]},Nn.Workspace.prototype.getCommentById=function(e){return this.commentDB_[e]||null},Nn.Workspace.prototype.allInputsFilled=function(e){for(var t=this.getTopBlocks(!1),n=0;n<t.length;n++)if(!t[n].allInputsFilled(e))return!1;return!0},Nn.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},Nn.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new In.VariableMap(this)},Nn.Workspace.prototype.getVariableMap=function(){return this.variableMap_},Nn.Workspace.prototype.setVariableMap=function(e){this.variableMap_=e},Nn.Workspace.getById=function(e){return Dn[e]||null},Nn.Workspace.getAll=function(){var e,t=[];for(e in Dn)t.push(Dn[e]);return t};var Mn={Bubble:function(e,t,n,o,i,r){this.workspace_=e,this.content_=t,this.shape_=n,this.onMouseDownResizeWrapper_=this.onMouseDownBubbleWrapper_=this.moveCallback_=this.resizeCallback_=null,this.disposed=!1,n=Mn.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(n=-n),this.arrow_radians_=(0,ce.toRadians)(n),e.getBubbleCanvas().appendChild(this.createDom_(t,!(!i||!r))),this.setAnchorLocation(o),i&&r||(i=(e=this.content_.getBBox()).width+2*Mn.Bubble.BORDER_WIDTH,r=e.height+2*Mn.Bubble.BORDER_WIDTH),this.setBubbleSize(i,r),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0}};Mn.Bubble.BORDER_WIDTH=6,Mn.Bubble.ARROW_THICKNESS=5,Mn.Bubble.ARROW_ANGLE=20,Mn.Bubble.ARROW_BEND=4,Mn.Bubble.ANCHOR_RADIUS=8,Mn.Bubble.onMouseUpWrapper_=null,Mn.Bubble.onMouseMoveWrapper_=null,Mn.Bubble.unbindDragEvents_=function(){Mn.Bubble.onMouseUpWrapper_&&((0,_.unbind)(Mn.Bubble.onMouseUpWrapper_),Mn.Bubble.onMouseUpWrapper_=null),Mn.Bubble.onMouseMoveWrapper_&&((0,_.unbind)(Mn.Bubble.onMouseMoveWrapper_),Mn.Bubble.onMouseMoveWrapper_=null)},Mn.Bubble.bubbleMouseUp_=function(e){(0,p.clearTouchIdentifier)(),Mn.Bubble.unbindDragEvents_()},Mn.Bubble.prototype.rendered_=!1,Mn.Bubble.prototype.anchorXY_=null,Mn.Bubble.prototype.relativeLeft_=0,Mn.Bubble.prototype.relativeTop_=0,Mn.Bubble.prototype.width_=0,Mn.Bubble.prototype.height_=0,Mn.Bubble.prototype.autoLayout_=!0,Mn.Bubble.prototype.createDom_=function(e,t){this.bubbleGroup_=(0,M.createSvgElement)(Ee.Svg.G,{},null);var n={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return f.JAVA_FX&&(n={}),n=(0,M.createSvgElement)(Ee.Svg.G,n,this.bubbleGroup_),this.bubbleArrow_=(0,M.createSvgElement)(Ee.Svg.PATH,{},n),this.bubbleBack_=(0,M.createSvgElement)(Ee.Svg.RECT,{class:"blocklyDraggable",x:0,y:0,rx:Mn.Bubble.BORDER_WIDTH,ry:Mn.Bubble.BORDER_WIDTH},n),t?(this.resizeGroup_=(0,M.createSvgElement)(Ee.Svg.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),t=2*Mn.Bubble.BORDER_WIDTH,(0,M.createSvgElement)(Ee.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,t.toString())},this.resizeGroup_),(0,M.createSvgElement)(Ee.Svg.LINE,{class:"blocklyResizeLine",x1:t/3,y1:t-1,x2:t-1,y2:t/3},this.resizeGroup_),(0,M.createSvgElement)(Ee.Svg.LINE,{class:"blocklyResizeLine",x1:2*t/3,y1:t-1,x2:t-1,y2:2*t/3},this.resizeGroup_)):this.resizeGroup_=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper_=(0,_.conditionalBind)(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&(this.onMouseDownResizeWrapper_=(0,_.conditionalBind)(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))),this.bubbleGroup_.appendChild(e),this.bubbleGroup_},Mn.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},Mn.Bubble.prototype.setSvgId=function(e){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=e)},Mn.Bubble.prototype.bubbleMouseDown_=function(e){var t=this.workspace_.getGesture(e);t&&t.handleBubbleStart(e,this)},Mn.Bubble.prototype.showContextMenu=function(e){},Mn.Bubble.prototype.isDeletable=function(){return!1},Mn.Bubble.prototype.setDeleteStyle=function(e){},Mn.Bubble.prototype.resizeMouseDown_=function(e){this.promote(),Mn.Bubble.unbindDragEvents_(),(0,_.isRightButton)(e)||(this.workspace_.startDrag(e,new he.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),Mn.Bubble.onMouseUpWrapper_=(0,_.conditionalBind)(document,"mouseup",this,Mn.Bubble.bubbleMouseUp_),Mn.Bubble.onMouseMoveWrapper_=(0,_.conditionalBind)(document,"mousemove",this,this.resizeMouseMove_),this.workspace_.hideChaff()),e.stopPropagation()},Mn.Bubble.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble_()},Mn.Bubble.prototype.registerResizeEvent=function(e){this.resizeCallback_=e},Mn.Bubble.prototype.registerMoveEvent=function(e){this.moveCallback_=e},Mn.Bubble.prototype.promote=function(){var e=this.bubbleGroup_.parentNode;return e.lastChild!==this.bubbleGroup_&&(e.appendChild(this.bubbleGroup_),!0)},Mn.Bubble.prototype.setAnchorLocation=function(e){this.anchorXY_=e,this.rendered_&&this.positionBubble_()},Mn.Bubble.prototype.layoutBubble_=function(){var e=this.workspace_.getMetricsManager().getViewMetrics(!0),t=this.getOptimalRelativeLeft_(e),n=this.getOptimalRelativeTop_(e),o=this.shape_.getBBox(),i={x:t,y:-this.height_-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},r={x:-this.width_-30,y:n};n={x:o.width,y:n};var s={x:t,y:o.height};t=o.width<o.height?n:s,o=o.width<o.height?s:n,n=this.getOverlap_(i,e),s=this.getOverlap_(r,e);var l=this.getOverlap_(t,e);e=this.getOverlap_(o,e),n===(e=Math.max(n,s,l,e))?(this.relativeLeft_=i.x,this.relativeTop_=i.y):s===e?(this.relativeLeft_=r.x,this.relativeTop_=r.y):l===e?(this.relativeLeft_=t.x,this.relativeTop_=t.y):(this.relativeLeft_=o.x,this.relativeTop_=o.y)},Mn.Bubble.prototype.getOverlap_=function(e,t){var n=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x+this.anchorXY_.x;return e=e.y+this.anchorXY_.y,Math.max(0,Math.min(1,(Math.min(n+this.width_,t.left+t.width)-Math.max(n,t.left))*(Math.min(e+this.height_,t.top+t.height)-Math.max(e,t.top))/(this.width_*this.height_)))},Mn.Bubble.prototype.getOptimalRelativeLeft_=function(e){var t=-this.width_/4;if(this.width_>e.width)return t;if(this.workspace_.RTL){var n=this.anchorXY_.x-t,o=e.left+e.width;e=e.left+Ze.Scrollbar.scrollbarThickness/this.workspace_.scale,n-this.width_<e?t=-(e-this.anchorXY_.x+this.width_):n>o&&(t=-(o-this.anchorXY_.x))}else{o=(n=t+this.anchorXY_.x)+this.width_;var i=e.left;e=e.left+e.width-Ze.Scrollbar.scrollbarThickness/this.workspace_.scale,n<i?t=i-this.anchorXY_.x:o>e&&(t=e-this.anchorXY_.x-this.width_)}return t},Mn.Bubble.prototype.getOptimalRelativeTop_=function(e){var t=-this.height_/4;if(this.height_>e.height)return t;var n=this.anchorXY_.y+t,o=n+this.height_,i=e.top;e=e.top+e.height-Ze.Scrollbar.scrollbarThickness/this.workspace_.scale;var r=this.anchorXY_.y;return n<i?t=i-r:o>e&&(t=e-r-this.height_),t},Mn.Bubble.prototype.positionBubble_=function(){var e=this.anchorXY_.x;e=this.workspace_.RTL?e-(this.relativeLeft_+this.width_):e+this.relativeLeft_,this.moveTo(e,this.relativeTop_+this.anchorXY_.y)},Mn.Bubble.prototype.moveTo=function(e,t){this.bubbleGroup_.setAttribute("transform","translate("+e+","+t+")")},Mn.Bubble.prototype.setDragging=function(e){!e&&this.moveCallback_&&this.moveCallback_()},Mn.Bubble.prototype.getBubbleSize=function(){return new de.Size(this.width_,this.height_)},Mn.Bubble.prototype.setBubbleSize=function(e,t){var n=2*Mn.Bubble.BORDER_WIDTH;e=Math.max(e,n+45),t=Math.max(t,n+20),this.width_=e,this.height_=t,this.bubbleBack_.setAttribute("width",e),this.bubbleBack_.setAttribute("height",t),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*Mn.Bubble.BORDER_WIDTH+","+(t-n)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(e-n)+","+(t-n)+")")),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},Mn.Bubble.prototype.renderArrow_=function(){var e=[],t=this.width_/2,n=this.height_/2,o=-this.relativeLeft_,i=-this.relativeTop_;if(t===o&&n===i)e.push("M "+t+","+n);else{i-=n,o-=t,this.workspace_.RTL&&(o*=-1);var r=Math.sqrt(i*i+o*o),s=Math.acos(o/r);0>i&&(s=2*Math.PI-s);var l=s+Math.PI/2;l>2*Math.PI&&(l-=2*Math.PI);var a=Math.sin(l),c=Math.cos(l),u=this.getBubbleSize();l=(u.width+u.height)/Mn.Bubble.ARROW_THICKNESS,l=Math.min(l,u.width,u.height)/4,o=t+(u=1-Mn.Bubble.ANCHOR_RADIUS/r)*o,i=n+u*i,u=t+l*c;var p=n+l*a;t-=l*c,n-=l*a,(a=s+this.arrow_radians_)>2*Math.PI&&(a-=2*Math.PI),s=Math.sin(a)*r/Mn.Bubble.ARROW_BEND,r=Math.cos(a)*r/Mn.Bubble.ARROW_BEND,e.push("M"+u+","+p),e.push("C"+(u+r)+","+(p+s)+" "+o+","+i+" "+o+","+i),e.push("C"+o+","+i+" "+(t+r)+","+(n+s)+" "+t+","+n)}e.push("z"),this.bubbleArrow_.setAttribute("d",e.join(" "))},Mn.Bubble.prototype.setColour=function(e){this.bubbleBack_.setAttribute("fill",e),this.bubbleArrow_.setAttribute("fill",e)},Mn.Bubble.prototype.dispose=function(){this.onMouseDownBubbleWrapper_&&(0,_.unbind)(this.onMouseDownBubbleWrapper_),this.onMouseDownResizeWrapper_&&(0,_.unbind)(this.onMouseDownResizeWrapper_),Mn.Bubble.unbindDragEvents_(),(0,M.removeNode)(this.bubbleGroup_),this.disposed=!0},Mn.Bubble.prototype.moveDuringDrag=function(e,t){e?e.translateSurface(t.x,t.y):this.moveTo(t.x,t.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-t.x-this.width_:t.x-this.anchorXY_.x,this.relativeTop_=t.y-this.anchorXY_.y,this.renderArrow_()},Mn.Bubble.prototype.getRelativeToSurfaceXY=function(){return new he.Coordinate(this.workspace_.RTL?-this.relativeLeft_+this.anchorXY_.x-this.width_:this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},Mn.Bubble.prototype.setAutoLayout=function(e){this.autoLayout_=e},Mn.Bubble.textToDom=function(e){var t=(0,M.createSvgElement)(Ee.Svg.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Mn.Bubble.BORDER_WIDTH},null);e=e.split("\n");for(var n=0;n<e.length;n++){var o=(0,M.createSvgElement)(Ee.Svg.TSPAN,{dy:"1em",x:Mn.Bubble.BORDER_WIDTH},t),i=document.createTextNode(e[n]);o.appendChild(i)}return t},Mn.Bubble.createNonEditableBubble=function(e,t,n){if((n=new Mn.Bubble(t.workspace,e,t.pathObject.svgPath,n,null,null)).setSvgId(t.id),t.RTL){t=e.getBBox().width;for(var o,i=0;o=e.childNodes[i];i++)o.setAttribute("text-anchor","end"),o.setAttribute("x",t+Mn.Bubble.BORDER_WIDTH)}return n};var Pn={CommentBase:function(e){this.commentId=(this.isBlank="undefined"===typeof e)?"":e.id,this.workspaceId=this.isBlank?"":e.workspace.id,this.group=(0,oe.getGroup)(),this.recordUndo=(0,oe.getRecordUndo)()}};(0,e.module$exports$Blockly$utils$object.inherits)(Pn.CommentBase,Nt),Pn.CommentBase.prototype.toJson=function(){var e=Pn.CommentBase.superClass_.toJson.call(this);return this.commentId&&(e.commentId=this.commentId),e},Pn.CommentBase.prototype.fromJson=function(e){Pn.CommentBase.superClass_.fromJson.call(this,e),this.commentId=e.commentId},Pn.CommentBase.CommentCreateDeleteHelper=function(t,n){var o=t.getEventWorkspace_();n?((n=(0,e.module$exports$Blockly$utils$xml.createElement)("xml")).appendChild(t.xml),(0,e.module$exports$Blockly$Xml.domToWorkspace)(n,o)):(o=o.getCommentById(t.commentId))?o.dispose():console.warn("Can't uncreate non-existent comment: "+t.commentId)};var Ln={CommentMove:function(e){Ln.CommentMove.superClass_.constructor.call(this,e),e&&(this.comment_=e,this.oldCoordinate_=e.getXY(),this.newCoordinate_=null)}};(0,e.module$exports$Blockly$utils$object.inherits)(Ln.CommentMove,Pn.CommentBase),Ln.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},Ln.CommentMove.prototype.type=oe.COMMENT_MOVE,Ln.CommentMove.prototype.setOldCoordinate=function(e){this.oldCoordinate_=e},Ln.CommentMove.prototype.toJson=function(){var e=Ln.CommentMove.superClass_.toJson.call(this);return this.oldCoordinate_&&(e.oldCoordinate=Math.round(this.oldCoordinate_.x)+","+Math.round(this.oldCoordinate_.y)),this.newCoordinate_&&(e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),e},Ln.CommentMove.prototype.fromJson=function(e){if(Ln.CommentMove.superClass_.fromJson.call(this,e),e.oldCoordinate){var t=e.oldCoordinate.split(",");this.oldCoordinate_=new he.Coordinate(Number(t[0]),Number(t[1]))}e.newCoordinate&&(e=e.newCoordinate.split(","),this.newCoordinate_=new he.Coordinate(Number(e[0]),Number(e[1])))},Ln.CommentMove.prototype.isNull=function(){return he.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},Ln.CommentMove.prototype.run=function(e){var t=this.getEventWorkspace_().getCommentById(this.commentId);if(t){e=e?this.newCoordinate_:this.oldCoordinate_;var n=t.getXY();t.moveBy(e.x-n.x,e.y-n.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},(0,Z.register)(Z.Type.EVENT,oe.COMMENT_MOVE,Ln.CommentMove);var Fn={BubbleDragger:function(e,t){this.draggingBubble_=e,this.workspace_=t,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=(0,ye.is3dSupported)()&&t.getBlockDragSurface()?t.getBlockDragSurface():null}};Fn.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},Fn.BubbleDragger.prototype.startBubbleDrag=function(){(0,oe.getGroup)()||(0,oe.setGroup)(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0)},Fn.BubbleDragger.prototype.dragBubble=function(e,t){t=this.pixelsToWorkspaceUnits_(t),t=he.Coordinate.sum(this.startXY_,t),this.draggingBubble_.moveDuringDrag(this.dragSurface_,t),t=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(e),e=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),e!==this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==t&&(t&&t.onDragExit(this.draggingBubble_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBubble_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBubble_)},Fn.BubbleDragger.prototype.shouldDelete_=function(e){return!(!e||!this.workspace_.getComponentManager().hasCapability(e.id,dn.ComponentManager.Capability.DELETE_AREA))&&e.wouldDelete(this.draggingBubble_,!1)},Fn.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.draggingBubble_.setDeleteStyle(this.wouldDeleteBubble_)},Fn.BubbleDragger.prototype.endBubbleDrag=function(e,t){this.dragBubble(e,t),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBubble_)?e=this.startXY_:(e=this.pixelsToWorkspaceUnits_(t),e=he.Coordinate.sum(this.startXY_,e)),this.draggingBubble_.moveTo(e.x,e.y),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBubble_),this.wouldDeleteBubble_?(this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),(0,oe.setGroup)(!1)},Fn.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var e=new((0,oe.get)(oe.COMMENT_MOVE))(this.draggingBubble_);e.setOldCoordinate(this.startXY_),e.recordNew(),(0,oe.fire)(e)}},Fn.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new he.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},Fn.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())};var $n={WorkspaceDragger:function(e){this.workspace_=e,this.horizontalScrollEnabled_=this.workspace_.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace_.isMovableVertically(),this.startScrollXY_=new he.Coordinate(e.scrollX,e.scrollY)}};$n.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},$n.WorkspaceDragger.prototype.startDrag=function(){(0,e.module$exports$Blockly$common.getSelected)()&&(0,e.module$exports$Blockly$common.getSelected)().unselect(),this.workspace_.setupDragSurface()},$n.WorkspaceDragger.prototype.endDrag=function(e){this.drag(e),this.workspace_.resetDragSurface()},$n.WorkspaceDragger.prototype.drag=function(e){if(e=he.Coordinate.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace_.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace_.scroll(e.x,this.workspace_.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace_.scroll(this.workspace_.scrollX,e.y)}};var Un={InsertionMarkerManager:function(t){(0,e.module$exports$Blockly$common.setSelected)(t),this.topBlock_=t,this.workspace_=t.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.fadedBlock_=this.highlightedBlock_=this.markerConnection_=null,this.availableConnections_=this.initAvailableConnections_()}};Un.InsertionMarkerManager.PREVIEW_TYPE={INSERTION_MARKER:0,INPUT_OUTLINE:1,REPLACEMENT_FADE:2},Un.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",Un.InsertionMarkerManager.prototype.dispose=function(){this.availableConnections_.length=0,(0,oe.disable)();try{this.firstMarker_&&this.firstMarker_.dispose(),this.lastMarker_&&this.lastMarker_.dispose()}finally{(0,oe.enable)()}},Un.InsertionMarkerManager.prototype.updateAvailableConnections=function(){this.availableConnections_=this.initAvailableConnections_()},Un.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},Un.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},Un.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&((0,oe.disable)(),this.hidePreview_(),(0,oe.enable)(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var e=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;(0,ln.connectionUiEffect)(e.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},Un.InsertionMarkerManager.prototype.update=function(e,t){var n=this.getCandidate_(e);((this.wouldDeleteBlock_=this.shouldDelete_(n,t))||this.shouldUpdatePreviews_(n,e))&&((0,oe.disable)(),this.maybeHidePreview_(n),this.maybeShowPreview_(n),(0,oe.enable)())},Un.InsertionMarkerManager.prototype.createMarkerBlock_=function(e){var t=e.type;(0,oe.disable)();try{var n=this.workspace_.newBlock(t);if(n.setInsertionMarker(!0),e.saveExtraState){var o=e.saveExtraState();o&&n.loadExtraState(o)}else if(e.mutationToDom){var i=e.mutationToDom();i&&n.domToMutation(i)}for(t=0;t<e.inputList.length;t++){var r=e.inputList[t];if(r.name!==On.COLLAPSED_INPUT_NAME){var s=n.inputList[t];if(!s)throw Error(Un.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR.replace("%1","an input"));for(o=0;o<r.fieldRow.length;o++){var l=r.fieldRow[o],a=s.fieldRow[o];if(!a)throw Error(Un.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR.replace("%1","a field"));a.setValue(l.getValue())}}}n.setCollapsed(e.isCollapsed()),n.setInputsInline(e.getInputsInline()),n.initSvg(),n.getSvgRoot().setAttribute("visibility","hidden")}finally{(0,oe.enable)()}return n},Un.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var e=this.topBlock_.getConnections_(!1),t=this.topBlock_.lastConnectionInStack(!0);if(t&&t!==this.topBlock_.nextConnection){if(e.push(t),this.lastOnStack_=t,this.lastMarker_){(0,oe.disable)();try{this.lastMarker_.dispose()}finally{(0,oe.enable)()}}this.lastMarker_=this.createMarkerBlock_(t.getSourceBlock())}return e},Un.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(t,n){var o=t.local,i=t.closest;return t=t.radius,o&&i?this.localConnection_&&this.closestConnection_?(this.closestConnection_!==i||this.localConnection_!==o)&&(o=this.localConnection_.x+n.x-this.closestConnection_.x,n=this.localConnection_.y+n.y-this.closestConnection_.y,n=Math.sqrt(o*o+n*n),!(i&&t>n-e.module$exports$Blockly$internalConstants.CURRENT_CONNECTION_PREFERENCE)):!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0):!(!this.localConnection_||!this.closestConnection_)},Un.InsertionMarkerManager.prototype.getCandidate_=function(e){for(var t=this.getStartRadius_(),n=null,o=null,i=0;i<this.availableConnections_.length;i++){var r=this.availableConnections_[i],s=r.closest(t,e);s.connection&&(n=s.connection,o=r,t=s.radius)}return{closest:n,local:o,radius:t}},Un.InsertionMarkerManager.prototype.getStartRadius_=function(){return e.module$exports$Blockly$internalConstants.SNAP_RADIUS},Un.InsertionMarkerManager.prototype.shouldDelete_=function(e,t){return!(!t||!this.workspace_.getComponentManager().hasCapability(t.id,dn.ComponentManager.Capability.DELETE_AREA))&&t.wouldDelete(this.topBlock_,e&&!!e.closest)},Un.InsertionMarkerManager.prototype.maybeShowPreview_=function(e){if(!this.wouldDeleteBlock_){var t=e.closest;e=e.local,t&&(t===this.closestConnection_||t.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=t,this.localConnection_=e,this.showPreview_()))}},Un.InsertionMarkerManager.prototype.showPreview_=function(){var e=this.closestConnection_,t=this.workspace_.getRenderer();switch(t.getConnectionPreviewMethod(e,this.localConnection_,this.topBlock_)){case Un.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline_();break;case Un.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker_();break;case Un.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade_()}e&&t.shouldHighlightConnection(e)&&e.highlight()},Un.InsertionMarkerManager.prototype.maybeHidePreview_=function(e){if(e.closest){var t=this.closestConnection_!==e.closest;e=this.localConnection_!==e.local,this.closestConnection_&&this.localConnection_&&(t||e||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},Un.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.targetBlock()&&this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_)&&this.closestConnection_.unhighlight(),this.fadedBlock_?this.hideReplacementFade_():this.highlightedBlock_?this.hideInsertionInputOutline_():this.markerConnection_&&this.hideInsertionMarker_()},Un.InsertionMarkerManager.prototype.showInsertionMarker_=function(){var e=this.localConnection_,t=this.closestConnection_,n=this.lastOnStack_&&e===this.lastOnStack_?this.lastMarker_:this.firstMarker_;if((e=n.getMatchingConnection(e.getSourceBlock(),e))===this.markerConnection_)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");n.render(),n.rendered=!0,n.getSvgRoot().setAttribute("visibility","visible"),e&&t&&n.positionNearConnection(e,t),t&&e.connect(t),this.markerConnection_=e},Un.InsertionMarkerManager.prototype.hideInsertionMarker_=function(){if(this.markerConnection_){var t=this.markerConnection_,n=t.getSourceBlock(),o=n.nextConnection,i=n.previousConnection,r=n.outputConnection;if(r=t.type===e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE&&!(r&&r.targetConnection),!(t!==o||i&&i.targetConnection)||r?t.targetBlock().unplug(!1):t.type===e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT&&t!==o?((o=t.targetConnection).getSourceBlock().unplug(!1),i=i?i.targetConnection:null,n.unplug(!0),i&&i.connect(o)):n.unplug(!0),t.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,(t=n.getSvgRoot())&&t.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},Un.InsertionMarkerManager.prototype.showInsertionInputOutline_=function(){var e=this.closestConnection_;this.highlightedBlock_=e.getSourceBlock(),this.highlightedBlock_.highlightShapeForInput(e,!0)},Un.InsertionMarkerManager.prototype.hideInsertionInputOutline_=function(){this.highlightedBlock_.highlightShapeForInput(this.closestConnection_,!1),this.highlightedBlock_=null},Un.InsertionMarkerManager.prototype.showReplacementFade_=function(){this.fadedBlock_=this.closestConnection_.targetBlock(),this.fadedBlock_.fadeForReplacement(!0)},Un.InsertionMarkerManager.prototype.hideReplacementFade_=function(){this.fadedBlock_.fadeForReplacement(!1),this.fadedBlock_=null},Un.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var e=[];return this.firstMarker_&&e.push(this.firstMarker_),this.lastMarker_&&e.push(this.lastMarker_),e};var Hn={UiBase:function(e){Hn.UiBase.superClass_.constructor.call(this),this.isBlank="undefined"===typeof e,this.workspaceId=e||"",this.recordUndo=!1}};(0,e.module$exports$Blockly$utils$object.inherits)(Hn.UiBase,Nt),Hn.UiBase.prototype.isUiEvent=!0;var Vn={BlockDrag:function(e,t,n){Vn.BlockDrag.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.isStart=t,this.blocks=n}};(0,e.module$exports$Blockly$utils$object.inherits)(Vn.BlockDrag,Hn.UiBase),Vn.BlockDrag.prototype.type=oe.BLOCK_DRAG,Vn.BlockDrag.prototype.toJson=function(){var e=Vn.BlockDrag.superClass_.toJson.call(this);return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e},Vn.BlockDrag.prototype.fromJson=function(e){Vn.BlockDrag.superClass_.fromJson.call(this,e),this.isStart=e.isStart,this.blockId=e.blockId,this.blocks=e.blocks},(0,Z.register)(Z.Type.EVENT,oe.BLOCK_DRAG,Vn.BlockDrag);var Gn={BlockDragger:function(e,t){this.draggingBlock_=e,this.workspace_=t,this.draggedConnectionManager_=new Un.InsertionMarkerManager(this.draggingBlock_),this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=Wn(e)}};Gn.BlockDragger.prototype.dispose=function(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()};var Wn=function(e){var t=[];e=e.getDescendants(!1);for(var n,o=0;n=e[o];o++){n=n.getIcons();for(var i=0;i<n.length;i++){var r={location:n[i].getIconLocation(),icon:n[i]};t.push(r)}}return t};Gn.BlockDragger.prototype.startDrag=function(e,t){(0,oe.getGroup)()||(0,oe.setGroup)(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),(0,M.startTextWidthCache)(),this.workspace_.setResizesEnabled(!1),(0,ln.disconnectUiStop)(),this.shouldDisconnect_(t)&&this.disconnectBlock_(t,e),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface()},Gn.BlockDragger.prototype.shouldDisconnect_=function(e){return!!(this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())},Gn.BlockDragger.prototype.disconnectBlock_=function(e,t){this.draggingBlock_.unplug(e),e=this.pixelsToWorkspaceUnits_(t),e=he.Coordinate.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),(0,ln.disconnectUiEffect)(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()},Gn.BlockDragger.prototype.fireDragStartEvent_=function(){var e=new((0,oe.get)(oe.BLOCK_DRAG))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));(0,oe.fire)(e)},Gn.BlockDragger.prototype.drag=function(e,t){t=this.pixelsToWorkspaceUnits_(t);var n=he.Coordinate.sum(this.startXY_,t);this.draggingBlock_.moveDuringDrag(n),this.dragIcons_(t),n=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(e),this.draggedConnectionManager_.update(t,this.dragTarget_),e=this.wouldDeleteBlock_,this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock(),e!==this.wouldDeleteBlock_&&this.updateCursorDuringBlockDrag_(),this.dragTarget_!==n&&(n&&n.onDragExit(this.draggingBlock_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBlock_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBlock_)},Gn.BlockDragger.prototype.endDrag=function(e,t){if(this.drag(e,t),this.dragIconData_=[],this.fireDragEndEvent_(),(0,M.stopTextWidthCache)(),(0,ln.disconnectUiStop)(),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_))e=this.startXY_;else{var n=(e=this.getNewLocationAfterDrag_(t)).delta;e=e.newLocation}this.draggingBlock_.moveOffDragSurface(e),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),this.maybeDeleteBlock_()||(this.draggingBlock_.setDragging(!1),n?this.updateBlockAfterMove_(n):(0,ue.bumpIntoBounds)(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)),this.workspace_.setResizesEnabled(!0),(0,oe.setGroup)(!1)},Gn.BlockDragger.prototype.getNewLocationAfterDrag_=function(e){var t={};return t.delta=this.pixelsToWorkspaceUnits_(e),t.newLocation=he.Coordinate.sum(this.startXY_,t.delta),t},Gn.BlockDragger.prototype.maybeDeleteBlock_=function(){return!!this.wouldDeleteBlock_&&(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),e.module$exports$Blockly$common.draggingConnections.length=0,!0)},Gn.BlockDragger.prototype.updateBlockAfterMove_=function(e){this.draggingBlock_.moveConnections(e.x,e.y),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()},Gn.BlockDragger.prototype.fireDragEndEvent_=function(){var e=new((0,oe.get)(oe.BLOCK_DRAG))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));(0,oe.fire)(e)},Gn.BlockDragger.prototype.updateToolboxStyle_=function(e){var t=this.workspace_.getToolbox();if(t){var n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e&&"function"===typeof t.removeStyle?t.removeStyle(n):e||"function"!==typeof t.addStyle||t.addStyle(n)}},Gn.BlockDragger.prototype.fireMoveEvent_=function(){var e=new((0,oe.get)(oe.MOVE))(this.draggingBlock_);e.oldCoordinate=this.startXY_,e.recordNew(),(0,oe.fire)(e)},Gn.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)},Gn.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new he.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},Gn.BlockDragger.prototype.dragIcons_=function(e){for(var t=0;t<this.dragIconData_.length;t++){var n=this.dragIconData_[t];n.icon.setIconLocation(he.Coordinate.sum(n.location,e))}},Gn.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},(0,Z.register)(Z.Type.BLOCK_DRAGGER,Z.DEFAULT,Gn.BlockDragger);var zn={Click:function(e,t,n){zn.Click.superClass_.constructor.call(this,e?e.workspace.id:t),this.blockId=e?e.id:null,this.targetType=n}};(0,e.module$exports$Blockly$utils$object.inherits)(zn.Click,Hn.UiBase),zn.Click.prototype.type=oe.CLICK,zn.Click.prototype.toJson=function(){var e=zn.Click.superClass_.toJson.call(this);return e.targetType=this.targetType,this.blockId&&(e.blockId=this.blockId),e},zn.Click.prototype.fromJson=function(e){zn.Click.superClass_.fromJson.call(this,e),this.targetType=e.targetType,this.blockId=e.blockId},(0,Z.register)(Z.Type.EVENT,oe.CLICK,zn.Click);var Yn={Gesture:function(t,n){this.mouseDownXY_=null,this.currentDragDeltaXY_=new he.Coordinate(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.creatorWorkspace_=n,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=t,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!e.module$exports$Blockly$internalConstants.DRAG_STACK}};Yn.Gesture.prototype.dispose=function(){(0,p.clearTouchIdentifier)(),(0,T.unblock)(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&(0,_.unbind)(this.onMoveWrapper_),this.onUpWrapper_&&(0,_.unbind)(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.bubbleDragger_&&this.bubbleDragger_.dispose()},Yn.Gesture.prototype.updateFromEvent_=function(e){var t=new he.Coordinate(e.clientX,e.clientY);this.updateDragDelta_(t)&&(this.updateIsDragging_(),(0,p.longStop)()),this.mostRecentEvent_=e},Yn.Gesture.prototype.updateDragDelta_=function(t){return this.currentDragDeltaXY_=he.Coordinate.difference(t,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=he.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?e.module$exports$Blockly$internalConstants.FLYOUT_DRAG_RADIUS:e.module$exports$Blockly$internalConstants.DRAG_RADIUS))},Yn.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!(!this.targetBlock_||!this.flyout_.isBlockCreatable_(this.targetBlock_))&&!(this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_))&&(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),(0,oe.getGroup)()||(0,oe.setGroup)(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),!0)},Yn.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},Yn.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},Yn.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new $n.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},Yn.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},Yn.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new((0,Z.getClassFromOptions)(Z.Type.BLOCK_DRAGGER,this.creatorWorkspace_.options,!0))(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_)},Yn.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new Fn.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},Yn.Gesture.prototype.doStart=function(e){(0,_.isTargetInput)(e)?this.cancel():(this.hasStarted_=!0,(0,ln.disconnectUiStop)(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.startWorkspace_.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=e,(0,T.block)(),this.targetBlock_&&this.targetBlock_.select(),(0,_.isRightButton)(e)?this.handleRightClick(e):("touchstart"!==e.type.toLowerCase()&&"pointerdown"!==e.type.toLowerCase()||"mouse"===e.pointerType||(0,p.longStart)(e,this),this.mouseDownXY_=new he.Coordinate(e.clientX,e.clientY),this.healStack_=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e)))},Yn.Gesture.prototype.bindMouseEvents=function(e){this.onMoveWrapper_=(0,_.conditionalBind)(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=(0,_.conditionalBind)(document,"mouseup",null,this.handleUp.bind(this)),e.preventDefault(),e.stopPropagation()},Yn.Gesture.prototype.handleMove=function(e){this.updateFromEvent_(e),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),e.preventDefault(),e.stopPropagation()},Yn.Gesture.prototype.handleUp=function(e){this.updateFromEvent_(e),(0,p.longStop)(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(e,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(e,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(e),e.preventDefault(),e.stopPropagation(),this.dispose())},Yn.Gesture.prototype.cancel=function(){this.isEnding_||((0,p.longStop)(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},Yn.Gesture.prototype.handleRightClick=function(e){this.targetBlock_?(this.bringBlockToFront_(),this.targetBlock_.workspace.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(e)):this.startBubble_?this.startBubble_.showContextMenu(e):this.startWorkspace_&&!this.flyout_&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()},Yn.Gesture.prototype.handleWsStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(t),this.mostRecentEvent_=e,this.doStart(e)},Yn.Gesture.prototype.fireWorkspaceClick_=function(e){(0,oe.fire)(new((0,oe.get)(oe.CLICK))(null,e.id,"workspace"))},Yn.Gesture.prototype.handleFlyoutStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(t),this.handleWsStart(e,t.getWorkspace())},Yn.Gesture.prototype.handleBlockStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent_=e},Yn.Gesture.prototype.handleBubbleStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent_=e},Yn.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},Yn.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()},Yn.Gesture.prototype.doBlockClick_=function(){if(this.flyout_&&this.flyout_.autoClose)this.targetBlock_.isEnabled()&&((0,oe.getGroup)()||(0,oe.setGroup)(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump());else{var e=new((0,oe.get)(oe.CLICK))(this.startBlock_,this.startWorkspace_.id,"block");(0,oe.fire)(e)}this.bringBlockToFront_(),(0,oe.setGroup)(!1)},Yn.Gesture.prototype.doWorkspaceClick_=function(t){t=this.creatorWorkspace_,(0,e.module$exports$Blockly$common.getSelected)()&&(0,e.module$exports$Blockly$common.getSelected)().unselect(),this.fireWorkspaceClick_(this.startWorkspace_||t)},Yn.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},Yn.Gesture.prototype.setStartField=function(e){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=e)},Yn.Gesture.prototype.setStartBubble=function(e){this.startBubble_||(this.startBubble_=e)},Yn.Gesture.prototype.setStartBlock=function(e){this.startBlock_||this.startBubble_||(this.startBlock_=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock_(e.getRootBlock()):this.setTargetBlock_(e))},Yn.Gesture.prototype.setTargetBlock_=function(e){e.isShadow()?this.setTargetBlock_(e.getParent()):this.targetBlock_=e},Yn.Gesture.prototype.setStartWorkspace_=function(e){this.startWorkspace_||(this.startWorkspace_=e)},Yn.Gesture.prototype.setStartFlyout_=function(e){this.flyout_||(this.flyout_=e)},Yn.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},Yn.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},Yn.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},Yn.Gesture.prototype.isWorkspaceClick_=function(){return!this.startBlock_&&!this.startBubble_&&!this.startField_&&!this.hasExceededDragRadius_},Yn.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},Yn.Gesture.prototype.hasStarted=function(){return this.hasStarted_},Yn.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},Yn.Gesture.prototype.getCurrentDragger=function(){return this.isDraggingBlock_?this.blockDragger_:this.isDraggingWorkspace_?this.workspaceDragger_:this.isDraggingBubble_?this.bubbleDragger_:null},Yn.Gesture.inProgress=function(){for(var e,t=Nn.Workspace.getAll(),n=0;e=t[n];n++)if(e.currentGesture_)return!0;return!1};var jn={Field:function(e,t,n){this.value_=this.DEFAULT_VALUE,this.tooltip_=this.validator_=null,this.size_=new de.Size(0,0),this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=null,n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t)}};jn.Field.prototype.DEFAULT_VALUE=null,jn.Field.prototype.name=void 0,jn.Field.prototype.disposed=!1,jn.Field.prototype.maxDisplayLength=50,jn.Field.prototype.sourceBlock_=null,jn.Field.prototype.isDirty_=!0,jn.Field.prototype.visible_=!0,jn.Field.prototype.enabled_=!0,jn.Field.prototype.clickTarget_=null,jn.Field.NBSP="\xa0",jn.Field.prototype.EDITABLE=!0,jn.Field.prototype.SERIALIZABLE=!1,jn.Field.prototype.configure_=function(e){var t=e.tooltip;"string"===typeof t&&(t=(0,en.replaceMessageReferences)(e.tooltip)),t&&this.setTooltip(t)},jn.Field.prototype.setSourceBlock=function(e){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=e},jn.Field.prototype.getConstants=function(){return!this.constants_&&this.sourceBlock_&&this.sourceBlock_.workspace&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_},jn.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},jn.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=(0,M.createSvgElement)(Ee.Svg.G,{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},jn.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},jn.Field.prototype.initModel=function(){},jn.Field.prototype.createBorderRect_=function(){this.borderRect_=(0,M.createSvgElement)(Ee.Svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)},jn.Field.prototype.createTextElement_=function(){this.textElement_=(0,M.createSvgElement)(Ee.Svg.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},jn.Field.prototype.bindEvents_=function(){(0,T.bindMouseEvents)(this.getClickTarget_()),this.mouseDownWrapper_=(0,_.conditionalBind)(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},jn.Field.prototype.fromXml=function(e){this.setValue(e.textContent)},jn.Field.prototype.toXml=function(e){return e.textContent=this.getValue(),e},jn.Field.prototype.saveState=function(e){return null!==(e=this.saveLegacyState(jn.Field))?e:this.getValue()},jn.Field.prototype.loadState=function(e){this.loadLegacyState(jn.Field,e)||this.setValue(e)},jn.Field.prototype.saveLegacyState=function(t){return t.prototype.saveState===this.saveState&&t.prototype.toXml!==this.toXml?((t=(0,e.module$exports$Blockly$utils$xml.createElement)("field")).setAttribute("name",this.name||""),(0,e.module$exports$Blockly$Xml.domToText)(this.toXml(t)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null},jn.Field.prototype.loadLegacyState=function(t,n){return t.prototype.loadState===this.loadState&&t.prototype.fromXml!==this.fromXml&&(this.fromXml((0,e.module$exports$Blockly$Xml.textToDom)(n)),!0)},jn.Field.prototype.dispose=function(){be.DropDownDiv.hideIfOwner(this),(0,U.hideIfOwner)(this),(0,T.unbindMouseEvents)(this.getClickTarget_()),this.mouseDownWrapper_&&(0,_.unbind)(this.mouseDownWrapper_),(0,M.removeNode)(this.fieldGroup_),this.disposed=!0},jn.Field.prototype.updateEditable=function(){var e=this.fieldGroup_;this.EDITABLE&&e&&(this.enabled_&&this.sourceBlock_.isEditable()?((0,M.addClass)(e,"blocklyEditableText"),(0,M.removeClass)(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):((0,M.addClass)(e,"blocklyNonEditableText"),(0,M.removeClass)(e,"blocklyEditableText"),e.style.cursor=""))},jn.Field.prototype.setEnabled=function(e){this.enabled_=e,this.updateEditable()},jn.Field.prototype.isEnabled=function(){return this.enabled_},jn.Field.prototype.isClickable=function(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"===typeof this.showEditor_},jn.Field.prototype.isCurrentlyEditable=function(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},jn.Field.prototype.isSerializable=function(){var e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e},jn.Field.prototype.isVisible=function(){return this.visible_},jn.Field.prototype.setVisible=function(e){if(this.visible_!==e){this.visible_=e;var t=this.getSvgRoot();t&&(t.style.display=e?"block":"none")}},jn.Field.prototype.setValidator=function(e){this.validator_=e},jn.Field.prototype.getValidator=function(){return this.validator_},jn.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},jn.Field.prototype.applyColour=function(){},jn.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()},jn.Field.prototype.showEditor=function(e){this.isClickable()&&this.showEditor_(e)},jn.Field.prototype.updateSize_=function(e){var t=this.getConstants(),n=2*(e=void 0!==e?e:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0),o=t.FIELD_TEXT_HEIGHT,i=0;this.textElement_&&(n+=i=(0,M.getFastTextWidth)(this.textElement_,t.FIELD_TEXT_FONTSIZE,t.FIELD_TEXT_FONTWEIGHT,t.FIELD_TEXT_FONTFAMILY)),this.borderRect_&&(o=Math.max(o,t.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=o,this.size_.width=n,this.positionTextElement_(e,i),this.positionBorderRect_()},jn.Field.prototype.positionTextElement_=function(e,t){if(this.textElement_){var n=this.getConstants(),o=this.size_.height/2;this.textElement_.setAttribute("x",this.sourceBlock_.RTL?this.size_.width-t-e:e),this.textElement_.setAttribute("y",n.FIELD_TEXT_BASELINE_CENTER?o:o-n.FIELD_TEXT_HEIGHT/2+n.FIELD_TEXT_BASELINE)}},jn.Field.prototype.positionBorderRect_=function(){this.borderRect_&&(this.borderRect_.setAttribute("width",this.size_.width),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("rx",this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",this.getConstants().FIELD_BORDER_RECT_RADIUS))},jn.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0===this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new de.Size(0,0)},jn.Field.prototype.getScaledBBox=function(){if(this.borderRect_)var e=this.borderRect_.getBoundingClientRect(),t=(0,fe.getPageOffset)(this.borderRect_),n=e.width,o=e.height;else o=this.sourceBlock_.getHeightWidth(),e=this.sourceBlock_.workspace.scale,t=this.getAbsoluteXY_(),n=o.width*e,o=o.height*e,f.GECKO?(t.x+=1.5*e,t.y+=1.5*e):f.EDGE||f.IE||(t.x-=.5*e,t.y-=.5*e),n+=1*e,o+=1*e;return new me.Rect(t.y,t.y+o,t.x,t.x+n)},jn.Field.prototype.getDisplayText_=function(){var e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"\u2026"),e=e.replace(/\s/g,jn.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="\u200f"),e):jn.Field.NBSP},jn.Field.prototype.getText=function(){if(this.getText_){var e=this.getText_.call(this);if(null!==e)return String(e)}return String(this.getValue())},jn.Field.prototype.markDirty=function(){this.isDirty_=!0,this.constants_=null},jn.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())},jn.Field.prototype.setValue=function(e){if(null!==e){var t=this.doClassValidation_(e);if(!((e=this.processValidation_(e,t))instanceof Error)){if((t=this.getValidator())&&(t=t.call(this,e),(e=this.processValidation_(e,t))instanceof Error))return;if(!(t=this.sourceBlock_)||!t.disposed){var n=this.getValue();n===e?this.doValueUpdate_(e):(this.doValueUpdate_(e),t&&(0,oe.isEnabled)()&&(0,oe.fire)(new((0,oe.get)(oe.CHANGE))(t,"field",this.name||null,n,e)),this.isDirty_&&this.forceRerender())}}}},jn.Field.prototype.processValidation_=function(e,t){return null===t?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):(void 0!==t&&(e=t),e)},jn.Field.prototype.getValue=function(){return this.value_},jn.Field.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:e},jn.Field.prototype.doValueUpdate_=function(e){this.value_=e,this.isDirty_=!0},jn.Field.prototype.doValueInvalid_=function(e){},jn.Field.prototype.onMouseDown_=function(e){this.sourceBlock_&&this.sourceBlock_.workspace&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)},jn.Field.prototype.setTooltip=function(e){e||""===e||(e=this.sourceBlock_);var t=this.getClickTarget_();t?t.tooltip=e:this.tooltip_=e},jn.Field.prototype.getTooltip=function(){var e=this.getClickTarget_();return e?(0,T.getTooltipOfObject)(e):(0,T.getTooltipOfObject)({tooltip:this.tooltip_})},jn.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},jn.Field.prototype.getAbsoluteXY_=function(){return(0,fe.getPageOffset)(this.getClickTarget_())},jn.Field.prototype.referencesVariables=function(){return!1},jn.Field.prototype.getParentInput=function(){for(var e=null,t=this.sourceBlock_,n=t.inputList,o=0;o<t.inputList.length;o++)for(var i=n[o],r=i.fieldRow,s=0;s<r.length;s++)if(r[s]===this){e=i;break}return e},jn.Field.prototype.getFlipRtl=function(){return!1},jn.Field.prototype.isTabNavigable=function(){return!1},jn.Field.prototype.onShortcut=function(e){return!1},jn.Field.prototype.setCursorSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},jn.Field.prototype.setMarkerSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.markerSvg_=e):this.markerSvg_=null},jn.Field.prototype.updateMarkers_=function(){var e=this.sourceBlock_.workspace;e.keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(rn.MarkerManager.LOCAL_MARKER).draw()},e.module$exports$Blockly$FieldLabel={FieldLabel:function(t,n,o){this.class_=null,e.module$exports$Blockly$FieldLabel.FieldLabel.superClass_.constructor.call(this,t,null,o),o||(this.class_=n||null)}},(0,e.module$exports$Blockly$utils$object.inherits)(e.module$exports$Blockly$FieldLabel.FieldLabel,jn.Field),e.module$exports$Blockly$FieldLabel.FieldLabel.prototype.DEFAULT_VALUE="",e.module$exports$Blockly$FieldLabel.FieldLabel.fromJson=function(e){return new this((0,en.replaceMessageReferences)(e.text),void 0,e)},e.module$exports$Blockly$FieldLabel.FieldLabel.prototype.EDITABLE=!1,e.module$exports$Blockly$FieldLabel.FieldLabel.prototype.configure_=function(t){e.module$exports$Blockly$FieldLabel.FieldLabel.superClass_.configure_.call(this,t),this.class_=t.class},e.module$exports$Blockly$FieldLabel.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.class_&&(0,M.addClass)(this.textElement_,this.class_)},e.module$exports$Blockly$FieldLabel.FieldLabel.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:String(e)},e.module$exports$Blockly$FieldLabel.FieldLabel.prototype.setClass=function(e){this.textElement_&&(this.class_&&(0,M.removeClass)(this.textElement_,this.class_),e&&(0,M.addClass)(this.textElement_,e)),this.class_=e},(0,on.register)("field_label",e.module$exports$Blockly$FieldLabel.FieldLabel);var Xn={Debug:function(e){this.debugElements_=[],this.svgRoot_=null,this.constants_=e}};Xn.Debug.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0},Xn.Debug.prototype.clearElems=function(){for(var e=0;e<this.debugElements_.length;e++)(0,M.removeNode)(this.debugElements_[e]);this.debugElements_=[]},Xn.Debug.prototype.drawSpacerRow=function(e,t,n){if(Xn.Debug.config.rowSpacers){var o=Math.abs(e.height),i=0>e.height;i&&(t-=o),this.debugElements_.push((0,M.createSvgElement)(Ee.Svg.RECT,{class:"rowSpacerRect blockRenderDebug",x:n?-(e.xPos+e.width):e.xPos,y:t,width:e.width,height:o,stroke:i?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},Xn.Debug.prototype.drawSpacerElem=function(e,t,n){if(Xn.Debug.config.elemSpacers){t=Math.abs(e.width);var o=0>e.width,i=o?e.xPos-t:e.xPos;n&&(i=-(i+t)),this.debugElements_.push((0,M.createSvgElement)(Ee.Svg.RECT,{class:"elemSpacerRect blockRenderDebug",x:i,y:e.centerline-e.height/2,width:t,height:e.height,stroke:"pink",fill:o?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},Xn.Debug.prototype.drawRenderedElem=function(t,n){if(Xn.Debug.config.elems){var o=t.xPos;n&&(o=-(o+t.width)),n=t.centerline-t.height/2,this.debugElements_.push((0,M.createSvgElement)(Ee.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:o,y:n,width:t.width,height:t.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),zt.Types.isField(t)&&t.field instanceof e.module$exports$Blockly$FieldLabel.FieldLabel&&this.debugElements_.push((0,M.createSvgElement)(Ee.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:o,y:n+this.constants_.FIELD_TEXT_BASELINE,width:t.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}zt.Types.isInput(t)&&Xn.Debug.config.connections&&this.drawConnection(t.connectionModel)},Xn.Debug.prototype.drawConnection=function(t){if(Xn.Debug.config.connections){if(t.type===e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE)var n=4,o="magenta",i="none";else t.type===e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?(n=2,i=o="magenta"):t.type===e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT?(n=4,o="goldenrod",i="none"):t.type===e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT&&(n=2,i=o="goldenrod");this.debugElements_.push((0,M.createSvgElement)(Ee.Svg.CIRCLE,{class:"blockRenderDebug",cx:t.offsetInBlock_.x,cy:t.offsetInBlock_.y,r:n,fill:i,stroke:o},this.svgRoot_))}},Xn.Debug.prototype.drawRenderedRow=function(e,t,n){Xn.Debug.config.rows&&(this.debugElements_.push((0,M.createSvgElement)(Ee.Svg.RECT,{class:"elemRenderingRect blockRenderDebug",x:n?-(e.xPos+e.width):e.xPos,y:e.yPos,width:e.width,height:e.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),zt.Types.isTopOrBottomRow(e)||Xn.Debug.config.connectedBlockBounds&&this.debugElements_.push((0,M.createSvgElement)(Ee.Svg.RECT,{class:"connectedBlockWidth blockRenderDebug",x:n?-(e.xPos+e.widthWithConnectedBlocks):e.xPos,y:e.yPos,width:e.widthWithConnectedBlocks,height:e.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))},Xn.Debug.prototype.drawRowWithElements=function(e,t,n){for(var o=0;o<e.elements.length;o++){var i=e.elements[o];i?zt.Types.isSpacer(i)?this.drawSpacerElem(i,e.height,n):this.drawRenderedElem(i,n):console.warn("A row has an undefined or null element.",e,i)}this.drawRenderedRow(e,t,n)},Xn.Debug.prototype.drawBoundingBox=function(e){if(Xn.Debug.config.blockBounds){var t=e.RTL?-e.width:0;this.debugElements_.push((0,M.createSvgElement)(Ee.Svg.RECT,{class:"blockBoundingBox blockRenderDebug",x:t,y:0,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),Xn.Debug.config.connectedBlockBounds&&(t=e.RTL?-e.widthWithChildren:0,this.debugElements_.push((0,M.createSvgElement)(Ee.Svg.RECT,{class:"blockRenderDebug",x:t,y:0,width:e.widthWithChildren,height:e.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))}},Xn.Debug.prototype.drawDebug=function(e,t){this.clearElems(),this.svgRoot_=e.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);for(var n=0,o=0;o<t.rows.length;o++){var i=t.rows[o];zt.Types.isBetweenRowSpacer(i)?this.drawSpacerRow(i,n,t.RTL):this.drawRowWithElements(i,n,t.RTL),n+=i.height}e.previousConnection&&this.drawConnection(e.previousConnection),e.nextConnection&&this.drawConnection(e.nextConnection),e.outputConnection&&this.drawConnection(e.outputConnection),t.rightSide&&this.drawRenderedElem(t.rightSide,t.RTL),this.drawBoundingBox(t),this.drawRender(e.pathObject.svgPath)},Xn.Debug.prototype.drawRender=function(e){Xn.Debug.config.render&&(e.setAttribute("filter","url(#"+this.constants_.debugFilterId+")"),setTimeout((function(){e.setAttribute("filter","")}),100))};var Kn={Drawer:function(e,t){this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=t.getRenderer().getConstants()}};Kn.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),(0,Gt.isDebuggerEnabled)()&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},Kn.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},Kn.Drawer.prototype.hideHiddenIcons_=function(){for(var e,t=0;e=this.info_.hiddenIcons[t];t++)e.icon.iconGroup_.setAttribute("display","none")},Kn.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var e=1;e<this.info_.rows.length-1;e++){var t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()},Kn.Drawer.prototype.drawTop_=function(){var e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=(0,Qt.moveBy)(e.xPos,this.info_.startY);for(var n,o=0;n=t[o];o++)zt.Types.isLeftRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:zt.Types.isRightRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:zt.Types.isPreviousConnection(n)?this.outlinePath_+=n.shape.pathLeft:zt.Types.isHat(n)?this.outlinePath_+=this.constants_.START_HAT.path:zt.Types.isSpacer(n)&&(this.outlinePath_+=(0,Qt.lineOnAxis)("h",n.width));this.outlinePath_+=(0,Qt.lineOnAxis)("v",e.height)},Kn.Drawer.prototype.drawJaggedEdge_=function(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+(0,Qt.lineOnAxis)("v",e.height-this.constants_.JAGGED_TEETH.height)},Kn.Drawer.prototype.drawValueInput_=function(e){var t=e.getLastInput();this.positionExternalValueConnection_(e);var n="function"===typeof t.shape.pathDown?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=(0,Qt.lineOnAxis)("H",t.xPos+t.width)+n+(0,Qt.lineOnAxis)("v",e.height-t.connectionHeight)},Kn.Drawer.prototype.drawStatementInput_=function(e){var t=e.getLastInput(),n=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+(0,Qt.lineOnAxis)("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var o=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=(0,Qt.lineOnAxis)("H",n)+t+(0,Qt.lineOnAxis)("v",o)+this.constants_.INSIDE_CORNERS.pathBottom+(0,Qt.lineOnAxis)("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},Kn.Drawer.prototype.drawRightSideRow_=function(e){this.outlinePath_+=(0,Qt.lineOnAxis)("V",e.yPos+e.height)},Kn.Drawer.prototype.drawBottom_=function(){var e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();for(var n,o=0,i="",r=t.length-1;n=t[r];r--)zt.Types.isNextConnection(n)?i+=n.shape.pathRight:zt.Types.isLeftSquareCorner(n)?i+=(0,Qt.lineOnAxis)("H",e.xPos):zt.Types.isLeftRoundedCorner(n)?i+=this.constants_.OUTSIDE_CORNERS.bottomLeft:zt.Types.isRightRoundedCorner(n)?(i+=this.constants_.OUTSIDE_CORNERS.bottomRight,o=this.constants_.OUTSIDE_CORNERS.rightHeight):zt.Types.isSpacer(n)&&(i+=(0,Qt.lineOnAxis)("h",-1*n.width));this.outlinePath_+=(0,Qt.lineOnAxis)("V",e.baseline-o),this.outlinePath_+=i},Kn.Drawer.prototype.drawLeft_=function(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){var t=e.connectionOffsetY+e.height;e="function"===typeof e.shape.pathUp?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=(0,Qt.lineOnAxis)("V",t)+e}this.outlinePath_+="z"},Kn.Drawer.prototype.drawInternals_=function(){for(var e,t=0;e=this.info_.rows[t];t++)for(var n,o=0;n=e.elements[o];o++)zt.Types.isInlineInput(n)?this.drawInlineInput_(n):(zt.Types.isIcon(n)||zt.Types.isField(n))&&this.layoutField_(n)},Kn.Drawer.prototype.layoutField_=function(e){if(zt.Types.isField(e))var t=e.field.getSvgRoot();else zt.Types.isIcon(e)&&(t=e.icon.iconGroup_);var n=e.centerline-e.height/2,o=e.xPos,i="";this.info_.RTL&&(o=-(o+e.width),e.flipRtl&&(o+=e.width,i="scale(-1 1)")),zt.Types.isIcon(e)?(t.setAttribute("display","block"),t.setAttribute("transform","translate("+o+","+n+")"),e.icon.computeIconLocation()):t.setAttribute("transform","translate("+o+","+n+")"+i),this.info_.isInsertionMarker&&t.setAttribute("display","none")},Kn.Drawer.prototype.drawInlineInput_=function(e){var t=e.width,n=e.height,o=e.connectionOffsetY,i=e.connectionHeight+o;this.inlinePath_+=(0,Qt.moveTo)(e.xPos+e.connectionWidth,e.centerline-n/2)+(0,Qt.lineOnAxis)("v",o)+e.shape.pathDown+(0,Qt.lineOnAxis)("v",n-i)+(0,Qt.lineOnAxis)("h",t-e.connectionWidth)+(0,Qt.lineOnAxis)("v",-n)+"z",this.positionInlineInputConnection_(e)},Kn.Drawer.prototype.positionInlineInputConnection_=function(e){var t=e.centerline-e.height/2;if(e.connectionModel){var n=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY)}},Kn.Drawer.prototype.positionStatementInputConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}},Kn.Drawer.prototype.positionExternalValueConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.width;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}},Kn.Drawer.prototype.positionPreviousConnection_=function(){var e=this.info_.topRow;if(e.connection){var t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}},Kn.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-n:n,e.baseline)}},Kn.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}};var Jn={InputConnection:function(e,t){Jn.InputConnection.superClass_.constructor.call(this,e,t.connection),this.type|=zt.Types.INPUT,this.input=t,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0,this.connectionOffsetY=this.connectionOffsetX=0}};(0,e.module$exports$Blockly$utils$object.inherits)(Jn.InputConnection,Kt.Connection);var qn={ExternalValueInput:function(e,t){qn.ExternalValueInput.superClass_.constructor.call(this,e,t),this.type|=zt.Types.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}};(0,e.module$exports$Blockly$utils$object.inherits)(qn.ExternalValueInput,Jn.InputConnection);var Zn={Field:function(e,t,n){Zn.Field.superClass_.constructor.call(this,e),this.field=t,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=zt.Types.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width,this.parentInput=n}};(0,e.module$exports$Blockly$utils$object.inherits)(Zn.Field,Xt);var Qn={Hat:function(e){Qn.Hat.superClass_.constructor.call(this,e),this.type|=zt.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}};(0,e.module$exports$Blockly$utils$object.inherits)(Qn.Hat,Xt);var eo={Icon:function(e,t){eo.Icon.superClass_.constructor.call(this,e),this.icon=t,this.isVisible=t.isVisible(),this.type|=zt.Types.ICON,e=t.getCorrectedSize(),this.height=e.height,this.width=e.width}};(0,e.module$exports$Blockly$utils$object.inherits)(eo.Icon,Xt);var to={InRowSpacer:function(e,t){to.InRowSpacer.superClass_.constructor.call(this,e),this.type=this.type|zt.Types.SPACER|zt.Types.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}};(0,e.module$exports$Blockly$utils$object.inherits)(to.InRowSpacer,Xt);var no={InlineInput:function(e,t){no.InlineInput.superClass_.constructor.call(this,e,t),this.type|=zt.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY=this.isDynamicShape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=this.isDynamicShape?this.shape.connectionOffsetX(this.connectionWidth):0}};(0,e.module$exports$Blockly$utils$object.inherits)(no.InlineInput,Jn.InputConnection);var oo={InputRow:function(e){oo.InputRow.superClass_.constructor.call(this,e),this.type|=zt.Types.INPUT_ROW,this.connectedBlockWidths=0}};(0,e.module$exports$Blockly$utils$object.inherits)(oo.InputRow,Yt.Row),oo.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var e=0,t=0;t<this.elements.length;t++){var n=this.elements[t];this.width+=n.width,zt.Types.isInput(n)&&(zt.Types.isStatementInput(n)?e+=n.connectedBlockWidth:zt.Types.isExternalInput(n)&&0!==n.connectedBlockWidth&&(e+=n.connectedBlockWidth-n.connectionWidth)),zt.Types.isSpacer(n)||(this.height=Math.max(this.height,n.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e},oo.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement};var io={JaggedEdge:function(e){io.JaggedEdge.superClass_.constructor.call(this,e),this.type|=zt.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}};(0,e.module$exports$Blockly$utils$object.inherits)(io.JaggedEdge,Xt);var ro={ASTNode:function(e,t,n){if(!t)throw Error("Cannot create a node without a location.");this.type_=e,this.isConnection_=ro.ASTNode.isConnectionType_(e),this.location_=t,this.wsCoordinate_=null,this.processParams_(n||null)}};ro.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},ro.ASTNode.NAVIGATE_ALL_FIELDS=!1,ro.ASTNode.DEFAULT_OFFSET_Y=-20,ro.ASTNode.isConnectionType_=function(e){switch(e){case ro.ASTNode.types.PREVIOUS:case ro.ASTNode.types.NEXT:case ro.ASTNode.types.INPUT:case ro.ASTNode.types.OUTPUT:return!0}return!1},ro.ASTNode.createFieldNode=function(e){return e?new ro.ASTNode(ro.ASTNode.types.FIELD,e):null},ro.ASTNode.createConnectionNode=function(t){if(!t)return null;var n=t.type;return n===e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE||n===e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT&&t.getParentInput()?ro.ASTNode.createInputNode(t.getParentInput()):n===e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT?new ro.ASTNode(ro.ASTNode.types.NEXT,t):n===e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?new ro.ASTNode(ro.ASTNode.types.OUTPUT,t):n===e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT?new ro.ASTNode(ro.ASTNode.types.PREVIOUS,t):null},ro.ASTNode.createInputNode=function(e){return e&&e.connection?new ro.ASTNode(ro.ASTNode.types.INPUT,e.connection):null},ro.ASTNode.createBlockNode=function(e){return e?new ro.ASTNode(ro.ASTNode.types.BLOCK,e):null},ro.ASTNode.createStackNode=function(e){return e?new ro.ASTNode(ro.ASTNode.types.STACK,e):null},ro.ASTNode.createWorkspaceNode=function(e,t){return t&&e?new ro.ASTNode(ro.ASTNode.types.WORKSPACE,e,{wsCoordinate:t}):null};var so=function(e){var t=e.outputConnection;return(!t||e.previousConnection&&e.previousConnection.isConnected())&&(t=e.previousConnection),t};ro.ASTNode.createTopNode=function(e){var t=so(e);return t?ro.ASTNode.createConnectionNode(t):ro.ASTNode.createBlockNode(e)},ro.ASTNode.prototype.processParams_=function(e){e&&e.wsCoordinate&&(this.wsCoordinate_=e.wsCoordinate)},ro.ASTNode.prototype.getLocation=function(){return this.location_},ro.ASTNode.prototype.getType=function(){return this.type_},ro.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},ro.ASTNode.prototype.isConnection=function(){return this.isConnection_},ro.ASTNode.prototype.findNextForInput_=function(){var e=this.location_.getParentInput(),t=e.getSourceBlock();for(e=t.inputList.indexOf(e)+1;e<t.inputList.length;e++){for(var n=t.inputList[e],o=n.fieldRow,i=0;i<o.length;i++){var r=o[i];if(r.isClickable()||ro.ASTNode.NAVIGATE_ALL_FIELDS)return ro.ASTNode.createFieldNode(r)}if(n.connection)return ro.ASTNode.createInputNode(n)}return null},ro.ASTNode.prototype.findNextForField_=function(){var e=this.location_,t=e.getParentInput(),n=e.getSourceBlock(),o=n.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)+1;o<n.inputList.length;o++){for(var i=(t=n.inputList[o]).fieldRow;e<i.length;){if(i[e].isClickable()||ro.ASTNode.NAVIGATE_ALL_FIELDS)return ro.ASTNode.createFieldNode(i[e]);e++}if(e=0,t.connection)return ro.ASTNode.createInputNode(t)}return null},ro.ASTNode.prototype.findPrevForInput_=function(){for(var e=this.location_.getParentInput(),t=e.getSourceBlock(),n=t.inputList.indexOf(e);0<=n;n--){var o=t.inputList[n];if(o.connection&&o!==e)return ro.ASTNode.createInputNode(o);for(var i=(o=o.fieldRow).length-1;0<=i;i--){var r=o[i];if(r.isClickable()||ro.ASTNode.NAVIGATE_ALL_FIELDS)return ro.ASTNode.createFieldNode(r)}}return null},ro.ASTNode.prototype.findPrevForField_=function(){var e=this.location_,t=e.getParentInput(),n=e.getSourceBlock(),o=n.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)-1;0<=o;o--){var i=n.inputList[o];if(i.connection&&i!==t)return ro.ASTNode.createInputNode(i);for(i=i.fieldRow;-1<e;){if(i[e].isClickable()||ro.ASTNode.NAVIGATE_ALL_FIELDS)return ro.ASTNode.createFieldNode(i[e]);e--}0<=o-1&&(e=n.inputList[o-1].fieldRow.length-1)}return null},ro.ASTNode.prototype.navigateBetweenStacks_=function(e){var t=this.getLocation();if(t.getSourceBlock&&(t=t.getSourceBlock()),!t||!t.workspace)return null;var n=t.getRootBlock();t=n.workspace.getTopBlocks(!0);for(var o=0;o<t.length;o++)if(n.id===t[o].id)return-1===(e=o+(e?1:-1))||e===t.length?null:ro.ASTNode.createStackNode(t[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")},ro.ASTNode.prototype.findTopASTNodeForBlock_=function(e){var t=so(e);return t?ro.ASTNode.createConnectionNode(t):ro.ASTNode.createBlockNode(e)},ro.ASTNode.prototype.getOutAstNodeForBlock_=function(e){if(!e)return null;e=e.getTopStackBlock();var t=so(e);return t&&t.targetConnection&&t.targetConnection.getParentInput()?ro.ASTNode.createInputNode(t.targetConnection.getParentInput()):ro.ASTNode.createStackNode(e)},ro.ASTNode.prototype.findFirstFieldOrInput_=function(e){e=e.inputList;for(var t=0;t<e.length;t++){for(var n=e[t],o=n.fieldRow,i=0;i<o.length;i++){var r=o[i];if(r.isClickable()||ro.ASTNode.NAVIGATE_ALL_FIELDS)return ro.ASTNode.createFieldNode(r)}if(n.connection)return ro.ASTNode.createInputNode(n)}return null},ro.ASTNode.prototype.getSourceBlock=function(){return this.getType()===ro.ASTNode.types.BLOCK||this.getType()===ro.ASTNode.types.STACK?this.getLocation():this.getType()===ro.ASTNode.types.WORKSPACE?null:this.getLocation().getSourceBlock()},ro.ASTNode.prototype.next=function(){switch(this.type_){case ro.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case ro.ASTNode.types.OUTPUT:return ro.ASTNode.createBlockNode(this.location_.getSourceBlock());case ro.ASTNode.types.FIELD:return this.findNextForField_();case ro.ASTNode.types.INPUT:return this.findNextForInput_();case ro.ASTNode.types.BLOCK:return ro.ASTNode.createConnectionNode(this.location_.nextConnection);case ro.ASTNode.types.PREVIOUS:return ro.ASTNode.createBlockNode(this.location_.getSourceBlock());case ro.ASTNode.types.NEXT:return ro.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},ro.ASTNode.prototype.in=function(){switch(this.type_){case ro.ASTNode.types.WORKSPACE:var e=this.location_.getTopBlocks(!0);if(0<e.length)return ro.ASTNode.createStackNode(e[0]);break;case ro.ASTNode.types.STACK:return this.findTopASTNodeForBlock_(this.location_);case ro.ASTNode.types.BLOCK:return this.findFirstFieldOrInput_(this.location_);case ro.ASTNode.types.INPUT:return ro.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},ro.ASTNode.prototype.prev=function(){switch(this.type_){case ro.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case ro.ASTNode.types.FIELD:return this.findPrevForField_();case ro.ASTNode.types.INPUT:return this.findPrevForInput_();case ro.ASTNode.types.BLOCK:var e=so(this.location_);return ro.ASTNode.createConnectionNode(e);case ro.ASTNode.types.PREVIOUS:if((e=this.location_.targetConnection)&&!e.getParentInput())return ro.ASTNode.createConnectionNode(e);break;case ro.ASTNode.types.NEXT:return ro.ASTNode.createBlockNode(this.location_.getSourceBlock())}return null},ro.ASTNode.prototype.out=function(){switch(this.type_){case ro.ASTNode.types.STACK:var e=this.location_,t=e.getRelativeToSurfaceXY();return t=new he.Coordinate(t.x,t.y+ro.ASTNode.DEFAULT_OFFSET_Y),ro.ASTNode.createWorkspaceNode(e.workspace,t);case ro.ASTNode.types.OUTPUT:return(t=(e=this.location_).targetConnection)?ro.ASTNode.createConnectionNode(t):ro.ASTNode.createStackNode(e.getSourceBlock());case ro.ASTNode.types.FIELD:case ro.ASTNode.types.INPUT:return ro.ASTNode.createBlockNode(this.location_.getSourceBlock());case ro.ASTNode.types.BLOCK:return this.getOutAstNodeForBlock_(this.location_);case ro.ASTNode.types.PREVIOUS:case ro.ASTNode.types.NEXT:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock())}return null};var lo={MarkerMove:function(e,t,n,o){var i=e?e.workspace.id:void 0;o&&o.getType()===ro.ASTNode.types.WORKSPACE&&(i=o.getLocation().id),lo.MarkerMove.superClass_.constructor.call(this,i),this.blockId=e?e.id:null,this.oldNode=n,this.newNode=o,this.isCursor=t}};(0,e.module$exports$Blockly$utils$object.inherits)(lo.MarkerMove,Hn.UiBase),lo.MarkerMove.prototype.type=oe.MARKER_MOVE,lo.MarkerMove.prototype.toJson=function(){var e=lo.MarkerMove.superClass_.toJson.call(this);return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e},lo.MarkerMove.prototype.fromJson=function(e){lo.MarkerMove.superClass_.fromJson.call(this,e),this.isCursor=e.isCursor,this.blockId=e.blockId,this.oldNode=e.oldNode,this.newNode=e.newNode},(0,Z.register)(Z.Type.EVENT,oe.MARKER_MOVE,lo.MarkerMove);var ao={MarkerSvg:function(e,t,n){this.workspace_=e,this.marker_=n,this.parent_=null,this.constants_=t,this.currentMarkerSvg=null,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=n.colour||e}};ao.MarkerSvg.prototype.getSvgRoot=function(){return this.svgGroup_},ao.MarkerSvg.prototype.getMarker=function(){return this.marker_},ao.MarkerSvg.prototype.isCursor=function(){return"cursor"===this.marker_.type},ao.MarkerSvg.prototype.createDom=function(){var e=this.isCursor()?"blocklyCursor":"blocklyMarker";return this.svgGroup_=(0,M.createSvgElement)(Ee.Svg.G,{class:e},null),this.createDomInternal_(),this.svgGroup_},ao.MarkerSvg.prototype.setParent_=function(e){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent_=e},ao.MarkerSvg.prototype.draw=function(e,t){if(t){this.constants_=this.workspace_.getRenderer().getConstants();var n=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker_.colour||n,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent_(e,t),void 0!==(e=this.currentMarkerSvg.childNodes[0])&&e.beginElement&&e.beginElement()}else this.hide()},ao.MarkerSvg.prototype.showAtLocation_=function(t){var n=t.getLocation().type;t.getType()===ro.ASTNode.types.BLOCK?this.showWithBlock_(t):t.getType()===ro.ASTNode.types.OUTPUT?this.showWithOutput_(t):n===e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE?this.showWithInput_(t):n===e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT?this.showWithNext_(t):t.getType()===ro.ASTNode.types.PREVIOUS?this.showWithPrevious_(t):t.getType()===ro.ASTNode.types.FIELD?this.showWithField_(t):t.getType()===ro.ASTNode.types.WORKSPACE?this.showWithCoordinates_(t):t.getType()===ro.ASTNode.types.STACK&&this.showWithStack_(t)},ao.MarkerSvg.prototype.showWithBlockPrevOutput_=function(e){var t=(e=e.getSourceBlock()).width,n=e.height,o=.75*n,i=this.constants_.CURSOR_BLOCK_PADDING;e.previousConnection?(n=this.constants_.shapeFor(e.previousConnection),this.positionPrevious_(t,i,o,n)):e.outputConnection?(o=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(t,n,o)):this.positionBlock_(t,i,o),this.setParent_(e),this.showCurrent_()},ao.MarkerSvg.prototype.showWithBlock_=function(e){this.showWithBlockPrevOutput_(e)},ao.MarkerSvg.prototype.showWithPrevious_=function(e){this.showWithBlockPrevOutput_(e)},ao.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithBlockPrevOutput_(e)},ao.MarkerSvg.prototype.showWithCoordinates_=function(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace_.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},ao.MarkerSvg.prototype.showWithField_=function(e){var t=(e=e.getLocation()).getSize().width,n=e.getSize().height;this.positionRect_(0,0,t,n),this.setParent_(e),this.showCurrent_()},ao.MarkerSvg.prototype.showWithInput_=function(e){var t=(e=e.getLocation()).getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()},ao.MarkerSvg.prototype.showWithNext_=function(e){var t=e.getLocation();e=t.getSourceBlock();var n=0;t=t.getOffsetInBlock().y;var o=e.getHeightWidth().width;this.workspace_.RTL&&(n=-o),this.positionLine_(n,t,o),this.setParent_(e),this.showCurrent_()},ao.MarkerSvg.prototype.showWithStack_=function(e){var t=(e=e.getLocation()).getHeightWidth(),n=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;var o=-this.constants_.CURSOR_STACK_PADDING/2,i=-this.constants_.CURSOR_STACK_PADDING/2,r=o;this.workspace_.RTL&&(r=-(n+o)),this.positionRect_(r,i,n,t),this.setParent_(e),this.showCurrent_()},ao.MarkerSvg.prototype.showCurrent_=function(){this.hide(),this.currentMarkerSvg.style.display=""},ao.MarkerSvg.prototype.positionBlock_=function(e,t,n){e=(0,Qt.moveBy)(-t,n)+(0,Qt.lineOnAxis)("V",-t)+(0,Qt.lineOnAxis)("H",e+2*t)+(0,Qt.lineOnAxis)("V",n),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},ao.MarkerSvg.prototype.positionInput_=function(e){var t=e.getOffsetInBlock().x,n=e.getOffsetInBlock().y;e=(0,Qt.moveTo)(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+t+","+n+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_},ao.MarkerSvg.prototype.positionLine_=function(e,t,n){this.markerSvgLine_.setAttribute("x",e),this.markerSvgLine_.setAttribute("y",t),this.markerSvgLine_.setAttribute("width",n),this.currentMarkerSvg=this.markerSvgLine_},ao.MarkerSvg.prototype.positionOutput_=function(e,t,n){e=(0,Qt.moveBy)(e,0)+(0,Qt.lineOnAxis)("h",-(e-n.width))+(0,Qt.lineOnAxis)("v",this.constants_.TAB_OFFSET_FROM_TOP)+n.pathDown+(0,Qt.lineOnAxis)("V",t)+(0,Qt.lineOnAxis)("H",e),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},ao.MarkerSvg.prototype.positionPrevious_=function(e,t,n,o){e=(0,Qt.moveBy)(-t,n)+(0,Qt.lineOnAxis)("V",-t)+(0,Qt.lineOnAxis)("H",this.constants_.NOTCH_OFFSET_LEFT)+o.pathLeft+(0,Qt.lineOnAxis)("H",e+2*t)+(0,Qt.lineOnAxis)("V",n),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},ao.MarkerSvg.prototype.positionRect_=function(e,t,n,o){this.markerSvgRect_.setAttribute("x",e),this.markerSvgRect_.setAttribute("y",t),this.markerSvgRect_.setAttribute("width",n),this.markerSvgRect_.setAttribute("height",o),this.currentMarkerSvg=this.markerSvgRect_},ao.MarkerSvg.prototype.flipRtl_=function(e){e.setAttribute("transform","scale(-1 1)")},ao.MarkerSvg.prototype.hide=function(){this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"},ao.MarkerSvg.prototype.fireMarkerEvent_=function(e,t){var n=t.getSourceBlock();e=new((0,oe.get)(oe.MARKER_MOVE))(n,this.isCursor(),e,t),(0,oe.fire)(e)},ao.MarkerSvg.prototype.getBlinkProperties_=function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}},ao.MarkerSvg.prototype.createDomInternal_=function(){if(this.markerSvg_=(0,M.createSvgElement)(Ee.Svg.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=(0,M.createSvgElement)(Ee.Svg.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=(0,M.createSvgElement)(Ee.Svg.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=(0,M.createSvgElement)(Ee.Svg.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=(0,M.createSvgElement)(Ee.Svg.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();(0,M.createSvgElement)(Ee.Svg.ANIMATE,e,this.markerSvgLine_),(0,M.createSvgElement)(Ee.Svg.ANIMATE,e,this.markerInput_),e.attributeName="stroke",(0,M.createSvgElement)(Ee.Svg.ANIMATE,e,this.markerBlock_)}return this.markerSvg_},ao.MarkerSvg.prototype.applyColour_=function(e){this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstChild.setAttribute("values",e),this.markerInput_.firstChild.setAttribute("values",e),this.markerBlock_.firstChild.setAttribute("values",e))},ao.MarkerSvg.prototype.dispose=function(){this.svgGroup_&&(0,M.removeNode)(this.svgGroup_)};var co={NextConnection:function(e,t){co.NextConnection.superClass_.constructor.call(this,e,t),this.type|=zt.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}};(0,e.module$exports$Blockly$utils$object.inherits)(co.NextConnection,Kt.Connection);var uo={OutputConnection:function(e,t){uo.OutputConnection.superClass_.constructor.call(this,e,t),this.type|=zt.Types.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=0}};(0,e.module$exports$Blockly$utils$object.inherits)(uo.OutputConnection,Kt.Connection);var po={PathObject:function(e,t,n){this.constants=n,this.svgRoot=e,this.svgPath=(0,M.createSvgElement)(Ee.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.style=t,this.markerSvg=this.cursorSvg=null}};po.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e)},po.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},po.PathObject.prototype.setCursorSvg=function(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null},po.PathObject.prototype.setMarkerSvg=function(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null},po.PathObject.prototype.applyColour=function(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())},po.PathObject.prototype.setStyle=function(e){this.style=e},po.PathObject.prototype.setClass_=function(e,t){t?(0,M.addClass)(this.svgRoot,e):(0,M.removeClass)(this.svgRoot,e)},po.PathObject.prototype.updateHighlighted=function(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")},po.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},po.PathObject.prototype.updateDisabled_=function(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")},po.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e)},po.PathObject.prototype.updateDraggingDelete=function(e){this.setClass_("blocklyDraggingDelete",e)},po.PathObject.prototype.updateInsertionMarker=function(e){this.setClass_("blocklyInsertionMarker",e)},po.PathObject.prototype.updateMovable=function(e){this.setClass_("blocklyDraggable",e)},po.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e)},po.PathObject.prototype.updateShapeForInputHighlight=function(e,t){};var ho={PreviousConnection:function(e,t){ho.PreviousConnection.superClass_.constructor.call(this,e,t),this.type|=zt.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}};(0,e.module$exports$Blockly$utils$object.inherits)(ho.PreviousConnection,Kt.Connection),e.module$exports$Blockly$Input={Align:{LEFT:-1,CENTRE:0,RIGHT:1},Input:function(t,n,o,i){if(t!==e.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&!n)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=t,this.name=n,this.sourceBlock_=o,this.connection=i,this.fieldRow=[]}},e.module$exports$Blockly$Input.Input.prototype.align=e.module$exports$Blockly$Input.Align.LEFT,e.module$exports$Blockly$Input.Input.prototype.visible_=!0,e.module$exports$Blockly$Input.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},e.module$exports$Blockly$Input.Input.prototype.appendField=function(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this},e.module$exports$Blockly$Input.Input.prototype.insertFieldAt=function(e,t,n){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return t||""===t&&n?("string"===typeof t&&(t=(0,on.fromJson)({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&(t.init(),t.applyColour()),t.name=n,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),e):e},e.module$exports$Blockly$Input.Input.prototype.removeField=function(e,t){for(var n,o=0;n=this.fieldRow[o];o++)if(n.name===e)return n.dispose(),this.fieldRow.splice(o,1),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')},e.module$exports$Blockly$Input.Input.prototype.isVisible=function(){return this.visible_},e.module$exports$Blockly$Input.Input.prototype.setVisible=function(e){var t=[];if(this.visible_===e)return t;this.visible_=e;for(var n,o=0;n=this.fieldRow[o];o++)n.setVisible(e);return this.connection&&(this.connection=this.connection,e?t=this.connection.startTrackingAll():this.connection.stopTrackingAll(),o=this.connection.targetBlock())&&(o.getSvgRoot().style.display=e?"block":"none"),t},e.module$exports$Blockly$Input.Input.prototype.markDirty=function(){for(var e,t=0;e=this.fieldRow[t];t++)e.markDirty()},e.module$exports$Blockly$Input.Input.prototype.setCheck=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this},e.module$exports$Blockly$Input.Input.prototype.setAlign=function(e){return this.align=e,this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render()),this},e.module$exports$Blockly$Input.Input.prototype.setShadowDom=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this},e.module$exports$Blockly$Input.Input.prototype.getShadowDom=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()},e.module$exports$Blockly$Input.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()},e.module$exports$Blockly$Input.Input.prototype.dispose=function(){for(var e,t=0;e=this.fieldRow[t];t++)e.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null};var fo={RoundCorner:function(e,t){fo.RoundCorner.superClass_.constructor.call(this,e),this.type=(t&&"left"!==t?zt.Types.RIGHT_ROUND_CORNER:zt.Types.LEFT_ROUND_CORNER)|zt.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}};(0,e.module$exports$Blockly$utils$object.inherits)(fo.RoundCorner,Xt);var go={SpacerRow:function(e,t,n){go.SpacerRow.superClass_.constructor.call(this,e),this.type=this.type|zt.Types.SPACER|zt.Types.BETWEEN_ROW_SPACER,this.width=n,this.height=t,this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new to.InRowSpacer(this.constants_,n)]}};(0,e.module$exports$Blockly$utils$object.inherits)(go.SpacerRow,Yt.Row),go.SpacerRow.prototype.measure=function(){};var _o={SquareCorner:function(e,t){_o.SquareCorner.superClass_.constructor.call(this,e),this.type=(t&&"left"!==t?zt.Types.RIGHT_SQUARE_CORNER:zt.Types.LEFT_SQUARE_CORNER)|zt.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING}};(0,e.module$exports$Blockly$utils$object.inherits)(_o.SquareCorner,Xt);var mo={StatementInput:function(e,t){mo.StatementInput.superClass_.constructor.call(this,e,t),this.type|=zt.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}};(0,e.module$exports$Blockly$utils$object.inherits)(mo.StatementInput,Jn.InputConnection);var yo={TopRow:function(e){yo.TopRow.superClass_.constructor.call(this,e),this.type|=zt.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null}};(0,e.module$exports$Blockly$utils$object.inherits)(yo.TopRow,Yt.Row),yo.TopRow.prototype.hasLeftSquareCorner=function(e){var t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,n=e.getPreviousBlock();return!!e.outputConnection||t||!!n&&n.getNextBlock()===e},yo.TopRow.prototype.hasRightSquareCorner=function(e){return!0},yo.TopRow.prototype.measure=function(){for(var e=0,t=0,n=0,o=0;o<this.elements.length;o++){var i=this.elements[o];t+=i.width,zt.Types.isSpacer(i)||(zt.Types.isHat(i)?n=Math.max(n,i.ascenderHeight):e=Math.max(e,i.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+n,this.capline=this.ascenderHeight=n,this.widthWithConnectedBlocks=this.width},yo.TopRow.prototype.startsWithElemSpacer=function(){return!1},yo.TopRow.prototype.endsWithElemSpacer=function(){return!1};var vo={RenderInfo:function(e,t){this.block_=t,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new uo.OutputConnection(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.topRow=new yo.TopRow(this.constants_),this.bottomRow=new jt.BottomRow(this.constants_),this.startY=this.startX=0}};vo.RenderInfo.prototype.getRenderer=function(){return this.renderer_},vo.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},vo.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var e=new oo.InputRow(this.constants_);this.inputRows.push(e);for(var t,n=this.block_.getIcons(),o=0;t=n[o];o++){var i=new eo.Icon(this.constants_,t);this.isCollapsed&&t.collapseHidden?this.hiddenIcons.push(i):e.elements.push(i)}for(t=null,n=0;o=this.block_.inputList[n];n++)if(o.isVisible()){for(this.shouldStartNewRow_(o,t)&&(this.rows.push(e),e=new oo.InputRow(this.constants_),this.inputRows.push(e)),t=0;i=o.fieldRow[t];t++)e.elements.push(new Zn.Field(this.constants_,i,o));this.addInput_(o,e),t=o}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new io.JaggedEdge(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)},vo.RenderInfo.prototype.populateTopRow_=function(){var t=!!this.block_.previousConnection,n=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!t,o=this.topRow.hasLeftSquareCorner(this.block_)?_o.SquareCorner:fo.RoundCorner;this.topRow.elements.push(new o(this.constants_)),n?(t=new Qn.Hat(this.constants_),this.topRow.elements.push(t),this.topRow.capline=t.ascenderHeight):t&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new ho.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0].type===e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,o=this.topRow.hasRightSquareCorner(this.block_)?_o.SquareCorner:fo.RoundCorner,this.topRow.elements.push(new o(this.constants_,"right"))},vo.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type===e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new _o.SquareCorner(this.constants_)):this.bottomRow.elements.push(new fo.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new co.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new _o.SquareCorner(this.constants_,"right")):this.bottomRow.elements.push(new fo.RoundCorner(this.constants_,"right"))},vo.RenderInfo.prototype.addInput_=function(t,n){this.isInline&&t.type===e.module$exports$Blockly$inputTypes.inputTypes.VALUE?(n.elements.push(new no.InlineInput(this.constants_,t)),n.hasInlineInput=!0):t.type===e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT?(n.elements.push(new mo.StatementInput(this.constants_,t)),n.hasStatement=!0):t.type===e.module$exports$Blockly$inputTypes.inputTypes.VALUE?(n.elements.push(new qn.ExternalValueInput(this.constants_,t)),n.hasExternalInput=!0):t.type===e.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,t.getSourceBlock()&&t.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),null===n.align&&(n.align=t.align)},vo.RenderInfo.prototype.shouldStartNewRow_=function(t,n){return!!n&&(t.type===e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT||n.type===e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT||(t.type===e.module$exports$Blockly$inputTypes.inputTypes.VALUE||t.type===e.module$exports$Blockly$inputTypes.inputTypes.DUMMY)&&!this.isInline)},vo.RenderInfo.prototype.addElemSpacing_=function(){for(var e,t=0;e=this.rows[t];t++){var n=e.elements;if(e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new to.InRowSpacer(this.constants_,this.getInRowSpacing_(null,n[0]))),n.length){for(var o=0;o<n.length-1;o++){e.elements.push(n[o]);var i=this.getInRowSpacing_(n[o],n[o+1]);e.elements.push(new to.InRowSpacer(this.constants_,i))}e.elements.push(n[n.length-1]),e.endsWithElemSpacer()&&e.elements.push(new to.InRowSpacer(this.constants_,this.getInRowSpacing_(n[n.length-1],null)))}}},vo.RenderInfo.prototype.getInRowSpacing_=function(e,t){if(!e&&t&&zt.Types.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&zt.Types.isInput(e)&&!t){if(zt.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(zt.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(zt.Types.isStatementInput(e))return this.constants_.NO_PADDING}return e&&zt.Types.isLeftSquareCorner(e)&&t&&(zt.Types.isPreviousConnection(t)||zt.Types.isNextConnection(t))?t.notchOffset:e&&zt.Types.isLeftRoundedCorner(e)&&t&&(zt.Types.isPreviousConnection(t)||zt.Types.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},vo.RenderInfo.prototype.computeBounds_=function(){for(var e,t=0,n=0,o=0,i=0;e=this.rows[i];i++){if(e.measure(),n=Math.max(n,e.width),e.hasStatement){var r=e.getLastInput();t=Math.max(t,e.width-r.width)}o=Math.max(o,e.widthWithConnectedBlocks)}for(this.statementEdge=t,this.width=n,t=0;i=this.rows[t];t++)i.hasStatement&&(i.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(n,o),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},vo.RenderInfo.prototype.alignRowElements_=function(){for(var e,t=0;e=this.rows[t];t++)if(e.hasStatement)this.alignStatementRow_(e);else{var n=e.width;0<(n=this.getDesiredRowWidth_(e)-n)&&this.addAlignmentPadding_(e,n),zt.Types.isTopOrBottomRow(e)&&(e.widthWithConnectedBlocks=e.width)}},vo.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.width-this.startX},vo.RenderInfo.prototype.addAlignmentPadding_=function(t,n){var o=t.getFirstSpacer(),i=t.getLastSpacer();(t.hasExternalInput||t.hasStatement)&&(t.widthWithConnectedBlocks+=n),t.align===e.module$exports$Blockly$Input.Align.LEFT?i.width+=n:t.align===e.module$exports$Blockly$Input.Align.CENTRE?(o.width+=n/2,i.width+=n/2):t.align===e.module$exports$Blockly$Input.Align.RIGHT?o.width+=n:i.width+=n,t.width+=n},vo.RenderInfo.prototype.alignStatementRow_=function(e){var t=e.getLastInput(),n=e.width-t.width,o=this.statementEdge;0<(n=o-n)&&this.addAlignmentPadding_(e,n),n=e.width,o=this.getDesiredRowWidth_(e),t.width+=o-n,t.height=Math.max(t.height,e.height),e.width+=o-n,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)},vo.RenderInfo.prototype.addRowSpacing_=function(){var e=this.rows;this.rows=[];for(var t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))},vo.RenderInfo.prototype.makeSpacerRow_=function(e,t){var n=this.getSpacerRowHeight_(e,t),o=this.getSpacerRowWidth_(e,t);return n=new go.SpacerRow(this.constants_,n,o),e.hasStatement&&(n.followsStatement=!0),t.hasStatement&&(n.precedesStatement=!0),n},vo.RenderInfo.prototype.getSpacerRowWidth_=function(e,t){return this.width-this.startX},vo.RenderInfo.prototype.getSpacerRowHeight_=function(e,t){return this.constants_.MEDIUM_PADDING},vo.RenderInfo.prototype.getElemCenterline_=function(e,t){return zt.Types.isSpacer(t)?e.yPos+t.height/2:zt.Types.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,zt.Types.isNextConnection(t)?e+t.height/2:e-t.height/2):zt.Types.isTopRow(e)?zt.Types.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2},vo.RenderInfo.prototype.recordElemPositions_=function(e){for(var t,n=e.xPos,o=0;t=e.elements[o];o++)zt.Types.isSpacer(t)&&(t.height=e.height),t.xPos=n,t.centerline=this.getElemCenterline_(e,t),n+=t.width},vo.RenderInfo.prototype.finalize_=function(){for(var e,t=0,n=0,o=0;e=this.rows[o];o++)e.yPos=n,e.xPos=this.startX,n+=e.height,t=Math.max(t,e.widthWithConnectedBlocks),this.recordElemPositions_(e);this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(t=Math.max(t,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.widthWithChildren=t+this.startX,this.height=n,this.startY=this.topRow.capline,this.bottomRow.baseline=n-this.bottomRow.descenderHeight};var To={Renderer:function(e){this.name=e,this.overrides=this.constants_=null}};To.Renderer.prototype.getClassName=function(){return this.name+"-renderer"},To.Renderer.prototype.init=function(t,n){this.constants_=this.makeConstants_(),n&&(this.overrides=n,(0,e.module$exports$Blockly$utils$object.mixin)(this.constants_,n)),this.constants_.setTheme(t),this.constants_.init()},To.Renderer.prototype.createDom=function(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())},To.Renderer.prototype.refreshDom=function(t,n){var o=this.getConstants();o.dispose(),this.constants_=this.makeConstants_(),this.overrides&&(0,e.module$exports$Blockly$utils$object.mixin)(this.constants_,this.overrides),this.constants_.randomIdentifier=o.randomIdentifier,this.constants_.setTheme(n),this.constants_.init(),this.createDom(t,n)},To.Renderer.prototype.dispose=function(){this.constants_&&this.constants_.dispose()},To.Renderer.prototype.makeConstants_=function(){return new nn.ConstantProvider},To.Renderer.prototype.makeRenderInfo_=function(e){return new vo.RenderInfo(this,e)},To.Renderer.prototype.makeDrawer_=function(e,t){return new Kn.Drawer(e,t)},To.Renderer.prototype.makeDebugger_=function(){var e=Xn.Debug;if(!e)throw Error("Missing require for Blockly.blockRendering.Debug");return new e(this.getConstants())},To.Renderer.prototype.makeMarkerDrawer=function(e,t){return new ao.MarkerSvg(e,this.getConstants(),t)},To.Renderer.prototype.makePathObject=function(e,t){return new po.PathObject(e,t,this.constants_)},To.Renderer.prototype.getConstants=function(){return this.constants_},To.Renderer.prototype.shouldHighlightConnection=function(e){return!0},To.Renderer.prototype.orphanCanConnectAtEnd=function(t,n,o){return!!wn.Connection.getConnectionForOrphanedConnection(t,o===e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?n.outputConnection:n.previousConnection)},To.Renderer.prototype.getConnectionPreviewMethod=function(t,n,o){return n.type===e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE||n.type===e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT?!t.isConnected()||this.orphanCanConnectAtEnd(o,t.targetBlock(),n.type)?Un.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:Un.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:Un.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER},To.Renderer.prototype.render=function(e){(0,Gt.isDebuggerEnabled)()&&!e.renderingDebugger&&(e.renderingDebugger=this.makeDebugger_());var t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()};var Eo,ko={isDebuggerEnabled:function(){return(0,a.warn)("Blockly.blockRendering.isDebuggerEnabled()","September 2021","September 2022","Blockly.blockRendering.debug.isDebuggerEnabled()"),(0,Gt.isDebuggerEnabled)()},register:function(e,t){(0,Z.register)(Z.Type.RENDERER,e,t)},unregister:function(e){(0,Z.unregister)(Z.Type.RENDERER,e)},startDebugger:function(){(0,a.warn)("Blockly.blockRendering.startDebugger()","September 2021","September 2022","Blockly.blockRendering.debug.startDebugger()"),(0,Gt.startDebugger)()},stopDebugger:function(){(0,a.warn)("Blockly.blockRendering.stopDebugger()","September 2021","September 2022","Blockly.blockRendering.debug.stopDebugger()"),(0,Gt.stopDebugger)()},init:function(e,t,n){return(e=new((0,Z.getClass)(Z.Type.RENDERER,e))(e)).init(t,n),e}};ko.BottomRow=jt.BottomRow,ko.Connection=Kt.Connection,ko.ConstantProvider=nn.ConstantProvider,ko.Debug=Xn.Debug,ko.Drawer=Kn.Drawer,ko.ExternalValueInput=qn.ExternalValueInput,ko.Field=Zn.Field,ko.Hat=Qn.Hat,ko.Icon=eo.Icon,ko.InRowSpacer=to.InRowSpacer,ko.InlineInput=no.InlineInput,ko.InputConnection=Jn.InputConnection,ko.InputRow=oo.InputRow,ko.IPathObject=function(e,t){},ko.JaggedEdge=io.JaggedEdge,ko.MarkerSvg=ao.MarkerSvg,ko.Measurable=Xt,ko.NextConnection=co.NextConnection,ko.OutputConnection=uo.OutputConnection,ko.PathObject=po.PathObject,ko.PreviousConnection=ho.PreviousConnection,ko.Renderer=To.Renderer,ko.RenderInfo=vo.RenderInfo,ko.RoundCorner=fo.RoundCorner,ko.Row=Yt.Row,ko.SpacerRow=go.SpacerRow,ko.SquareCorner=_o.SquareCorner,ko.StatementInput=mo.StatementInput,ko.TopRow=yo.TopRow,ko.Types=zt.Types,ko.debug=Gt,e.module$exports$Blockly$Extensions={},Eo=Object.create(null),e.module$exports$Blockly$Extensions.TEST_ONLY={allExtensions:Eo},e.module$exports$Blockly$Extensions.register=function(e,t){if("string"!==typeof e||""===e.trim())throw Error('Error: Invalid extension name "'+e+'"');if(Eo[e])throw Error('Error: Extension "'+e+'" is already registered.');if("function"!==typeof t)throw Error('Error: Extension "'+e+'" must be a function');Eo[e]=t},e.module$exports$Blockly$Extensions.registerMixin=function(t,n){if(!n||"object"!==typeof n)throw Error('Error: Mixin "'+t+'" must be a object');(0,e.module$exports$Blockly$Extensions.register)(t,(function(){this.mixin(n)}))},e.module$exports$Blockly$Extensions.registerMutator=function(t,n,o,i){var r='Error when registering mutator "'+t+'": ';Io(r,n);var s=Co(n,r);if(o&&"function"!==typeof o)throw Error(r+'Extension "'+t+'" is not a function');(0,e.module$exports$Blockly$Extensions.register)(t,(function(){if(s){var t=e.module$exports$Blockly$Mutator.Mutator;if(!t)throw Error(r+"Missing require for Blockly.Mutator");this.setMutator(new t(i||[]))}this.mixin(n),o&&o.apply(this)}))},e.module$exports$Blockly$Extensions.unregister=function(t){(0,e.module$exports$Blockly$Extensions.isRegistered)(t)?delete Eo[t]:console.warn('No extension mapping for name "'+t+'" found to unregister')},e.module$exports$Blockly$Extensions.isRegistered=function(e){return!!Eo[e]},e.module$exports$Blockly$Extensions.apply=function(e,t,n){var o,i=Eo[e];if("function"!==typeof i)throw Error('Error: Extension "'+e+'" not found.');if(n?bo(e,t):o=Ro(t),i.apply(t),n)Io('Error after applying mutator "'+e+'": ',t);else if(!Oo(o,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')};var bo=function(e,t){if(Ro(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},Co=function(e,t){return So(e.compose,e.decompose,t+" compose/decompose")},So=function(e,t,n){if(e&&t){if("function"!==typeof e||"function"!==typeof t)throw Error(n+" must be a function");return!0}if(!e&&!t)return!1;throw Error(n+"Must have both or neither functions")},Io=function(e,t){var n=function(e,t){return So(e.mutationToDom,e.domToMutation,t+" mutationToDom/domToMutation")}(t,e),o=function(e,t){return So(e.saveExtraState,e.loadExtraState,t+" saveExtraState/loadExtraState")}(t,e);if(!n&&!o)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");Co(t,e)},Ro=function(e){var t=[];return void 0!==e.domToMutation&&t.push(e.domToMutation),void 0!==e.mutationToDom&&t.push(e.mutationToDom),void 0!==e.saveExtraState&&t.push(e.saveExtraState),void 0!==e.loadExtraState&&t.push(e.loadExtraState),void 0!==e.compose&&t.push(e.compose),void 0!==e.decompose&&t.push(e.decompose),t},Oo=function(e,t){if((t=Ro(t)).length!==e.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0};e.module$exports$Blockly$Extensions.runAfterPageLoad=function(e){if("object"!==typeof document)throw Error("runAfterPageLoad() requires browser document.");if("complete"===document.readyState)e();else var t=setInterval((function(){"complete"===document.readyState&&(clearInterval(t),e())}),10)},e.module$exports$Blockly$Extensions.buildTooltipForDropdown=function(t,n){var o=[];return"object"===typeof document&&(0,e.module$exports$Blockly$Extensions.runAfterPageLoad)((function(){for(var e in n)(0,en.checkMessageReferences)(n[e])})),function(){this.type&&-1===o.indexOf(this.type)&&(wo(this,t,n),o.push(this.type)),this.setTooltip(function(){var e=String(this.getFieldValue(t)),i=n[e];return null===i?-1===o.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+t,null!==this.type&&(e+=" of block type "+this.type),console.warn(e+".")):i=(0,en.replaceMessageReferences)(i),i}.bind(this))}};var wo=function(e,t,n){var o=e.getField(t);if(!o.isOptionListDynamic()){o=o.getOptions();for(var i=0;i<o.length;i++){var r=o[i][1];null===n[r]&&console.warn("No tooltip mapping for value "+r+" of field "+t+" of block type "+e.type)}}};e.module$exports$Blockly$Extensions.buildTooltipWithFieldText=function(t,n){return"object"===typeof document&&(0,e.module$exports$Blockly$Extensions.runAfterPageLoad)((function(){(0,en.checkMessageReferences)(t)})),function(){this.setTooltip(function(){var e=this.getField(n);return(0,en.replaceMessageReferences)(t).replace("%1",e?e.getText():"")}.bind(this))}},(0,e.module$exports$Blockly$Extensions.register)("parent_tooltip_when_inline",(function(){this.tooltipWhenNotConnected=this.tooltip,this.setTooltip(function(){var e=this.getParent();return e&&e.getInputsInline()&&e.tooltip||this.tooltipWhenNotConnected}.bind(this))}));var Bo={aria:X,colour:Jt};Bo.Coordinate=he.Coordinate,Bo.deprecation=a,Bo.dom=M,Bo.global=e.module$exports$Blockly$utils$global.globalThis,Bo.idGenerator=K,Bo.KeyCodes=et,Bo.math=ce,Bo.Metrics=function(){},Bo.object=e.module$exports$Blockly$utils$object,Bo.parsing=en,Bo.Rect=me.Rect,Bo.Size=de.Size,Bo.string=e.module$exports$Blockly$utils$string,Bo.style=fe,Bo.Svg=Ee.Svg,Bo.svgPaths=Qt,Bo.svgMath=ye,Bo.toolbox=Ve,Bo.userAgent=f,Bo.xml=e.module$exports$Blockly$utils$xml,Bo.noEvent=function(e){(0,a.warn)("Blockly.utils.noEvent","September 2021","September 2022"),e.preventDefault(),e.stopPropagation()},Bo.isTargetInput=function(e){return(0,a.warn)("Blockly.utils.isTargetInput","September 2021","September 2022","Blockly.browserEvents.isTargetInput"),(0,_.isTargetInput)(e)},Bo.getRelativeXY=function(e){return(0,a.warn)("Blockly.utils.getRelativeXY","December 2021","December 2022","Blockly.utils.svgMath.getRelativeXY"),(0,ye.getRelativeXY)(e)},Bo.getInjectionDivXY_=function(e){return(0,a.warn)("Blockly.utils.getInjectionDivXY_","December 2021","December 2022","Blockly.utils.svgMath.getInjectionDivXY"),(0,ye.getInjectionDivXY)(e)},Bo.isRightButton=function(e){return(0,a.warn)("Blockly.utils.isRightButton","September 2021","September 2022","Blockly.browserEvents.isRightButton"),(0,_.isRightButton)(e)},Bo.mouseToSvg=function(e,t,n){return(0,a.warn)("Blockly.utils.mouseToSvg","September 2021","September 2022","Blockly.browserEvents.mouseToSvg"),(0,_.mouseToSvg)(e,t,n)},Bo.getScrollDeltaPixels=function(e){return(0,a.warn)("Blockly.utils.getScrollDeltaPixels","September 2021","September 2022","Blockly.browserEvents.getScrollDeltaPixels"),(0,_.getScrollDeltaPixels)(e)},Bo.tokenizeInterpolation=function(e){return(0,a.warn)("Blockly.utils.tokenizeInterpolation","December 2021","December 2022","Blockly.utils.parsing.tokenizeInterpolation"),(0,en.tokenizeInterpolation)(e)},Bo.replaceMessageReferences=function(e){return(0,a.warn)("Blockly.utils.replaceMessageReferences","December 2021","December 2022","Blockly.utils.parsing.replaceMessageReferences"),(0,en.replaceMessageReferences)(e)},Bo.checkMessageReferences=function(e){return(0,a.warn)("Blockly.utils.checkMessageReferences","December 2021","December 2022","Blockly.utils.parsing.checkMessageReferences"),(0,en.checkMessageReferences)(e)},Bo.genUid=function(){return(0,a.warn)("Blockly.utils.genUid","September 2021","September 2022","Blockly.utils.idGenerator.genUid"),(0,K.genUid)()},Bo.is3dSupported=function(){return(0,a.warn)("Blockly.utils.is3dSupported","December 2021","December 2022","Blockly.utils.svgMath.is3dSupported"),(0,ye.is3dSupported)()},Bo.getViewportBBox=function(){return(0,a.warn)("Blockly.utils.getViewportBBox","December 2021","December 2022","Blockly.utils.svgMath.getViewportBBox"),(0,ye.getViewportBBox)()},Bo.arrayRemove=function(e,t){return(0,a.warn)("Blockly.utils.arrayRemove","December 2021","December 2022"),Vt(e,t)},Bo.getDocumentScroll=function(){return(0,a.warn)("Blockly.utils.getDocumentScroll","December 2021","December 2022","Blockly.utils.svgMath.getDocumentScroll"),(0,ye.getDocumentScroll)()},Bo.getBlockTypeCounts=function(t,n){return(0,a.warn)("Blockly.utils.getBlockTypeCounts","December 2021","December 2022","Blockly.common.getBlockTypeCounts"),(0,e.module$exports$Blockly$common.getBlockTypeCounts)(t,n)},Bo.screenToWsCoordinates=function(e,t){return(0,a.warn)("Blockly.utils.screenToWsCoordinates","December 2021","December 2022","Blockly.utils.svgMath.screenToWsCoordinates"),(0,ye.screenToWsCoordinates)(e,t)},Bo.parseBlockColour=function(e){return(0,a.warn)("Blockly.utils.parseBlockColour","December 2021","December 2022","Blockly.utils.parsing.parseBlockColour"),(0,en.parseBlockColour)(e)},Bo.runAfterPageLoad=function(t){(0,a.warn)("Blockly.utils.runAfterPageLoad","December 2021","December 2022"),(0,e.module$exports$Blockly$Extensions.runAfterPageLoad)(t)};var Ao={BlockDelete:function(t){if(Ao.BlockDelete.superClass_.constructor.call(this,t),t){if(t.getParent())throw Error("Connected blocks cannot be deleted.");t.isShadow()&&(this.recordUndo=!1),this.oldXml=(0,e.module$exports$Blockly$Xml.blockToDomWithXY)(t),this.ids=(0,oe.getDescendantIds)(t),this.wasShadow=t.isShadow(),this.oldJson=(0,pt.save)(t,{addCoordinates:!0})}}};(0,e.module$exports$Blockly$utils$object.inherits)(Ao.BlockDelete,Dt.BlockBase),Ao.BlockDelete.prototype.type=oe.DELETE,Ao.BlockDelete.prototype.toJson=function(){var t=Ao.BlockDelete.superClass_.toJson.call(this);return t.oldXml=(0,e.module$exports$Blockly$Xml.domToText)(this.oldXml),t.ids=this.ids,t.wasShadow=this.wasShadow,t.oldJson=this.oldJson,this.recordUndo||(t.recordUndo=this.recordUndo),t},Ao.BlockDelete.prototype.fromJson=function(t){Ao.BlockDelete.superClass_.fromJson.call(this,t),this.oldXml=(0,e.module$exports$Blockly$Xml.textToDom)(t.oldXml),this.ids=t.ids,this.wasShadow=t.wasShadow||"shadow"===this.oldXml.tagName.toLowerCase(),this.oldJson=t.oldJson,void 0!==t.recordUndo&&(this.recordUndo=t.recordUndo)},Ao.BlockDelete.prototype.run=function(e){var t=this.getEventWorkspace_();if(e)for(e=0;e<this.ids.length;e++){var n=this.ids[e],o=t.getBlockById(n);o?o.dispose(!1):n===this.blockId&&console.warn("Can't delete non-existent block: "+n)}else(0,pt.append)(this.oldJson,t)},(0,Z.register)(Z.Type.EVENT,oe.DELETE,Ao.BlockDelete);var xo={Block:function(t,n,o){var i=e.module$exports$Blockly$Generator.Generator;if(i&&"undefined"!==typeof i.prototype[n])throw Error('Block prototypeName "'+n+'" conflicts with Blockly.Generator members.');if(this.id=o&&!t.getBlockById(o)?o:(0,K.genUid)(),t.setBlockById(this.id,this),this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=this.outputShape_=null,this.commentModel={text:null,pinned:!1,size:new de.Size(160,80)},this.xy_=new he.Coordinate(0,0),this.workspace=t,this.isInFlyout=t.isFlyout,this.isInMutator=t.isMutator,this.RTL=t.RTL,this.isInsertionMarker_=!1,this.hat=void 0,this.rendered=null,this.statementInputCount=0,n){if(this.type=n,!(o=e.module$exports$Blockly$blocks.Blocks[n])||"object"!==typeof o)throw TypeError("Unknown block type: "+n);(0,e.module$exports$Blockly$utils$object.mixin)(this,o)}t.addTopBlock(this),t.addTypedBlock(this),(t=(0,oe.getGroup)())||(0,oe.setGroup)(!0),n=(0,oe.getRecordUndo)();try{"function"===typeof this.init&&((0,oe.setRecordUndo)(!1),this.init(),(0,oe.setRecordUndo)(n)),(0,oe.isEnabled)()&&(0,oe.fire)(new((0,oe.get)(oe.CREATE))(this))}finally{t||(0,oe.setGroup)(!1),(0,oe.setRecordUndo)(n)}this.inputsInlineDefault=this.inputsInline,"function"===typeof this.onchange&&this.setOnChange(this.onchange)}};xo.Block.COLLAPSED_INPUT_NAME=On.COLLAPSED_INPUT_NAME,xo.Block.COLLAPSED_FIELD_NAME=On.COLLAPSED_FIELD_NAME,xo.Block.prototype.data=null,xo.Block.prototype.disposed=!1,xo.Block.prototype.hue_=null,xo.Block.prototype.colour_="#000000",xo.Block.prototype.styleName_="",xo.Block.prototype.dispose=function(t){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(t),(0,oe.isEnabled)()&&(0,oe.fire)(new((0,oe.get)(oe.DELETE))(this)),(0,oe.disable)();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.workspace=null),(0,e.module$exports$Blockly$common.getSelected)()===this&&(0,e.module$exports$Blockly$common.setSelected)(null);for(var n=this.childBlocks_.length-1;0<=n;n--)this.childBlocks_[n].dispose(!1);for(t=0,n=void 0;n=this.inputList[t];t++)n.dispose();this.inputList.length=0;var o=this.getConnections_(!0);for(t=0,n=void 0;n=o[t];t++)n.dispose()}finally{(0,oe.enable)(),this.disposed=!0}}},xo.Block.prototype.initModel=function(){for(var e,t=0;e=this.inputList[t];t++)for(var n,o=0;n=e.fieldRow[o];o++)n.initModel&&n.initModel()},xo.Block.prototype.unplug=function(e){this.outputConnection&&this.unplugFromRow_(e),this.previousConnection&&this.unplugFromStack_(e)},xo.Block.prototype.unplugFromRow_=function(e){var t=null;this.outputConnection.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&((e=e.targetConnection).disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):e.onFailedConnect(t))},xo.Block.prototype.getOnlyValueConnection_=function(){for(var t=null,n=0;n<this.inputList.length;n++){var o=this.inputList[n].connection;if(o&&o.type===e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE&&o.targetConnection){if(t)return null;t=o}}return t},xo.Block.prototype.unplugFromStack_=function(e){var t=null;this.previousConnection.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect());var n=this.getNextBlock();e&&n&&!n.isShadow()&&((e=this.nextConnection.targetConnection).disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e))},xo.Block.prototype.getConnections_=function(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(var t,n=0;t=this.inputList[n];n++)t.connection&&e.push(t.connection);return e},xo.Block.prototype.lastConnectionInStack=function(e){for(var t=this.nextConnection;t;){var n=t.targetBlock();if(!n||e&&n.isShadow())return t;t=n.nextConnection}return null},xo.Block.prototype.bumpNeighbours=function(){},xo.Block.prototype.getParent=function(){return this.parentBlock_},xo.Block.prototype.getInputWithBlock=function(e){for(var t,n=0;t=this.inputList[n];n++)if(t.connection&&t.connection.targetBlock()===e)return t;return null},xo.Block.prototype.getSurroundParent=function(){var e=this;do{var t=e;if(!(e=e.getParent()))return null}while(e.getNextBlock()===t);return e},xo.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},xo.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},xo.Block.prototype.getFirstStatementConnection=function(){for(var t,n=0;t=this.inputList[n];n++)if(t.connection&&t.connection.type===e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT)return t.connection;return null},xo.Block.prototype.getRootBlock=function(){var e=this;do{var t=e;e=t.parentBlock_}while(e);return t},xo.Block.prototype.getTopStackBlock=function(){var e=this;do{var t=e.getPreviousBlock()}while(t&&t.getNextBlock()===e&&(e=t));return e},xo.Block.prototype.getChildren=function(e){if(!e)return this.childBlocks_;e=[];for(var t,n=0;t=this.inputList[n];n++)t.connection&&(t=t.connection.targetBlock())&&e.push(t);return(n=this.getNextBlock())&&e.push(n),e},xo.Block.prototype.setParent=function(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),n=!!t;if(n&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!n&&e)throw Error("Block not connected to new parent.");if(n&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?Vt(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}},xo.Block.prototype.getDescendants=function(e){for(var t,n=[this],o=this.getChildren(e),i=0;t=o[i];i++)n.push.apply(n,t.getDescendants(e));return n},xo.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},xo.Block.prototype.setDeletable=function(e){this.deletable_=e},xo.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},xo.Block.prototype.setMovable=function(e){this.movable_=e},xo.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable((0,e.module$exports$Blockly$common.getBlockTypeCounts)(this,!0))},xo.Block.prototype.isShadow=function(){return this.isShadow_},xo.Block.prototype.setShadow=function(e){this.isShadow_=e},xo.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},xo.Block.prototype.setInsertionMarker=function(e){this.isInsertionMarker_=e},xo.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},xo.Block.prototype.setEditable=function(e){this.editable_=e,e=0;for(var t;t=this.inputList[e];e++)for(var n,o=0;n=t.fieldRow[o];o++)n.updateEditable()},xo.Block.prototype.isDisposed=function(){return this.disposed},xo.Block.prototype.getMatchingConnection=function(e,t){var n=this.getConnections_(!0);if(e=e.getConnections_(!0),n.length!==e.length)throw Error("Connection lists did not match in length.");for(var o=0;o<e.length;o++)if(e[o]===t)return n[o];return null},xo.Block.prototype.setHelpUrl=function(e){this.helpUrl=e},xo.Block.prototype.setTooltip=function(e){this.tooltip=e},xo.Block.prototype.getTooltip=function(){return(0,T.getTooltipOfObject)(this)},xo.Block.prototype.getColour=function(){return this.colour_},xo.Block.prototype.getStyleName=function(){return this.styleName_},xo.Block.prototype.getHue=function(){return this.hue_},xo.Block.prototype.setColour=function(e){e=(0,en.parseBlockColour)(e),this.hue_=e.hue,this.colour_=e.hex},xo.Block.prototype.setStyle=function(e){this.styleName_=e},xo.Block.prototype.setOnChange=function(e){if(e&&"function"!==typeof e)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=e)&&(this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},xo.Block.prototype.getField=function(e){if("string"!==typeof e)throw TypeError("Block.prototype.getField expects a string with the field name but received "+(void 0===e?"nothing":e+" of type "+typeof e)+" instead");for(var t,n=0;t=this.inputList[n];n++)for(var o,i=0;o=t.fieldRow[i];i++)if(o.name===e)return o;return null},xo.Block.prototype.getVars=function(){for(var e,t=[],n=0;e=this.inputList[n];n++)for(var o,i=0;o=e.fieldRow[i];i++)o.referencesVariables()&&t.push(o.getValue());return t},xo.Block.prototype.getVarModels=function(){for(var e,t=[],n=0;e=this.inputList[n];n++)for(var o,i=0;o=e.fieldRow[i];i++)o.referencesVariables()&&(o=this.workspace.getVariableById(o.getValue()))&&t.push(o);return t},xo.Block.prototype.updateVarName=function(e){for(var t,n=0;t=this.inputList[n];n++)for(var o,i=0;o=t.fieldRow[i];i++)o.referencesVariables()&&e.getId()===o.getValue()&&o.refreshVariableName()},xo.Block.prototype.renameVarById=function(e,t){for(var n,o=0;n=this.inputList[o];o++)for(var i,r=0;i=n.fieldRow[r];r++)i.referencesVariables()&&e===i.getValue()&&i.setValue(t)},xo.Block.prototype.getFieldValue=function(e){return(e=this.getField(e))?e.getValue():null},xo.Block.prototype.setFieldValue=function(e,t){var n=this.getField(t);if(!n)throw Error('Field "'+t+'" not found.');n.setValue(e)},xo.Block.prototype.setPreviousStatement=function(t,n){if(t)void 0===n&&(n=null),this.previousConnection||(this.previousConnection=this.makeConnection_(e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(n);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},xo.Block.prototype.setNextStatement=function(t,n){if(t)void 0===n&&(n=null),this.nextConnection||(this.nextConnection=this.makeConnection_(e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT)),this.nextConnection.setCheck(n);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},xo.Block.prototype.setOutput=function(t,n){if(t)void 0===n&&(n=null),this.outputConnection||(this.outputConnection=this.makeConnection_(e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE)),this.outputConnection.setCheck(n);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},xo.Block.prototype.setInputsInline=function(e){this.inputsInline!==e&&((0,oe.fire)(new((0,oe.get)(oe.CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)},xo.Block.prototype.getInputsInline=function(){if(void 0!==this.inputsInline)return this.inputsInline;for(var t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type===e.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&this.inputList[t].type===e.module$exports$Blockly$inputTypes.inputTypes.DUMMY)return!1;for(t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type===e.module$exports$Blockly$inputTypes.inputTypes.VALUE&&this.inputList[t].type===e.module$exports$Blockly$inputTypes.inputTypes.DUMMY)return!0;return!1},xo.Block.prototype.setOutputShape=function(e){this.outputShape_=e},xo.Block.prototype.getOutputShape=function(){return this.outputShape_},xo.Block.prototype.isEnabled=function(){return!this.disabled},xo.Block.prototype.setEnabled=function(e){if(this.isEnabled()!==e){var t=this.disabled;this.disabled=!e,(0,oe.fire)(new((0,oe.get)(oe.CHANGE))(this,"disabled",null,t,!e))}},xo.Block.prototype.getInheritedDisabled=function(){for(var e=this.getSurroundParent();e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1},xo.Block.prototype.isCollapsed=function(){return this.collapsed_},xo.Block.prototype.setCollapsed=function(e){this.collapsed_!==e&&((0,oe.fire)(new((0,oe.get)(oe.CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)},xo.Block.prototype.toString=function(e,t){function n(e){var t=e.getCheck();return!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),!!t&&(-1!==t.indexOf("Boolean")||-1!==t.indexOf("Number"))}function o(){s&&s.getType()===l.getType()&&s.getLocation()===l.getLocation()&&(s=null)}var i=[];t=t||"?";var r=ro.ASTNode.NAVIGATE_ALL_FIELDS;ro.ASTNode.NAVIGATE_ALL_FIELDS=!0;for(var s=ro.ASTNode.createBlockNode(this),l=s;s;){switch(s.getType()){case ro.ASTNode.types.INPUT:var a=s.getLocation();s.in()?n(a)&&i.push("("):i.push(t);break;case ro.ASTNode.types.FIELD:(a=s.getLocation()).name!==On.COLLAPSED_FIELD_NAME&&i.push(a.getText())}if(!(s=(a=s).in()||a.next())){for(s=a.out(),o();s&&!s.next();)s=s.out(),o(),s&&s.getType()===ro.ASTNode.types.INPUT&&n(s.getLocation())&&i.push(")");s&&(s=s.next())}}for(ro.ASTNode.NAVIGATE_ALL_FIELDS=r,t=2;t<i.length;t++)"("===i[t-2]&&")"===i[t]&&(i[t-2]=i[t-1],i.splice(t-1,2));return i=(i=i.reduce((function(e,t){return e+("("===e.substr(-1)||")"===t?"":" ")+t}),"")).trim()||"???",e&&i.length>e&&(i=i.substring(0,e-3)+"..."),i},xo.Block.prototype.appendValueInput=function(t){return this.appendInput_(e.module$exports$Blockly$inputTypes.inputTypes.VALUE,t)},xo.Block.prototype.appendStatementInput=function(t){return this.appendInput_(e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT,t)},xo.Block.prototype.appendDummyInput=function(t){return this.appendInput_(e.module$exports$Blockly$inputTypes.inputTypes.DUMMY,t||"")},xo.Block.prototype.jsonInit=function(t){var n=t.type?'Block "'+t.type+'": ':"";if(t.output&&t.previousStatement)throw Error(n+"Must not have both an output and a previousStatement.");if(t.style&&t.style.hat&&(this.hat=t.style.hat,t.style=null),t.style&&t.colour)throw Error(n+"Must not have both a colour and a style.");t.style?this.jsonInitStyle_(t,n):this.jsonInitColour_(t,n);for(var o=0;void 0!==t["message"+o];)this.interpolate_(t["message"+o],t["args"+o]||[],t["lastDummyAlign"+o],n),o++;if(void 0!==t.inputsInline&&this.setInputsInline(t.inputsInline),void 0!==t.output&&this.setOutput(!0,t.output),void 0!==t.outputShape&&this.setOutputShape(t.outputShape),void 0!==t.previousStatement&&this.setPreviousStatement(!0,t.previousStatement),void 0!==t.nextStatement&&this.setNextStatement(!0,t.nextStatement),void 0!==t.tooltip&&(o=(0,en.replaceMessageReferences)(t.tooltip),this.setTooltip(o)),void 0!==t.enableContextMenu&&(this.contextMenu=!!t.enableContextMenu),void 0!==t.suppressPrefixSuffix&&(this.suppressPrefixSuffix=!!t.suppressPrefixSuffix),void 0!==t.helpUrl&&(o=(0,en.replaceMessageReferences)(t.helpUrl),this.setHelpUrl(o)),"string"===typeof t.extensions&&(console.warn(n+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+t.type+"' block."),t.extensions=[t.extensions]),void 0!==t.mutator&&(0,e.module$exports$Blockly$Extensions.apply)(t.mutator,this,!0),t=t.extensions,Array.isArray(t))for(n=0;n<t.length;n++)(0,e.module$exports$Blockly$Extensions.apply)(t[n],this,!1)},xo.Block.prototype.jsonInitColour_=function(e,t){if("colour"in e)if(void 0===e.colour)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(n){console.warn(t+"Illegal colour value: ",e)}}},xo.Block.prototype.jsonInitStyle_=function(e,t){e=e.style;try{this.setStyle(e)}catch(n){console.warn(t+"Style does not exist: ",e)}},xo.Block.prototype.mixin=function(t,n){if(void 0!==n&&"boolean"!==typeof n)throw Error("opt_disableCheck must be a boolean if provided");if(!n){for(var o in n=[],t)void 0!==this[o]&&n.push(o);if(n.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(n))}(0,e.module$exports$Blockly$utils$object.mixin)(this,t)},xo.Block.prototype.interpolate_=function(e,t,n,o){e=(0,en.tokenizeInterpolation)(e),this.validateTokens_(e,t.length),t=this.interpolateArguments_(e,t,n),n=[],e=0;for(var i;i=t[e];e++)if(this.isInputKeyword_(i.type)){if(i=this.inputFromJson_(i,o)){for(var r,s=0;r=n[s];s++)i.appendField(r[0],r[1]);n.length=0}}else(s=this.fieldFromJson_(i))&&n.push([s,i.name])},xo.Block.prototype.validateTokens_=function(e,t){for(var n=[],o=0,i=0;i<e.length;i++){var r=e[i];if("number"===typeof r){if(1>r||r>t)throw Error('Block "'+this.type+'": Message index %'+r+" out of range.");if(n[r])throw Error('Block "'+this.type+'": Message index %'+r+" duplicated.");n[r]=!0,o++}}if(o!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")},xo.Block.prototype.interpolateArguments_=function(e,t,n){for(var o=[],i=0;i<e.length;i++){var r=e[i];"number"===typeof r&&(r=t[r-1]),("string"!==typeof r||(r=this.stringToFieldJson_(r)))&&o.push(r)}return(e=o.length)&&!this.isInputKeyword_(o[e-1].type)&&(e={type:"input_dummy"},n&&(e.align=n),o.push(e)),o},xo.Block.prototype.fieldFromJson_=function(e){var t=(0,on.fromJson)(e);return!t&&e.alt?"string"===typeof e.alt?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):t},xo.Block.prototype.inputFromJson_=function(t,n){var o={LEFT:e.module$exports$Blockly$Input.Align.LEFT,RIGHT:e.module$exports$Blockly$Input.Align.RIGHT,CENTRE:e.module$exports$Blockly$Input.Align.CENTRE,CENTER:e.module$exports$Blockly$Input.Align.CENTRE},i=null;switch(t.type){case"input_value":i=this.appendValueInput(t.name);break;case"input_statement":i=this.appendStatementInput(t.name);break;case"input_dummy":i=this.appendDummyInput(t.name)}return i?(t.check&&i.setCheck(t.check),t.align&&(void 0===(o=o[t.align.toUpperCase()])?console.warn(n+"Illegal align value: ",t.align):i.setAlign(o)),i):null},xo.Block.prototype.isInputKeyword_=function(e){return"input_value"===e||"input_statement"===e||"input_dummy"===e},xo.Block.prototype.stringToFieldJson_=function(e){return(e=e.trim())?{type:"field_label",text:e}:null},xo.Block.prototype.appendInput_=function(t,n){var o=null;return t!==e.module$exports$Blockly$inputTypes.inputTypes.VALUE&&t!==e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT||(o=this.makeConnection_(t)),t===e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&this.statementInputCount++,t=new e.module$exports$Blockly$Input.Input(t,n,this,o),this.inputList.push(t),t},xo.Block.prototype.moveInputBefore=function(e,t){if(e!==t){for(var n,o=-1,i=t?-1:this.inputList.length,r=0;n=this.inputList[r];r++)if(n.name===e){if(o=r,-1!==i)break}else if(t&&n.name===t&&(i=r,-1!==o))break;if(-1===o)throw Error('Named input "'+e+'" not found.');if(-1===i)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(o,i)}},xo.Block.prototype.moveNumberedInputBefore=function(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");var n=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,n)},xo.Block.prototype.removeInput=function(t,n){for(var o,i=0;o=this.inputList[i];i++)if(o.name===t)return o.type===e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&this.statementInputCount--,o.dispose(),this.inputList.splice(i,1),!0;if(n)return!1;throw Error("Input not found: "+t)},xo.Block.prototype.getInput=function(e){for(var t,n=0;t=this.inputList[n];n++)if(t.name===e)return t;return null},xo.Block.prototype.getInputTargetBlock=function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()},xo.Block.prototype.getCommentText=function(){return this.commentModel.text},xo.Block.prototype.setCommentText=function(e){this.commentModel.text!==e&&((0,oe.fire)(new((0,oe.get)(oe.CHANGE))(this,"comment",null,this.commentModel.text,e)),this.comment=this.commentModel.text=e)},xo.Block.prototype.setWarningText=function(e,t){},xo.Block.prototype.setMutator=function(e){},xo.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},xo.Block.prototype.moveBy=function(e,t){if(this.parentBlock_)throw Error("Block has parent.");var n=new((0,oe.get)(oe.MOVE))(this);this.xy_.translate(e,t),n.recordNew(),(0,oe.fire)(n)},xo.Block.prototype.makeConnection_=function(e){return new wn.Connection(this,e)},xo.Block.prototype.allInputsFilled=function(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(var t,n=0;t=this.inputList[n];n++)if(t.connection&&(!(t=t.connection.targetBlock())||!t.allInputsFilled(e)))return!1;return!(n=this.getNextBlock())||n.allInputsFilled(e)},xo.Block.prototype.toDevString=function(){var e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e};var No={ContextMenuRegistry:function(){No.ContextMenuRegistry.registry=this,this.registry_=Object.create(null)}};No.ContextMenuRegistry.ScopeType={BLOCK:"block",WORKSPACE:"workspace"},No.ContextMenuRegistry.registry=null,No.ContextMenuRegistry.prototype.register=function(e){if(this.registry_[e.id])throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_[e.id]=e},No.ContextMenuRegistry.prototype.unregister=function(e){if(!this.registry_[e])throw Error('Menu item with ID "'+e+'" not found.');delete this.registry_[e]},No.ContextMenuRegistry.prototype.getItem=function(e){return this.registry_[e]||null},No.ContextMenuRegistry.prototype.getContextMenuOptions=function(e,t){var n=[],o=this.registry_;return Object.keys(o).forEach((function(i){if(i=o[i],e===i.scopeType){var r=i.preconditionFn(t);"hidden"!==r&&(i={text:"function"===typeof i.displayText?i.displayText(t):i.displayText,enabled:"enabled"===r,callback:i.callback,scope:t,weight:i.weight},n.push(i))}})),n.sort((function(e,t){return e.weight-t.weight})),n},new No.ContextMenuRegistry;var Do={RenderedConnection:function(t,n){Do.RenderedConnection.superClass_.constructor.call(this,t,n),this.db_=t.workspace.connectionDBList[n],this.dbOpposite_=t.workspace.connectionDBList[e.module$exports$Blockly$internalConstants.OPPOSITE_TYPE[n]],this.offsetInBlock_=new he.Coordinate(0,0),this.trackedState_=Do.RenderedConnection.TrackedState.WILL_TRACK,this.targetConnection=null}};(0,e.module$exports$Blockly$utils$object.inherits)(Do.RenderedConnection,wn.Connection),Do.RenderedConnection.TrackedState={WILL_TRACK:-1,UNTRACKED:0,TRACKED:1},Do.RenderedConnection.prototype.dispose=function(){Do.RenderedConnection.superClass_.dispose.call(this),this.trackedState_===Do.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)},Do.RenderedConnection.prototype.getSourceBlock=function(){return Do.RenderedConnection.superClass_.getSourceBlock.call(this)},Do.RenderedConnection.prototype.targetBlock=function(){return Do.RenderedConnection.superClass_.targetBlock.call(this)},Do.RenderedConnection.prototype.distanceFrom=function(e){var t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)},Do.RenderedConnection.prototype.bumpAwayFrom=function(t){if(!this.sourceBlock_.workspace.isDragging()){var n=this.sourceBlock_.getRootBlock();if(!n.isInFlyout){var o=!1;if(!n.isMovable()){if(!(n=t.getSourceBlock().getRootBlock()).isMovable())return;t=this,o=!0}var i=(0,e.module$exports$Blockly$common.getSelected)()==n;i||n.addSelect();var r=t.x+e.module$exports$Blockly$internalConstants.SNAP_RADIUS+Math.floor(Math.random()*e.module$exports$Blockly$internalConstants.BUMP_RANDOMNESS)-this.x,s=t.y+e.module$exports$Blockly$internalConstants.SNAP_RADIUS+Math.floor(Math.random()*e.module$exports$Blockly$internalConstants.BUMP_RANDOMNESS)-this.y;o&&(s=-s),n.RTL&&(r=t.x-e.module$exports$Blockly$internalConstants.SNAP_RADIUS-Math.floor(Math.random()*e.module$exports$Blockly$internalConstants.BUMP_RANDOMNESS)-this.x),n.moveBy(r,s),i||n.removeSelect()}}},Do.RenderedConnection.prototype.moveTo=function(e,t){this.trackedState_===Do.RenderedConnection.TrackedState.WILL_TRACK?(this.db_.addConnection(this,t),this.trackedState_=Do.RenderedConnection.TrackedState.TRACKED):this.trackedState_===Do.RenderedConnection.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,t)),this.x=e,this.y=t},Do.RenderedConnection.prototype.moveBy=function(e,t){this.moveTo(this.x+e,this.y+t)},Do.RenderedConnection.prototype.moveToOffset=function(e){this.moveTo(e.x+this.offsetInBlock_.x,e.y+this.offsetInBlock_.y)},Do.RenderedConnection.prototype.setOffsetInBlock=function(e,t){this.offsetInBlock_.x=e,this.offsetInBlock_.y=t},Do.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},Do.RenderedConnection.prototype.tighten=function(){var e=this.targetConnection.x-this.x,t=this.targetConnection.y-this.y;if(0!==e||0!==t){var n=this.targetBlock(),o=n.getSvgRoot();if(!o)throw Error("block is not rendered.");o=(0,ye.getRelativeXY)(o),n.getSvgRoot().setAttribute("transform","translate("+(o.x-e)+","+(o.y-t)+")"),n.moveConnections(-e,-t)}},Do.RenderedConnection.prototype.closest=function(e,t){return this.dbOpposite_.searchForClosest(this,e,t)},Do.RenderedConnection.prototype.highlight=function(){var t=this.sourceBlock_.workspace.getRenderer().getConstants(),n=t.shapeFor(this);this.type===e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE||this.type===e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?(t=t.TAB_OFFSET_FROM_TOP,n=(0,Qt.moveBy)(0,-t)+(0,Qt.lineOnAxis)("v",t)+n.pathDown+(0,Qt.lineOnAxis)("v",t)):(t=t.NOTCH_OFFSET_LEFT-t.CORNER_RADIUS,n=(0,Qt.moveBy)(-t,0)+(0,Qt.lineOnAxis)("h",t)+n.pathLeft+(0,Qt.lineOnAxis)("h",t)),t=this.sourceBlock_.getRelativeToSurfaceXY(),wn.Connection.highlightedPath_=(0,M.createSvgElement)(Ee.Svg.PATH,{class:"blocklyHighlightedConnectionPath",d:n,transform:"translate("+(this.x-t.x)+","+(this.y-t.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},Do.RenderedConnection.prototype.unhighlight=function(){(0,M.removeNode)(wn.Connection.highlightedPath_),delete wn.Connection.highlightedPath_},Do.RenderedConnection.prototype.setTracking=function(e){e&&this.trackedState_===Do.RenderedConnection.TrackedState.TRACKED||!e&&this.trackedState_===Do.RenderedConnection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db_.addConnection(this,this.y),this.trackedState_=Do.RenderedConnection.TrackedState.TRACKED):(this.trackedState_===Do.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=Do.RenderedConnection.TrackedState.UNTRACKED))},Do.RenderedConnection.prototype.stopTrackingAll=function(){if(this.setTracking(!1),this.targetConnection)for(var e=this.targetBlock().getDescendants(!1),t=0;t<e.length;t++){for(var n=e[t],o=n.getConnections_(!0),i=0;i<o.length;i++)o[i].setTracking(!1);for(n=n.getIcons(),o=0;o<n.length;o++)n[o].setVisible(!1)}},Do.RenderedConnection.prototype.startTrackingAll=function(){this.setTracking(!0);var t=[];if(this.type!==e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE&&this.type!==e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT)return t;var n=this.targetBlock();if(n){if(n.isCollapsed()){var o=[];n.outputConnection&&o.push(n.outputConnection),n.nextConnection&&o.push(n.nextConnection),n.previousConnection&&o.push(n.previousConnection)}else o=n.getConnections_(!0);for(var i=0;i<o.length;i++)t.push.apply(t,o[i].startTrackingAll());t.length||(t=[n])}return t},Do.RenderedConnection.prototype.onFailedConnect=function(t){var n=this.getSourceBlock();if((0,oe.getRecordUndo)()){var o=(0,oe.getGroup)();setTimeout(function(){n.isDisposed()||n.getParent()||((0,oe.setGroup)(o),this.bumpAwayFrom(t),(0,oe.setGroup)(!1))}.bind(this),e.module$exports$Blockly$internalConstants.BUMP_DELAY)}},Do.RenderedConnection.prototype.disconnectInternal_=function(e,t){Do.RenderedConnection.superClass_.disconnectInternal_.call(this,e,t),e.rendered&&e.render(),t.rendered&&(t.updateDisabled(),t.render(),t.getSvgRoot().style.display="block")},Do.RenderedConnection.prototype.respawnShadow_=function(){Do.RenderedConnection.superClass_.respawnShadow_.call(this);var e=this.targetBlock();e&&(e.initSvg(),e.render(!1),(e=this.getSourceBlock()).rendered&&e.render())},Do.RenderedConnection.prototype.neighbours=function(e){return this.dbOpposite_.getNeighbours(this,e)},Do.RenderedConnection.prototype.connect_=function(t){Do.RenderedConnection.superClass_.connect_.call(this,t);var n=this.getSourceBlock();t=t.getSourceBlock();var o=n.rendered,i=t.rendered;o&&n.updateDisabled(),i&&t.updateDisabled(),o&&i&&(this.type===e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT||this.type===e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT?t.render():n.render()),(n=n.getInputWithBlock(t))&&(n=n.isVisible(),t.getSvgRoot().style.display=n?"block":"none")},Do.RenderedConnection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())};var Mo={Marker:function(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"}};Mo.Marker.prototype.setDrawer=function(e){this.drawer_=e},Mo.Marker.prototype.getDrawer=function(){return this.drawer_},Mo.Marker.prototype.getCurNode=function(){return this.curNode_},Mo.Marker.prototype.setCurNode=function(e){var t=this.curNode_;this.curNode_=e,this.drawer_&&this.drawer_.draw(t,this.curNode_)},Mo.Marker.prototype.draw=function(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)},Mo.Marker.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},Mo.Marker.prototype.dispose=function(){this.getDrawer()&&this.getDrawer().dispose()};var Po={Cursor:function(){Po.Cursor.superClass_.constructor.call(this),this.type="cursor"}};(0,e.module$exports$Blockly$utils$object.inherits)(Po.Cursor,Mo.Marker),Po.Cursor.prototype.next=function(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()===ro.ASTNode.types.NEXT||e.getType()===ro.ASTNode.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e},Po.Cursor.prototype.in=function(){var e=this.getCurNode();return e?(e.getType()!==ro.ASTNode.types.PREVIOUS&&e.getType()!==ro.ASTNode.types.OUTPUT||(e=e.next()),(e=e.in())&&this.setCurNode(e),e):null},Po.Cursor.prototype.prev=function(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()===ro.ASTNode.types.NEXT||e.getType()===ro.ASTNode.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e},Po.Cursor.prototype.out=function(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()===ro.ASTNode.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null},(0,Z.register)(Z.Type.CURSOR,Z.DEFAULT,Po.Cursor);var Lo={BasicCursor:function(){Lo.BasicCursor.superClass_.constructor.call(this)}};(0,e.module$exports$Blockly$utils$object.inherits)(Lo.BasicCursor,Po.Cursor),Lo.BasicCursor.registrationName="basicCursor",Lo.BasicCursor.prototype.next=function(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null},Lo.BasicCursor.prototype.in=function(){return this.next()},Lo.BasicCursor.prototype.prev=function(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null},Lo.BasicCursor.prototype.out=function(){return this.prev()},Lo.BasicCursor.prototype.getNextNode_=function(e,t){if(!e)return null;var n=e.in()||e.next();return t(n)?n:n?this.getNextNode_(n,t):t(e=this.findSiblingOrParent_(e.out()))?e:e?this.getNextNode_(e,t):null},Lo.BasicCursor.prototype.getPreviousNode_=function(e,t){if(!e)return null;var n=e.prev();return t(n=n?this.getRightMostChild_(n):e.out())?n:n?this.getPreviousNode_(n,t):null},Lo.BasicCursor.prototype.validNode_=function(e){var t=!1;return(e=e&&e.getType())!==ro.ASTNode.types.OUTPUT&&e!==ro.ASTNode.types.INPUT&&e!==ro.ASTNode.types.FIELD&&e!==ro.ASTNode.types.NEXT&&e!==ro.ASTNode.types.PREVIOUS&&e!==ro.ASTNode.types.WORKSPACE||(t=!0),t},Lo.BasicCursor.prototype.findSiblingOrParent_=function(e){if(!e)return null;var t=e.next();return t||this.findSiblingOrParent_(e.out())},Lo.BasicCursor.prototype.getRightMostChild_=function(e){if(!e.in())return e;for(e=e.in();e.next();)e=e.next();return this.getRightMostChild_(e)},(0,Z.register)(Z.Type.CURSOR,Lo.BasicCursor.registrationName,Lo.BasicCursor);var Fo={TabNavigateCursor:function(){Fo.TabNavigateCursor.superClass_.constructor.call(this)}};(0,e.module$exports$Blockly$utils$object.inherits)(Fo.TabNavigateCursor,Lo.BasicCursor),Fo.TabNavigateCursor.prototype.validNode_=function(e){var t=!1,n=e&&e.getType();return e&&(e=e.getLocation(),n===ro.ASTNode.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(t=!0)),t};var $o={Selected:function(e,t,n){$o.Selected.superClass_.constructor.call(this,n),this.oldElementId=e,this.newElementId=t}};(0,e.module$exports$Blockly$utils$object.inherits)($o.Selected,Hn.UiBase),$o.Selected.prototype.type=oe.SELECTED,$o.Selected.prototype.toJson=function(){var e=$o.Selected.superClass_.toJson.call(this);return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e},$o.Selected.prototype.fromJson=function(e){$o.Selected.superClass_.fromJson.call(this,e),this.oldElementId=e.oldElementId,this.newElementId=e.newElementId},(0,Z.register)(Z.Type.EVENT,oe.SELECTED,$o.Selected);var Uo={BlockSvg:function(e,t,n){this.svgGroup_=(0,M.createSvgElement)(Ee.Svg.G,{},null),this.svgGroup_.translate_="",this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),this.renderIsInProgress_=this.rendered=!1,this.workspace=e,this.previousConnection=this.nextConnection=this.outputConnection=null,this.useDragSurface_=(0,ye.is3dSupported)()&&!!e.getBlockDragSurface();var o=this.pathObject.svgPath;o.tooltip=this,(0,T.bindMouseEvents)(o),Uo.BlockSvg.superClass_.constructor.call(this,e,t,n),this.svgGroup_.dataset?this.svgGroup_.dataset.id=this.id:f.IE&&this.svgGroup_.setAttribute("data-id",this.id)}};(0,e.module$exports$Blockly$utils$object.inherits)(Uo.BlockSvg,xo.Block),Uo.BlockSvg.prototype.height=0,Uo.BlockSvg.prototype.width=0,Uo.BlockSvg.prototype.warningTextDb_=null,Uo.BlockSvg.INLINE=-1,Uo.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",Uo.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var e,t=0;e=this.inputList[t];t++)e.init();for(t=this.getIcons(),e=0;e<t.length;e++)t[e].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),t=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!t||(0,_.conditionalBind)(t,"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,t.parentNode||this.workspace.getCanvas().appendChild(t)},Uo.BlockSvg.prototype.getColourSecondary=function(){return this.style.colourSecondary},Uo.BlockSvg.prototype.getColourTertiary=function(){return this.style.colourTertiary},Uo.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if((0,e.module$exports$Blockly$common.getSelected)()!==this){var t=null;if((0,e.module$exports$Blockly$common.getSelected)()){t=(0,e.module$exports$Blockly$common.getSelected)().id,(0,oe.disable)();try{(0,e.module$exports$Blockly$common.getSelected)().unselect()}finally{(0,oe.enable)()}}t=new((0,oe.get)(oe.SELECTED))(t,this.id,this.workspace.id),(0,oe.fire)(t),(0,e.module$exports$Blockly$common.setSelected)(this),this.addSelect()}},Uo.BlockSvg.prototype.unselect=function(){if((0,e.module$exports$Blockly$common.getSelected)()===this){var t=new((0,oe.get)(oe.SELECTED))(this.id,null,this.workspace.id);t.workspaceId=this.workspace.id,(0,oe.fire)(t),(0,e.module$exports$Blockly$common.setSelected)(null),this.removeSelect()}},Uo.BlockSvg.prototype.mutator=null,Uo.BlockSvg.prototype.comment=null,Uo.BlockSvg.prototype.commentIcon_=null,Uo.BlockSvg.prototype.warning=null,Uo.BlockSvg.prototype.getIcons=function(){var e=[];return this.mutator&&e.push(this.mutator),this.commentIcon_&&e.push(this.commentIcon_),this.warning&&e.push(this.warning),e},Uo.BlockSvg.prototype.setParent=function(e){var t=this.parentBlock_;if(e!==t){(0,M.startTextWidthCache)(),Uo.BlockSvg.superClass_.setParent.call(this,e),(0,M.stopTextWidthCache)();var n=this.getSvgRoot();if(!this.workspace.isClearing&&n){var o=this.getRelativeToSurfaceXY();e?(e.getSvgRoot().appendChild(n),e=this.getRelativeToSurfaceXY(),this.moveConnections(e.x-o.x,e.y-o.y)):t&&(this.workspace.getCanvas().appendChild(n),this.translate(o.x,o.y)),this.applyColour()}}},Uo.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var e=0,t=0,n=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,o=this.getSvgRoot();if(o)do{var i=(0,ye.getRelativeXY)(o);e+=i.x,t+=i.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()===o&&(e+=(i=this.workspace.getBlockDragSurface().getSurfaceTranslation()).x,t+=i.y),o=o.parentNode}while(o&&o!==this.workspace.getCanvas()&&o!==n);return new he.Coordinate(e,t)},Uo.BlockSvg.prototype.moveBy=function(e,t){if(this.parentBlock_)throw Error("Block has parent.");var n,o=(0,oe.isEnabled)();o&&(n=new((0,oe.get)(oe.MOVE))(this));var i=this.getRelativeToSurfaceXY();this.translate(i.x+e,i.y+t),this.moveConnections(e,t),o&&(n.recordNew(),(0,oe.fire)(n)),this.workspace.resizeContents()},Uo.BlockSvg.prototype.translate=function(e,t){this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")},Uo.BlockSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),(e=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(e)}},Uo.BlockSvg.prototype.moveTo=function(e){var t=this.getRelativeToSurfaceXY();this.moveBy(e.x-t.x,e.y-t.y)},Uo.BlockSvg.prototype.moveOffDragSurface=function(e){this.useDragSurface_&&(this.translate(e.x,e.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))},Uo.BlockSvg.prototype.moveDuringDrag=function(e){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(e.x,e.y):(this.svgGroup_.translate_="translate("+e.x+","+e.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},Uo.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},Uo.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var t=e.getSpacing(),n=t/2,o=this.getRelativeToSurfaceXY();e=Math.round(Math.round((o.x-n)/t)*t+n-o.x),t=Math.round(Math.round((o.y-n)/t)*t+n-o.y),(e||t)&&this.moveBy(e,t)}}},Uo.BlockSvg.prototype.getBoundingRectangle=function(){var e=this.getRelativeToSurfaceXY(),t=this.getHeightWidth();if(this.RTL)var n=e.x-t.width,o=e.x;else n=e.x,o=e.x+t.width;return new me.Rect(e.y,e.y+t.height,n,o)},Uo.BlockSvg.prototype.markDirty=function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var e,t=0;e=this.inputList[t];t++)e.markDirty()},Uo.BlockSvg.prototype.setCollapsed=function(e){this.collapsed_!==e&&(Uo.BlockSvg.superClass_.setCollapsed.call(this,e),e?this.rendered&&this.render():this.updateCollapsed_())},Uo.BlockSvg.prototype.updateCollapsed_=function(){for(var t,n=this.isCollapsed(),o=On.COLLAPSED_INPUT_NAME,i=On.COLLAPSED_FIELD_NAME,r=0;t=this.inputList[r];r++)t.name!==o&&t.setVisible(!n);if(n){for(n=this.getIcons(),r=0;t=n[r];r++)t.setVisible(!1);n=this.toString(e.module$exports$Blockly$internalConstants.COLLAPSE_CHARS),(r=this.getField(i))?r.setValue(n):(this.getInput(o)||this.appendDummyInput(o)).appendField(new e.module$exports$Blockly$FieldLabel.FieldLabel(n),i)}else this.updateDisabled(),this.removeInput(o)},Uo.BlockSvg.prototype.tab=function(e,t){var n=new Fo.TabNavigateCursor;n.setCurNode(ro.ASTNode.createFieldNode(e)),e=n.getCurNode(),t?n.next():n.prev(),(t=n.getCurNode())&&t!==e&&(t.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(t))},Uo.BlockSvg.prototype.onMouseDown_=function(e){var t=this.workspace&&this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)},Uo.BlockSvg.prototype.showHelp=function(){var e="function"===typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)},Uo.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var e=No.ContextMenuRegistry.registry.getContextMenuOptions(No.ContextMenuRegistry.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e},Uo.BlockSvg.prototype.showContextMenu=function(t){var n=this.generateContextMenu();n&&n.length&&((0,e.module$exports$Blockly$ContextMenu.show)(t,n,this.RTL),(0,e.module$exports$Blockly$ContextMenu.setCurrentBlock)(this))},Uo.BlockSvg.prototype.moveConnections=function(e,t){if(this.rendered){for(var n=this.getConnections_(!1),o=0;o<n.length;o++)n[o].moveBy(e,t);for(n=this.getIcons(),o=0;o<n.length;o++)n[o].computeIconLocation();for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].moveConnections(e,t)}},Uo.BlockSvg.prototype.setDragging=function(n){if(n){var o=this.getSvgRoot();o.translate_="",o.skew_="",e.module$exports$Blockly$common.draggingConnections.push.apply(e.module$exports$Blockly$common.draggingConnections,t.arrayFromIterable(this.getConnections_(!0))),(0,M.addClass)(this.svgGroup_,"blocklyDragging")}else e.module$exports$Blockly$common.draggingConnections.length=0,(0,M.removeClass)(this.svgGroup_,"blocklyDragging");for(o=0;o<this.childBlocks_.length;o++)this.childBlocks_[o].setDragging(n)},Uo.BlockSvg.prototype.setMovable=function(e){Uo.BlockSvg.superClass_.setMovable.call(this,e),this.pathObject.updateMovable(e)},Uo.BlockSvg.prototype.setEditable=function(e){Uo.BlockSvg.superClass_.setEditable.call(this,e),e=this.getIcons();for(var t=0;t<e.length;t++)e[t].updateEditable()},Uo.BlockSvg.prototype.setShadow=function(e){Uo.BlockSvg.superClass_.setShadow.call(this,e),this.applyColour()},Uo.BlockSvg.prototype.setInsertionMarker=function(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))},Uo.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},Uo.BlockSvg.prototype.dispose=function(t,n){if(this.workspace){(0,T.dispose)(),(0,T.unbindMouseEvents)(this.pathObject.svgPath),(0,M.startTextWidthCache)();var o=this.workspace;if((0,e.module$exports$Blockly$common.getSelected)()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),(0,e.module$exports$Blockly$ContextMenu.getCurrentBlock)()===this&&(0,e.module$exports$Blockly$ContextMenu.hide)(),n&&this.rendered&&(this.unplug(t),(0,ln.disposeUiEffect)(this)),this.rendered=!1,this.warningTextDb_){for(var i in this.warningTextDb_)clearTimeout(this.warningTextDb_[i]);this.warningTextDb_=null}for(n=this.getIcons(),i=0;i<n.length;i++)n[i].dispose();Uo.BlockSvg.superClass_.dispose.call(this,!!t),(0,M.removeNode)(this.svgGroup_),o.resizeContents(),this.svgGroup_=null,(0,M.stopTextWidthCache)()}},Uo.BlockSvg.prototype.checkAndDelete=function(){this.workspace.isFlyout||((0,oe.setGroup)(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),(0,oe.setGroup)(!1))},Uo.BlockSvg.prototype.toCopyData=function(){return this.isInsertionMarker_?null:{saveInfo:(0,pt.save)(this,{addCoordinates:!0,addNextBlocks:!1}),source:this.workspace,typeCounts:(0,e.module$exports$Blockly$common.getBlockTypeCounts)(this,!0)}},Uo.BlockSvg.prototype.applyColour=function(){this.pathObject.applyColour(this);for(var e=this.getIcons(),t=0;t<e.length;t++)e[t].applyColour();for(e=0;t=this.inputList[e];e++)for(var n,o=0;n=t.fieldRow[o];o++)n.applyColour()},Uo.BlockSvg.prototype.updateDisabled=function(){var e=this.getChildren(!1);if(this.applyColour(),!this.isCollapsed())for(var t,n=0;t=e[n];n++)t.rendered&&t.updateDisabled()},Uo.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},Uo.BlockSvg.prototype.setCommentText=function(e){var t=_r.Comment;if(!t)throw Error("Missing require for Blockly.Comment");this.commentModel.text!==e&&(Uo.BlockSvg.superClass_.setCommentText.call(this,e),e=null!==e,!!this.commentIcon_===e?this.commentIcon_.updateText():(e?this.comment=this.commentIcon_=new t(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},Uo.BlockSvg.prototype.setWarningText=function(n,o){var i=gr.Warning;if(!i)throw Error("Missing require for Blockly.Warning");this.warningTextDb_||(this.warningTextDb_=Object.create(null));var r=o||"";if(r)this.warningTextDb_[r]&&(clearTimeout(this.warningTextDb_[r]),delete this.warningTextDb_[r]);else for(var s=(o=t.makeIterator(Object.keys(this.warningTextDb_))).next();!s.done;s=o.next())s=s.value,clearTimeout(this.warningTextDb_[s]),delete this.warningTextDb_[s];if(this.workspace.isDragging()){var l=this;this.warningTextDb_[r]=setTimeout((function(){l.workspace&&(delete l.warningTextDb_[r],l.setWarningText(n,r))}),100)}else{if(this.isInFlyout&&(n=null),o=!1,"string"===typeof n){s=this.getSurroundParent();for(var a=null;s;)s.isCollapsed()&&(a=s),s=s.getSurroundParent();a&&a.setWarningText(e.module$exports$Blockly$Msg.Msg.COLLAPSED_WARNINGS_WARNING,Uo.BlockSvg.COLLAPSED_WARNING_ID),this.warning||(this.warning=new i(this),o=!0),this.warning.setText(n,r)}else this.warning&&!r?(this.warning.dispose(),o=!0):this.warning&&(i=this.warning.getText(),this.warning.setText("",r),(o=this.warning.getText())||this.warning.dispose(),o=i!==o);o&&this.rendered&&(this.render(),this.bumpNeighbours())}},Uo.BlockSvg.prototype.setMutator=function(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.setBlock(this),this.mutator=e,e.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())},Uo.BlockSvg.prototype.setEnabled=function(e){this.isEnabled()!==e&&(Uo.BlockSvg.superClass_.setEnabled.call(this,e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())},Uo.BlockSvg.prototype.setHighlighted=function(e){this.rendered&&this.pathObject.updateHighlighted(e)},Uo.BlockSvg.prototype.addSelect=function(){this.pathObject.updateSelected(!0)},Uo.BlockSvg.prototype.removeSelect=function(){this.pathObject.updateSelected(!1)},Uo.BlockSvg.prototype.setDeleteStyle=function(e){this.pathObject.updateDraggingDelete(e)},Uo.BlockSvg.prototype.getColour=function(){return this.style.colourPrimary},Uo.BlockSvg.prototype.setColour=function(e){Uo.BlockSvg.superClass_.setColour.call(this,e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()},Uo.BlockSvg.prototype.setStyle=function(e){var t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,!t)throw Error("Invalid style name: "+e);this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour()},Uo.BlockSvg.prototype.bringToFront=function(){var e=this;do{var t=e.getSvgRoot(),n=t.parentNode,o=n.childNodes;o[o.length-1]!==t&&n.appendChild(t),e=e.getParent()}while(e)},Uo.BlockSvg.prototype.setPreviousStatement=function(e,t){Uo.BlockSvg.superClass_.setPreviousStatement.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours())},Uo.BlockSvg.prototype.setNextStatement=function(e,t){Uo.BlockSvg.superClass_.setNextStatement.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours())},Uo.BlockSvg.prototype.setOutput=function(e,t){Uo.BlockSvg.superClass_.setOutput.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours())},Uo.BlockSvg.prototype.setInputsInline=function(e){Uo.BlockSvg.superClass_.setInputsInline.call(this,e),this.rendered&&(this.render(),this.bumpNeighbours())},Uo.BlockSvg.prototype.removeInput=function(e,t){return e=Uo.BlockSvg.superClass_.removeInput.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours()),e},Uo.BlockSvg.prototype.moveNumberedInputBefore=function(e,t){Uo.BlockSvg.superClass_.moveNumberedInputBefore.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours())},Uo.BlockSvg.prototype.appendInput_=function(e,t){return e=Uo.BlockSvg.superClass_.appendInput_.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours()),e},Uo.BlockSvg.prototype.setConnectionTracking=function(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;n&&(n.setTracking(e),(n=n.targetBlock())&&n.setConnectionTracking(e))}},Uo.BlockSvg.prototype.getConnections_=function(e){var t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)){e=0;for(var n;n=this.inputList[e];e++)n.connection&&t.push(n.connection)}return t},Uo.BlockSvg.prototype.lastConnectionInStack=function(e){return Uo.BlockSvg.superClass_.lastConnectionInStack.call(this,e)},Uo.BlockSvg.prototype.getMatchingConnection=function(e,t){return Uo.BlockSvg.superClass_.getMatchingConnection.call(this,e,t)},Uo.BlockSvg.prototype.makeConnection_=function(e){return new Do.RenderedConnection(this,e)},Uo.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var t=this.getRootBlock();if(!t.isInFlyout)for(var n,o=this.getConnections_(!1),i=0;n=o[i];i++){n.isConnected()&&n.isSuperior()&&n.targetBlock().bumpNeighbours();for(var r,s=n.neighbours(e.module$exports$Blockly$internalConstants.SNAP_RADIUS),l=0;r=s[l];l++)n.isConnected()&&r.isConnected()||r.getSourceBlock().getRootBlock()!==t&&(n.isSuperior()?r.bumpAwayFrom(n):n.bumpAwayFrom(r))}}},Uo.BlockSvg.prototype.scheduleSnapAndBump=function(){var t=this,n=(0,oe.getGroup)();setTimeout((function(){(0,oe.setGroup)(n),t.snapToGrid(),(0,oe.setGroup)(!1)}),e.module$exports$Blockly$internalConstants.BUMP_DELAY/2),setTimeout((function(){(0,oe.setGroup)(n),t.bumpNeighbours(),(0,oe.setGroup)(!1)}),e.module$exports$Blockly$internalConstants.BUMP_DELAY)},Uo.BlockSvg.prototype.positionNearConnection=function(t,n){t.type!==e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT&&t.type!==e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE||this.moveBy(n.x-t.x,n.y-t.y)},Uo.BlockSvg.prototype.getParent=function(){return Uo.BlockSvg.superClass_.getParent.call(this)},Uo.BlockSvg.prototype.getRootBlock=function(){return Uo.BlockSvg.superClass_.getRootBlock.call(this)},Uo.BlockSvg.prototype.render=function(e){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,(0,M.startTextWidthCache)(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==e){var t=this.getParent();t?t.render(!0):this.workspace.resizeContents()}(0,M.stopTextWidthCache)(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}},Uo.BlockSvg.prototype.updateMarkers_=function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(rn.MarkerManager.LOCAL_MARKER).draw()},Uo.BlockSvg.prototype.updateConnectionLocations_=function(){var e=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(e),this.outputConnection&&this.outputConnection.moveToOffset(e);for(var t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;n&&(n.moveToOffset(e),n.isConnected()&&n.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(e),this.nextConnection.isConnected()&&this.nextConnection.tighten())},Uo.BlockSvg.prototype.setCursorSvg=function(e){this.pathObject.setCursorSvg(e)},Uo.BlockSvg.prototype.setMarkerSvg=function(e){this.pathObject.setMarkerSvg(e)},Uo.BlockSvg.prototype.getHeightWidth=function(){var e=this.height,t=this.width,n=this.getNextBlock();if(n){n=n.getHeightWidth();var o=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=n.height-o,t=Math.max(t,n.width)}return{height:e,width:t}},Uo.BlockSvg.prototype.fadeForReplacement=function(e){this.pathObject.updateReplacementFade(e)},Uo.BlockSvg.prototype.highlightShapeForInput=function(e,t){this.pathObject.updateShapeForInputHighlight(e,t)};var Ho={ConnectionDB:function(e){this.connections_=[],this.connectionChecker_=e}};Ho.ConnectionDB.prototype.addConnection=function(e,t){t=this.calculateIndexForYPos_(t),this.connections_.splice(t,0,e)},Ho.ConnectionDB.prototype.findIndexOfConnection_=function(e,t){if(!this.connections_.length)return-1;var n=this.calculateIndexForYPos_(t);if(n>=this.connections_.length)return-1;t=e.y;for(var o=n;0<=o&&this.connections_[o].y===t;){if(this.connections_[o]===e)return o;o--}for(o=n;o<this.connections_.length&&this.connections_[o].y===t;){if(this.connections_[o]===e)return o;o++}return-1},Ho.ConnectionDB.prototype.calculateIndexForYPos_=function(e){if(!this.connections_.length)return 0;for(var t=0,n=this.connections_.length;t<n;){var o=Math.floor((t+n)/2);if(this.connections_[o].y<e)t=o+1;else{if(!(this.connections_[o].y>e)){t=o;break}n=o}}return t},Ho.ConnectionDB.prototype.removeConnection=function(e,t){if(-1===(e=this.findIndexOfConnection_(e,t)))throw Error("Unable to find connection in connectionDB.");this.connections_.splice(e,1)},Ho.ConnectionDB.prototype.getNeighbours=function(e,t){function n(e){var n=i-o[e].x,s=r-o[e].y;return Math.sqrt(n*n+s*s)<=t&&a.push(o[e]),s<t}var o=this.connections_,i=e.x,r=e.y;e=0;for(var s=o.length-2,l=s;e<l;)o[l].y<r?e=l:s=l,l=Math.floor((e+s)/2);var a=[];if(s=e=l,o.length){for(;0<=e&&n(e);)e--;do{s++}while(s<o.length&&n(s))}return a},Ho.ConnectionDB.prototype.isInYRange_=function(e,t,n){return Math.abs(this.connections_[e].y-t)<=n},Ho.ConnectionDB.prototype.searchForClosest=function(e,t,n){if(!this.connections_.length)return{connection:null,radius:t};var o=e.y,i=e.x;e.x=i+n.x,e.y=o+n.y;var r=this.calculateIndexForYPos_(e.y);n=null;for(var s,l=t,a=r-1;0<=a&&this.isInYRange_(a,e.y,t);)s=this.connections_[a],this.connectionChecker_.canConnect(e,s,!0,l)&&(n=s,l=s.distanceFrom(e)),a--;for(;r<this.connections_.length&&this.isInYRange_(r,e.y,t);)s=this.connections_[r],this.connectionChecker_.canConnect(e,s,!0,l)&&(n=s,l=s.distanceFrom(e)),r++;return e.x=i,e.y=o,{connection:n,radius:l}},Ho.ConnectionDB.init=function(t){var n=[];return n[e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE]=new Ho.ConnectionDB(t),n[e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE]=new Ho.ConnectionDB(t),n[e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT]=new Ho.ConnectionDB(t),n[e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT]=new Ho.ConnectionDB(t),n};var Vo={ThemeManager:function(e,t){this.workspace_=e,this.theme_=t,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)}};Vo.ThemeManager.prototype.getTheme=function(){return this.theme_},Vo.ThemeManager.prototype.setTheme=function(e){var n,o=this.theme_;for(this.theme_=e,(e=this.workspace_.getInjectionDiv())&&(o&&(0,M.removeClass)(e,o.getClassName()),(0,M.addClass)(e,this.theme_.getClassName())),o=0;e=this.subscribedWorkspaces_[o];o++)e.refreshTheme();for(o=0,e=Object.keys(this.componentDB_);n=e[o];o++)for(var i,r=0;i=this.componentDB_[n][r];r++){var s=i.element;i=i.propertyName;var l=this.theme_&&this.theme_.getComponentStyle(n);s.style[i]=l||""}for(e=(o=t.makeIterator(this.subscribedWorkspaces_)).next();!e.done;e=o.next())e.value.hideChaff()},Vo.ThemeManager.prototype.subscribeWorkspace=function(e){this.subscribedWorkspaces_.push(e)},Vo.ThemeManager.prototype.unsubscribeWorkspace=function(e){if(!Vt(this.subscribedWorkspaces_,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")},Vo.ThemeManager.prototype.subscribe=function(e,t,n){this.componentDB_[t]||(this.componentDB_[t]=[]),this.componentDB_[t].push({element:e,propertyName:n}),t=this.theme_&&this.theme_.getComponentStyle(t),e.style[n]=t||""},Vo.ThemeManager.prototype.unsubscribe=function(e){if(e)for(var t,n=Object.keys(this.componentDB_),o=0;t=n[o];o++){for(var i=this.componentDB_[t],r=i.length-1;0<=r;r--)i[r].element===e&&i.splice(r,1);this.componentDB_[t].length||delete this.componentDB_[t]}},Vo.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null};var Go={TouchGesture:function(e,t){Go.TouchGesture.superClass_.constructor.call(this,e,t),this.isMultiTouch_=!1,this.cachedPoints_=Object.create(null),this.startDistance_=this.previousScale_=0,this.isPinchZoomEnabled_=this.onStartWrapper_=null}};(0,e.module$exports$Blockly$utils$object.inherits)(Go.TouchGesture,Yn.Gesture),Go.TouchGesture.ZOOM_IN_MULTIPLIER=5,Go.TouchGesture.ZOOM_OUT_MULTIPLIER=6,Go.TouchGesture.prototype.doStart=function(e){this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,Go.TouchGesture.superClass_.doStart.call(this,e),!this.isEnding_&&(0,p.isTouchEvent)(e)&&this.handleTouchStart(e)},Go.TouchGesture.prototype.bindMouseEvents=function(e){this.onStartWrapper_=(0,_.conditionalBind)(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=(0,_.conditionalBind)(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=(0,_.conditionalBind)(document,"mouseup",null,this.handleUp.bind(this),!0),e.preventDefault(),e.stopPropagation()},Go.TouchGesture.prototype.handleStart=function(e){!this.isDragging()&&(0,p.isTouchEvent)(e)&&(this.handleTouchStart(e),this.isMultiTouch()&&(0,p.longStop)())},Go.TouchGesture.prototype.handleMove=function(e){this.isDragging()?(0,p.shouldHandleEvent)(e)&&Go.TouchGesture.superClass_.handleMove.call(this,e):this.isMultiTouch()?((0,p.isTouchEvent)(e)&&this.handleTouchMove(e),(0,p.longStop)()):Go.TouchGesture.superClass_.handleMove.call(this,e)},Go.TouchGesture.prototype.handleUp=function(e){(0,p.isTouchEvent)(e)&&!this.isDragging()&&this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()?(0,p.shouldHandleEvent)(e)&&Go.TouchGesture.superClass_.handleUp.call(this,e):(e.preventDefault(),e.stopPropagation(),this.dispose())},Go.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},Go.TouchGesture.prototype.dispose=function(){Go.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&(0,_.unbind)(this.onStartWrapper_)},Go.TouchGesture.prototype.handleTouchStart=function(e){var t=(0,p.getTouchIdentifierFromEvent)(e);this.cachedPoints_[t]=this.getTouchPoint(e),2===(t=Object.keys(this.cachedPoints_)).length&&(this.startDistance_=he.Coordinate.distance(this.cachedPoints_[t[0]],this.cachedPoints_[t[1]]),this.isMultiTouch_=!0,e.preventDefault())},Go.TouchGesture.prototype.handleTouchMove=function(e){var t=(0,p.getTouchIdentifierFromEvent)(e);this.cachedPoints_[t]=this.getTouchPoint(e),t=Object.keys(this.cachedPoints_),this.isPinchZoomEnabled_&&2===t.length?this.handlePinch_(e):Go.TouchGesture.superClass_.handleMove.call(this,e)},Go.TouchGesture.prototype.handlePinch_=function(e){var t=Object.keys(this.cachedPoints_);if(t=he.Coordinate.distance(this.cachedPoints_[t[0]],this.cachedPoints_[t[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var n=t-this.previousScale_;n=0<n?n*Go.TouchGesture.ZOOM_IN_MULTIPLIER:n*Go.TouchGesture.ZOOM_OUT_MULTIPLIER;var o=this.startWorkspace_,i=(0,_.mouseToSvg)(e,o.getParentSvg(),o.getInverseScreenCTM());o.zoom(i.x,i.y,n)}this.previousScale_=t,e.preventDefault()},Go.TouchGesture.prototype.handleTouchEnd=function(e){e=(0,p.getTouchIdentifierFromEvent)(e),this.cachedPoints_[e]&&delete this.cachedPoints_[e],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_=Object.create(null),this.previousScale_=0)},Go.TouchGesture.prototype.getTouchPoint=function(e){return this.startWorkspace_?new he.Coordinate(e.changedTouches?e.changedTouches[0].pageX:e.pageX,e.changedTouches?e.changedTouches[0].pageY:e.pageY):null};var Wo={WorkspaceAudio:function(e){this.parentWorkspace_=e,this.SOUNDS_=Object.create(null)}};Wo.WorkspaceAudio.prototype.lastSound_=null,Wo.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},Wo.WorkspaceAudio.prototype.load=function(t,n){if(t.length){try{var o=new e.module$exports$Blockly$utils$global.globalThis.Audio}catch(a){return}for(var i,r=0;r<t.length;r++){var s=t[r],l=s.match(/\.(\w+)$/);if(l&&o.canPlayType("audio/"+l[1])){i=new e.module$exports$Blockly$utils$global.globalThis.Audio(s);break}}i&&i.play&&(this.SOUNDS_[n]=i)}},Wo.WorkspaceAudio.prototype.preload=function(){for(var e in this.SOUNDS_){var t=this.SOUNDS_[e];t.volume=.01;var n=t.play();if(void 0!==n?n.then(t.pause).catch((function(){})):t.pause(),f.IPAD||f.IPHONE)break}},Wo.WorkspaceAudio.prototype.play=function(t,n){var o=this.SOUNDS_[t];o?(t=new Date,null!==this.lastSound_&&t-this.lastSound_<e.module$exports$Blockly$internalConstants.SOUND_LIMIT||(this.lastSound_=t,(o=f.IPAD||f.ANDROID?o:o.cloneNode()).volume=void 0===n?1:n,o.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(t,n)};var zo={ThemeChange:function(e,t){zo.ThemeChange.superClass_.constructor.call(this,t),this.themeName=e}};(0,e.module$exports$Blockly$utils$object.inherits)(zo.ThemeChange,Hn.UiBase),zo.ThemeChange.prototype.type=oe.THEME_CHANGE,zo.ThemeChange.prototype.toJson=function(){var e=zo.ThemeChange.superClass_.toJson.call(this);return e.themeName=this.themeName,e},zo.ThemeChange.prototype.fromJson=function(e){zo.ThemeChange.superClass_.fromJson.call(this,e),this.themeName=e.themeName},(0,Z.register)(Z.Type.EVENT,oe.THEME_CHANGE,zo.ThemeChange);var Yo={ViewportChange:function(e,t,n,o,i){Yo.ViewportChange.superClass_.constructor.call(this,o),this.viewTop=e,this.viewLeft=t,this.scale=n,this.oldScale=i}};(0,e.module$exports$Blockly$utils$object.inherits)(Yo.ViewportChange,Hn.UiBase),Yo.ViewportChange.prototype.type=oe.VIEWPORT_CHANGE,Yo.ViewportChange.prototype.toJson=function(){var e=Yo.ViewportChange.superClass_.toJson.call(this);return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e},Yo.ViewportChange.prototype.fromJson=function(e){Yo.ViewportChange.superClass_.fromJson.call(this,e),this.viewTop=e.viewTop,this.viewLeft=e.viewLeft,this.scale=e.scale,this.oldScale=e.oldScale},(0,Z.register)(Z.Type.EVENT,oe.VIEWPORT_CHANGE,Yo.ViewportChange);var jo={MetricsManager:function(e){this.workspace_=e}};jo.MetricsManager.prototype.getDimensionsPx_=function(e){var t=0,n=0;return e&&(t=e.getWidth(),n=e.getHeight()),new de.Size(t,n)},jo.MetricsManager.prototype.getFlyoutMetrics=function(e){return{width:(e=this.getDimensionsPx_(this.workspace_.getFlyout(e))).width,height:e.height,position:this.workspace_.toolboxPosition}},jo.MetricsManager.prototype.getToolboxMetrics=function(){var e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}},jo.MetricsManager.prototype.getSvgMetrics=function(){return this.workspace_.getCachedParentSvgSize()},jo.MetricsManager.prototype.getAbsoluteMetrics=function(){var e=0,t=this.getToolboxMetrics(),n=this.getFlyoutMetrics(!0),o=!!this.workspace_.getToolbox(),i=!!this.workspace_.getFlyout(!0),r=o?t.position:n.position,s=r===Ve.Position.LEFT;return r=r===Ve.Position.TOP,o&&s?e=t.width:i&&s&&(e=n.width),s=0,o&&r?s=t.height:i&&r&&(s=n.height),{top:s,left:e}},jo.MetricsManager.prototype.getViewMetrics=function(e){e=e?this.workspace_.scale:1;var t=this.getSvgMetrics(),n=this.getToolboxMetrics(),o=this.getFlyoutMetrics(!0),i=this.workspace_.getToolbox()?n.position:o.position;return this.workspace_.getToolbox()?i===Ve.Position.TOP||i===Ve.Position.BOTTOM?t.height-=n.height:i!==Ve.Position.LEFT&&i!==Ve.Position.RIGHT||(t.width-=n.width):this.workspace_.getFlyout(!0)&&(i===Ve.Position.TOP||i===Ve.Position.BOTTOM?t.height-=o.height:i!==Ve.Position.LEFT&&i!==Ve.Position.RIGHT||(t.width-=o.width)),{height:t.height/e,width:t.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}},jo.MetricsManager.prototype.getContentMetrics=function(e){e=e?1:this.workspace_.scale;var t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}},jo.MetricsManager.prototype.hasFixedEdges=function(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()},jo.MetricsManager.prototype.getComputedFixedEdges_=function(e){if(!this.hasFixedEdges())return{};var t=this.workspace_.isMovableHorizontally(),n=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);var o={};return n||(o.top=e.top,o.bottom=e.top+e.height),t||(o.left=e.left,o.right=e.left+e.width),o},jo.MetricsManager.prototype.getPaddedContent_=function(e,t){var n=t.top+t.height,o=t.left+t.width,i=e.width,r=i/2,s=(e=e.height)/2;return{top:Math.min(t.top-s,n-e),bottom:Math.max(n+s,t.top+e),left:Math.min(t.left-r,o-i),right:Math.max(o+r,t.left+i)}},jo.MetricsManager.prototype.getScrollMetrics=function(e,t,n){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var o=n||this.getContentMetrics();n=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,o),o=void 0!==n.top?n.top:t.top;var i=void 0!==n.left?n.left:t.left;return{top:o/e,left:i/e,width:((void 0!==n.right?n.right:t.right)-i)/e,height:((void 0!==n.bottom?n.bottom:t.bottom)-o)/e}},jo.MetricsManager.prototype.getUiMetrics=function(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}},jo.MetricsManager.prototype.getMetrics=function(){var e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),n=this.getSvgMetrics(),o=this.getAbsoluteMetrics(),i=this.getViewMetrics(),r=this.getContentMetrics(),s=this.getScrollMetrics(!1,i,r);return{contentHeight:r.height,contentWidth:r.width,contentTop:r.top,contentLeft:r.left,scrollHeight:s.height,scrollWidth:s.width,scrollTop:s.top,scrollLeft:s.left,viewHeight:i.height,viewWidth:i.width,viewTop:i.top,viewLeft:i.left,absoluteTop:o.top,absoluteLeft:o.left,svgHeight:n.height,svgWidth:n.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}},(0,Z.register)(Z.Type.METRICS_MANAGER,Z.DEFAULT,jo.MetricsManager);var Xo={WorkspaceSvg:function(t,n,o){Xo.WorkspaceSvg.superClass_.constructor.call(this,t),this.metricsManager_=new((0,Z.getClassFromOptions)(Z.Type.METRICS_MANAGER,t,!0))(this),this.getMetrics=t.getMetrics||this.metricsManager_.getMetrics.bind(this.metricsManager_),this.setMetrics=t.setMetrics||Xo.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.componentManager_=new dn.ComponentManager,this.connectionDBList=Ho.ConnectionDB.init(this.connectionChecker),n&&(this.blockDragSurface_=n),o&&(this.workspaceDragSurface_=o),this.useWorkspaceDragSurface_=!!this.workspaceDragSurface_&&(0,ye.is3dSupported)(),this.highlightedBlocks_=[],this.audioManager_=new Wo.WorkspaceAudio(t.parentWorkspace),this.grid_=this.options.gridPattern?new Me.Grid(this.options.gridPattern,t.gridOptions):null,this.markerManager_=new rn.MarkerManager(this),this.toolboxCategoryCallbacks_=Object.create(null),this.flyoutButtonCallbacks_=Object.create(null),(t=e.module$exports$Blockly$Variables)&&t.flyoutCategory&&this.registerToolboxCategoryCallback(t.CATEGORY_NAME,t.flyoutCategory),(t=Ir)&&t.flyoutCategory&&this.registerToolboxCategoryCallback(t.CATEGORY_NAME,t.flyoutCategory),(t=e.module$exports$Blockly$Procedures)&&t.flyoutCategory&&(this.registerToolboxCategoryCallback(t.CATEGORY_NAME,t.flyoutCategory),this.addChangeListener(t.mutatorOpenListener)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new Vo.ThemeManager(this,this.options.theme||Je.Classic),this.themeManager_.subscribeWorkspace(this),this.renderer_=(0,ko.init)(this.options.renderer||"geras",this.getTheme(),this.options.rendererOverrides),this.cachedParentSvg_=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements_=[],this.dragTargetAreas_=[],this.cachedParentSvgSize_=new de.Size(0,0)}};(0,e.module$exports$Blockly$utils$object.inherits)(Xo.WorkspaceSvg,Nn.Workspace),Xo.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,Xo.WorkspaceSvg.prototype.rendered=!0,Xo.WorkspaceSvg.prototype.isVisible_=!0,Xo.WorkspaceSvg.prototype.isFlyout=!1,Xo.WorkspaceSvg.prototype.isMutator=!1,Xo.WorkspaceSvg.prototype.resizesEnabled_=!0,Xo.WorkspaceSvg.prototype.scrollX=0,Xo.WorkspaceSvg.prototype.scrollY=0,Xo.WorkspaceSvg.prototype.startScrollX=0,Xo.WorkspaceSvg.prototype.startScrollY=0,Xo.WorkspaceSvg.prototype.dragDeltaXY_=null,Xo.WorkspaceSvg.prototype.scale=1,Xo.WorkspaceSvg.prototype.oldScale_=1,Xo.WorkspaceSvg.prototype.oldTop_=0,Xo.WorkspaceSvg.prototype.oldLeft_=0,Xo.WorkspaceSvg.prototype.trashcan=null,Xo.WorkspaceSvg.prototype.scrollbar=null,Xo.WorkspaceSvg.prototype.flyout_=null,Xo.WorkspaceSvg.prototype.toolbox_=null,Xo.WorkspaceSvg.prototype.currentGesture_=null,Xo.WorkspaceSvg.prototype.blockDragSurface_=null,Xo.WorkspaceSvg.prototype.workspaceDragSurface_=null,Xo.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,Xo.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,Xo.WorkspaceSvg.prototype.injectionDiv_=null,Xo.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,Xo.WorkspaceSvg.prototype.targetWorkspace=null,Xo.WorkspaceSvg.prototype.inverseScreenCTM_=null,Xo.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,Xo.WorkspaceSvg.prototype.getMarkerManager=function(){return this.markerManager_},Xo.WorkspaceSvg.prototype.getMetricsManager=function(){return this.metricsManager_},Xo.WorkspaceSvg.prototype.setMetricsManager=function(e){this.metricsManager_=e,this.getMetrics=this.metricsManager_.getMetrics.bind(this.metricsManager_)},Xo.WorkspaceSvg.prototype.getComponentManager=function(){return this.componentManager_},Xo.WorkspaceSvg.prototype.setCursorSvg=function(e){this.markerManager_.setCursorSvg(e)},Xo.WorkspaceSvg.prototype.setMarkerSvg=function(e){this.markerManager_.setMarkerSvg(e)},Xo.WorkspaceSvg.prototype.getMarker=function(e){return this.markerManager_?this.markerManager_.getMarker(e):null},Xo.WorkspaceSvg.prototype.getCursor=function(){return this.markerManager_?this.markerManager_.getCursor():null},Xo.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},Xo.WorkspaceSvg.prototype.getThemeManager=function(){return this.themeManager_},Xo.WorkspaceSvg.prototype.getTheme=function(){return this.themeManager_.getTheme()},Xo.WorkspaceSvg.prototype.setTheme=function(e){e||(e=Je.Classic),this.themeManager_.setTheme(e)},Xo.WorkspaceSvg.prototype.refreshTheme=function(){this.svgGroup_&&this.renderer_.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter((function(e){return!!e.getStyleName()}))),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);var e=new((0,oe.get)(oe.THEME_CHANGE))(this.getTheme().name,this.id);(0,oe.fire)(e)},Xo.WorkspaceSvg.prototype.updateBlockStyles_=function(e){for(var t,n=0;t=e[n];n++){var o=t.getStyleName();o&&(t.setStyle(o),t.mutator&&t.mutator.updateBlockStyle())}},Xo.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM_=e.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},Xo.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},Xo.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},Xo.WorkspaceSvg.prototype.getSvgXY=function(e){var t=0,n=0,o=1;((0,M.containsNode)(this.getCanvas(),e)||(0,M.containsNode)(this.getBubbleCanvas(),e))&&(o=this.scale);do{var i=(0,ye.getRelativeXY)(e);e!==this.getCanvas()&&e!==this.getBubbleCanvas()||(o=1),t+=i.x*o,n+=i.y*o,e=e.parentNode}while(e&&e!==this.getParentSvg());return new he.Coordinate(t,n)},Xo.WorkspaceSvg.prototype.getCachedParentSvgSize=function(){var e=this.cachedParentSvgSize_;return new de.Size(e.width,e.height)},Xo.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return(0,ye.getInjectionDivXY)(this.getCanvas())},Xo.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var e=this.svgGroup_;e;){if(-1!==(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=e;break}e=e.parentNode}return this.injectionDiv_},Xo.WorkspaceSvg.prototype.getBlockCanvas=function(){return this.svgBlockCanvas_},Xo.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(e){this.resizeHandlerWrapper_=e},Xo.WorkspaceSvg.prototype.createDom=function(e){return this.svgGroup_=(0,M.createSvgElement)(Ee.Svg.G,{class:"blocklyWorkspace"},null),e&&(this.svgBackground_=(0,M.createSvgElement)(Ee.Svg.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"===e&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=(0,M.createSvgElement)(Ee.Svg.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=(0,M.createSvgElement)(Ee.Svg.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||((0,_.conditionalBind)(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),document.body.addEventListener("wheel",(function(){})),(0,_.conditionalBind)(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new((0,Z.getClassFromOptions)(Z.Type.TOOLBOX,this.options,!0))(this)),this.grid_&&this.grid_.update(this.scale),this.recordDragTargets(),(e=(0,Z.getClassFromOptions)(Z.Type.CURSOR,this.options))&&this.markerManager_.setCursor(new e),this.renderer_.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_},Xo.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&((0,M.removeNode)(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.renderer_.dispose(),this.markerManager_&&(this.markerManager_.dispose(),this.markerManager_=null),Xo.WorkspaceSvg.superClass_.dispose.call(this),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null)),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var e=this.getParentSvg();e&&e.parentNode&&(0,M.removeNode)(e.parentNode)}this.resizeHandlerWrapper_&&((0,_.unbind)(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},Xo.WorkspaceSvg.prototype.newBlock=function(e,t){return new Uo.BlockSvg(this,e,t)},Xo.WorkspaceSvg.prototype.addTrashcan=function(){var e=Er.Trashcan;if(!e)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new e(this),e=this.trashcan.createDom(),this.svgGroup_.insertBefore(e,this.svgBlockCanvas_)},Xo.WorkspaceSvg.prototype.addZoomControls=function(){var e=yr.ZoomControls;if(!e)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new e(this),e=this.zoomControls_.createDom(),this.svgGroup_.appendChild(e)},Xo.WorkspaceSvg.prototype.addFlyout=function(e){var t=new qe.Options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=this.options.toolboxPosition,this.flyout_=this.horizontalLayout?new((0,Z.getClassFromOptions)(Z.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new((0,Z.getClassFromOptions)(Z.Type.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout_.autoClose=!1,this.flyout_.getWorkspace().setVisible(!0),this.flyout_.createDom(e)},Xo.WorkspaceSvg.prototype.getFlyout=function(e){return this.flyout_||e?this.flyout_:this.toolbox_?this.toolbox_.getFlyout():null},Xo.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},Xo.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDragTargets()},Xo.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())},Xo.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position();for(var e,t=this.componentManager_.getComponents(dn.ComponentManager.Capability.POSITIONABLE,!0),n=this.getMetricsManager().getUiMetrics(),o=[],i=0;e=t[i];i++)e.position(n,o),(e=e.getBoundingRectangle())&&o.push(e);this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},Xo.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var e=(0,ye.getDocumentScroll)();he.Coordinate.equals(this.lastRecordedPageScroll_,e)||(this.lastRecordedPageScroll_=e,this.updateScreenCalculations_())},Xo.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},Xo.WorkspaceSvg.prototype.setCachedParentSvgSize=function(e,t){var n=this.getParentSvg();e&&(this.cachedParentSvgSize_.width=e,n.cachedWidth_=e),t&&(this.cachedParentSvgSize_.height=t,n.cachedHeight_=t)},Xo.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},Xo.WorkspaceSvg.prototype.getParentSvg=function(){if(!this.cachedParentSvg_)for(var e=this.svgGroup_;e;){if("svg"===e.tagName){this.cachedParentSvg_=e;break}e=e.parentNode}return this.cachedParentSvg_},Xo.WorkspaceSvg.prototype.maybeFireViewportChangeEvent=function(){if((0,oe.isEnabled)()){var e=this.scale,t=-this.scrollY,n=-this.scrollX;if(!(e===this.oldScale_&&1>Math.abs(t-this.oldTop_)&&1>Math.abs(n-this.oldLeft_))){var o=new((0,oe.get)(oe.VIEWPORT_CHANGE))(t,n,e,this.id,this.oldScale_);this.oldScale_=e,this.oldTop_=t,this.oldLeft_=n,(0,oe.fire)(o)}}},Xo.WorkspaceSvg.prototype.translate=function(e,t){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(e,t);else{var n="translate("+e+","+t+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",n),this.svgBubbleCanvas_.setAttribute("transform",n)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(e,t,this.scale),this.grid_&&this.grid_.moveTo(e,t),this.maybeFireViewportChangeEvent()},Xo.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var e=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),e="translate("+e.x+","+e.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",e),this.svgBubbleCanvas_.setAttribute("transform",e)}},Xo.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var e=this.svgBlockCanvas_.previousSibling,t=parseInt(this.getParentSvg().getAttribute("width"),10),n=parseInt(this.getParentSvg().getAttribute("height"),10),o=(0,ye.getRelativeXY)(this.getCanvas());this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),e,t,n,this.scale),this.workspaceDragSurface_.translateSurface(o.x,o.y)}},Xo.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},Xo.WorkspaceSvg.prototype.getWidth=function(){var e=this.getMetrics();return e?e.viewWidth/this.scale:0},Xo.WorkspaceSvg.prototype.setVisible=function(e){if(this.isVisible_=e,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e){for(var t=(e=this.getAllBlocks(!1)).length-1;0<=t;t--)e[t].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else this.hideChaff(!0)},Xo.WorkspaceSvg.prototype.render=function(){for(var e=this.getAllBlocks(!1),t=e.length-1;0<=t;t--)e[t].render(!1);if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),t=0;t<e.length;t++)e[t].render(!1);this.markerManager_.updateMarkers()},Xo.WorkspaceSvg.prototype.highlightBlock=function(e,t){if(void 0===t){for(var n,o=0;n=this.highlightedBlocks_[o];o++)n.setHighlighted(!1);this.highlightedBlocks_.length=0}(e=e?this.getBlockById(e):null)&&((t=void 0===t||t)?-1===this.highlightedBlocks_.indexOf(e)&&this.highlightedBlocks_.push(e):Vt(this.highlightedBlocks_,e),e.setHighlighted(t))},Xo.WorkspaceSvg.prototype.paste=function(e){this.rendered&&(e.type||e.tagName)&&(this.currentGesture_&&this.currentGesture_.cancel(),e.type?this.pasteBlock_(null,e):"comment"===e.tagName.toLowerCase()?this.pasteWorkspaceComment_(e):this.pasteBlock_(e,null))},Xo.WorkspaceSvg.prototype.pasteBlock_=function(t,n){(0,oe.disable)();try{var o=0,i=0;if(t){var r=(0,e.module$exports$Blockly$Xml.domToBlock)(t,this);o=parseInt(t.getAttribute("x"),10),this.RTL&&(o=-o),i=parseInt(t.getAttribute("y"),10)}else n&&(r=(0,pt.append)(n,this),o=n.x||10,this.RTL&&(o=this.getWidth()-o),i=n.y||10);if(!isNaN(o)&&!isNaN(i)){do{var s=!1,l=this.getAllBlocks(!1);for(t=0,n=void 0;n=l[t];t++){var a=n.getRelativeToSurfaceXY();if(1>=Math.abs(o-a.x)&&1>=Math.abs(i-a.y)){s=!0;break}}if(!s){var c=r.getConnections_(!1);for(t=0,n=void 0;n=c[t];t++)if(n.closest(e.module$exports$Blockly$internalConstants.SNAP_RADIUS,new he.Coordinate(o,i)).connection){s=!0;break}}s&&(o=this.RTL?o-e.module$exports$Blockly$internalConstants.SNAP_RADIUS:o+e.module$exports$Blockly$internalConstants.SNAP_RADIUS,i+=2*e.module$exports$Blockly$internalConstants.SNAP_RADIUS)}while(s);r.moveTo(new he.Coordinate(o,i))}}finally{(0,oe.enable)()}(0,oe.isEnabled)()&&!r.isShadow()&&(0,oe.fire)(new((0,oe.get)(oe.CREATE))(r)),r.select()},Xo.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(e){(0,oe.disable)();try{var t=Tr.fromXml(e,this),n=parseInt(e.getAttribute("x"),10),o=parseInt(e.getAttribute("y"),10);isNaN(n)||isNaN(o)||(this.RTL&&(n=-n),t.moveBy(n+50,o+50))}finally{(0,oe.enable)()}(0,oe.isEnabled)()&&vr.fireCreateEvent(t),t.select()},Xo.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()},Xo.WorkspaceSvg.prototype.renameVariableById=function(e,t){Xo.WorkspaceSvg.superClass_.renameVariableById.call(this,e,t),this.refreshToolboxSelection()},Xo.WorkspaceSvg.prototype.deleteVariableById=function(e){Xo.WorkspaceSvg.superClass_.deleteVariableById.call(this,e),this.refreshToolboxSelection()},Xo.WorkspaceSvg.prototype.createVariable=function(e,t,n){return e=Xo.WorkspaceSvg.superClass_.createVariable.call(this,e,t,n),this.refreshToolboxSelection(),e},Xo.WorkspaceSvg.prototype.recordDeleteAreas=function(){Bo.deprecation.warn("WorkspaceSvg.prototype.recordDeleteAreas","June 2021","June 2022","WorkspaceSvg.prototype.recordDragTargets"),this.recordDragTargets()},Xo.WorkspaceSvg.prototype.recordDragTargets=function(){var e=this.componentManager_.getComponents(dn.ComponentManager.Capability.DRAG_TARGET,!0);this.dragTargetAreas_=[];for(var t,n=0;t=e[n];n++){var o=t.getClientRect();o&&this.dragTargetAreas_.push({component:t,clientRect:o})}},Xo.WorkspaceSvg.prototype.getDragTarget=function(e){for(var t,n=0;t=this.dragTargetAreas_[n];n++)if(t.clientRect.contains(e.clientX,e.clientY))return t.component;return null},Xo.WorkspaceSvg.prototype.onMouseDown_=function(e){var t=this.getGesture(e);t&&t.handleWsStart(e,this)},Xo.WorkspaceSvg.prototype.startDrag=function(e,t){(e=(0,_.mouseToSvg)(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,this.dragDeltaXY_=he.Coordinate.difference(t,e)},Xo.WorkspaceSvg.prototype.moveDrag=function(e){return(e=(0,_.mouseToSvg)(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,he.Coordinate.sum(this.dragDeltaXY_,e)},Xo.WorkspaceSvg.prototype.isDragging=function(){return null!==this.currentGesture_&&this.currentGesture_.isDragging()},Xo.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},Xo.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch},Xo.WorkspaceSvg.prototype.isMovableHorizontally=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())},Xo.WorkspaceSvg.prototype.isMovableVertically=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())},Xo.WorkspaceSvg.prototype.onMouseWheel_=function(e){if(Yn.Gesture.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,n=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||n){var o=(0,_.getScrollDeltaPixels)(e);if(f.MAC)var i=e.metaKey;t&&(e.ctrlKey||i||!n)?(o=-o.y/50,t=(0,_.mouseToSvg)(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,o)):(t=this.scrollX-o.x,n=this.scrollY-o.y,e.shiftKey&&!o.x&&(t=this.scrollX-o.y,n=this.scrollY),this.scroll(t,n)),e.preventDefault()}}},Xo.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var e=this.getTopBoundedElements();if(!e.length)return new me.Rect(0,0,0,0);for(var t=e[0].getBoundingRectangle(),n=1;n<e.length;n++){var o=e[n];o.isInsertionMarker&&o.isInsertionMarker()||((o=o.getBoundingRectangle()).top<t.top&&(t.top=o.top),o.bottom>t.bottom&&(t.bottom=o.bottom),o.left<t.left&&(t.left=o.left),o.right>t.right&&(t.right=o.right))}return t},Xo.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),(0,oe.setGroup)(!0);for(var e,t=this.getTopBlocks(!0),n=0,o=0;e=t[o];o++)if(e.isMovable()){var i=e.getRelativeToSurfaceXY();e.moveBy(-i.x,n-i.y),e.snapToGrid(),n=e.getRelativeToSurfaceXY().y+e.getHeightWidth().height+this.renderer_.getConstants().MIN_BLOCK_HEIGHT}(0,oe.setGroup)(!1),this.setResizesEnabled(!0)},Xo.WorkspaceSvg.prototype.showContextMenu=function(t){if(!this.options.readOnly&&!this.isFlyout){var n=No.ContextMenuRegistry.registry.getContextMenuOptions(No.ContextMenuRegistry.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(n,t),(0,e.module$exports$Blockly$ContextMenu.show)(t,n,this.RTL)}},Xo.WorkspaceSvg.prototype.updateToolbox=function(e){if(e=(0,Ve.convertToolboxDefToJson)(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if((0,Ve.hasCategories)(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout_.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},Xo.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():((0,e.module$exports$Blockly$common.setMainWorkspace)(this),this.setBrowserFocus())},Xo.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(e){try{this.getParentSvg().parentNode.setActive()}catch(t){this.getParentSvg().parentNode.focus({preventScroll:!0})}}},Xo.WorkspaceSvg.prototype.zoom=function(e,t,n){n=Math.pow(this.options.zoomOptions.scaleSpeed,n);var o=this.scale*n;if(this.scale!==o){o>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:o<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale);var i=this.getCanvas().getCTM(),r=this.getParentSvg().createSVGPoint();r.x=e,r.y=t,e=(r=r.matrixTransform(i.inverse())).x,t=r.y,i=i.translate(e*(1-n),t*(1-n)).scale(n),this.scrollX=i.e,this.scrollY=i.f,this.setScale(o)}},Xo.WorkspaceSvg.prototype.zoomCenter=function(e){var t=this.getMetrics();if(this.flyout_){var n=t.svgWidth?t.svgWidth/2:0;t=t.svgHeight?t.svgHeight/2:0}else n=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop;this.zoom(n,t,e)},Xo.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var n=this.getBlocksBoundingBox(),o=n.right-n.left;if(n=n.bottom-n.top,o){this.flyout_&&(this.horizontalLayout?(e+=this.flyout_.getHeight(),n+=this.flyout_.getHeight()/this.scale):(t+=this.flyout_.getWidth(),o+=this.flyout_.getWidth()/this.scale)),t/=o,e/=n,(0,oe.disable)();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{(0,oe.enable)()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},Xo.WorkspaceSvg.prototype.beginCanvasTransition=function(){(0,M.addClass)(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),(0,M.addClass)(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},Xo.WorkspaceSvg.prototype.endCanvasTransition=function(){(0,M.removeClass)(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),(0,M.removeClass)(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},Xo.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,n=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,n=-n-e.scrollTop,this.scroll(t,n)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},Xo.WorkspaceSvg.prototype.centerOnBlock=function(e){if(this.isMovable()){if(e=e?this.getBlockById(e):null){var t=e.getRelativeToSurfaceXY(),n=e.getHeightWidth(),o=this.scale;e=(t.x+(this.RTL?-1:1)*n.width/2)*o,t=(t.y+n.height/2)*o,n=this.getMetrics(),this.scroll(-(e-n.viewWidth/2),-(t-n.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},Xo.WorkspaceSvg.prototype.setScale=function(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid_&&this.grid_.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))},Xo.WorkspaceSvg.prototype.getScale=function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale},Xo.WorkspaceSvg.prototype.scroll=function(e,t){this.hideChaff(!0);var n=this.getMetrics();e=Math.min(e,-n.scrollLeft),t=Math.min(t,-n.scrollTop);var o=n.scrollTop+Math.max(0,n.scrollHeight-n.viewHeight);e=Math.max(e,-(n.scrollLeft+Math.max(0,n.scrollWidth-n.viewWidth))),t=Math.max(t,-o),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+n.scrollLeft),-(t+n.scrollTop),!1),e+=n.absoluteLeft,t+=n.absoluteTop,this.translate(e,t)},Xo.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(e){var t=this.getMetrics();"number"===typeof e.x&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),"number"===typeof e.y&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)},Xo.WorkspaceSvg.prototype.getBlockById=function(e){return Xo.WorkspaceSvg.superClass_.getBlockById.call(this,e)},Xo.WorkspaceSvg.prototype.getTopBlocks=function(e){return Xo.WorkspaceSvg.superClass_.getTopBlocks.call(this,e)},Xo.WorkspaceSvg.prototype.addTopBlock=function(e){this.addTopBoundedElement(e),Xo.WorkspaceSvg.superClass_.addTopBlock.call(this,e)},Xo.WorkspaceSvg.prototype.removeTopBlock=function(e){this.removeTopBoundedElement(e),Xo.WorkspaceSvg.superClass_.removeTopBlock.call(this,e)},Xo.WorkspaceSvg.prototype.addTopComment=function(e){this.addTopBoundedElement(e),Xo.WorkspaceSvg.superClass_.addTopComment.call(this,e)},Xo.WorkspaceSvg.prototype.removeTopComment=function(e){this.removeTopBoundedElement(e),Xo.WorkspaceSvg.superClass_.removeTopComment.call(this,e)},Xo.WorkspaceSvg.prototype.addTopBoundedElement=function(e){this.topBoundedElements_.push(e)},Xo.WorkspaceSvg.prototype.removeTopBoundedElement=function(e){Vt(this.topBoundedElements_,e)},Xo.WorkspaceSvg.prototype.getTopBoundedElements=function(){return[].concat(this.topBoundedElements_)},Xo.WorkspaceSvg.prototype.setResizesEnabled=function(e){var t=!this.resizesEnabled_&&e;this.resizesEnabled_=e,t&&this.resizeContents()},Xo.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),Xo.WorkspaceSvg.superClass_.clear.call(this),this.topBoundedElements_=[],this.setResizesEnabled(!0)},Xo.WorkspaceSvg.prototype.registerButtonCallback=function(e,t){if("function"!==typeof t)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[e]=t},Xo.WorkspaceSvg.prototype.getButtonCallback=function(e){return(e=this.flyoutButtonCallbacks_[e])?e:null},Xo.WorkspaceSvg.prototype.removeButtonCallback=function(e){this.flyoutButtonCallbacks_[e]=null},Xo.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(e,t){if("function"!==typeof t)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[e]=t},Xo.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(e){return this.toolboxCategoryCallbacks_[e]||null},Xo.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(e){this.toolboxCategoryCallbacks_[e]=null},Xo.WorkspaceSvg.prototype.getGesture=function(e){var t="mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type,n=this.currentGesture_;return n?t&&n.hasStarted()?(console.warn("Tried to start the same gesture twice."),n.cancel(),null):n:t?this.currentGesture_=new Go.TouchGesture(e,this):null},Xo.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},Xo.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},Xo.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},Xo.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},Xo.WorkspaceSvg.prototype.hideChaff=function(e){(0,T.hide)(),(0,U.hide)(),be.DropDownDiv.hideWithoutAnimation();var t=!!e;this.getComponentManager().getComponents(dn.ComponentManager.Capability.AUTOHIDEABLE,!0).forEach((function(e){return e.autoHide(t)}))},Xo.resizeSvgContents=function(e){e.resizeContents()};var Ko=function(t,n){if("string"===typeof t&&(t=document.getElementById(t)||document.querySelector(t)),!t||!(0,M.containsNode)(document,t))throw Error("Error: container is not in current document.");n=new qe.Options(n||{});var o=document.createElement("div");o.className="injectionDiv",o.tabIndex=0,(0,X.setState)(o,X.State.LABEL,e.module$exports$Blockly$Msg.Msg.WORKSPACE_ARIA_LABEL),t.appendChild(o),t=Jo(o,n);var i=new ke.BlockDragSurfaceSvg(o),r=new nt.WorkspaceDragSurfaceSvg(o),s=qo(t,n,i,r);return Zo(s),(0,e.module$exports$Blockly$common.setMainWorkspace)(s),(0,e.module$exports$Blockly$common.svgResize)(s),o.addEventListener("focusin",(function(){(0,e.module$exports$Blockly$common.setMainWorkspace)(s)})),s},Jo=function(e,t){e.setAttribute("dir","LTR"),(0,c.inject)(t.hasCss,t.pathToMedia),e=(0,M.createSvgElement)(Ee.Svg.SVG,{xmlns:M.SVG_NS,"xmlns:html":M.HTML_NS,"xmlns:xlink":M.XLINK_NS,version:"1.1",class:"blocklySvg",tabindex:"0"},e);var n=(0,M.createSvgElement)(Ee.Svg.DEFS,{},e),o=String(Math.random()).substring(2);return t.gridPattern=Me.Grid.createDom(o,t.gridOptions,n),e},qo=function(t,n,o,i){return n.parentWorkspace=null,o=(n=new Xo.WorkspaceSvg(n,o,i)).options,n.scale=o.zoomOptions.startScale,t.appendChild(n.createDom("blocklyMainBackground")),(0,M.addClass)(n.getInjectionDiv(),n.getRenderer().getClassName()),(0,M.addClass)(n.getInjectionDiv(),n.getTheme().getClassName()),!o.hasCategories&&o.languageTree&&(i=n.addFlyout(Ee.Svg.SVG),(0,M.insertAfter)(i,t)),o.hasTrashcan&&n.addTrashcan(),o.zoomOptions&&o.zoomOptions.controls&&n.addZoomControls(),n.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),n.translate(0,0),n.addChangeListener((0,ue.bumpIntoBoundsHandler)(n)),(0,e.module$exports$Blockly$common.svgResize)(n),(0,U.createDom)(),be.DropDownDiv.createDom(),(0,T.createDom)(),n},Zo=function(t){var n=t.options,o=t.getParentSvg();if((0,_.conditionalBind)(o.parentNode,"contextmenu",null,(function(e){(0,_.isTargetInput)(e)||e.preventDefault()})),o=(0,_.conditionalBind)(window,"resize",null,(function(){t.hideChaff(!0),(0,e.module$exports$Blockly$common.svgResize)(t),ue.bumpTopObjectsIntoBounds(t)})),t.setResizeHandlerWrapper(o),ti(),n.languageTree){o=t.getToolbox();var i=t.getFlyout(!0);o?o.init():i&&(i.init(t),i.show(n.languageTree),"function"===typeof i.scrollToStart&&i.scrollToStart())}n.hasTrashcan&&t.trashcan.init(),n.zoomOptions&&n.zoomOptions.controls&&t.zoomControls_.init(),n.moveOptions&&n.moveOptions.scrollbars?(t.scrollbar=new Qe.ScrollbarPair(t,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.horizontal,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),t.scrollbar.resize()):t.setMetrics({x:.5,y:.5}),n.hasSounds&&ni(n.pathToMedia,t)},Qo=function(t){var n=(0,e.module$exports$Blockly$common.getMainWorkspace)();n&&!((0,_.isTargetInput)(t)||n.rendered&&!n.isVisible())&&tt.ShortcutRegistry.registry.onKeyDown(n,t)},ei=!1,ti=function(){ei||((0,_.conditionalBind)(document,"scroll",null,(function(){for(var e,t=Nn.Workspace.getAll(),n=0;e=t[n];n++)e.updateInverseScreenCTM&&e.updateInverseScreenCTM()})),(0,_.conditionalBind)(document,"keydown",null,Qo),(0,_.bind)(document,"touchend",null,p.longStop),(0,_.bind)(document,"touchcancel",null,p.longStop),f.IPAD&&(0,_.conditionalBind)(window,"orientationchange",document,(function(){(0,e.module$exports$Blockly$common.svgResize)((0,e.module$exports$Blockly$common.getMainWorkspace)())}))),ei=!0},ni=function(e,t){var n=t.getAudioManager();n.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),n.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),n.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");var o=[];e=function(){for(;o.length;)(0,_.unbind)(o.pop());n.preload()},o.push((0,_.conditionalBind)(document,"mousemove",null,e,!0)),o.push((0,_.conditionalBind)(document,"touchstart",null,e,!0))},oi={DragTarget:function(){}};oi.DragTarget.prototype.onDragEnter=function(e){},oi.DragTarget.prototype.onDragOver=function(e){},oi.DragTarget.prototype.onDragExit=function(e){},oi.DragTarget.prototype.onDrop=function(e){},oi.DragTarget.prototype.shouldPreventMove=function(e){return!1};var ii={DeleteArea:function(){ii.DeleteArea.superClass_.constructor.call(this),this.wouldDelete_=!1}};(0,e.module$exports$Blockly$utils$object.inherits)(ii.DeleteArea,oi.DragTarget),ii.DeleteArea.prototype.wouldDelete=function(e,t){return e instanceof Uo.BlockSvg?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e&&!t)):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_},ii.DeleteArea.prototype.updateWouldDelete_=function(e){this.wouldDelete_=e};var ri={FlyoutMetricsManager:function(e,t){this.flyout_=t,ri.FlyoutMetricsManager.superClass_.constructor.call(this,e)}};(0,e.module$exports$Blockly$utils$object.inherits)(ri.FlyoutMetricsManager,jo.MetricsManager),ri.FlyoutMetricsManager.prototype.getBoundingBox_=function(){try{var e=this.workspace_.getCanvas().getBBox()}catch(t){e={height:0,y:0,width:0,x:0}}return e},ri.FlyoutMetricsManager.prototype.getContentMetrics=function(e){var t=this.getBoundingBox_();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}},ri.FlyoutMetricsManager.prototype.getScrollMetrics=function(e,t,n){return t=n||this.getContentMetrics(),n=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*n)/e,width:(t.width+t.left+n)/e,top:0,left:0}};var si={Flyout:function(e){si.Flyout.superClass_.constructor.call(this),e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Xo.WorkspaceSvg(e),this.workspace_.setMetricsManager(new ri.FlyoutMetricsManager(this.workspace_,this)),this.workspace_.isFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=(0,K.genUid)(),this.RTL=!!e.RTL,this.horizontalLayout=!1,this.toolboxPosition_=e.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.targetWorkspace=null,this.recycledBlocks_=[]}};(0,e.module$exports$Blockly$utils$object.inherits)(si.Flyout,ii.DeleteArea),si.Flyout.prototype.autoClose=!0,si.Flyout.prototype.isVisible_=!1,si.Flyout.prototype.containerVisible_=!0,si.Flyout.prototype.CORNER_RADIUS=8,si.Flyout.prototype.MARGIN=si.Flyout.prototype.CORNER_RADIUS,si.Flyout.prototype.GAP_X=3*si.Flyout.prototype.MARGIN,si.Flyout.prototype.GAP_Y=3*si.Flyout.prototype.MARGIN,si.Flyout.prototype.SCROLLBAR_MARGIN=2.5,si.Flyout.prototype.width_=0,si.Flyout.prototype.height_=0,si.Flyout.prototype.dragAngleRange_=70,si.Flyout.prototype.createDom=function(e){return this.svgGroup_=(0,M.createSvgElement)(e,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=(0,M.createSvgElement)(Ee.Svg.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},si.Flyout.prototype.init=function(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new Qe.ScrollbarPair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),Array.prototype.push.apply(this.eventWrappers_,(0,_.conditionalBind)(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,(0,_.conditionalBind)(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:1,capabilities:[dn.ComponentManager.Capability.DELETE_AREA,dn.ComponentManager.Capability.DRAG_TARGET]})},si.Flyout.prototype.dispose=function(){this.hide(),this.workspace_.getComponentManager().removeComponent(this.id),(0,_.unbind)(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&((0,M.removeNode)(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace=this.svgBackground_=null},si.Flyout.prototype.getWidth=function(){return this.width_},si.Flyout.prototype.getHeight=function(){return this.height_},si.Flyout.prototype.getFlyoutScale=function(){return this.targetWorkspace.scale},si.Flyout.prototype.getWorkspace=function(){return this.workspace_},si.Flyout.prototype.isVisible=function(){return this.isVisible_},si.Flyout.prototype.setVisible=function(e){var t=e!==this.isVisible();this.isVisible_=e,t&&(this.autoClose||this.workspace_.recordDragTargets(),this.updateDisplay_())},si.Flyout.prototype.setContainerVisible=function(e){var t=e!==this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()},si.Flyout.prototype.updateDisplay_=function(){var e=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=e?"block":"none",this.workspace_.scrollbar.setContainerVisible(e)},si.Flyout.prototype.positionAt_=function(e,t,n,o){this.svgGroup_.setAttribute("width",e),this.svgGroup_.setAttribute("height",t),this.workspace_.setCachedParentSvgSize(e,t),"svg"===this.svgGroup_.tagName?(0,M.setCssTransform)(this.svgGroup_,"translate("+n+"px,"+o+"px)"):this.svgGroup_.setAttribute("transform","translate("+n+","+o+")"),(e=this.workspace_.scrollbar)&&(e.setOrigin(n,o),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))},si.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var e,t=0;e=this.listeners_[t];t++)(0,_.unbind)(e);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},si.Flyout.prototype.show=function(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"===typeof e&&(e=this.getDynamicCategoryContents_(e)),this.setVisible(!0),e=(0,Ve.convertFlyoutDefToJsonArray)(e),e=this.createFlyoutInfo_(e),this.layout_(e.contents,e.gaps),this.listeners_.push((0,_.conditionalBind)(this.svgBackground_,"mouseover",this,(function(){for(var e,t=this.workspace_.getTopBlocks(!1),n=0;e=t[n];n++)e.removeSelect()}))),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_),this.emptyRecycledBlocks_()},si.Flyout.prototype.createFlyoutInfo_=function(e){var t=[],n=[];this.permanentlyDisabled_.length=0;for(var o,i=this.horizontalLayout?this.GAP_X:this.GAP_Y,r=0;o=e[r];r++)switch(o.custom&&(o=this.getDynamicCategoryContents_(o.custom),o=(0,Ve.convertFlyoutDefToJsonArray)(o),e.splice.apply(e,[r,1].concat(o)),o=e[r]),o.kind.toUpperCase()){case"BLOCK":var s=this.createFlyoutBlock_(o);t.push({type:"block",block:s}),this.addBlockGap_(o,n,i);break;case"SEP":this.addSeparatorGap_(o,n,i);break;case"LABEL":o=this.createButton_(o,!0),t.push({type:"button",button:o}),n.push(i);break;case"BUTTON":o=this.createButton_(o,!1),t.push({type:"button",button:o}),n.push(i)}return{contents:t,gaps:n}},si.Flyout.prototype.getDynamicCategoryContents_=function(e){if("function"!==typeof(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)},si.Flyout.prototype.createButton_=function(e,t){var n=Cr.FlyoutButton;if(!n)throw Error("Missing require for Blockly.FlyoutButton");return new n(this.workspace_,this.targetWorkspace,e,t)},si.Flyout.prototype.createFlyoutBlock_=function(t){var n;return t.blockxml?(t="string"===typeof t.blockxml?(0,e.module$exports$Blockly$Xml.textToDom)(t.blockxml):t.blockxml,(n=this.getRecycledBlock_(t.getAttribute("type")))||(n=(0,e.module$exports$Blockly$Xml.domToBlock)(t,this.workspace_))):(n=this.getRecycledBlock_(t.type))||(void 0===t.enabled&&(t.enabled="true"!==t.disabled&&!0!==t.disabled),n=(0,pt.append)(t,this.workspace_)),n.isEnabled()||this.permanentlyDisabled_.push(n),n},si.Flyout.prototype.getRecycledBlock_=function(e){for(var t=-1,n=0;n<this.recycledBlocks_.length;n++)if(this.recycledBlocks_[n].type===e){t=n;break}return-1===t?void 0:this.recycledBlocks_.splice(t,1)[0]},si.Flyout.prototype.addBlockGap_=function(t,n,o){if(t.gap)var i=parseInt(t.gap,10);else t.blockxml&&(t="string"===typeof t.blockxml?(0,e.module$exports$Blockly$Xml.textToDom)(t.blockxml):t.blockxml,i=parseInt(t.getAttribute("gap"),10));n.push(isNaN(i)?o:i)},si.Flyout.prototype.addSeparatorGap_=function(e,t,n){e=parseInt(e.gap,10),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(n)},si.Flyout.prototype.clearOldBlocks_=function(){for(var e,t=this.workspace_.getTopBlocks(!1),n=0;e=t[n];n++)this.blockIsRecyclable_(e)?this.recycleBlock_(e):e.dispose(!1,!1);for(t=0;t<this.mats_.length;t++)(n=this.mats_[t])&&((0,T.unbindMouseEvents)(n),(0,M.removeNode)(n));for(t=this.mats_.length=0;n=this.buttons_[t];t++)n.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},si.Flyout.prototype.emptyRecycledBlocks_=function(){for(var e=0;e<this.recycledBlocks_.length;e++)this.recycledBlocks_[e].dispose();this.recycledBlocks_=[]},si.Flyout.prototype.blockIsRecyclable_=function(e){return!1},si.Flyout.prototype.recycleBlock_=function(e){var t=e.getRelativeToSurfaceXY();e.moveBy(-t.x,-t.y),this.recycledBlocks_.push(e)},si.Flyout.prototype.addBlockListeners_=function(e,t,n){this.listeners_.push((0,_.conditionalBind)(e,"mousedown",null,this.blockMouseDown_(t))),this.listeners_.push((0,_.conditionalBind)(n,"mousedown",null,this.blockMouseDown_(t))),this.listeners_.push((0,_.bind)(e,"mouseenter",t,t.addSelect)),this.listeners_.push((0,_.bind)(e,"mouseleave",t,t.removeSelect)),this.listeners_.push((0,_.bind)(n,"mouseenter",t,t.addSelect)),this.listeners_.push((0,_.bind)(n,"mouseleave",t,t.removeSelect))},si.Flyout.prototype.blockMouseDown_=function(e){var t=this;return function(n){var o=t.targetWorkspace.getGesture(n);o&&(o.setStartBlock(e),o.handleFlyoutStart(n,t))}},si.Flyout.prototype.onMouseDown_=function(e){var t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)},si.Flyout.prototype.isBlockCreatable_=function(e){return e.isEnabled()},si.Flyout.prototype.createBlock=function(t){var n=null;(0,oe.disable)();var o=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{n=this.placeNewBlock_(t)}finally{(0,oe.enable)()}if(this.targetWorkspace.hideChaff(),t=(0,e.module$exports$Blockly$Variables.getAddedVariables)(this.targetWorkspace,o),(0,oe.isEnabled)()){for((0,oe.setGroup)(!0),o=0;o<t.length;o++){var i=t[o];(0,oe.fire)(new((0,oe.get)(oe.VAR_CREATE))(i))}(0,oe.fire)(new((0,oe.get)(oe.CREATE))(n))}return this.autoClose?this.hide():this.filterForCapacity_(),n},si.Flyout.prototype.initFlyoutButton_=function(e,t,n){var o=e.createDom();e.moveTo(t,n),e.show(),this.listeners_.push((0,_.conditionalBind)(o,"mousedown",this,this.onMouseDown_)),this.buttons_.push(e)},si.Flyout.prototype.createRect_=function(e,t,n,o,i){return(t=(0,M.createSvgElement)(Ee.Svg.RECT,{"fill-opacity":0,x:t,y:n,height:o.height,width:o.width},null)).tooltip=e,(0,T.bindMouseEvents)(t),this.workspace_.getCanvas().insertBefore(t,e.getSvgRoot()),e.flyoutRect_=t,this.mats_[i]=t},si.Flyout.prototype.moveRectToBlock_=function(e,t){var n=t.getHeightWidth();e.setAttribute("width",n.width),e.setAttribute("height",n.height),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",t.y),e.setAttribute("x",this.RTL?t.x-n.width:t.x)},si.Flyout.prototype.filterForCapacity_=function(){for(var t,n=this.workspace_.getTopBlocks(!1),o=0;t=n[o];o++)if(-1===this.permanentlyDisabled_.indexOf(t))for(var i=this.targetWorkspace.isCapacityAvailable((0,e.module$exports$Blockly$common.getBlockTypeCounts)(t));t;)t.setEnabled(i),t=t.getNextBlock()},si.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},si.Flyout.prototype.isScrollable=function(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()},si.Flyout.prototype.placeNewBlock_=function(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered.");var n=(0,pt.save)(e);return t.setResizesEnabled(!1),t=(0,pt.append)(n,t),this.positionNewBlock_(e,t),t},si.Flyout.prototype.positionNewBlock_=function(e,t){var n=this.targetWorkspace,o=n.getOriginOffsetInPixels(),i=this.workspace_.getOriginOffsetInPixels();(e=e.getRelativeToSurfaceXY()).scale(this.workspace_.scale),i=he.Coordinate.sum(i,e),(o=he.Coordinate.difference(i,o)).scale(1/n.scale),t.moveTo(new he.Coordinate(o.x,o.y))};var li={VerticalFlyout:function(e){li.VerticalFlyout.superClass_.constructor.call(this,e)}};(0,e.module$exports$Blockly$utils$object.inherits)(li.VerticalFlyout,si.Flyout),li.VerticalFlyout.registryName="verticalFlyout",li.VerticalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),o=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"===typeof e.y&&(this.workspace_.scrollY=-(n.top+(n.height-o.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}},li.VerticalFlyout.prototype.getX=function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),t=e.getAbsoluteMetrics(),n=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Ve.Position.LEFT?e.width:n.width-this.width_:this.toolboxPosition_===Ve.Position.LEFT?0:n.width:this.toolboxPosition_===Ve.Position.LEFT?0:n.width+t.left-this.width_},li.VerticalFlyout.prototype.getY=function(){return 0},li.VerticalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}},li.VerticalFlyout.prototype.setBackgroundPath_=function(e,t){var n=this.toolboxPosition_===Ve.Position.RIGHT,o=e+this.CORNER_RADIUS;(o=["M "+(n?o:0)+",0"]).push("h",n?-e:e),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("v",Math.max(0,t)),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("h",n?e:-e),o.push("z"),this.svgBackground_.setAttribute("d",o.join(" "))},li.VerticalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setY(0)},li.VerticalFlyout.prototype.wheel_=function(e){var t=(0,_.getScrollDeltaPixels)(e);if(t.y){var n=this.workspace_.getMetricsManager(),o=n.getScrollMetrics();t=n.getViewMetrics().top-o.top+t.y,this.workspace_.scrollbar.setY(t),(0,U.hide)(),be.DropDownDiv.hideWithoutAnimation()}e.preventDefault(),e.stopPropagation()},li.VerticalFlyout.prototype.layout_=function(e,t){this.workspace_.scale=this.targetWorkspace.scale;for(var n,o=this.MARGIN,i=this.RTL?o:o+this.tabWidth_,r=0;n=e[r];r++)if("block"===n.type){for(var s,l=(n=n.block).getDescendants(!1),a=0;s=l[a];a++)s.isInFlyout=!0;n.render(),l=n.getSvgRoot(),a=n.getHeightWidth(),s=n.outputConnection?i-this.tabWidth_:i,n.moveBy(s,o),s=this.createRect_(n,this.RTL?s-a.width:s,o,a,r),this.addBlockListeners_(l,n,s),o+=a.height+t[r]}else"button"===n.type&&(this.initFlyoutButton_(n.button,i,o),o+=n.button.height+t[r])},li.VerticalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t},li.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===Ve.Position.LEFT?new me.Rect(-1e9,1e9,-1e9,t+e.width):new me.Rect(-1e9,1e9,t,1e9)},li.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var e,t=0,n=this.workspace_.getTopBlocks(!1),o=0;e=n[o];o++){var i=e.getHeightWidth().width;e.outputConnection&&(i-=this.tabWidth_),t=Math.max(t,i)}for(o=0;e=this.buttons_[o];o++)t=Math.max(t,e.width);if(t+=1.5*this.MARGIN+this.tabWidth_,t*=this.workspace_.scale,t+=Ze.Scrollbar.scrollbarThickness,this.width_!==t){for(o=0;e=n[o];o++){if(this.RTL){i=e.getRelativeToSurfaceXY().x;var r=t/this.workspace_.scale-this.MARGIN;e.outputConnection||(r-=this.tabWidth_),e.moveBy(r-i,0)}e.flyoutRect_&&this.moveRectToBlock_(e.flyoutRect_,e)}if(this.RTL)for(n=0;o=this.buttons_[n];n++)e=o.getPosition().y,o.moveTo(t/this.workspace_.scale-o.width-this.MARGIN-this.tabWidth_,e);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==Ve.Position.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+t,this.targetWorkspace.scrollY),this.width_=t,this.position(),this.targetWorkspace.recordDragTargets()}},(0,Z.register)(Z.Type.FLYOUTS_VERTICAL_TOOLBOX,Z.DEFAULT,li.VerticalFlyout);var ai={ToolboxItem:function(e,t,n){this.id_=e.toolboxitemid||(0,K.getNextUniqueId)(),this.level_=(this.parent_=n||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=t,this.workspace_=this.parentToolbox_.getWorkspace()}};ai.ToolboxItem.prototype.init=function(){},ai.ToolboxItem.prototype.getDiv=function(){return null},ai.ToolboxItem.prototype.getId=function(){return this.id_},ai.ToolboxItem.prototype.getParent=function(){return null},ai.ToolboxItem.prototype.getLevel=function(){return this.level_},ai.ToolboxItem.prototype.isSelectable=function(){return!1},ai.ToolboxItem.prototype.isCollapsible=function(){return!1},ai.ToolboxItem.prototype.dispose=function(){};var ci={ToolboxCategory:function(t,n,o){ci.ToolboxCategory.superClass_.constructor.call(this,t,n,o),this.name_=(0,en.replaceMessageReferences)(t.name),this.colour_=this.getColour_(t),this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.cssConfig_=this.makeDefaultCssConfig_(),(0,e.module$exports$Blockly$utils$object.mixin)(this.cssConfig_,t.cssconfig||t.cssConfig),this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.parseContents_(t)}};(0,e.module$exports$Blockly$utils$object.inherits)(ci.ToolboxCategory,ai.ToolboxItem),ci.ToolboxCategory.registrationName="category",ci.ToolboxCategory.nestedPadding=19,ci.ToolboxCategory.borderWidth=8,ci.ToolboxCategory.defaultBackgroundColour="#57e",ci.ToolboxCategory.prototype.makeDefaultCssConfig_=function(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}},ci.ToolboxCategory.prototype.parseContents_=function(e){var t=e.contents;if(e.custom)this.flyoutItems_=e.custom;else if(t)for(e=0;e<t.length;e++)this.flyoutItems_.push(t[e])},ci.ToolboxCategory.prototype.init=function(){this.createDom_(),"true"===this.toolboxItemDef_.hidden&&this.hide()},ci.ToolboxCategory.prototype.createDom_=function(){return this.htmlDiv_=this.createContainer_(),(0,X.setRole)(this.htmlDiv_,X.Role.TREEITEM),(0,X.setState)(this.htmlDiv_,X.State.SELECTED,!1),(0,X.setState)(this.htmlDiv_,X.State.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),(0,X.setRole)(this.iconDom_,X.Role.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_),(0,X.setState)(this.htmlDiv_,X.State.LABELLEDBY,this.labelDom_.getAttribute("id")),this.addColourBorder_(this.colour_),this.htmlDiv_},ci.ToolboxCategory.prototype.createContainer_=function(){var e=document.createElement("div");return(0,M.addClass)(e,this.cssConfig_.container),e},ci.ToolboxCategory.prototype.createRowContainer_=function(){var e=document.createElement("div");(0,M.addClass)(e,this.cssConfig_.row);var t=ci.ToolboxCategory.nestedPadding*this.getLevel();return t=t.toString()+"px",this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e},ci.ToolboxCategory.prototype.createRowContentsContainer_=function(){var e=document.createElement("div");return(0,M.addClass)(e,this.cssConfig_.rowcontentcontainer),e},ci.ToolboxCategory.prototype.createIconDom_=function(){var e=document.createElement("span");return this.parentToolbox_.isHorizontal()||(0,M.addClass)(e,this.cssConfig_.icon),e.style.display="inline-block",e},ci.ToolboxCategory.prototype.createLabelDom_=function(e){var t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(0,M.addClass)(t,this.cssConfig_.label),t},ci.ToolboxCategory.prototype.refreshTheme=function(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)},ci.ToolboxCategory.prototype.addColourBorder_=function(e){e&&(e=ci.ToolboxCategory.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)},ci.ToolboxCategory.prototype.getColour_=function(e){var t=e.categorystyle||e.categoryStyle;return(e=e.colour)&&t?(console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour'),""):t?this.getColourfromStyle_(t):this.parseColour_(e)},ci.ToolboxCategory.prototype.getColourfromStyle_=function(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour_(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""},ci.ToolboxCategory.prototype.getClickTarget=function(){return this.rowDiv_},ci.ToolboxCategory.prototype.parseColour_=function(e){if(null==(e=(0,en.replaceMessageReferences)(e))||""===e)return"";var t=Number(e);return isNaN(t)?(t=(0,Jt.parse)(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):(0,Jt.hueToHex)(t)},ci.ToolboxCategory.prototype.openIcon_=function(e){e&&((0,M.removeClasses)(e,this.cssConfig_.closedicon),(0,M.addClass)(e,this.cssConfig_.openicon))},ci.ToolboxCategory.prototype.closeIcon_=function(e){e&&((0,M.removeClasses)(e,this.cssConfig_.openicon),(0,M.addClass)(e,this.cssConfig_.closedicon))},ci.ToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()},ci.ToolboxCategory.prototype.hide=function(){this.setVisible_(!1)},ci.ToolboxCategory.prototype.show=function(){this.setVisible_(!0)},ci.ToolboxCategory.prototype.isVisible=function(){return!this.isHidden_&&this.allAncestorsExpanded_()},ci.ToolboxCategory.prototype.allAncestorsExpanded_=function(){for(var e=this;e.getParent();)if(!(e=e.getParent()).isExpanded())return!1;return!0},ci.ToolboxCategory.prototype.isSelectable=function(){return this.isVisible()&&!this.isDisabled_},ci.ToolboxCategory.prototype.onClick=function(e){},ci.ToolboxCategory.prototype.setSelected=function(e){if(e){var t=this.parseColour_(ci.ToolboxCategory.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||t,(0,M.addClass)(this.rowDiv_,this.cssConfig_.selected)}else this.rowDiv_.style.backgroundColor="",(0,M.removeClass)(this.rowDiv_,this.cssConfig_.selected);(0,X.setState)(this.htmlDiv_,X.State.SELECTED,e)},ci.ToolboxCategory.prototype.setDisabled=function(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",e),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")},ci.ToolboxCategory.prototype.getName=function(){return this.name_},ci.ToolboxCategory.prototype.getParent=function(){return this.parent_},ci.ToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},ci.ToolboxCategory.prototype.getContents=function(){return this.flyoutItems_},ci.ToolboxCategory.prototype.updateFlyoutContents=function(e){this.flyoutItems_=[],"string"===typeof e?this.toolboxItemDef_.custom=e:(delete this.toolboxItemDef_.custom,this.toolboxItemDef_.contents=(0,Ve.convertFlyoutDefToJsonArray)(e)),this.parseContents_(this.toolboxItemDef_)},ci.ToolboxCategory.prototype.dispose=function(){(0,M.removeNode)(this.htmlDiv_)},(0,c.register)('\n  .blocklyTreeRow:not(.blocklyTreeSelected):hover {\n    background-color: rgba(255, 255, 255, 0.2);\n  }\n\n  .blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {\n    margin: 1px 5px 1px 0;\n  }\n\n  .blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {\n    margin: 1px 0 1px 5px;\n  }\n\n  .blocklyTreeRow {\n    height: 22px;\n    line-height: 22px;\n    margin-bottom: 3px;\n    padding-right: 8px;\n    white-space: nowrap;\n  }\n\n  .blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {\n    margin-left: 8px;\n    padding-right: 0;\n  }\n\n  .blocklyTreeIcon {\n    background-image: url(<<<PATH>>>/sprites.png);\n    height: 16px;\n    vertical-align: middle;\n    visibility: hidden;\n    width: 16px;\n  }\n\n  .blocklyTreeIconClosed {\n    background-position: -32px -1px;\n  }\n\n  .blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {\n    background-position: 0 -1px;\n  }\n\n  .blocklyTreeSelected>.blocklyTreeIconClosed {\n    background-position: -32px -17px;\n  }\n\n  .blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {\n    background-position: 0 -17px;\n  }\n\n  .blocklyTreeIconOpen {\n    background-position: -16px -1px;\n  }\n\n  .blocklyTreeSelected>.blocklyTreeIconOpen {\n    background-position: -16px -17px;\n  }\n\n  .blocklyTreeLabel {\n    cursor: default;\n    font: 16px sans-serif;\n    padding: 0 3px;\n    vertical-align: middle;\n  }\n\n  .blocklyToolboxDelete .blocklyTreeLabel {\n    cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n  }\n\n  .blocklyTreeSelected .blocklyTreeLabel {\n    color: #fff;\n  }\n'),(0,Z.register)(Z.Type.TOOLBOX_ITEM,ci.ToolboxCategory.registrationName,ci.ToolboxCategory);var ui={ToolboxSeparator:function(t,n){ui.ToolboxSeparator.superClass_.constructor.call(this,t,n),this.cssConfig_={container:"blocklyTreeSeparator"},(0,e.module$exports$Blockly$utils$object.mixin)(this.cssConfig_,t.cssconfig||t.cssConfig)}};(0,e.module$exports$Blockly$utils$object.inherits)(ui.ToolboxSeparator,ai.ToolboxItem),ui.ToolboxSeparator.registrationName="sep",ui.ToolboxSeparator.prototype.init=function(){this.createDom_()},ui.ToolboxSeparator.prototype.createDom_=function(){var e=document.createElement("div");return(0,M.addClass)(e,this.cssConfig_.container),this.htmlDiv_=e},ui.ToolboxSeparator.prototype.getDiv=function(){return this.htmlDiv_},ui.ToolboxSeparator.prototype.dispose=function(){(0,M.removeNode)(this.htmlDiv_)},(0,c.register)('\n  .blocklyTreeSeparator {\n    border-bottom: solid #e5e5e5 1px;\n    height: 0;\n    margin: 5px 0;\n  }\n\n  .blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {\n    border-right: solid #e5e5e5 1px;\n    border-bottom: none;\n    height: auto;\n    margin: 0 5px 0 5px;\n    padding: 5px 0;\n    width: 0;\n  }\n'),(0,Z.register)(Z.Type.TOOLBOX_ITEM,ui.ToolboxSeparator.registrationName,ui.ToolboxSeparator);var pi={CollapsibleToolboxCategory:function(e,t,n){this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[],pi.CollapsibleToolboxCategory.superClass_.constructor.call(this,e,t,n)}};(0,e.module$exports$Blockly$utils$object.inherits)(pi.CollapsibleToolboxCategory,ci.ToolboxCategory),pi.CollapsibleToolboxCategory.registrationName="collapsibleCategory",pi.CollapsibleToolboxCategory.prototype.makeDefaultCssConfig_=function(){var e=pi.CollapsibleToolboxCategory.superClass_.makeDefaultCssConfig_.call(this);return e.contents="blocklyToolboxContents",e},pi.CollapsibleToolboxCategory.prototype.parseContents_=function(e){var t=e.contents,n=!0;if(e.custom)this.flyoutItems_=e.custom;else if(t)for(e=0;e<t.length;e++){var o=t[e];!(0,Z.hasItem)(Z.Type.TOOLBOX_ITEM,o.kind)||o.kind.toLowerCase()===ui.ToolboxSeparator.registrationName&&n?(this.flyoutItems_.push(o),n=!0):(this.createToolboxItem_(o),n=!1)}},pi.CollapsibleToolboxCategory.prototype.createToolboxItem_=function(e){var t=e.kind;"CATEGORY"==t.toUpperCase()&&(0,Ve.isCategoryCollapsible)(e)&&(t=pi.CollapsibleToolboxCategory.registrationName),e=new((0,Z.getClass)(Z.Type.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)},pi.CollapsibleToolboxCategory.prototype.init=function(){pi.CollapsibleToolboxCategory.superClass_.init.call(this),this.setExpanded("true"===this.toolboxItemDef_.expanded||this.toolboxItemDef_.expanded)},pi.CollapsibleToolboxCategory.prototype.createDom_=function(){pi.CollapsibleToolboxCategory.superClass_.createDom_.call(this);var e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),(0,X.setRole)(this.subcategoriesDiv_,X.Role.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_},pi.CollapsibleToolboxCategory.prototype.createIconDom_=function(){var e=document.createElement("span");return this.parentToolbox_.isHorizontal()||((0,M.addClass)(e,this.cssConfig_.icon),e.style.visibility="visible"),e.style.display="inline-block",e},pi.CollapsibleToolboxCategory.prototype.createSubCategoriesDom_=function(e){var t=document.createElement("div");(0,M.addClass)(t,this.cssConfig_.contents);for(var n=0;n<e.length;n++){var o=e[n];o.init();var i=o.getDiv();t.appendChild(i),o.getClickTarget&&o.getClickTarget().setAttribute("id",o.getId())}return t},pi.CollapsibleToolboxCategory.prototype.setExpanded=function(e){this.expanded_!==e&&((this.expanded_=e)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),(0,X.setState)(this.htmlDiv_,X.State.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize())},pi.CollapsibleToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none";for(var t=this.getChildToolboxItems(),n=0;n<t.length;n++)t[n].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()},pi.CollapsibleToolboxCategory.prototype.isExpanded=function(){return this.expanded_},pi.CollapsibleToolboxCategory.prototype.isCollapsible=function(){return!0},pi.CollapsibleToolboxCategory.prototype.onClick=function(e){this.toggleExpanded()},pi.CollapsibleToolboxCategory.prototype.toggleExpanded=function(){this.setExpanded(!this.expanded_)},pi.CollapsibleToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},pi.CollapsibleToolboxCategory.prototype.getChildToolboxItems=function(){return this.toolboxItems_},(0,Z.register)(Z.Type.TOOLBOX_ITEM,pi.CollapsibleToolboxCategory.registrationName,pi.CollapsibleToolboxCategory);var hi={ToolboxItemSelect:function(e,t,n){hi.ToolboxItemSelect.superClass_.constructor.call(this,n),this.oldItem=e,this.newItem=t}};(0,e.module$exports$Blockly$utils$object.inherits)(hi.ToolboxItemSelect,Hn.UiBase),hi.ToolboxItemSelect.prototype.type=oe.TOOLBOX_ITEM_SELECT,hi.ToolboxItemSelect.prototype.toJson=function(){var e=hi.ToolboxItemSelect.superClass_.toJson.call(this);return e.oldItem=this.oldItem,e.newItem=this.newItem,e},hi.ToolboxItemSelect.prototype.fromJson=function(e){hi.ToolboxItemSelect.superClass_.fromJson.call(this,e),this.oldItem=e.oldItem,this.newItem=e.newItem},(0,Z.register)(Z.Type.EVENT,oe.TOOLBOX_ITEM_SELECT,hi.ToolboxItemSelect);var di={Toolbox:function(e){di.Toolbox.superClass_.constructor.call(this),this.workspace_=e,this.id="toolbox",this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout_=e.options.horizontalLayout,this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.RTL=e.options.RTL,this.flyout_=null,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[]}};(0,e.module$exports$Blockly$utils$object.inherits)(di.Toolbox,ii.DeleteArea),di.Toolbox.prototype.onShortcut=function(e){return!1},di.Toolbox.prototype.init=function(){var e=this.workspace_,t=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),(0,M.insertAfter)(this.flyout_.createDom("svg"),t),this.setVisible(!0),this.flyout_.init(e),this.render(this.toolboxDef_),(e=e.getThemeManager()).subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[dn.ComponentManager.Capability.AUTOHIDEABLE,dn.ComponentManager.Capability.DELETE_AREA,dn.ComponentManager.Capability.DRAG_TARGET]})},di.Toolbox.prototype.createDom_=function(e){e=e.getParentSvg();var t=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,(0,X.setRole)(this.contentsDiv_,X.Role.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t},di.Toolbox.prototype.createContainer_=function(){var e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),(0,M.addClass)(e,"blocklyToolboxDiv"),(0,M.addClass)(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e},di.Toolbox.prototype.createContentsContainer_=function(){var e=document.createElement("div");return(0,M.addClass)(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e},di.Toolbox.prototype.attachEvents_=function(e,t){e=(0,_.conditionalBind)(e,"click",this,this.onClick_,!1,!0),this.boundEvents_.push(e),t=(0,_.conditionalBind)(t,"keydown",this,this.onKeyDown_,!1,!0),this.boundEvents_.push(t)},di.Toolbox.prototype.onClick_=function(t){if((0,_.isRightButton)(t)||t.target===this.HtmlDiv)(0,e.module$exports$Blockly$common.getMainWorkspace)().hideChaff(!1);else{var n=t.target.getAttribute("id");n&&(n=this.getToolboxItemById(n)).isSelectable()&&(this.setSelectedItem(n),n.onClick(t)),(0,e.module$exports$Blockly$common.getMainWorkspace)().hideChaff(!0)}(0,p.clearTouchIdentifier)()},di.Toolbox.prototype.onKeyDown_=function(e){var t=!1;switch(e.keyCode){case et.DOWN:t=this.selectNext_();break;case et.UP:t=this.selectPrevious_();break;case et.LEFT:t=this.selectParent_();break;case et.RIGHT:t=this.selectChild_();break;case et.ENTER:case et.SPACE:this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}!t&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(t=this.selectedItem_.onKeyDown(e)),t&&e.preventDefault()},di.Toolbox.prototype.createFlyout_=function(){var e=this.workspace_,t=new qe.Options({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?(0,Z.getClassFromOptions)(Z.Type.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):(0,Z.getClassFromOptions)(Z.Type.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)},di.Toolbox.prototype.render=function(e){this.toolboxDef_=e;for(var t=0;t<this.contents_.length;t++){var n=this.contents_[t];n&&n.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()},di.Toolbox.prototype.renderContents_=function(e){for(var t=document.createDocumentFragment(),n=0;n<e.length;n++)this.createToolboxItem_(e[n],t);this.contentsDiv_.appendChild(t)},di.Toolbox.prototype.createToolboxItem_=function(e,t){var n=e.kind;"CATEGORY"===n.toUpperCase()&&(0,Ve.isCategoryCollapsible)(e)&&(n=pi.CollapsibleToolboxCategory.registrationName),(n=(0,Z.getClass)(Z.Type.TOOLBOX_ITEM,n.toLowerCase()))&&(e=new n(e,this),this.addToolboxItem_(e),e.init(),(n=e.getDiv())&&t.appendChild(n),e.getClickTarget&&e.getClickTarget().setAttribute("id",e.getId()))},di.Toolbox.prototype.addToolboxItem_=function(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible()){e=e.getChildToolboxItems();for(var t=0;t<e.length;t++)this.addToolboxItem_(e[t])}},di.Toolbox.prototype.getToolboxItems=function(){return this.contents_},di.Toolbox.prototype.addStyle=function(e){(0,M.addClass)(this.HtmlDiv,e)},di.Toolbox.prototype.removeStyle=function(e){(0,M.removeClass)(this.HtmlDiv,e)},di.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect(),t=e.top,n=t+e.height,o=e.left;return e=o+e.width,this.toolboxPosition===Ve.Position.TOP?new me.Rect(-1e7,n,-1e7,1e7):this.toolboxPosition===Ve.Position.BOTTOM?new me.Rect(t,1e7,-1e7,1e7):this.toolboxPosition===Ve.Position.LEFT?new me.Rect(-1e7,1e7,-1e7,e):new me.Rect(-1e7,1e7,o,1e7)},di.Toolbox.prototype.wouldDelete=function(e,t){return e instanceof Uo.BlockSvg?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_},di.Toolbox.prototype.onDragEnter=function(e){this.updateCursorDeleteStyle_(!0)},di.Toolbox.prototype.onDragExit=function(e){this.updateCursorDeleteStyle_(!1)},di.Toolbox.prototype.onDrop=function(e){this.updateCursorDeleteStyle_(!1)},di.Toolbox.prototype.updateWouldDelete_=function(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))},di.Toolbox.prototype.updateCursorDeleteStyle_=function(e){var t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)},di.Toolbox.prototype.getToolboxItemById=function(e){return this.contentMap_[e]||null},di.Toolbox.prototype.getWidth=function(){return this.width_},di.Toolbox.prototype.getHeight=function(){return this.height_},di.Toolbox.prototype.getFlyout=function(){return this.flyout_},di.Toolbox.prototype.getWorkspace=function(){return this.workspace_},di.Toolbox.prototype.getSelectedItem=function(){return this.selectedItem_},di.Toolbox.prototype.getPreviouslySelectedItem=function(){return this.previouslySelectedItem_},di.Toolbox.prototype.isHorizontal=function(){return this.horizontalLayout_},di.Toolbox.prototype.position=function(){var e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout_?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===Ve.Position.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===Ve.Position.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())},di.Toolbox.prototype.handleToolboxItemResize=function(){var t=this.workspace_,n=this.HtmlDiv.getBoundingClientRect();t.translate(this.toolboxPosition===Ve.Position.LEFT?t.scrollX+n.width:t.scrollX,this.toolboxPosition===Ve.Position.TOP?t.scrollY+n.height:t.scrollY),(0,e.module$exports$Blockly$common.svgResize)(t)},di.Toolbox.prototype.clearSelection=function(){this.setSelectedItem(null)},di.Toolbox.prototype.refreshTheme=function(){for(var e=0;e<this.contents_.length;e++){var t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}},di.Toolbox.prototype.refreshSelection=function(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())},di.Toolbox.prototype.setVisible=function(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())},di.Toolbox.prototype.autoHide=function(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()},di.Toolbox.prototype.setSelectedItem=function(e){var t=this.selectedItem_;!e&&!t||e&&!e.isSelectable()||(this.shouldDeselectItem_(t,e)&&null!==t&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&null!==e&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent_(t,e))},di.Toolbox.prototype.shouldDeselectItem_=function(e,t){return null!==e&&(!e.isCollapsible()||e!==t)},di.Toolbox.prototype.shouldSelectItem_=function(e,t){return null!==t&&t!==e},di.Toolbox.prototype.deselectItem_=function(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),(0,X.setState)(this.contentsDiv_,X.State.ACTIVEDESCENDANT,"")},di.Toolbox.prototype.selectItem_=function(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),(0,X.setState)(this.contentsDiv_,X.State.ACTIVEDESCENDANT,t.getId())},di.Toolbox.prototype.selectItemByPosition=function(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e]).isSelectable()&&this.setSelectedItem(e)},di.Toolbox.prototype.updateFlyout_=function(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout_.show(t.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()},di.Toolbox.prototype.fireSelectEvent_=function(e,t){var n=e&&e.getName(),o=t&&t.getName();e===t&&(o=null),e=new((0,oe.get)(oe.TOOLBOX_ITEM_SELECT))(n,o,this.workspace_.id),(0,oe.fire)(e)},di.Toolbox.prototype.selectParent_=function(){return!!this.selectedItem_&&(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.setExpanded(!1),!0):!(!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable())&&(this.setSelectedItem(this.selectedItem_.getParent()),!0))},di.Toolbox.prototype.selectChild_=function(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;var e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.setExpanded(!0),!0},di.Toolbox.prototype.selectNext_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){for(var t=this.contents_[e];t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1},di.Toolbox.prototype.selectPrevious_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){for(var t=this.contents_[e];t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1},di.Toolbox.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)(0,_.unbind)(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),(0,M.removeNode)(this.HtmlDiv)},(0,c.register)('\n  .blocklyToolboxDelete {\n    cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n  }\n\n  .blocklyToolboxGrab {\n    cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n    cursor: grabbing;\n    cursor: -webkit-grabbing;\n  }\n\n  /* Category tree in Toolbox. */\n  .blocklyToolboxDiv {\n    background-color: #ddd;\n    overflow-x: visible;\n    overflow-y: auto;\n    padding: 4px 0 4px 0;\n    position: absolute;\n    z-index: 70;  /* so blocks go under toolbox when dragging */\n    -webkit-tap-highlight-color: transparent;  /* issue #1345 */\n  }\n\n  .blocklyToolboxContents {\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: column;\n  }\n\n  .blocklyToolboxContents:focus {\n    outline: none;\n  }\n'),(0,Z.register)(Z.Type.TOOLBOX,Z.DEFAULT,di.Toolbox);var fi={HorizontalFlyout:function(e){fi.HorizontalFlyout.superClass_.constructor.call(this,e),this.horizontalLayout=!0}};(0,e.module$exports$Blockly$utils$object.inherits)(fi.HorizontalFlyout,si.Flyout),fi.HorizontalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),o=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"===typeof e.x&&(this.workspace_.scrollX=-(n.left+(n.width-o.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}},fi.HorizontalFlyout.prototype.getX=function(){return 0},fi.HorizontalFlyout.prototype.getY=function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),t=e.getAbsoluteMetrics(),n=e.getViewMetrics();e=e.getToolboxMetrics();var o=this.toolboxPosition_===Ve.Position.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?o?e.height:n.height-this.height_:o?0:n.height:o?0:n.height+t.top-this.height_},fi.HorizontalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath_(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}},fi.HorizontalFlyout.prototype.setBackgroundPath_=function(e,t){var n=this.toolboxPosition_===Ve.Position.TOP,o=["M 0,"+(n?0:this.CORNER_RADIUS)];n?(o.push("h",e+2*this.CORNER_RADIUS),o.push("v",t),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("h",-e),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),o.push("h",e),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("v",t),o.push("h",-e-2*this.CORNER_RADIUS)),o.push("z"),this.svgBackground_.setAttribute("d",o.join(" "))},fi.HorizontalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setX(this.RTL?1/0:0)},fi.HorizontalFlyout.prototype.wheel_=function(e){var t=(0,_.getScrollDeltaPixels)(e);if(t=t.x||t.y){var n=this.workspace_.getMetricsManager(),o=n.getScrollMetrics();t=n.getViewMetrics().left-o.left+t,this.workspace_.scrollbar.setX(t),(0,U.hide)(),be.DropDownDiv.hideWithoutAnimation()}e.preventDefault(),e.stopPropagation()},fi.HorizontalFlyout.prototype.layout_=function(e,t){this.workspace_.scale=this.targetWorkspace.scale;var n=this.MARGIN,o=n+this.tabWidth_;this.RTL&&(e=e.reverse());for(var i,r=0;i=e[r];r++)if("block"===i.type){for(var s,l=(i=i.block).getDescendants(!1),a=0;s=l[a];a++)s.isInFlyout=!0;i.render(),l=i.getSvgRoot(),a=i.getHeightWidth(),s=i.outputConnection?this.tabWidth_:0,s=this.RTL?o+a.width:o-s,i.moveBy(s,n),s=this.createRect_(i,s,n,a,r),o+=a.width+t[r],this.addBlockListeners_(l,i,s)}else"button"===i.type&&(this.initFlyoutButton_(i.button,o,n),o+=i.button.width+t[r])},fi.HorizontalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t},fi.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===Ve.Position.TOP?new me.Rect(-1e9,t+e.height,-1e9,1e9):new me.Rect(t,1e9,-1e9,1e9)},fi.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var e,t=0,n=this.workspace_.getTopBlocks(!1),o=0;e=n[o];o++)t=Math.max(t,e.getHeightWidth().height);o=this.buttons_,e=0;for(var i;i=o[e];e++)t=Math.max(t,i.height);if(t+=1.5*this.MARGIN,t*=this.workspace_.scale,t+=Ze.Scrollbar.scrollbarThickness,this.height_!==t){for(o=0;e=n[o];o++)e.flyoutRect_&&this.moveRectToBlock_(e.flyoutRect_,e);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==Ve.Position.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+t),this.height_=t,this.position(),this.targetWorkspace.recordDragTargets()}},(0,Z.register)(Z.Type.FLYOUTS_HORIZONTAL_TOOLBOX,Z.DEFAULT,fi.HorizontalFlyout),e.module$exports$Blockly$Generator={Generator:function(e){this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}},e.module$exports$Blockly$Generator.Generator.prototype.INFINITE_LOOP_TRAP=null,e.module$exports$Blockly$Generator.Generator.prototype.STATEMENT_PREFIX=null,e.module$exports$Blockly$Generator.Generator.prototype.STATEMENT_SUFFIX=null,e.module$exports$Blockly$Generator.Generator.prototype.INDENT="  ",e.module$exports$Blockly$Generator.Generator.prototype.COMMENT_WRAP=60,e.module$exports$Blockly$Generator.Generator.prototype.ORDER_OVERRIDES=[],e.module$exports$Blockly$Generator.Generator.prototype.isInitialized=null,e.module$exports$Blockly$Generator.Generator.prototype.workspaceToCode=function(t){t||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),t=(0,e.module$exports$Blockly$common.getMainWorkspace)());var n=[];this.init(t),t=t.getTopBlocks(!0);for(var o,i=0;o=t[i];i++){var r=this.blockToCode(o);Array.isArray(r)&&(r=r[0]),r&&(o.outputConnection&&(r=this.scrubNakedValue(r),this.STATEMENT_PREFIX&&!o.suppressPrefixSuffix&&(r=this.injectId(this.STATEMENT_PREFIX,o)+r),this.STATEMENT_SUFFIX&&!o.suppressPrefixSuffix&&(r+=this.injectId(this.STATEMENT_SUFFIX,o))),n.push(r))}return n=n.join("\n"),(n=(n=(n=this.finish(n)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},e.module$exports$Blockly$Generator.Generator.prototype.prefixLines=function(e,t){return t+e.replace(/(?!\n$)\n/g,"\n"+t)},e.module$exports$Blockly$Generator.Generator.prototype.allNestedComments=function(e){var t=[];e=e.getDescendants(!0);for(var n=0;n<e.length;n++){var o=e[n].getCommentText();o&&t.push(o)}return t.length&&t.push(""),t.join("\n")},e.module$exports$Blockly$Generator.Generator.prototype.blockToCode=function(e,t){if(!1===this.isInitialized&&console.warn("Generator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var n=this[e.type];if("function"!==typeof n)throw Error('Language "'+this.name_+'" does not know how to generate code for block type "'+e.type+'".');if(n=n.call(e,e),Array.isArray(n)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,n[0],t),n[1]]}if("string"===typeof n)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(n=this.injectId(this.STATEMENT_PREFIX,e)+n),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(n+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,n,t);if(null===n)return"";throw SyntaxError("Invalid code generated: "+n)},e.module$exports$Blockly$Generator.Generator.prototype.valueToCode=function(e,t,n){if(isNaN(n))throw TypeError("Expecting valid order from block: "+e.type);var o=e.getInputTargetBlock(t);if(!o)return"";if(""===(t=this.blockToCode(o)))return"";if(!Array.isArray(t))throw TypeError("Expecting tuple from value block: "+o.type);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+o.type);if(!e)return"";o=!1;var i=Math.floor(n),r=Math.floor(t);if(i<=r&&(i!==r||0!==i&&99!==i))for(o=!0,i=0;i<this.ORDER_OVERRIDES.length;i++)if(this.ORDER_OVERRIDES[i][0]===n&&this.ORDER_OVERRIDES[i][1]===t){o=!1;break}return o&&(e="("+e+")"),e},e.module$exports$Blockly$Generator.Generator.prototype.statementToCode=function(e,t){if(e=e.getInputTargetBlock(t),"string"!==typeof(t=this.blockToCode(e)))throw TypeError("Expecting code from statement block: "+(e&&e.type));return t&&(t=this.prefixLines(t,this.INDENT)),t},e.module$exports$Blockly$Generator.Generator.prototype.addLoopTrap=function(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e},e.module$exports$Blockly$Generator.Generator.prototype.injectId=function(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")},e.module$exports$Blockly$Generator.Generator.prototype.RESERVED_WORDS_="",e.module$exports$Blockly$Generator.Generator.prototype.addReservedWords=function(e){this.RESERVED_WORDS_+=e+","},e.module$exports$Blockly$Generator.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",Object.defineProperties(e.module$exports$Blockly$Generator.Generator.prototype,{variableDB_:{get:function(){return(0,a.warn)("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_},set:function(e){(0,a.warn)("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_=e}}}),e.module$exports$Blockly$Generator.Generator.prototype.provideFunction_=function(t,n){if(!this.definitions_[t]){var o,i=this.nameDB_.getDistinctName(t,e.module$exports$Blockly$Names.NameType.PROCEDURE);for(this.functionNames_[t]=i,n=n.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,i);o!==n;)o=n,n=n.replace(/^(( {2})*) {2}/gm,"$1\0");n=n.replace(/\0/g,this.INDENT),this.definitions_[t]=n}return this.functionNames_[t]},e.module$exports$Blockly$Generator.Generator.prototype.init=function(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)},e.module$exports$Blockly$Generator.Generator.prototype.scrub_=function(e,t,n){return t},e.module$exports$Blockly$Generator.Generator.prototype.finish=function(e){return delete this.definitions_,delete this.functionNames_,e},e.module$exports$Blockly$Generator.Generator.prototype.scrubNakedValue=function(e){return e},e.module$exports$Blockly$FieldDropdown={FieldDropdown:function(t,n,o){"function"!==typeof t&&gi(t),this.menuGenerator_=t,this.suffixField=this.prefixField=this.generatedOptions_=null,this.trimOptions_(),this.selectedOption_=this.getOptions(!1)[0],e.module$exports$Blockly$FieldDropdown.FieldDropdown.superClass_.constructor.call(this,this.selectedOption_[1],n,o),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null}},(0,e.module$exports$Blockly$utils$object.inherits)(e.module$exports$Blockly$FieldDropdown.FieldDropdown,jn.Field),e.module$exports$Blockly$FieldDropdown.FieldDropdown.fromJson=function(e){return new this(e.options,void 0,e)},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.fromXml=function(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.loadState=function(t){this.loadLegacyState(e.module$exports$Blockly$FieldDropdown.FieldDropdown,t)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(t))},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.SERIALIZABLE=!0,e.module$exports$Blockly$FieldDropdown.FieldDropdown.CHECKMARK_OVERHANG=25,e.module$exports$Blockly$FieldDropdown.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,e.module$exports$Blockly$FieldDropdown.FieldDropdown.ARROW_CHAR=f.ANDROID?"\u25bc":"\u25be",e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.CURSOR="default",e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.initView=function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=(0,M.createSvgElement)(Ee.Svg.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&(0,M.addClass)(this.borderRect_,"blocklyDropdownRect")},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.shouldAddBorderRect_=function(){return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!this.sourceBlock_.isShadow()},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.createTextArrow_=function(){this.arrow_=(0,M.createSvgElement)(Ee.Svg.TSPAN,{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?e.module$exports$Blockly$FieldDropdown.FieldDropdown.ARROW_CHAR+" ":" "+e.module$exports$Blockly$FieldDropdown.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.createSVGArrow_=function(){this.svgArrow_=(0,M.createSvgElement)(Ee.Svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(M.XLINK_NS,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.showEditor_=function(e){if(this.dropdownCreate_(),this.menu_.openingCoords=e&&"number"===typeof e.clientX?new he.Coordinate(e.clientX,e.clientY):null,be.DropDownDiv.clearContent(),this.menu_.render(be.DropDownDiv.getContentDiv()),e=this.menu_.getElement(),(0,M.addClass)(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV){e=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().getColour():this.sourceBlock_.getColour();var t=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;be.DropDownDiv.setColour(e,t)}be.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.dropdownCreate_=function(){var e=new st.Menu;e.setRole(X.Role.LISTBOX),this.menu_=e;var t=this.getOptions(!1);this.selectedMenuItem_=null;for(var n=0;n<t.length;n++){var o=t[n][0],i=t[n][1];if("object"===typeof o){var r=new Image(o.width,o.height);r.src=o.src,r.alt=o.alt||"",o=r}(o=new rt.MenuItem(o,i)).setRole(X.Role.OPTION),o.setRightToLeft(this.sourceBlock_.RTL),o.setCheckable(!0),e.addChild(o),o.setChecked(i===this.value_),i===this.value_&&(this.selectedMenuItem_=o),o.onAction(this.handleMenuActionEvent_,this)}},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.handleMenuActionEvent_=function(e){be.DropDownDiv.hideIfOwner(this,!0),this.onItemSelected_(this.menu_,e)},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.onItemSelected_=function(e,t){this.setValue(t.getValue())},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.trimOptions_=function(){var t=this.menuGenerator_;if(Array.isArray(t)){for(var n=!1,o=0;o<t.length;o++){var i=t[o][0];"string"===typeof i?t[o][0]=(0,en.replaceMessageReferences)(i):(null!==i.alt&&(t[o][0].alt=(0,en.replaceMessageReferences)(i.alt)),n=!0)}if(!(n||2>t.length)){for(n=[],o=0;o<t.length;o++)n.push(t[o][0]);o=(0,e.module$exports$Blockly$utils$string.shortestStringLength)(n),i=(0,e.module$exports$Blockly$utils$string.commonWordPrefix)(n,o);var r=(0,e.module$exports$Blockly$utils$string.commonWordSuffix)(n,o);!i&&!r||o<=i+r||(i&&(this.prefixField=n[0].substring(0,i-1)),r&&(this.suffixField=n[0].substr(1-r)),this.menuGenerator_=e.module$exports$Blockly$FieldDropdown.FieldDropdown.applyTrim_(t,i,r))}}},e.module$exports$Blockly$FieldDropdown.FieldDropdown.applyTrim_=function(e,t,n){for(var o=[],i=0;i<e.length;i++){var r=e[i][0],s=e[i][1];r=r.substring(t,r.length-n),o[i]=[r,s]}return o},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"===typeof this.menuGenerator_},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.getOptions=function(e){return this.isOptionListDynamic()?(this.generatedOptions_&&e||(this.generatedOptions_=this.menuGenerator_.call(this),gi(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.doClassValidation_=function(e){for(var t,n=!1,o=this.getOptions(!0),i=0;t=o[i];i++)if(t[1]===e){n=!0;break}return n?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.doValueUpdate_=function(t){e.module$exports$Blockly$FieldDropdown.FieldDropdown.superClass_.doValueUpdate_.call(this,t),t=this.getOptions(!0);for(var n,o=0;n=t[o];o++)n[1]===this.value_&&(this.selectedOption_=n)},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.applyColour=function(){this.borderRect_&&(this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",this.sourceBlock_.style.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=this.sourceBlock_.style.colourSecondary:this.arrow_.style.fill=this.sourceBlock_.style.colourPrimary)},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var e=this.selectedOption_&&this.selectedOption_[0];e&&"object"===typeof e?this.renderSelectedImage_(e):this.renderSelectedText_(),this.positionBorderRect_()},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.renderSelectedImage_=function(e){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(M.XLINK_NS,"xlink:href",e.src),this.imageElement_.setAttribute("height",e.height),this.imageElement_.setAttribute("width",e.width);var t=Number(e.height);e=Number(e.width);var n=!!this.borderRect_,o=Math.max(n?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,t+10);n=n?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var i=this.svgArrow_?this.positionSVGArrow_(e+n,o/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):(0,M.getFastTextWidth)(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=e+i+2*n,this.size_.height=o;var r=0;this.sourceBlock_.RTL?this.imageElement_.setAttribute("x",n+i):(r=e+i,this.textElement_.setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",n)),this.imageElement_.setAttribute("y",o/2-t/2),this.positionTextElement_(r+n,e+i)},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),(0,M.addClass)(this.textElement_,"blocklyDropdownText"),this.textElement_.setAttribute("text-anchor","start");var e=!!this.borderRect_,t=Math.max(e?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT),n=(0,M.getFastTextWidth)(this.textElement_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);e=e?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var o=0;this.svgArrow_&&(o=this.positionSVGArrow_(n+e,t/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=n+o+2*e,this.size_.height=t,this.positionTextElement_(e,n)},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.positionSVGArrow_=function(e,t){if(!this.svgArrow_)return 0;var n=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,o=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,i=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(this.sourceBlock_.RTL?n:e+o)+","+t+")"),i+o},e.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.getText_=function(){if(!this.selectedOption_)return null;var e=this.selectedOption_[0];return"object"===typeof e?e.alt:e};var gi=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var t=!1,n=0;n<e.length;n++){var o=e[n];Array.isArray(o)?"string"!==typeof o[1]?(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option id must be a string. Found "+o[1]+" in: ",o)):o[0]&&"string"!==typeof o[0]&&"string"!==typeof o[0].src&&(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must have a string label or image description. Found"+o[0]+" in: ",o)):(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must be an array. Found: ",o))}if(t)throw TypeError("Found invalid FieldDropdown options.")};(0,on.register)("field_dropdown",e.module$exports$Blockly$FieldDropdown.FieldDropdown);var _i={FieldVariable:function(e,t,n,o,i){this.menuGenerator_=_i.FieldVariable.dropdownCreate,this.defaultVariableName="string"===typeof e?e:"",this.size_=new de.Size(0,0),i&&this.configure_(i),t&&this.setValidator(t),i||this.setTypes_(n,o)}};(0,e.module$exports$Blockly$utils$object.inherits)(_i.FieldVariable,e.module$exports$Blockly$FieldDropdown.FieldDropdown),_i.FieldVariable.fromJson=function(e){return new this((0,en.replaceMessageReferences)(e.variable),void 0,void 0,void 0,e)},_i.FieldVariable.prototype.SERIALIZABLE=!0,_i.FieldVariable.prototype.configure_=function(e){_i.FieldVariable.superClass_.configure_.call(this,e),this.setTypes_(e.variableTypes,e.defaultType)},_i.FieldVariable.prototype.initModel=function(){if(!this.variable_){var t=(0,e.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);this.doValueUpdate_(t.getId())}},_i.FieldVariable.prototype.shouldAddBorderRect_=function(){return _i.FieldVariable.superClass_.shouldAddBorderRect_.call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!==this.sourceBlock_.type)},_i.FieldVariable.prototype.fromXml=function(t){var n=t.getAttribute("id"),o=t.textContent,i=t.getAttribute("variabletype")||t.getAttribute("variableType")||"";if(n=(0,e.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.sourceBlock_.workspace,n,o,i),null!==i&&i!==n.type)throw Error("Serialized variable type with id '"+n.getId()+"' had type "+n.type+", and does not match variable field that references it: "+(0,e.module$exports$Blockly$Xml.domToText)(t)+".");this.setValue(n.getId())},_i.FieldVariable.prototype.toXml=function(e){return this.initModel(),e.id=this.variable_.getId(),e.textContent=this.variable_.name,this.variable_.type&&e.setAttribute("variabletype",this.variable_.type),e},_i.FieldVariable.prototype.saveState=function(e){var t=this.saveLegacyState(_i.FieldVariable);return null!==t||(this.initModel(),t={id:this.variable_.getId()},e&&(t.name=this.variable_.name,t.type=this.variable_.type)),t},_i.FieldVariable.prototype.loadState=function(t){this.loadLegacyState(_i.FieldVariable,t)||(t=(0,e.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.sourceBlock_.workspace,t.id||null,t.name,t.type||""),this.setValue(t.getId()))},_i.FieldVariable.prototype.setSourceBlock=function(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");_i.FieldVariable.superClass_.setSourceBlock.call(this,e)},_i.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},_i.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},_i.FieldVariable.prototype.getVariable=function(){return this.variable_},_i.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},_i.FieldVariable.prototype.doClassValidation_=function(t){if(null===t)return null;var n=(0,e.module$exports$Blockly$Variables.getVariable)(this.sourceBlock_.workspace,t);return n?(n=n.type,this.typeIsAllowed_(n)?t:(console.warn("Variable type doesn't match this field!  Type was "+n),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+t),null)},_i.FieldVariable.prototype.doValueUpdate_=function(t){this.variable_=(0,e.module$exports$Blockly$Variables.getVariable)(this.sourceBlock_.workspace,t),_i.FieldVariable.superClass_.doValueUpdate_.call(this,t)},_i.FieldVariable.prototype.typeIsAllowed_=function(e){var t=this.getVariableTypes_();if(!t)return!0;for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1},_i.FieldVariable.prototype.getVariableTypes_=function(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(0===(e=e||[""]).length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e},_i.FieldVariable.prototype.setTypes_=function(e,t){if(t=t||"",null===e||void 0===e)e=null;else{if(!Array.isArray(e))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");for(var n=!1,o=0;o<e.length;o++)e[o]===t&&(n=!0);if(!n)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}this.defaultType_=t,this.variableTypes=e},_i.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},_i.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var t=this.getText(),n=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var o=this.getVariableTypes_(),i=0;i<o.length;i++){var r=this.sourceBlock_.workspace.getVariablesOfType(o[i]);n=n.concat(r)}for(n.sort(En.VariableModel.compareByName),o=[],i=0;i<n.length;i++)o[i]=[n[i].name,n[i].getId()];return o.push([e.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE,e.module$exports$Blockly$internalConstants.RENAME_VARIABLE_ID]),e.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE&&o.push([e.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE.replace("%1",t),e.module$exports$Blockly$internalConstants.DELETE_VARIABLE_ID]),o},_i.FieldVariable.prototype.onItemSelected_=function(t,n){if(t=n.getValue(),this.sourceBlock_&&this.sourceBlock_.workspace){if(t===e.module$exports$Blockly$internalConstants.RENAME_VARIABLE_ID)return void(0,e.module$exports$Blockly$Variables.renameVariable)(this.sourceBlock_.workspace,this.variable_);if(t===e.module$exports$Blockly$internalConstants.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(t)},_i.FieldVariable.prototype.referencesVariables=function(){return!0},(0,on.register)("field_variable",_i.FieldVariable),e.module$exports$Blockly$FieldTextInput={FieldTextInput:function(t,n,o){this.spellcheck_=!0,e.module$exports$Blockly$FieldTextInput.FieldTextInput.superClass_.constructor.call(this,t,n,o),this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.htmlInput_=null,this.fullBlockClickTarget_=!1,this.workspace_=null}},(0,e.module$exports$Blockly$utils$object.inherits)(e.module$exports$Blockly$FieldTextInput.FieldTextInput,jn.Field),e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.DEFAULT_VALUE="",e.module$exports$Blockly$FieldTextInput.FieldTextInput.fromJson=function(e){return new this((0,en.replaceMessageReferences)(e.text),void 0,e)},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.SERIALIZABLE=!0,e.module$exports$Blockly$FieldTextInput.FieldTextInput.BORDERRADIUS=4,e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.CURSOR="text",e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.configure_=function(t){e.module$exports$Blockly$FieldTextInput.FieldTextInput.superClass_.configure_.call(this,t),"boolean"===typeof t.spellcheck&&(this.spellcheck_=t.spellcheck)},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.initView=function(){if(this.getConstants().FULL_BLOCK_FIELDS){for(var e,t=0,n=0,o=0;e=this.sourceBlock_.inputList[o];o++){for(var i=0;e.fieldRow[i];i++)t++;e.connection&&n++}this.fullBlockClickTarget_=1>=t&&this.sourceBlock_.outputConnection&&!n}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:String(e)},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.doValueInvalid_=function(e){this.isBeingEdited_&&(this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&(0,oe.isEnabled)()&&(0,oe.fire)(new((0,oe.get)(oe.CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.doValueUpdate_=function(e){this.isTextValid_=!0,this.value_=e,this.isBeingEdited_||(this.isDirty_=!0)},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.applyColour=function(){this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS&&(this.borderRect_?this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary):this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR))},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.render_=function(){if(e.module$exports$Blockly$FieldTextInput.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_){this.resizeEditor_();var t=this.htmlInput_;this.isTextValid_?((0,M.removeClass)(t,"blocklyInvalidInput"),(0,X.setState)(t,X.State.INVALID,!1)):((0,M.addClass)(t,"blocklyInvalidInput"),(0,X.setState)(t,X.State.INVALID,!0))}},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.setSpellcheck=function(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.showEditor_=function(e,t){this.workspace_=this.sourceBlock_.workspace,!(e=t||!1)&&(f.MOBILE||f.ANDROID||f.IPAD)?this.showPromptEditor_():this.showInlineEditor_(e)},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.showPromptEditor_=function(){(0,fn.prompt)(e.module$exports$Blockly$Msg.Msg.CHANGE_VALUE_TITLE,this.getText(),function(e){null!==e&&this.setValue(this.getValueFromEditorText_(e))}.bind(this))},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.showInlineEditor_=function(e){(0,U.show)(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.widgetCreate_=function(){(0,oe.setGroup)(!0);var t=(0,U.getDiv)();(0,M.addClass)(this.getClickTarget_(),"editing");var n=document.createElement("input");n.className="blocklyHtmlInput",n.setAttribute("spellcheck",this.spellcheck_);var o=this.workspace_.getScale(),i=this.getConstants().FIELD_TEXT_FONTSIZE*o+"pt";if(t.style.fontSize=i,n.style.fontSize=i,i=e.module$exports$Blockly$FieldTextInput.FieldTextInput.BORDERRADIUS*o+"px",this.fullBlockClickTarget_){i=((i=this.getScaledBBox()).bottom-i.top)/2+"px";var r=this.sourceBlock_.getParent()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;n.style.border=1*o+"px solid "+r,t.style.borderRadius=i,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*o+"px")}return n.style.borderRadius=i,t.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.untypedDefaultValue_=this.value_,n.oldValue_=null,this.resizeEditor_(),this.bindInputEvents_(n),n},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_&&this.onFinishEditing_(this.value_),(0,oe.setGroup)(!1),this.unbindInputEvents_();var e=(0,U.getDiv)().style;e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,(0,M.removeClass)(this.getClickTarget_(),"editing")},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.bindInputEvents_=function(e){this.onKeyDownWrapper_=(0,_.conditionalBind)(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=(0,_.conditionalBind)(e,"input",this,this.onHtmlInputChange_)},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.unbindInputEvents_=function(){this.onKeyDownWrapper_&&((0,_.unbind)(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&((0,_.unbind)(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode===et.ENTER?((0,U.hide)(),be.DropDownDiv.hideWithoutAnimation()):e.keyCode===et.ESC?(this.setValue(this.htmlInput_.untypedDefaultValue_),(0,U.hide)(),be.DropDownDiv.hideWithoutAnimation()):e.keyCode===et.TAB&&((0,U.hide)(),be.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.onHtmlInputChange_=function(e){(e=this.htmlInput_.value)!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=e,e=this.getValueFromEditorText_(e),this.setValue(e),this.forceRerender(),this.resizeEditor_())},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.setEditorValue_=function(e){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e)},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.resizeEditor_=function(){var e=(0,U.getDiv)(),t=this.getScaledBBox();e.style.width=t.right-t.left+"px",e.style.height=t.bottom-t.top+"px",t=new he.Coordinate(this.sourceBlock_.RTL?t.right-e.offsetWidth:t.left,t.top),e.style.left=t.x+"px",e.style.top=t.y+"px"},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.isTabNavigable=function(){return!0},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.getEditorText_=function(e){return String(e)},e.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.getValueFromEditorText_=function(e){return e},(0,on.register)("field_input",e.module$exports$Blockly$FieldTextInput.FieldTextInput);var mi={FieldNumber:function(e,t,n,o,i,r){this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,mi.FieldNumber.superClass_.constructor.call(this,e,i,r),r||this.setConstraints(t,n,o)}};(0,e.module$exports$Blockly$utils$object.inherits)(mi.FieldNumber,e.module$exports$Blockly$FieldTextInput.FieldTextInput),mi.FieldNumber.prototype.DEFAULT_VALUE=0,mi.FieldNumber.fromJson=function(e){return new this(e.value,void 0,void 0,void 0,void 0,e)},mi.FieldNumber.prototype.SERIALIZABLE=!0,mi.FieldNumber.prototype.configure_=function(e){mi.FieldNumber.superClass_.configure_.call(this,e),this.setMinInternal_(e.min),this.setMaxInternal_(e.max),this.setPrecisionInternal_(e.precision)},mi.FieldNumber.prototype.setConstraints=function(e,t,n){this.setMinInternal_(e),this.setMaxInternal_(t),this.setPrecisionInternal_(n),this.setValue(this.getValue())},mi.FieldNumber.prototype.setMin=function(e){this.setMinInternal_(e),this.setValue(this.getValue())},mi.FieldNumber.prototype.setMinInternal_=function(e){null==e?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))},mi.FieldNumber.prototype.getMin=function(){return this.min_},mi.FieldNumber.prototype.setMax=function(e){this.setMaxInternal_(e),this.setValue(this.getValue())},mi.FieldNumber.prototype.setMaxInternal_=function(e){null==e?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))},mi.FieldNumber.prototype.getMax=function(){return this.max_},mi.FieldNumber.prototype.setPrecision=function(e){this.setPrecisionInternal_(e),this.setValue(this.getValue())},mi.FieldNumber.prototype.setPrecisionInternal_=function(e){this.precision_=Number(e)||0;var t=String(this.precision_);-1!==t.indexOf("e")&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));var n=t.indexOf(".");this.decimalPlaces_=-1===n?e?0:null:t.length-n-1},mi.FieldNumber.prototype.getPrecision=function(){return this.precision_},mi.FieldNumber.prototype.doClassValidation_=function(e){return null===e?null:(e=(e=(e=(e=String(e)).replace(/O/gi,"0")).replace(/,/g,"")).replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e)?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),null!==this.decimalPlaces_&&(e=Number(e.toFixed(this.decimalPlaces_))),e))},mi.FieldNumber.prototype.widgetCreate_=function(){var e=mi.FieldNumber.superClass_.widgetCreate_.call(this);return-1/0<this.min_&&(0,X.setState)(e,X.State.VALUEMIN,this.min_),1/0>this.max_&&(0,X.setState)(e,X.State.VALUEMAX,this.max_),e},(0,on.register)("field_number",mi.FieldNumber);var yi={FieldMultilineInput:function(e,t,n){yi.FieldMultilineInput.superClass_.constructor.call(this,e,t,n),this.textGroup_=null,this.maxLines_=1/0,this.isOverflowedY_=!1}};(0,e.module$exports$Blockly$utils$object.inherits)(yi.FieldMultilineInput,e.module$exports$Blockly$FieldTextInput.FieldTextInput),yi.FieldMultilineInput.prototype.configure_=function(e){yi.FieldMultilineInput.superClass_.configure_.call(this,e),e.maxLines&&this.setMaxLines(e.maxLines)},yi.FieldMultilineInput.fromJson=function(e){return new this((0,en.replaceMessageReferences)(e.text),void 0,e)},yi.FieldMultilineInput.prototype.toXml=function(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e},yi.FieldMultilineInput.prototype.fromXml=function(e){this.setValue(e.textContent.replace(/&#10;/g,"\n"))},yi.FieldMultilineInput.prototype.saveState=function(){var e=this.saveLegacyState(yi.FieldMultilineInput);return null!==e?e:this.getValue()},yi.FieldMultilineInput.prototype.loadState=function(e){this.loadLegacyState(jn.Field,e)||this.setValue(e)},yi.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=(0,M.createSvgElement)(Ee.Svg.G,{class:"blocklyEditableText"},this.fieldGroup_)},yi.FieldMultilineInput.prototype.getDisplayText_=function(){var e=this.getText();if(!e)return jn.Field.NBSP;var t=e.split("\n");e="";for(var n=this.isOverflowedY_?this.maxLines_:t.length,o=0;o<n;o++){var i=t[o];i.length>this.maxDisplayLength?i=i.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&o===n-1&&(i=i.substring(0,i.length-3)+"..."),e+=i=i.replace(/\s/g,jn.Field.NBSP),o!==n-1&&(e+="\n")}return this.sourceBlock_.RTL&&(e+="\u200f"),e},yi.FieldMultilineInput.prototype.doValueUpdate_=function(e){yi.FieldMultilineInput.superClass_.doValueUpdate_.call(this,e),this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_},yi.FieldMultilineInput.prototype.render_=function(){for(var e;e=this.textGroup_.firstChild;)this.textGroup_.removeChild(e);e=this.getDisplayText_().split("\n");for(var t=0,n=0;n<e.length;n++){var o=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;(0,M.createSvgElement)(Ee.Svg.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:t+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(e[n])),t+=o}this.isBeingEdited_&&(e=this.htmlInput_,this.isOverflowedY_?(0,M.addClass)(e,"blocklyHtmlTextAreaInputOverflowedY"):(0,M.removeClass)(e,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),e=this.htmlInput_,this.isTextValid_?((0,M.removeClass)(e,"blocklyInvalidInput"),(0,X.setState)(e,X.State.INVALID,!1)):((0,M.addClass)(e,"blocklyInvalidInput"),(0,X.setState)(e,X.State.INVALID,!0)))},yi.FieldMultilineInput.prototype.updateSize_=function(){for(var e=this.textGroup_.childNodes,t=0,n=0,o=0;o<e.length;o++){var i=(0,M.getTextWidth)(e[o]);i>t&&(t=i),n+=this.getConstants().FIELD_TEXT_HEIGHT+(0<o?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){e=this.value_.split("\n"),o=(0,M.createSvgElement)(Ee.Svg.TEXT,{class:"blocklyText blocklyMultilineText"}),i=this.getConstants().FIELD_TEXT_FONTSIZE;for(var r=this.getConstants().FIELD_TEXT_FONTWEIGHT,s=this.getConstants().FIELD_TEXT_FONTFAMILY,l=0;l<e.length;l++){e[l].length>this.maxDisplayLength&&(e[l]=e[l].substring(0,this.maxDisplayLength)),o.textContent=e[l];var a=(0,M.getFastTextWidth)(o,i,r,s);a>t&&(t=a)}t+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(n+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,t+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",t),this.borderRect_.setAttribute("height",n)),this.size_.width=t,this.size_.height=n,this.positionBorderRect_()},yi.FieldMultilineInput.prototype.showEditor_=function(e,t){yi.FieldMultilineInput.superClass_.showEditor_.call(this,e,t),this.forceRerender()},yi.FieldMultilineInput.prototype.widgetCreate_=function(){var t=(0,U.getDiv)(),n=this.workspace_.getScale(),o=document.createElement("textarea");o.className="blocklyHtmlInput blocklyHtmlTextAreaInput",o.setAttribute("spellcheck",this.spellcheck_);var i=this.getConstants().FIELD_TEXT_FONTSIZE*n+"pt";t.style.fontSize=i,o.style.fontSize=i,o.style.borderRadius=e.module$exports$Blockly$FieldTextInput.FieldTextInput.BORDERRADIUS*n+"px",i=this.getConstants().FIELD_BORDER_RECT_X_PADDING*n;var r=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*n/2;return o.style.padding=r+"px "+i+"px "+r+"px "+i+"px",i=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,o.style.lineHeight=i*n+"px",t.appendChild(o),o.value=o.defaultValue=this.getEditorText_(this.value_),o.untypedDefaultValue_=this.value_,o.oldValue_=null,f.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(o),o},yi.FieldMultilineInput.prototype.setMaxLines=function(e){"number"===typeof e&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())},yi.FieldMultilineInput.prototype.getMaxLines=function(){return this.maxLines_},yi.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode!==et.ENTER&&yi.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,e)},(0,c.register)("\n  .blocklyHtmlTextAreaInput {\n    font-family: monospace;\n    resize: none;\n    overflow: hidden;\n    height: 100%;\n    text-align: left;\n  }\n\n  .blocklyHtmlTextAreaInputOverflowedY {\n    overflow-y: scroll;\n  }\n"),(0,on.register)("field_multilinetext",yi.FieldMultilineInput);var vi={FieldLabelSerializable:function(e,t,n){vi.FieldLabelSerializable.superClass_.constructor.call(this,e,t,n)}};(0,e.module$exports$Blockly$utils$object.inherits)(vi.FieldLabelSerializable,e.module$exports$Blockly$FieldLabel.FieldLabel),vi.FieldLabelSerializable.fromJson=function(e){return new this((0,en.replaceMessageReferences)(e.text),void 0,e)},vi.FieldLabelSerializable.prototype.EDITABLE=!1,vi.FieldLabelSerializable.prototype.SERIALIZABLE=!0,(0,on.register)("field_label_serializable",vi.FieldLabelSerializable);var Ti={FieldColour:function(e,t,n){Ti.FieldColour.superClass_.constructor.call(this,e,t,n),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null}};(0,e.module$exports$Blockly$utils$object.inherits)(Ti.FieldColour,jn.Field),Ti.FieldColour.fromJson=function(e){return new this(e.colour,void 0,e)},Ti.FieldColour.prototype.SERIALIZABLE=!0,Ti.FieldColour.prototype.CURSOR="default",Ti.FieldColour.prototype.isDirty_=!1,Ti.FieldColour.prototype.colours_=null,Ti.FieldColour.prototype.titles_=null,Ti.FieldColour.prototype.columns_=0,Ti.FieldColour.prototype.configure_=function(e){Ti.FieldColour.superClass_.configure_.call(this,e),e.colourOptions&&(this.colours_=e.colourOptions,this.titles_=e.colourTitles),e.columns&&(this.columns_=e.columns)},Ti.FieldColour.prototype.initView=function(){this.size_=new de.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.clickTarget_=this.sourceBlock_.getSvgRoot():(this.createBorderRect_(),this.borderRect_.style.fillOpacity="1")},Ti.FieldColour.prototype.applyColour=function(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())},Ti.FieldColour.prototype.doClassValidation_=function(e){return"string"!==typeof e?null:(0,Jt.parse)(e)},Ti.FieldColour.prototype.doValueUpdate_=function(e){this.value_=e,this.borderRect_?this.borderRect_.style.fill=e:this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",e),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))},Ti.FieldColour.prototype.getText=function(){var e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e},Ti.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Ti.FieldColour.prototype.DEFAULT_VALUE=Ti.FieldColour.COLOURS[0],Ti.FieldColour.TITLES=[],Ti.FieldColour.COLUMNS=7,Ti.FieldColour.prototype.setColours=function(e,t){return this.colours_=e,t&&(this.titles_=t),this},Ti.FieldColour.prototype.setColumns=function(e){return this.columns_=e,this},Ti.FieldColour.prototype.showEditor_=function(){this.dropdownCreate_(),be.DropDownDiv.getContentDiv().appendChild(this.picker_),be.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})},Ti.FieldColour.prototype.onClick_=function(e){null!==(e=(e=e.target)&&e.label)&&(this.setValue(e),be.DropDownDiv.hideIfOwner(this))},Ti.FieldColour.prototype.onKeyDown_=function(e){var t=!1;e.keyCode===et.UP?(this.moveHighlightBy_(0,-1),t=!0):e.keyCode===et.DOWN?(this.moveHighlightBy_(0,1),t=!0):e.keyCode===et.LEFT?(this.moveHighlightBy_(-1,0),t=!0):e.keyCode===et.RIGHT?(this.moveHighlightBy_(1,0),t=!0):e.keyCode===et.ENTER&&((t=this.getHighlighted_())&&null!==(t=t&&t.label)&&this.setValue(t),be.DropDownDiv.hideWithoutAnimation(),t=!0),t&&e.stopPropagation()},Ti.FieldColour.prototype.moveHighlightBy_=function(e,t){var n=this.colours_||Ti.FieldColour.COLOURS,o=this.columns_||Ti.FieldColour.COLUMNS,i=this.highlightedIndex_%o,r=Math.floor(this.highlightedIndex_/o);i+=e,r+=t,0>e?0>i&&0<r?(i=o-1,r--):0>i&&(i=0):0<e?i>o-1&&r<Math.floor(n.length/o)-1?(i=0,r++):i>o-1&&i--:0>t?0>r&&(r=0):0<t&&r>Math.floor(n.length/o)-1&&(r=Math.floor(n.length/o)-1),this.setHighlightedCell_(this.picker_.childNodes[r].childNodes[i],r*o+i)},Ti.FieldColour.prototype.onMouseMove_=function(e){var t=(e=e.target)&&Number(e.getAttribute("data-index"));null!==t&&t!==this.highlightedIndex_&&this.setHighlightedCell_(e,t)},Ti.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus({preventScroll:!0})},Ti.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var e=this.getHighlighted_();e&&(0,M.removeClass)(e,"blocklyColourHighlighted")},Ti.FieldColour.prototype.getHighlighted_=function(){var e=this.columns_||Ti.FieldColour.COLUMNS,t=this.picker_.childNodes[Math.floor(this.highlightedIndex_/e)];return t?t.childNodes[this.highlightedIndex_%e]:null},Ti.FieldColour.prototype.setHighlightedCell_=function(e,t){var n=this.getHighlighted_();n&&(0,M.removeClass)(n,"blocklyColourHighlighted"),(0,M.addClass)(e,"blocklyColourHighlighted"),this.highlightedIndex_=t,(0,X.setState)(this.picker_,X.State.ACTIVEDESCENDANT,e.getAttribute("id"))},Ti.FieldColour.prototype.dropdownCreate_=function(){var e=this.columns_||Ti.FieldColour.COLUMNS,t=this.colours_||Ti.FieldColour.COLOURS,n=this.titles_||Ti.FieldColour.TITLES,o=this.getValue(),i=document.createElement("table");i.className="blocklyColourTable",i.tabIndex=0,i.dir="ltr",(0,X.setRole)(i,X.Role.GRID),(0,X.setState)(i,X.State.EXPANDED,!0),(0,X.setState)(i,X.State.ROWCOUNT,Math.floor(t.length/e)),(0,X.setState)(i,X.State.COLCOUNT,e);for(var r,s=0;s<t.length;s++){0===s%e&&(r=document.createElement("tr"),(0,X.setRole)(r,X.Role.ROW),i.appendChild(r));var l=document.createElement("td");r.appendChild(l),l.label=t[s],l.title=n[s]||t[s],l.id=(0,K.getNextUniqueId)(),l.setAttribute("data-index",s),(0,X.setRole)(l,X.Role.GRIDCELL),(0,X.setState)(l,X.State.LABEL,t[s]),(0,X.setState)(l,X.State.SELECTED,t[s]===o),l.style.backgroundColor=t[s],t[s]===o&&(l.className="blocklyColourSelected",this.highlightedIndex_=s)}this.onClickWrapper_=(0,_.conditionalBind)(i,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=(0,_.conditionalBind)(i,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=(0,_.conditionalBind)(i,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=(0,_.conditionalBind)(i,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=(0,_.conditionalBind)(i,"keydown",this,this.onKeyDown_),this.picker_=i},Ti.FieldColour.prototype.dropdownDispose_=function(){this.onClickWrapper_&&((0,_.unbind)(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&((0,_.unbind)(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&((0,_.unbind)(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&((0,_.unbind)(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&((0,_.unbind)(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null},(0,c.register)("\n  .blocklyColourTable {\n    border-collapse: collapse;\n    display: block;\n    outline: none;\n    padding: 1px;\n  }\n\n  .blocklyColourTable>tr>td {\n    border: .5px solid #888;\n    box-sizing: border-box;\n    cursor: pointer;\n    display: inline-block;\n    height: 20px;\n    padding: 0;\n    width: 20px;\n  }\n\n  .blocklyColourTable>tr>td.blocklyColourHighlighted {\n    border-color: #eee;\n    box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);\n    position: relative;\n  }\n\n  .blocklyColourSelected, .blocklyColourSelected:hover {\n    border-color: #eee !important;\n    outline: 1px solid #333;\n    position: relative;\n  }\n"),(0,on.register)("field_colour",Ti.FieldColour),e.module$exports$Blockly$FieldCheckbox={FieldCheckbox:function(t,n,o){this.checkChar_=null,e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.superClass_.constructor.call(this,t,n,o)}},(0,e.module$exports$Blockly$utils$object.inherits)(e.module$exports$Blockly$FieldCheckbox.FieldCheckbox,jn.Field),e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.DEFAULT_VALUE=!1,e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.fromJson=function(e){return new this(e.checked,void 0,e)},e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.CHECK_CHAR="\u2713",e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.SERIALIZABLE=!0,e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.CURSOR="default",e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.configure_=function(t){e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.superClass_.configure_.call(this,t),t.checkCharacter&&(this.checkChar_=t.checkCharacter)},e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.saveState=function(){var t=this.saveLegacyState(e.module$exports$Blockly$FieldCheckbox.FieldCheckbox);return null!==t?t:this.getValueBoolean()},e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.initView=function(){e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.superClass_.initView.call(this),(0,M.addClass)(this.textElement_,"blocklyCheckbox"),this.textElement_.style.display=this.value_?"block":"none"},e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)},e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.getDisplayText_=function(){return this.checkChar_||e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.CHECK_CHAR},e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.setCheckCharacter=function(e){this.checkChar_=e,this.forceRerender()},e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.doClassValidation_=function(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null},e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.doValueUpdate_=function(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},e.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.convertValueToBool_=function(e){return"string"===typeof e?"TRUE"===e:!!e},(0,on.register)("field_checkbox",e.module$exports$Blockly$FieldCheckbox.FieldCheckbox);var Ei={FieldAngle:function(e,t,n){this.clockwise_=Ei.FieldAngle.CLOCKWISE,this.offset_=Ei.FieldAngle.OFFSET,this.wrap_=Ei.FieldAngle.WRAP,this.round_=Ei.FieldAngle.ROUND,Ei.FieldAngle.superClass_.constructor.call(this,e,t,n),this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.line_=this.gauge_=this.editor_=null}};(0,e.module$exports$Blockly$utils$object.inherits)(Ei.FieldAngle,e.module$exports$Blockly$FieldTextInput.FieldTextInput),Ei.FieldAngle.prototype.DEFAULT_VALUE=0,Ei.FieldAngle.fromJson=function(e){return new this(e.angle,void 0,e)},Ei.FieldAngle.prototype.SERIALIZABLE=!0,Ei.FieldAngle.ROUND=15,Ei.FieldAngle.HALF=50,Ei.FieldAngle.CLOCKWISE=!1,Ei.FieldAngle.OFFSET=0,Ei.FieldAngle.WRAP=360,Ei.FieldAngle.RADIUS=Ei.FieldAngle.HALF-1,Ei.FieldAngle.prototype.configure_=function(e){switch(Ei.FieldAngle.superClass_.configure_.call(this,e),e.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var t=e.clockwise;"boolean"===typeof t&&(this.clockwise_=t),null!==(t=e.offset)&&(t=Number(t),isNaN(t)||(this.offset_=t)),null!==(t=e.wrap)&&(t=Number(t),isNaN(t)||(this.wrap_=t)),null!==(e=e.round)&&(e=Number(e),isNaN(e)||(this.round_=e))},Ei.FieldAngle.prototype.initView=function(){Ei.FieldAngle.superClass_.initView.call(this),this.symbol_=(0,M.createSvgElement)(Ee.Svg.TSPAN,{},null),this.symbol_.appendChild(document.createTextNode("\xb0")),this.textElement_.appendChild(this.symbol_)},Ei.FieldAngle.prototype.render_=function(){Ei.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},Ei.FieldAngle.prototype.showEditor_=function(e){Ei.FieldAngle.superClass_.showEditor_.call(this,e,f.MOBILE||f.ANDROID||f.IPAD),this.dropdownCreate_(),be.DropDownDiv.getContentDiv().appendChild(this.editor_),be.DropDownDiv.setColour(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),be.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},Ei.FieldAngle.prototype.dropdownCreate_=function(){var e=(0,M.createSvgElement)(Ee.Svg.SVG,{xmlns:M.SVG_NS,"xmlns:html":M.HTML_NS,"xmlns:xlink":M.XLINK_NS,version:"1.1",height:2*Ei.FieldAngle.HALF+"px",width:2*Ei.FieldAngle.HALF+"px",style:"touch-action: none"},null),t=(0,M.createSvgElement)(Ee.Svg.CIRCLE,{cx:Ei.FieldAngle.HALF,cy:Ei.FieldAngle.HALF,r:Ei.FieldAngle.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=(0,M.createSvgElement)(Ee.Svg.PATH,{class:"blocklyAngleGauge"},e),this.line_=(0,M.createSvgElement)(Ee.Svg.LINE,{x1:Ei.FieldAngle.HALF,y1:Ei.FieldAngle.HALF,class:"blocklyAngleLine"},e);for(var n=0;360>n;n+=15)(0,M.createSvgElement)(Ee.Svg.LINE,{x1:Ei.FieldAngle.HALF+Ei.FieldAngle.RADIUS,y1:Ei.FieldAngle.HALF,x2:Ei.FieldAngle.HALF+Ei.FieldAngle.RADIUS-(0===n%45?10:5),y2:Ei.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+n+","+Ei.FieldAngle.HALF+","+Ei.FieldAngle.HALF+")"},e);this.clickWrapper_=(0,_.conditionalBind)(e,"click",this,this.hide_),this.clickSurfaceWrapper_=(0,_.conditionalBind)(t,"click",this,this.onMouseMove_,!0,!0),this.moveSurfaceWrapper_=(0,_.conditionalBind)(t,"mousemove",this,this.onMouseMove_,!0,!0),this.editor_=e},Ei.FieldAngle.prototype.dropdownDispose_=function(){this.clickWrapper_&&((0,_.unbind)(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&((0,_.unbind)(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&((0,_.unbind)(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null},Ei.FieldAngle.prototype.hide_=function(){be.DropDownDiv.hideIfOwner(this),(0,U.hide)()},Ei.FieldAngle.prototype.onMouseMove_=function(e){var t=this.gauge_.ownerSVGElement.getBoundingClientRect(),n=e.clientX-t.left-Ei.FieldAngle.HALF;e=e.clientY-t.top-Ei.FieldAngle.HALF,t=Math.atan(-e/n),isNaN(t)||(t=(0,ce.toDegrees)(t),0>n?t+=180:0<e&&(t+=360),t=this.clockwise_?this.offset_+360-t:360-(this.offset_-t),this.displayMouseOrKeyboardValue_(t))},Ei.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(e){this.round_&&(e=Math.round(e/this.round_)*this.round_),(e=this.wrapValue_(e))!==this.value_&&this.setEditorValue_(e)},Ei.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var e=Number(this.getText())+this.offset_,t=(0,ce.toRadians)(e%360);e=["M ",Ei.FieldAngle.HALF,",",Ei.FieldAngle.HALF];var n=Ei.FieldAngle.HALF,o=Ei.FieldAngle.HALF;if(!isNaN(t)){var i=Number(this.clockwise_),r=(0,ce.toRadians)(this.offset_),s=Math.cos(r)*Ei.FieldAngle.RADIUS,l=Math.sin(r)*-Ei.FieldAngle.RADIUS;i&&(t=2*r-t),n+=Math.cos(t)*Ei.FieldAngle.RADIUS,o-=Math.sin(t)*Ei.FieldAngle.RADIUS,t=Math.abs(Math.floor((t-r)/Math.PI)%2),i&&(t=1-t),e.push(" l ",s,",",l," A ",Ei.FieldAngle.RADIUS,",",Ei.FieldAngle.RADIUS," 0 ",t," ",i," ",n,",",o," z")}this.gauge_.setAttribute("d",e.join("")),this.line_.setAttribute("x2",n),this.line_.setAttribute("y2",o)}},Ei.FieldAngle.prototype.onHtmlInputKeyDown_=function(e){var t;if(Ei.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,e),e.keyCode===et.LEFT?t=this.sourceBlock_.RTL?1:-1:e.keyCode===et.RIGHT?t=this.sourceBlock_.RTL?-1:1:e.keyCode===et.DOWN?t=-1:e.keyCode===et.UP&&(t=1),t){var n=this.getValue();this.displayMouseOrKeyboardValue_(n+t*this.round_),e.preventDefault(),e.stopPropagation()}},Ei.FieldAngle.prototype.doClassValidation_=function(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue_(e)},Ei.FieldAngle.prototype.wrapValue_=function(e){return 0>(e%=360)&&(e+=360),e>this.wrap_&&(e-=360),e},(0,c.register)("\n  .blocklyAngleCircle {\n    stroke: #444;\n    stroke-width: 1;\n    fill: #ddd;\n    fill-opacity: .8;\n  }\n\n  .blocklyAngleMarks {\n    stroke: #444;\n    stroke-width: 1;\n  }\n\n  .blocklyAngleGauge {\n    fill: #f88;\n    fill-opacity: .8;\n    pointer-events: none;\n  }\n\n  .blocklyAngleLine {\n    stroke: #f00;\n    stroke-width: 2;\n    stroke-linecap: round;\n    pointer-events: none;\n  }\n"),(0,on.register)("field_angle",Ei.FieldAngle);var ki={TopRow:function(e){ki.TopRow.superClass_.constructor.call(this,e)}};(0,e.module$exports$Blockly$utils$object.inherits)(ki.TopRow,yo.TopRow),ki.TopRow.prototype.endsWithElemSpacer=function(){return!1},ki.TopRow.prototype.hasLeftSquareCorner=function(e){var t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t},ki.TopRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection};var bi={StatementInput:function(e,t){if(bi.StatementInput.superClass_.constructor.call(this,e,t),this.connectedBlock){for(e=this.connectedBlock;t=e.getNextBlock();)e=t;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}};(0,e.module$exports$Blockly$utils$object.inherits)(bi.StatementInput,mo.StatementInput);var Ci={RightConnectionShape:function(e){Ci.RightConnectionShape.superClass_.constructor.call(this,e),this.type|=zt.Types.getType("RIGHT_CONNECTION"),this.width=this.height=0}};(0,e.module$exports$Blockly$utils$object.inherits)(Ci.RightConnectionShape,Xt);var Si={MarkerSvg:function(e,t,n){Si.MarkerSvg.superClass_.constructor.call(this,e,t,n)}};(0,e.module$exports$Blockly$utils$object.inherits)(Si.MarkerSvg,ao.MarkerSvg),Si.MarkerSvg.prototype.showWithInputOutput_=function(e){var t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle_(e.x,e.y),this.setParent_(t),this.showCurrent_()},Si.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithInputOutput_(e)},Si.MarkerSvg.prototype.showWithInput_=function(e){this.showWithInputOutput_(e)},Si.MarkerSvg.prototype.showWithBlock_=function(e){var t=(e=e.getLocation()).getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()},Si.MarkerSvg.prototype.positionCircle_=function(e,t){this.markerCircle_.setAttribute("cx",e),this.markerCircle_.setAttribute("cy",t),this.currentMarkerSvg=this.markerCircle_},Si.MarkerSvg.prototype.hide=function(){Si.MarkerSvg.superClass_.hide.call(this),this.markerCircle_.style.display="none"},Si.MarkerSvg.prototype.createDomInternal_=function(){if(Si.MarkerSvg.superClass_.createDomInternal_.call(this),this.markerCircle_=(0,M.createSvgElement)(Ee.Svg.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();(0,M.createSvgElement)(Ee.Svg.ANIMATE,e,this.markerCircle_)}return this.markerSvg_},Si.MarkerSvg.prototype.applyColour_=function(e){Si.MarkerSvg.superClass_.applyColour_.call(this,e),this.markerCircle_.setAttribute("fill",this.colour_),this.markerCircle_.setAttribute("stroke",this.colour_),this.isCursor()&&this.markerCircle_.firstChild.setAttribute("values",this.colour_+";transparent;transparent;")};var Ii={ConstantProvider:function(){Ii.ConstantProvider.superClass_.constructor.call(this),this.SMALL_PADDING=this.GRID_UNIT=4,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TAB_OFFSET_FROM_TOP=0,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!0,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.replacementGlowFilter_=null}};(0,e.module$exports$Blockly$utils$object.inherits)(Ii.ConstantProvider,nn.ConstantProvider),Ii.ConstantProvider.prototype.setFontConstants_=function(e){Ii.ConstantProvider.superClass_.setFontConstants_.call(this,e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING},Ii.ConstantProvider.prototype.init=function(){Ii.ConstantProvider.superClass_.init.call(this),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth},Ii.ConstantProvider.prototype.setDynamicProperties_=function(e){Ii.ConstantProvider.superClass_.setDynamicProperties_.call(this,e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE},Ii.ConstantProvider.prototype.dispose=function(){Ii.ConstantProvider.superClass_.dispose.call(this),this.selectedGlowFilter_&&(0,M.removeNode)(this.selectedGlowFilter_),this.replacementGlowFilter_&&(0,M.removeNode)(this.replacementGlowFilter_)},Ii.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH;return{height:e,width:t,path:(0,Qt.curve)("c",[(0,Qt.point)(25,-e),(0,Qt.point)(71,-e),(0,Qt.point)(t,0)])}},Ii.ConstantProvider.prototype.makeHexagonal=function(){function e(e,n,o){var i=e/2;return(0,Qt.lineTo)(-(o=o?-1:1)*(i=i>t?t:i),e=(n?-1:1)*e/2)+(0,Qt.lineTo)(o*i,e)}var t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(e){return(e/=2)>t?t:e},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}},Ii.ConstantProvider.prototype.makeRounded=function(){function e(e,t,o){var i=e>n?e-n:0;return(0,Qt.arc)("a","0 0,1",e=(e>n?n:e)/2,(0,Qt.point)((t?-1:1)*e,(t?-1:1)*e))+(0,Qt.lineOnAxis)("v",(o?1:-1)*i)+(0,Qt.arc)("a","0 0,1",e,(0,Qt.point)((t?1:-1)*e,(t?-1:1)*e))}var t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,n=2*t;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(e){return(e/=2)>t?t:e},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}},Ii.ConstantProvider.prototype.makeSquared=function(){function e(e,n,o){return e-=2*t,(0,Qt.arc)("a","0 0,1",t,(0,Qt.point)((n?-1:1)*t,(n?-1:1)*t))+(0,Qt.lineOnAxis)("v",(o?1:-1)*e)+(0,Qt.arc)("a","0 0,1",t,(0,Qt.point)((n?1:-1)*t,(n?-1:1)*t))}var t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(e){return t},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}},Ii.ConstantProvider.prototype.shapeFor=function(t){var n=t.getCheck();switch(!n&&t.targetConnection&&(n=t.targetConnection.getCheck()),t.type){case e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE:case e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE:if(null!==(t=t.getSourceBlock().getOutputShape()))switch(t){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return n&&-1!==n.indexOf("Boolean")?this.HEXAGONAL:(n&&-1!==n.indexOf("Number")||n&&n.indexOf("String"),this.ROUNDED);case e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT:case e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}},Ii.ConstantProvider.prototype.makeNotch=function(){function e(e){return(0,Qt.curve)("c",[(0,Qt.point)(e*i/2,0),(0,Qt.point)(e*i*3/4,s/2),(0,Qt.point)(e*i,s)])+(0,Qt.line)([(0,Qt.point)(e*i,r)])+(0,Qt.curve)("c",[(0,Qt.point)(e*i/4,s/2),(0,Qt.point)(e*i/2,s),(0,Qt.point)(e*i,s)])+(0,Qt.lineOnAxis)("h",e*o)+(0,Qt.curve)("c",[(0,Qt.point)(e*i/2,0),(0,Qt.point)(e*i*3/4,-s/2),(0,Qt.point)(e*i,-s)])+(0,Qt.line)([(0,Qt.point)(e*i,-r)])+(0,Qt.curve)("c",[(0,Qt.point)(e*i/4,-s/2),(0,Qt.point)(e*i/2,-s),(0,Qt.point)(e*i,-s)])}var t=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,o=t/3,i=o/3,r=n/2,s=r/2,l=e(1),a=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:n,pathLeft:l,pathRight:a}},Ii.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS,t=(0,Qt.arc)("a","0 0,0",e,(0,Qt.point)(-e,e)),n=(0,Qt.arc)("a","0 0,1",e,(0,Qt.point)(-e,e));return{width:e,height:e,pathTop:t,pathBottom:(0,Qt.arc)("a","0 0,0",e,(0,Qt.point)(e,e)),rightWidth:e,rightHeight:e,pathTopRight:n,pathBottomRight:(0,Qt.arc)("a","0 0,1",e,(0,Qt.point)(e,e))}},Ii.ConstantProvider.prototype.generateSecondaryColour_=function(e){return(0,Jt.blend)("#000",e,.15)||e},Ii.ConstantProvider.prototype.generateTertiaryColour_=function(e){return(0,Jt.blend)("#000",e,.25)||e},Ii.ConstantProvider.prototype.createDom=function(e,t,n){Ii.ConstantProvider.superClass_.createDom.call(this,e,t,n),e=(0,M.createSvgElement)(Ee.Svg.DEFS,{},e),t=(0,M.createSvgElement)(Ee.Svg.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),(0,M.createSvgElement)(Ee.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),n=(0,M.createSvgElement)(Ee.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},t),(0,M.createSvgElement)(Ee.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),(0,M.createSvgElement)(Ee.Svg.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),(0,M.createSvgElement)(Ee.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter_=t,e=(0,M.createSvgElement)(Ee.Svg.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),(0,M.createSvgElement)(Ee.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=(0,M.createSvgElement)(Ee.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},e),(0,M.createSvgElement)(Ee.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),(0,M.createSvgElement)(Ee.Svg.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),(0,M.createSvgElement)(Ee.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),(0,M.createSvgElement)(Ee.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter_=e},Ii.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText,",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",e+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text,",e+" .blocklyNonEditableText>g>text,",e+" .blocklyEditableText>g>text {","fill: #575E75;","}",e+" .blocklyFlyoutLabelText {","fill: #575E75;","}",e+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","color: #575E75;","}",e+" .blocklyDropdownText {","fill: #fff !important;","}",e+".blocklyWidgetDiv .goog-menuitem,",e+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",e+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",e+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",e+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.randomIdentifier+")","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]};var Ri={Drawer:function(e,t){Ri.Drawer.superClass_.constructor.call(this,e,t)}};(0,e.module$exports$Blockly$utils$object.inherits)(Ri.Drawer,Kn.Drawer),Ri.Drawer.prototype.draw=function(){var e=this.block_.pathObject;e.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),e.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&e.flipRTL(),(0,Gt.isDebuggerEnabled)()&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()},Ri.Drawer.prototype.drawOutline_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):Ri.Drawer.superClass_.drawOutline_.call(this)},Ri.Drawer.prototype.drawLeft_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():Ri.Drawer.superClass_.drawLeft_.call(this)},Ri.Drawer.prototype.drawRightSideRow_=function(e){if(!(0>=e.height))if(e.precedesStatement||e.followsStatement){var t=this.constants_.INSIDE_CORNERS.rightHeight;t=e.height-(e.precedesStatement?t:0),this.outlinePath_+=(e.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<t?(0,Qt.lineOnAxis)("V",e.yPos+t):"")+(e.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=(0,Qt.lineOnAxis)("V",e.yPos+e.height)},Ri.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)},Ri.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"},Ri.Drawer.prototype.drawFlatTop_=function(){var e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=(0,Qt.moveBy)(e.xPos,this.info_.startY),this.outlinePath_+=(0,Qt.lineOnAxis)("h",e.width)},Ri.Drawer.prototype.drawFlatBottom_=function(){var e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=(0,Qt.lineOnAxis)("V",e.baseline),this.outlinePath_+=(0,Qt.lineOnAxis)("h",-e.width)},Ri.Drawer.prototype.drawInlineInput_=function(e){this.positionInlineInputConnection_(e);var t=e.input.name;if(!e.connectedBlock&&!this.info_.isInsertionMarker){var n=e.width-2*e.connectionWidth;e=(0,Qt.moveTo)(e.xPos+e.connectionWidth,e.centerline-e.height/2)+(0,Qt.lineOnAxis)("h",n)+e.shape.pathRightDown(e.height)+(0,Qt.lineOnAxis)("h",-n)+e.shape.pathUp(e.height)+"z",this.block_.pathObject.setOutlinePath(t,e)}},Ri.Drawer.prototype.drawStatementInput_=function(e){var t=e.getLastInput(),n=t.xPos+t.notchOffset+t.shape.width,o=t.shape.pathRight+(0,Qt.lineOnAxis)("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,i=e.height-2*this.constants_.INSIDE_CORNERS.height;t=this.constants_.INSIDE_CORNERS.pathBottom+(0,Qt.lineOnAxis)("h",t.notchOffset-this.constants_.INSIDE_CORNERS.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=(0,Qt.lineOnAxis)("H",n)+o+(0,Qt.lineOnAxis)("v",i)+t+(0,Qt.lineOnAxis)("H",e.xPos+e.width),this.positionStatementInputConnection_(e)};var Oi={PathObject:function(e,t,n){Oi.PathObject.superClass_.constructor.call(this,e,t,n),this.constants=n,this.svgPathSelected_=null,this.outlines_=Object.create(null),this.outputShapeType=this.remainingOutlines_=null}};(0,e.module$exports$Blockly$utils$object.inherits)(Oi.PathObject,po.PathObject),Oi.PathObject.prototype.setPath=function(e){Oi.PathObject.superClass_.setPath.call(this,e),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",e)},Oi.PathObject.prototype.applyColour=function(e){for(var t in Oi.PathObject.superClass_.applyColour.call(this,e),e.isShadow()&&e.getParent()&&this.svgPath.setAttribute("stroke",e.getParent().style.colourTertiary),this.outlines_)this.outlines_[t].setAttribute("fill",this.style.colourTertiary)},Oi.PathObject.prototype.flipRTL=function(){for(var e in Oi.PathObject.superClass_.flipRTL.call(this),this.outlines_)this.outlines_[e].setAttribute("transform","scale(-1 1)")},Oi.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)},Oi.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")},Oi.PathObject.prototype.updateShapeForInputHighlight=function(e,t){e=e.getParentInput().name,(e=this.getOutlinePath_(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))},Oi.PathObject.prototype.beginDrawing=function(){for(var e in this.remainingOutlines_=Object.create(null),this.outlines_)this.remainingOutlines_[e]=1},Oi.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_)for(var e in this.remainingOutlines_)this.removeOutlinePath_(e);this.remainingOutlines_=null},Oi.PathObject.prototype.setOutlinePath=function(e,t){(e=this.getOutlinePath_(e)).setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)},Oi.PathObject.prototype.getOutlinePath_=function(e){return this.outlines_[e]||(this.outlines_[e]=(0,M.createSvgElement)(Ee.Svg.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines_&&delete this.remainingOutlines_[e],this.outlines_[e]},Oi.PathObject.prototype.removeOutlinePath_=function(e){this.outlines_[e].parentNode.removeChild(this.outlines_[e]),delete this.outlines_[e]};var wi={BottomRow:function(e){wi.BottomRow.superClass_.constructor.call(this,e)}};(0,e.module$exports$Blockly$utils$object.inherits)(wi.BottomRow,jt.BottomRow),wi.BottomRow.prototype.endsWithElemSpacer=function(){return!1},wi.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection},wi.BottomRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},e.module$exports$Blockly$FieldImage={FieldImage:function(t,n,o,i,r,s,l){if(!t)throw Error("Src value of an image field is required");if(t=(0,en.replaceMessageReferences)(t),o=Number((0,en.replaceMessageReferences)(o)),n=Number((0,en.replaceMessageReferences)(n)),isNaN(o)||isNaN(n))throw Error("Height and width values of an image field must cast to numbers.");if(0>=o||0>=n)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1,this.altText_="",e.module$exports$Blockly$FieldImage.FieldImage.superClass_.constructor.call(this,t,null,l),l||(this.flipRtl_=!!s,this.altText_=(0,en.replaceMessageReferences)(i)||""),this.size_=new de.Size(n,o+e.module$exports$Blockly$FieldImage.FieldImage.Y_PADDING),this.imageHeight_=o,this.clickHandler_=null,"function"===typeof r&&(this.clickHandler_=r),this.imageElement_=null}},(0,e.module$exports$Blockly$utils$object.inherits)(e.module$exports$Blockly$FieldImage.FieldImage,jn.Field),e.module$exports$Blockly$FieldImage.FieldImage.prototype.DEFAULT_VALUE="",e.module$exports$Blockly$FieldImage.FieldImage.fromJson=function(e){return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)},e.module$exports$Blockly$FieldImage.FieldImage.Y_PADDING=1,e.module$exports$Blockly$FieldImage.FieldImage.prototype.EDITABLE=!1,e.module$exports$Blockly$FieldImage.FieldImage.prototype.isDirty_=!1,e.module$exports$Blockly$FieldImage.FieldImage.prototype.configure_=function(t){e.module$exports$Blockly$FieldImage.FieldImage.superClass_.configure_.call(this,t),this.flipRtl_=!!t.flipRtl,this.altText_=(0,en.replaceMessageReferences)(t.alt)||""},e.module$exports$Blockly$FieldImage.FieldImage.prototype.initView=function(){this.imageElement_=(0,M.createSvgElement)(Ee.Svg.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(M.XLINK_NS,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")},e.module$exports$Blockly$FieldImage.FieldImage.prototype.updateSize_=function(){},e.module$exports$Blockly$FieldImage.FieldImage.prototype.doClassValidation_=function(e){return"string"!==typeof e?null:e},e.module$exports$Blockly$FieldImage.FieldImage.prototype.doValueUpdate_=function(e){this.value_=e,this.imageElement_&&this.imageElement_.setAttributeNS(M.XLINK_NS,"xlink:href",String(this.value_))},e.module$exports$Blockly$FieldImage.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},e.module$exports$Blockly$FieldImage.FieldImage.prototype.setAlt=function(e){e!==this.altText_&&(this.altText_=e||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},e.module$exports$Blockly$FieldImage.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},e.module$exports$Blockly$FieldImage.FieldImage.prototype.setOnClickHandler=function(e){this.clickHandler_=e},e.module$exports$Blockly$FieldImage.FieldImage.prototype.getText_=function(){return this.altText_},(0,on.register)("field_image",e.module$exports$Blockly$FieldImage.FieldImage);var Bi={RenderInfo:function(e,t){Bi.RenderInfo.superClass_.constructor.call(this,e,t),this.topRow=new ki.TopRow(this.constants_),this.bottomRow=new wi.BottomRow(this.constants_),this.isInline=!0,this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=0<t.statementInputCount,this.rightSide=this.outputConnection?new Ci.RightConnectionShape(this.constants_):null}};(0,e.module$exports$Blockly$utils$object.inherits)(Bi.RenderInfo,vo.RenderInfo),Bi.RenderInfo.prototype.getRenderer=function(){return this.renderer_},Bi.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},Bi.RenderInfo.prototype.shouldStartNewRow_=function(t,n){return!!n&&(t.type===e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT||n.type===e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT||(t.type===e.module$exports$Blockly$inputTypes.inputTypes.VALUE||t.type===e.module$exports$Blockly$inputTypes.inputTypes.DUMMY)&&(!this.isInline||this.isMultiRow))},Bi.RenderInfo.prototype.getDesiredRowWidth_=function(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):Bi.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},Bi.RenderInfo.prototype.getInRowSpacing_=function(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&zt.Types.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&zt.Types.isLeftRoundedCorner(e)&&t&&(zt.Types.isPreviousConnection(t)||zt.Types.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&zt.Types.isLeftSquareCorner(e)&&t&&zt.Types.isHat(t)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING},Bi.RenderInfo.prototype.getSpacerRowHeight_=function(e,t){if(zt.Types.isTopRow(e)&&zt.Types.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var n=zt.Types.isInputRow(e)&&e.hasStatement,o=zt.Types.isInputRow(t)&&t.hasStatement;return o||n?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),o&&n?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):zt.Types.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):zt.Types.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},Bi.RenderInfo.prototype.getSpacerRowWidth_=function(e,t){var n=this.width-this.startX;return zt.Types.isInputRow(e)&&e.hasStatement||zt.Types.isInputRow(t)&&t.hasStatement?Math.max(n,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):n},Bi.RenderInfo.prototype.getElemCenterline_=function(e,t){if(e.hasStatement&&!zt.Types.isSpacer(t)&&!zt.Types.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(zt.Types.isInlineInput(t)){var n=t.connectedBlock;if(n&&n.outputConnection&&n.nextConnection)return e.yPos+n.height/2}return Bi.RenderInfo.superClass_.getElemCenterline_.call(this,e,t)},Bi.RenderInfo.prototype.addInput_=function(t,n){if(t.type===e.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&n.hasDummyInput&&n.align===e.module$exports$Blockly$Input.Align.LEFT&&t.align===e.module$exports$Blockly$Input.Align.RIGHT)n.rightAlignedDummyInput=t;else if(t.type===e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT)return n.elements.push(new bi.StatementInput(this.constants_,t)),n.hasStatement=!0,void(null===n.align&&(n.align=t.align));Bi.RenderInfo.superClass_.addInput_.call(this,t,n)},Bi.RenderInfo.prototype.addAlignmentPadding_=function(e,t){if(e.rightAlignedDummyInput){for(var n,o=0;o<e.elements.length;o++){var i=e.elements[o];if(zt.Types.isSpacer(i)&&(n=i),zt.Types.isField(i)&&i.parentInput===e.rightAlignedDummyInput)break}if(n)return n.width+=t,void(e.width+=t)}Bi.RenderInfo.superClass_.addAlignmentPadding_.call(this,e,t)},Bi.RenderInfo.prototype.adjustXPosition_=function(){for(var t=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,n=t,o=2;o<this.rows.length-1;o+=2){var i=this.rows[o-1],r=this.rows[o],s=this.rows[o+1];if(i=2===o?!!this.topRow.hasPreviousConnection:!!i.followsStatement,s=o+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!s.precedesStatement,zt.Types.isInputRow(r)&&r.hasStatement)r.measure(),n=r.width-r.getLastInput().width+t;else if(i&&(2===o||s)&&zt.Types.isInputRow(r)&&!r.hasStatement){s=r.xPos,i=null;for(var l=0;l<r.elements.length;l++){var a=r.elements[l];zt.Types.isSpacer(a)&&(i=a),!(i&&(zt.Types.isField(a)||zt.Types.isInput(a))&&s<n)||zt.Types.isField(a)&&(a.field instanceof e.module$exports$Blockly$FieldLabel.FieldLabel||a.field instanceof e.module$exports$Blockly$FieldImage.FieldImage)||(i.width+=n-s),s+=a.width}}}},Bi.RenderInfo.prototype.finalizeOutputConnection_=function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){for(var e=0,t=0;t<this.rows.length;t++){var n=this.rows[t];n.yPos=e,e+=n.height}this.height=e,t=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,e=this.outputConnection.shape.height(t),t=this.outputConnection.shape.width(t),this.outputConnection.height=e,this.outputConnection.width=t,this.outputConnection.startX=t,this.outputConnection.connectionOffsetY=this.outputConnection.shape.connectionOffsetY(e),this.outputConnection.connectionOffsetX=this.outputConnection.shape.connectionOffsetX(t),n=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(n=t,this.rightSide.height=e,this.rightSide.width=n,this.rightSide.centerline=e/2,this.rightSide.xPos=this.width+n),this.startX=t,this.width+=t+n,this.widthWithChildren+=t+n}},Bi.RenderInfo.prototype.finalizeHorizontalAlignment_=function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var n=this.rows[t];if(zt.Types.isInputRow(n)){e=n.elements[n.elements.length-2];var o=this.getNegativeSpacing_(n.elements[1]),i=this.getNegativeSpacing_(e);e=o+i;var r=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-e<r&&(o=(e=this.width-r)/2,i=e/2),n.elements.unshift(new to.InRowSpacer(this.constants_,-o)),n.elements.push(new to.InRowSpacer(this.constants_,-i))}}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)n=this.rows[t],zt.Types.isTopOrBottomRow(n)&&(n.elements[1].width-=e,n.elements[1].widthWithConnectedBlocks-=e),n.width-=e,n.widthWithConnectedBlocks-=e}},Bi.RenderInfo.prototype.getNegativeSpacing_=function(t){if(!t)return 0;var n=this.outputConnection.width,o=this.outputConnection.shape.type,i=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)return o===i.SHAPES.ROUND?(o=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,n-(o=this.height/2>o?o:this.height/2)*(1-Math.sin(Math.acos((o-this.constants_.SMALL_PADDING)/o)))):0;if(zt.Types.isInlineInput(t)){var r=t.connectedBlock;return t=r?r.pathObject.outputShapeType:t.shape.type,r&&r.outputConnection&&(r.statementInputCount||r.nextConnection)||o===i.SHAPES.HEXAGONAL&&o!==t?0:n-this.constants_.SHAPE_IN_SHAPE_PADDING[o][t]}return zt.Types.isField(t)?o===i.SHAPES.ROUND&&t.field instanceof e.module$exports$Blockly$FieldTextInput.FieldTextInput?n-2.75*i.GRID_UNIT:n-this.constants_.SHAPE_IN_SHAPE_PADDING[o][0]:zt.Types.isIcon(t)?this.constants_.SMALL_PADDING:0},Bi.RenderInfo.prototype.finalizeVerticalAlignment_=function(){if(!this.outputConnection)for(var t=2;t<this.rows.length-1;t+=2){var n=this.rows[t-1],o=this.rows[t],i=this.rows[t+1],r=2===t,s=t+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!i.precedesStatement;if(r?this.topRow.hasPreviousConnection:n.followsStatement){var l=3===o.elements.length&&(o.elements[1].field instanceof e.module$exports$Blockly$FieldLabel.FieldLabel||o.elements[1].field instanceof e.module$exports$Blockly$FieldImage.FieldImage);if(!r&&l)n.height-=this.constants_.SMALL_PADDING,i.height-=this.constants_.SMALL_PADDING,o.height-=this.constants_.MEDIUM_PADDING;else if(r||s){if(s){for(r=!1,s=0;s<o.elements.length;s++)if(l=o.elements[s],zt.Types.isInlineInput(l)&&l.connectedBlock&&!l.connectedBlock.isShadow()&&40<=l.connectedBlock.getHeightWidth().height){r=!0;break}r&&(n.height-=this.constants_.SMALL_PADDING,i.height-=this.constants_.SMALL_PADDING)}}else n.height+=this.constants_.SMALL_PADDING}}},Bi.RenderInfo.prototype.finalize_=function(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),Bi.RenderInfo.superClass_.finalize_.call(this),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)};var Ai={Renderer:function(e){Ai.Renderer.superClass_.constructor.call(this,e)}};(0,e.module$exports$Blockly$utils$object.inherits)(Ai.Renderer,To.Renderer),Ai.Renderer.prototype.makeConstants_=function(){return new Ii.ConstantProvider},Ai.Renderer.prototype.makeRenderInfo_=function(e){return new Bi.RenderInfo(this,e)},Ai.Renderer.prototype.makeDrawer_=function(e,t){return new Ri.Drawer(e,t)},Ai.Renderer.prototype.makeMarkerDrawer=function(e,t){return new Si.MarkerSvg(e,this.getConstants(),t)},Ai.Renderer.prototype.makePathObject=function(e,t){return new Oi.PathObject(e,t,this.getConstants())},Ai.Renderer.prototype.shouldHighlightConnection=function(t){return t.type!==e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE&&t.type!==e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE},Ai.Renderer.prototype.getConnectionPreviewMethod=function(t,n,o){return n.type===e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?t.isConnected()?Un.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:Un.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:Ai.Renderer.superClass_.getConnectionPreviewMethod(t,n,o)},(0,ko.register)("zelos",Ai.Renderer);var xi={};xi.BottomRow=wi.BottomRow,xi.ConstantProvider=Ii.ConstantProvider,xi.Drawer=Ri.Drawer,xi.MarkerSvg=Si.MarkerSvg,xi.PathObject=Oi.PathObject,xi.RenderInfo=Bi.RenderInfo,xi.Renderer=Ai.Renderer,xi.RightConnectionShape=Ci.RightConnectionShape,xi.StatementInput=bi.StatementInput,xi.TopRow=ki.TopRow;var Ni={RenderInfo:function(e,t){Ni.RenderInfo.superClass_.constructor.call(this,e,t)}};(0,e.module$exports$Blockly$utils$object.inherits)(Ni.RenderInfo,vo.RenderInfo),Ni.RenderInfo.prototype.getRenderer=function(){return this.renderer_},Ni.RenderInfo.prototype.addElemSpacing_=function(){for(var e=!1,t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){var n=this.rows[t],o=n.elements;n.elements=[],n.startsWithElemSpacer()&&n.elements.push(new to.InRowSpacer(this.constants_,this.getInRowSpacing_(null,o[0])));for(var i=0;i<o.length-1;i++){n.elements.push(o[i]);var r=this.getInRowSpacing_(o[i],o[i+1]);n.elements.push(new to.InRowSpacer(this.constants_,r))}n.elements.push(o[o.length-1]),n.endsWithElemSpacer()&&(o=this.getInRowSpacing_(o[o.length-1],null),e&&n.hasDummyInput&&(o+=this.constants_.TAB_WIDTH),n.elements.push(new to.InRowSpacer(this.constants_,o)))}},Ni.RenderInfo.prototype.getInRowSpacing_=function(e,t){if(!e)return t&&zt.Types.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&zt.Types.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&zt.Types.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!zt.Types.isInput(e)&&!t)return zt.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:zt.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:zt.Types.isHat(e)?this.constants_.NO_PADDING:zt.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:zt.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:zt.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(zt.Types.isInput(e)&&!t){if(zt.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(zt.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(zt.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!zt.Types.isInput(e)&&t&&zt.Types.isInput(t)){if(zt.Types.isField(e)&&e.isEditable){if(zt.Types.isInlineInput(t)||zt.Types.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(zt.Types.isInlineInput(t)||zt.Types.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(zt.Types.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(zt.Types.isIcon(e)&&t&&!zt.Types.isInput(t))return this.constants_.LARGE_PADDING;if(zt.Types.isInlineInput(e)&&t&&zt.Types.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(zt.Types.isLeftSquareCorner(e)&&t){if(zt.Types.isHat(t))return this.constants_.NO_PADDING;if(zt.Types.isPreviousConnection(t)||zt.Types.isNextConnection(t))return t.notchOffset}return zt.Types.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:zt.Types.isField(e)&&t&&zt.Types.isField(t)&&e.isEditable===t.isEditable||t&&zt.Types.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},Ni.RenderInfo.prototype.getSpacerRowHeight_=function(e,t){return zt.Types.isTopRow(e)&&zt.Types.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:zt.Types.isTopRow(e)||zt.Types.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},Ni.RenderInfo.prototype.getElemCenterline_=function(e,t){if(zt.Types.isSpacer(t))return e.yPos+t.height/2;if(zt.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,zt.Types.isNextConnection(t)?e+t.height/2:e-t.height/2;if(zt.Types.isTopRow(e))return zt.Types.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;var n=e.yPos;return zt.Types.isField(t)&&e.hasStatement?n+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):n+e.height/2},Ni.RenderInfo.prototype.finalize_=function(){for(var e=0,t=0,n=0;n<this.rows.length;n++){var o=this.rows[n];o.yPos=t,o.xPos=this.startX,t+=o.height,e=Math.max(e,o.widthWithConnectedBlocks);var i=t-this.topRow.ascenderHeight;o===this.bottomRow&&i<this.constants_.MIN_BLOCK_HEIGHT&&(i=this.constants_.MIN_BLOCK_HEIGHT-i,this.bottomRow.height+=i,t+=i),this.recordElemPositions_(o)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline};var Di={Renderer:function(e){Di.Renderer.superClass_.constructor.call(this,e)}};(0,e.module$exports$Blockly$utils$object.inherits)(Di.Renderer,To.Renderer),Di.Renderer.prototype.makeRenderInfo_=function(e){return new Ni.RenderInfo(this,e)},(0,ko.register)("thrasos",Di.Renderer);var Mi={};Mi.RenderInfo=Ni.RenderInfo,Mi.Renderer=Di.Renderer;var Pi={save:function(e){var t,n=Object.create(null),o=(0,Z.getAllItems)(Z.Type.SERIALIZER,!0);for(t in o){var i=o[t].save(e);i&&(n[t]=i)}return n},load:function(e,n,o){var i=void 0!==(o=void 0===o?{}:o).recordUndo&&o.recordUndo;if(o=(0,Z.getAllItems)(Z.Type.SERIALIZER,!0)){var r=Object.entries(o).sort((function(e,t){return t[1].priority-e[1].priority}));o=(0,oe.getRecordUndo)(),(0,oe.setRecordUndo)(i),(i=(0,oe.getGroup)())||(0,oe.setGroup)(!0),(0,M.startTextWidthCache)(),n.setResizesEnabled&&n.setResizesEnabled(!1);for(var s=t.makeIterator(r.reverse()),l=s.next();!l.done;l=s.next())(l=t.makeIterator(l.value)).next(),l.next().value.clear(n);for(s=(r=t.makeIterator(r.reverse())).next();!s.done;s=r.next())s=(l=t.makeIterator(s.value)).next().value,l=l.next().value,e[s]&&l.load(e[s],n);n.setResizesEnabled&&n.setResizesEnabled(!0),(0,M.stopTextWidthCache)(),(0,oe.fire)(new((0,oe.get)(oe.FINISHED_LOADING))(n)),(0,oe.setGroup)(i),(0,oe.setRecordUndo)(o)}}},Li=function(){this.priority=lt.VARIABLES};Li.prototype.save=function(e){for(var n=[],o=(e=t.makeIterator(e.getAllVariables())).next();!o.done;o=e.next()){var i={name:(o=o.value).name,id:o.getId()};o.type&&(i.type=o.type),n.push(i)}return n.length?n:null},Li.prototype.load=function(e,n){for(var o=(e=t.makeIterator(e)).next();!o.done;o=e.next())o=o.value,n.createVariable(o.name,o.type,o.id)},Li.prototype.clear=function(e){e.getVariableMap().clear()},(0,at.register)("variables",new Li);var Fi={ConstantProvider:function(){Fi.ConstantProvider.superClass_.constructor.call(this)}};(0,e.module$exports$Blockly$utils$object.inherits)(Fi.ConstantProvider,nn.ConstantProvider);var $i={Drawer:function(e,t){$i.Drawer.superClass_.constructor.call(this,e,t)}};(0,e.module$exports$Blockly$utils$object.inherits)($i.Drawer,Kn.Drawer);var Ui={RenderInfo:function(e,t){Ui.RenderInfo.superClass_.constructor.call(this,e,t)}};(0,e.module$exports$Blockly$utils$object.inherits)(Ui.RenderInfo,vo.RenderInfo),Ui.RenderInfo.prototype.getRenderer=function(){return this.renderer_};var Hi={Renderer:function(e){Hi.Renderer.superClass_.constructor.call(this,e)}};(0,e.module$exports$Blockly$utils$object.inherits)(Hi.Renderer,To.Renderer),Hi.Renderer.prototype.makeConstants_=function(){return new Fi.ConstantProvider},Hi.Renderer.prototype.makeRenderInfo_=function(e){return new Ui.RenderInfo(this,e)},Hi.Renderer.prototype.makeDrawer_=function(e,t){return new $i.Drawer(e,t)},(0,ko.register)("minimalist",Hi.Renderer);var Vi={};Vi.ConstantProvider=Fi.ConstantProvider,Vi.Drawer=$i.Drawer,Vi.RenderInfo=Ui.RenderInfo,Vi.Renderer=Hi.Renderer;var Gi={StatementInput:function(e,t){Gi.StatementInput.superClass_.constructor.call(this,e,t),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}};(0,e.module$exports$Blockly$utils$object.inherits)(Gi.StatementInput,mo.StatementInput);var Wi={PathObject:function(e,t,n){this.constants=n,this.svgRoot=e,this.svgPathDark=(0,M.createSvgElement)(Ee.Svg.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot),this.svgPath=(0,M.createSvgElement)(Ee.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.svgPathLight=(0,M.createSvgElement)(Ee.Svg.PATH,{class:"blocklyPathLight"},this.svgRoot),this.colourDark="#000000",this.style=t}};(0,e.module$exports$Blockly$utils$object.inherits)(Wi.PathObject,po.PathObject),Wi.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)},Wi.PathObject.prototype.setHighlightPath=function(e){this.svgPathLight.setAttribute("d",e)},Wi.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},Wi.PathObject.prototype.applyColour=function(e){this.svgPathLight.style.display="",this.svgPathDark.style.display="",this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),Wi.PathObject.superClass_.applyColour.call(this,e),this.svgPath.setAttribute("stroke","none")},Wi.PathObject.prototype.setStyle=function(e){this.style=e,this.colourDark=(0,Jt.blend)("#000",this.style.colourPrimary,.2)||this.colourDark},Wi.PathObject.prototype.updateHighlighted=function(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")},Wi.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPathLight.style.display="none",this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},Wi.PathObject.prototype.updateDisabled_=function(e){Wi.PathObject.superClass_.updateDisabled_.call(this,e),e&&this.svgPath.setAttribute("stroke","none")};var zi={ConstantProvider:function(){zi.ConstantProvider.superClass_.constructor.call(this),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}};(0,e.module$exports$Blockly$utils$object.inherits)(zi.ConstantProvider,nn.ConstantProvider),zi.ConstantProvider.prototype.getCSS_=function(e){return zi.ConstantProvider.superClass_.getCSS_.call(this,e).concat([e+" .blocklyInsertionMarker>.blocklyPathLight,",e+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"])};var Yi={Highlighter:function(e){this.info_=e,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}};Yi.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},Yi.Highlighter.prototype.drawTopCorner=function(e){this.steps_+=(0,Qt.moveBy)(e.xPos,this.info_.startY);for(var t,n=0;t=e.elements[n];n++)zt.Types.isLeftSquareCorner(t)?this.steps_+=this.highlightConstants_.START_POINT:zt.Types.isLeftRoundedCorner(t)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):zt.Types.isPreviousConnection(t)?this.steps_+=this.notchPaths_.pathLeft:zt.Types.isHat(t)?this.steps_+=this.startPaths_.path(this.RTL_):zt.Types.isSpacer(t)&&0!==t.width&&(this.steps_+=(0,Qt.lineOnAxis)("H",t.xPos+t.width-this.highlightOffset_));this.steps_+=(0,Qt.lineOnAxis)("H",e.xPos+e.width-this.highlightOffset_)},Yi.Highlighter.prototype.drawJaggedEdge_=function(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+(0,Qt.lineOnAxis)("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},Yi.Highlighter.prototype.drawValueInput=function(e){var t=e.getLastInput();if(this.RTL_){var n=e.height-t.connectionHeight;this.steps_+=(0,Qt.moveTo)(t.xPos+t.width-this.highlightOffset_,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+(0,Qt.lineOnAxis)("v",n)}else this.steps_+=(0,Qt.moveTo)(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},Yi.Highlighter.prototype.drawStatementInput=function(e){var t=e.getLastInput();if(this.RTL_){var n=e.height-2*this.insideCornerPaths_.height;this.steps_+=(0,Qt.moveTo)(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+(0,Qt.lineOnAxis)("v",n)+this.insideCornerPaths_.pathBottom(this.RTL_)+(0,Qt.lineTo)(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=(0,Qt.moveTo)(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+(0,Qt.lineTo)(e.width-t.xPos-this.insideCornerPaths_.width,0)},Yi.Highlighter.prototype.drawRightSideRow=function(e){var t=e.xPos+e.width-this.highlightOffset_;e.followsStatement&&(this.steps_+=(0,Qt.lineOnAxis)("H",t)),this.RTL_&&(this.steps_+=(0,Qt.lineOnAxis)("H",t),e.height>this.highlightOffset_&&(this.steps_+=(0,Qt.lineOnAxis)("V",e.yPos+e.height-this.highlightOffset_)))},Yi.Highlighter.prototype.drawBottomRow=function(e){if(this.RTL_)this.steps_+=(0,Qt.lineOnAxis)("V",e.baseline-this.highlightOffset_);else{var t=this.info_.bottomRow.elements[0];zt.Types.isLeftSquareCorner(t)?this.steps_+=(0,Qt.moveTo)(e.xPos+this.highlightOffset_,e.baseline-this.highlightOffset_):zt.Types.isLeftRoundedCorner(t)&&(this.steps_+=(0,Qt.moveTo)(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},Yi.Highlighter.prototype.drawLeft=function(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=(0,Qt.moveTo)(this.info_.startX,e):(this.steps_+=(0,Qt.moveTo)(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=(0,Qt.lineOnAxis)("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,zt.Types.isLeftRoundedCorner(e.elements[0])?this.steps_+=(0,Qt.lineOnAxis)("V",this.outsideCornerPaths_.height):this.steps_+=(0,Qt.lineOnAxis)("V",e.capline+this.highlightOffset_))},Yi.Highlighter.prototype.drawInlineInput=function(e){var t=this.highlightOffset_,n=e.xPos+e.connectionWidth,o=e.centerline-e.height/2,i=e.width-e.connectionWidth,r=o+t;this.RTL_?(o=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=(0,Qt.moveTo)(n-t,r)+(0,Qt.lineOnAxis)("v",o)+this.puzzleTabPaths_.pathDown(this.RTL_)+(0,Qt.lineOnAxis)("v",e)+(0,Qt.lineOnAxis)("h",i)):this.inlineSteps_+=(0,Qt.moveTo)(e.xPos+e.width+t,r)+(0,Qt.lineOnAxis)("v",e.height)+(0,Qt.lineOnAxis)("h",-i)+(0,Qt.moveTo)(n,o+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)};var ji={Drawer:function(e,t){ji.Drawer.superClass_.constructor.call(this,e,t),this.highlighter_=new Yi.Highlighter(t)}};(0,e.module$exports$Blockly$utils$object.inherits)(ji.Drawer,Kn.Drawer),ji.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();var e=this.block_.pathObject;e.setPath(this.outlinePath_+"\n"+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),(0,Gt.isDebuggerEnabled)()&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},ji.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),ji.Drawer.superClass_.drawTop_.call(this)},ji.Drawer.prototype.drawJaggedEdge_=function(e){this.highlighter_.drawJaggedEdge_(e),ji.Drawer.superClass_.drawJaggedEdge_.call(this,e)},ji.Drawer.prototype.drawValueInput_=function(e){this.highlighter_.drawValueInput(e),ji.Drawer.superClass_.drawValueInput_.call(this,e)},ji.Drawer.prototype.drawStatementInput_=function(e){this.highlighter_.drawStatementInput(e),ji.Drawer.superClass_.drawStatementInput_.call(this,e)},ji.Drawer.prototype.drawRightSideRow_=function(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=(0,Qt.lineOnAxis)("H",e.xPos+e.width)+(0,Qt.lineOnAxis)("V",e.yPos+e.height)},ji.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),ji.Drawer.superClass_.drawBottom_.call(this)},ji.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),ji.Drawer.superClass_.drawLeft_.call(this)},ji.Drawer.prototype.drawInlineInput_=function(e){this.highlighter_.drawInlineInput(e),ji.Drawer.superClass_.drawInlineInput_.call(this,e)},ji.Drawer.prototype.positionInlineInputConnection_=function(e){var t=e.centerline-e.height/2;if(e.connectionModel){var n=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},ji.Drawer.prototype.positionStatementInputConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.statementEdge+t.notchOffset;n=this.info_.RTL?-1*n:n+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(n,e.yPos+this.constants_.DARK_PATH_OFFSET)}},ji.Drawer.prototype.positionExternalValueConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}},ji.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-n:n)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}};var Xi={HighlightConstantProvider:function(e){this.constantProvider=e,this.OFFSET=.5,this.START_POINT=(0,Qt.moveBy)(this.OFFSET,this.OFFSET)}};Xi.HighlightConstantProvider.prototype.init=function(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},Xi.HighlightConstantProvider.prototype.makeInsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,n=(1-Math.SQRT1_2)*(e+t)-t,o=(0,Qt.moveBy)(n,n)+(0,Qt.arc)("a","0 0,0",e,(0,Qt.point)(-n-t,e-n)),i=(0,Qt.arc)("a","0 0,0",e+t,(0,Qt.point)(e+t,e+t)),r=(0,Qt.moveBy)(n,-n)+(0,Qt.arc)("a","0 0,0",e+t,(0,Qt.point)(e-n,n+t));return{width:e+t,height:e,pathTop:function(e){return e?o:""},pathBottom:function(e){return e?i:r}}},Xi.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,n=(1-Math.SQRT1_2)*(e-t)+t,o=(0,Qt.moveBy)(n,n)+(0,Qt.arc)("a","0 0,1",e-t,(0,Qt.point)(e-n,-n+t)),i=(0,Qt.moveBy)(t,e)+(0,Qt.arc)("a","0 0,1",e-t,(0,Qt.point)(e,-e+t)),r=-n,s=(0,Qt.moveBy)(n,r)+(0,Qt.arc)("a","0 0,1",e-t,(0,Qt.point)(-n+t,-r-e));return{height:e,topLeft:function(e){return e?o:i},bottomLeft:function(){return s}}},Xi.HighlightConstantProvider.prototype.makePuzzleTab=function(){var e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,n=(0,Qt.moveBy)(-2,3.4-t)+(0,Qt.lineTo)(-.45*e,-2.1),o=(0,Qt.lineOnAxis)("v",2.5)+(0,Qt.moveBy)(.97*-e,2.5)+(0,Qt.curve)("q",[(0,Qt.point)(.05*-e,10),(0,Qt.point)(.3*e,9.5)])+(0,Qt.moveBy)(.67*e,-1.9)+(0,Qt.lineOnAxis)("v",2.5),i=(0,Qt.lineOnAxis)("v",-1.5)+(0,Qt.moveBy)(-.92*e,-.5)+(0,Qt.curve)("q",[(0,Qt.point)(-.19*e,-5.5),(0,Qt.point)(0,-11)])+(0,Qt.moveBy)(.92*e,1),r=(0,Qt.moveBy)(-5,t-.7)+(0,Qt.lineTo)(.46*e,-2.1);return{width:e,height:t,pathUp:function(e){return e?n:i},pathDown:function(e){return e?o:r}}},Xi.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:(0,Qt.lineOnAxis)("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},Xi.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:(0,Qt.lineTo)(5.1,2.6)+(0,Qt.moveBy)(-10.2,6.8)+(0,Qt.lineTo)(5.1,2.6),height:12,width:10.2}},Xi.HighlightConstantProvider.prototype.makeStartHat=function(){var e=this.constantProvider.START_HAT.height,t=(0,Qt.moveBy)(25,-8.7)+(0,Qt.curve)("c",[(0,Qt.point)(29.7,-6.2),(0,Qt.point)(57.2,-.5),(0,Qt.point)(75,8.7)]),n=(0,Qt.curve)("c",[(0,Qt.point)(17.8,-9.2),(0,Qt.point)(45.3,-14.9),(0,Qt.point)(75,-8.7)])+(0,Qt.moveTo)(100.5,e+.5);return{path:function(e){return e?t:n}}};var Ki={InlineInput:function(e,t){Ki.InlineInput.superClass_.constructor.call(this,e,t),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}};(0,e.module$exports$Blockly$utils$object.inherits)(Ki.InlineInput,no.InlineInput);var Ji={RenderInfo:function(e,t){Ji.RenderInfo.superClass_.constructor.call(this,e,t)}};(0,e.module$exports$Blockly$utils$object.inherits)(Ji.RenderInfo,vo.RenderInfo),Ji.RenderInfo.prototype.getRenderer=function(){return this.renderer_},Ji.RenderInfo.prototype.populateBottomRow_=function(){Ji.RenderInfo.superClass_.populateBottomRow_.call(this),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type===e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)},Ji.RenderInfo.prototype.addInput_=function(t,n){this.isInline&&t.type===e.module$exports$Blockly$inputTypes.inputTypes.VALUE?(n.elements.push(new Ki.InlineInput(this.constants_,t)),n.hasInlineInput=!0):t.type===e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT?(n.elements.push(new Gi.StatementInput(this.constants_,t)),n.hasStatement=!0):t.type===e.module$exports$Blockly$inputTypes.inputTypes.VALUE?(n.elements.push(new qn.ExternalValueInput(this.constants_,t)),n.hasExternalInput=!0):t.type===e.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),this.isInline||null!==n.align||(n.align=t.align)},Ji.RenderInfo.prototype.addElemSpacing_=function(){for(var e,t=!1,n=0;e=this.rows[n];n++)e.hasExternalInput&&(t=!0);for(n=0;e=this.rows[n];n++){var o=e.elements;if(e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new to.InRowSpacer(this.constants_,this.getInRowSpacing_(null,o[0]))),o.length){for(var i=0;i<o.length-1;i++){e.elements.push(o[i]);var r=this.getInRowSpacing_(o[i],o[i+1]);e.elements.push(new to.InRowSpacer(this.constants_,r))}e.elements.push(o[o.length-1]),e.endsWithElemSpacer()&&(o=this.getInRowSpacing_(o[o.length-1],null),t&&e.hasDummyInput&&(o+=this.constants_.TAB_WIDTH),e.elements.push(new to.InRowSpacer(this.constants_,o)))}}},Ji.RenderInfo.prototype.getInRowSpacing_=function(e,t){if(!e)return t&&zt.Types.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&zt.Types.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&zt.Types.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!zt.Types.isInput(e)&&(!t||zt.Types.isStatementInput(t)))return zt.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:zt.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:zt.Types.isHat(e)?this.constants_.NO_PADDING:zt.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:zt.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:zt.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(zt.Types.isInput(e)&&!t){if(zt.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(zt.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(zt.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!zt.Types.isInput(e)&&t&&zt.Types.isInput(t)){if(zt.Types.isField(e)&&e.isEditable){if(zt.Types.isInlineInput(t)||zt.Types.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(zt.Types.isInlineInput(t)||zt.Types.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(zt.Types.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(zt.Types.isIcon(e)&&t&&!zt.Types.isInput(t))return this.constants_.LARGE_PADDING;if(zt.Types.isInlineInput(e)&&t&&zt.Types.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(zt.Types.isLeftSquareCorner(e)&&t){if(zt.Types.isHat(t))return this.constants_.NO_PADDING;if(zt.Types.isPreviousConnection(t))return t.notchOffset;if(zt.Types.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(zt.Types.isLeftRoundedCorner(e)&&t){if(zt.Types.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(zt.Types.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return zt.Types.isField(e)&&t&&zt.Types.isField(t)&&e.isEditable===t.isEditable||t&&zt.Types.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},Ji.RenderInfo.prototype.getSpacerRowHeight_=function(e,t){return zt.Types.isTopRow(e)&&zt.Types.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:zt.Types.isTopRow(e)||zt.Types.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},Ji.RenderInfo.prototype.getElemCenterline_=function(e,t){if(zt.Types.isSpacer(t))return e.yPos+t.height/2;if(zt.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,zt.Types.isNextConnection(t)?e+t.height/2:e-t.height/2;if(zt.Types.isTopRow(e))return zt.Types.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;var n=e.yPos;return zt.Types.isField(t)||zt.Types.isIcon(t)?(n+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(n+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):n=zt.Types.isInlineInput(t)?n+t.height/2:n+e.height/2,n},Ji.RenderInfo.prototype.alignRowElements_=function(){if(this.isInline){for(var e,t=0,n=null,o=this.rows.length-1;e=this.rows[o];o--)e.nextRightEdge=t,zt.Types.isInputRow(e)&&(e.hasStatement&&this.alignStatementRow_(e),n&&n.hasStatement&&e.width<n.width?e.nextRightEdge=n.width:t=e.width,n=e);for(t=o=0;n=this.rows[t];t++)n.hasStatement?o=this.getDesiredRowWidth_(n):zt.Types.isSpacer(n)?n.width=Math.max(o,n.nextRightEdge):(0<(o=Math.max(o,n.nextRightEdge)-n.width)&&this.addAlignmentPadding_(n,o),o=n.width)}else Ji.RenderInfo.superClass_.alignRowElements_.call(this)},Ji.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:Ji.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},Ji.RenderInfo.prototype.finalize_=function(){for(var e,t=0,n=0,o=0;e=this.rows[o];o++){e.yPos=n,e.xPos=this.startX,n+=e.height,t=Math.max(t,e.widthWithConnectedBlocks);var i=n-this.topRow.ascenderHeight;e===this.bottomRow&&i<this.constants_.MIN_BLOCK_HEIGHT&&(i=this.constants_.MIN_BLOCK_HEIGHT-i,this.bottomRow.height+=i,n+=i),this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(t=Math.max(t,this.block_.nextConnection.targetBlock().getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=t+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=n+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline};var qi={Renderer:function(e){qi.Renderer.superClass_.constructor.call(this,e),this.highlightConstants_=null}};(0,e.module$exports$Blockly$utils$object.inherits)(qi.Renderer,To.Renderer),qi.Renderer.prototype.init=function(e,t){qi.Renderer.superClass_.init.call(this,e,t),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()},qi.Renderer.prototype.refreshDom=function(e,t){qi.Renderer.superClass_.refreshDom.call(this,e,t),this.getHighlightConstants().init()},qi.Renderer.prototype.makeConstants_=function(){return new zi.ConstantProvider},qi.Renderer.prototype.makeRenderInfo_=function(e){return new Ji.RenderInfo(this,e)},qi.Renderer.prototype.makeDrawer_=function(e,t){return new ji.Drawer(e,t)},qi.Renderer.prototype.makePathObject=function(e,t){return new Wi.PathObject(e,t,this.getConstants())},qi.Renderer.prototype.makeHighlightConstants_=function(){return new Xi.HighlightConstantProvider(this.getConstants())},qi.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},(0,ko.register)("geras",qi.Renderer);var Zi={};Zi.ConstantProvider=zi.ConstantProvider,Zi.Drawer=ji.Drawer,Zi.HighlightConstantProvider=Xi.HighlightConstantProvider,Zi.Highlighter=Yi.Highlighter,Zi.InlineInput=Ki.InlineInput,Zi.PathObject=Wi.PathObject,Zi.RenderInfo=Ji.RenderInfo,Zi.Renderer=qi.Renderer,Zi.StatementInput=Gi.StatementInput;var Qi={};Qi.Zelos=new Ke.Theme("zelos",{colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},{colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}});var er={};er.Classic=Je.Classic,er.Zelos=Qi.Zelos;var tr={names:{ESCAPE:"escape",DELETE:"delete",COPY:"copy",CUT:"cut",PASTE:"paste",UNDO:"undo",REDO:"redo"},registerEscape:function(){var e={name:tr.names.ESCAPE,preconditionFn:function(e){return!e.options.readOnly},callback:function(e){return e.hideChaff(),!0}};tt.ShortcutRegistry.registry.register(e),tt.ShortcutRegistry.registry.addKeyMapping(et.ESC,e.name)},registerDelete:function(){var t={name:tr.names.DELETE,preconditionFn:function(t){var n=(0,e.module$exports$Blockly$common.getSelected)();return!t.options.readOnly&&n&&n.isDeletable()},callback:function(t,n){return n.preventDefault(),!Yn.Gesture.inProgress()&&((0,e.module$exports$Blockly$common.getSelected)().checkAndDelete(),!0)}};tt.ShortcutRegistry.registry.register(t),tt.ShortcutRegistry.registry.addKeyMapping(et.DELETE,t.name),tt.ShortcutRegistry.registry.addKeyMapping(et.BACKSPACE,t.name)},registerCopy:function(){var t={name:tr.names.COPY,preconditionFn:function(t){var n=(0,e.module$exports$Blockly$common.getSelected)();return!t.options.readOnly&&!Yn.Gesture.inProgress()&&n&&n.isDeletable()&&n.isMovable()},callback:function(t,n){return n.preventDefault(),t.hideChaff(),(0,ot.copy)((0,e.module$exports$Blockly$common.getSelected)()),!0}};tt.ShortcutRegistry.registry.register(t);var n=tt.ShortcutRegistry.registry.createSerializedKey(et.C,[et.CTRL]);tt.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=tt.ShortcutRegistry.registry.createSerializedKey(et.C,[et.ALT]),tt.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=tt.ShortcutRegistry.registry.createSerializedKey(et.C,[et.META]),tt.ShortcutRegistry.registry.addKeyMapping(n,t.name)},registerCut:function(){var t={name:tr.names.CUT,preconditionFn:function(t){var n=(0,e.module$exports$Blockly$common.getSelected)();return!t.options.readOnly&&!Yn.Gesture.inProgress()&&n&&n.isDeletable()&&n.isMovable()&&!n.workspace.isFlyout},callback:function(){var t=(0,e.module$exports$Blockly$common.getSelected)();return!!t&&((0,ot.copy)(t),t.checkAndDelete(),!0)}};tt.ShortcutRegistry.registry.register(t);var n=tt.ShortcutRegistry.registry.createSerializedKey(et.X,[et.CTRL]);tt.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=tt.ShortcutRegistry.registry.createSerializedKey(et.X,[et.ALT]),tt.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=tt.ShortcutRegistry.registry.createSerializedKey(et.X,[et.META]),tt.ShortcutRegistry.registry.addKeyMapping(n,t.name)},registerPaste:function(){var e={name:tr.names.PASTE,preconditionFn:function(e){return!e.options.readOnly&&!Yn.Gesture.inProgress()},callback:function(){return(0,ot.paste)()}};tt.ShortcutRegistry.registry.register(e);var t=tt.ShortcutRegistry.registry.createSerializedKey(et.V,[et.CTRL]);tt.ShortcutRegistry.registry.addKeyMapping(t,e.name),t=tt.ShortcutRegistry.registry.createSerializedKey(et.V,[et.ALT]),tt.ShortcutRegistry.registry.addKeyMapping(t,e.name),t=tt.ShortcutRegistry.registry.createSerializedKey(et.V,[et.META]),tt.ShortcutRegistry.registry.addKeyMapping(t,e.name)},registerUndo:function(){var e={name:tr.names.UNDO,preconditionFn:function(e){return!e.options.readOnly&&!Yn.Gesture.inProgress()},callback:function(e){return e.hideChaff(),e.undo(!1),!0}};tt.ShortcutRegistry.registry.register(e);var t=tt.ShortcutRegistry.registry.createSerializedKey(et.Z,[et.CTRL]);tt.ShortcutRegistry.registry.addKeyMapping(t,e.name),t=tt.ShortcutRegistry.registry.createSerializedKey(et.Z,[et.ALT]),tt.ShortcutRegistry.registry.addKeyMapping(t,e.name),t=tt.ShortcutRegistry.registry.createSerializedKey(et.Z,[et.META]),tt.ShortcutRegistry.registry.addKeyMapping(t,e.name)},registerRedo:function(){var e={name:tr.names.REDO,preconditionFn:function(e){return!Yn.Gesture.inProgress()&&!e.options.readOnly},callback:function(e){return e.hideChaff(),e.undo(!0),!0}};tt.ShortcutRegistry.registry.register(e);var t=tt.ShortcutRegistry.registry.createSerializedKey(et.Z,[et.SHIFT,et.CTRL]);tt.ShortcutRegistry.registry.addKeyMapping(t,e.name),t=tt.ShortcutRegistry.registry.createSerializedKey(et.Z,[et.SHIFT,et.ALT]),tt.ShortcutRegistry.registry.addKeyMapping(t,e.name),t=tt.ShortcutRegistry.registry.createSerializedKey(et.Z,[et.SHIFT,et.META]),tt.ShortcutRegistry.registry.addKeyMapping(t,e.name),t=tt.ShortcutRegistry.registry.createSerializedKey(et.Y,[et.CTRL]),tt.ShortcutRegistry.registry.addKeyMapping(t,e.name)},registerDefaultShortcuts:function(){(0,tr.registerEscape)(),(0,tr.registerDelete)(),(0,tr.registerCopy)(),(0,tr.registerCut)(),(0,tr.registerPaste)(),(0,tr.registerUndo)(),(0,tr.registerRedo)()}};(0,tr.registerDefaultShortcuts)();var nr={FinishedLoading:function(e){this.isBlank="undefined"===typeof e,this.workspaceId=e?e.id:"",this.group=(0,oe.getGroup)(),this.recordUndo=!1}};(0,e.module$exports$Blockly$utils$object.inherits)(nr.FinishedLoading,Nt),nr.FinishedLoading.prototype.type=oe.FINISHED_LOADING,nr.FinishedLoading.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),this.workspaceId&&(e.workspaceId=this.workspaceId),e},nr.FinishedLoading.prototype.fromJson=function(e){this.isBlank=!1,this.workspaceId=e.workspaceId,this.group=e.group},(0,Z.register)(Z.Type.EVENT,oe.FINISHED_LOADING,nr.FinishedLoading);var or={Ui:function(e,t,n,o){or.Ui.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.element="undefined"===typeof t?"":t,this.oldValue="undefined"===typeof n?"":n,this.newValue="undefined"===typeof o?"":o}};(0,e.module$exports$Blockly$utils$object.inherits)(or.Ui,Hn.UiBase),or.Ui.prototype.type=oe.UI,or.Ui.prototype.toJson=function(){var e=or.Ui.superClass_.toJson.call(this);return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),this.blockId&&(e.blockId=this.blockId),e},or.Ui.prototype.fromJson=function(e){or.Ui.superClass_.fromJson.call(this,e),this.element=e.element,this.newValue=e.newValue,this.blockId=e.blockId},(0,Z.register)(Z.Type.EVENT,oe.UI,or.Ui);var ir={BubbleOpen:function(e,t,n){ir.BubbleOpen.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.isOpen=t,this.bubbleType=n}};(0,e.module$exports$Blockly$utils$object.inherits)(ir.BubbleOpen,Hn.UiBase),ir.BubbleOpen.prototype.type=oe.BUBBLE_OPEN,ir.BubbleOpen.prototype.toJson=function(){var e=ir.BubbleOpen.superClass_.toJson.call(this);return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId,e},ir.BubbleOpen.prototype.fromJson=function(e){ir.BubbleOpen.superClass_.fromJson.call(this,e),this.isOpen=e.isOpen,this.bubbleType=e.bubbleType,this.blockId=e.blockId},(0,Z.register)(Z.Type.EVENT,oe.BUBBLE_OPEN,ir.BubbleOpen);var rr={CommentChange:function(e,t,n){rr.CommentChange.superClass_.constructor.call(this,e),e&&(this.oldContents_="undefined"===typeof t?"":t,this.newContents_="undefined"===typeof n?"":n)}};(0,e.module$exports$Blockly$utils$object.inherits)(rr.CommentChange,Pn.CommentBase),rr.CommentChange.prototype.type=oe.COMMENT_CHANGE,rr.CommentChange.prototype.toJson=function(){var e=rr.CommentChange.superClass_.toJson.call(this);return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e},rr.CommentChange.prototype.fromJson=function(e){rr.CommentChange.superClass_.fromJson.call(this,e),this.oldContents_=e.oldContents,this.newContents_=e.newContents},rr.CommentChange.prototype.isNull=function(){return this.oldContents_===this.newContents_},rr.CommentChange.prototype.run=function(e){var t=this.getEventWorkspace_().getCommentById(this.commentId);t?t.setContent(e?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},(0,Z.register)(Z.Type.EVENT,oe.COMMENT_CHANGE,rr.CommentChange);var sr={CommentCreate:function(e){sr.CommentCreate.superClass_.constructor.call(this,e),e&&(this.xml=e.toXmlWithXY())}};(0,e.module$exports$Blockly$utils$object.inherits)(sr.CommentCreate,Pn.CommentBase),sr.CommentCreate.prototype.type=oe.COMMENT_CREATE,sr.CommentCreate.prototype.toJson=function(){var t=sr.CommentCreate.superClass_.toJson.call(this);return t.xml=(0,e.module$exports$Blockly$Xml.domToText)(this.xml),t},sr.CommentCreate.prototype.fromJson=function(t){sr.CommentCreate.superClass_.fromJson.call(this,t),this.xml=(0,e.module$exports$Blockly$Xml.textToDom)(t.xml)},sr.CommentCreate.prototype.run=function(e){Pn.CommentBase.CommentCreateDeleteHelper(this,e)},(0,Z.register)(Z.Type.EVENT,oe.COMMENT_CREATE,sr.CommentCreate);var lr={CommentDelete:function(e){lr.CommentDelete.superClass_.constructor.call(this,e),e&&(this.xml=e.toXmlWithXY())}};(0,e.module$exports$Blockly$utils$object.inherits)(lr.CommentDelete,Pn.CommentBase),lr.CommentDelete.prototype.type=oe.COMMENT_DELETE,lr.CommentDelete.prototype.toJson=function(){return lr.CommentDelete.superClass_.toJson.call(this)},lr.CommentDelete.prototype.fromJson=function(e){lr.CommentDelete.superClass_.fromJson.call(this,e)},lr.CommentDelete.prototype.run=function(e){Pn.CommentBase.CommentCreateDeleteHelper(this,!e)},(0,Z.register)(Z.Type.EVENT,oe.COMMENT_DELETE,lr.CommentDelete);var ar={TrashcanOpen:function(e,t){ar.TrashcanOpen.superClass_.constructor.call(this,t),this.isOpen=e}};(0,e.module$exports$Blockly$utils$object.inherits)(ar.TrashcanOpen,Hn.UiBase),ar.TrashcanOpen.prototype.type=oe.TRASHCAN_OPEN,ar.TrashcanOpen.prototype.toJson=function(){var e=ar.TrashcanOpen.superClass_.toJson.call(this);return e.isOpen=this.isOpen,e},ar.TrashcanOpen.prototype.fromJson=function(e){ar.TrashcanOpen.superClass_.fromJson.call(this,e),this.isOpen=e.isOpen},(0,Z.register)(Z.Type.EVENT,oe.TRASHCAN_OPEN,ar.TrashcanOpen),e.module$exports$Blockly$Events={Abstract:Nt},e.module$exports$Blockly$Events.BubbleOpen=ir.BubbleOpen,e.module$exports$Blockly$Events.BlockBase=Dt.BlockBase,e.module$exports$Blockly$Events.BlockChange=sn.BlockChange,e.module$exports$Blockly$Events.BlockCreate=Pt.BlockCreate,e.module$exports$Blockly$Events.BlockDelete=Ao.BlockDelete,e.module$exports$Blockly$Events.BlockDrag=Vn.BlockDrag,e.module$exports$Blockly$Events.BlockMove=Rn.BlockMove,e.module$exports$Blockly$Events.Click=zn.Click,e.module$exports$Blockly$Events.CommentBase=Pn.CommentBase,e.module$exports$Blockly$Events.CommentChange=rr.CommentChange,e.module$exports$Blockly$Events.CommentCreate=sr.CommentCreate,e.module$exports$Blockly$Events.CommentDelete=lr.CommentDelete,e.module$exports$Blockly$Events.CommentMove=Ln.CommentMove,e.module$exports$Blockly$Events.FinishedLoading=nr.FinishedLoading,e.module$exports$Blockly$Events.MarkerMove=lo.MarkerMove,e.module$exports$Blockly$Events.Selected=$o.Selected,e.module$exports$Blockly$Events.ThemeChange=zo.ThemeChange,e.module$exports$Blockly$Events.ToolboxItemSelect=hi.ToolboxItemSelect,e.module$exports$Blockly$Events.TrashcanOpen=ar.TrashcanOpen,e.module$exports$Blockly$Events.Ui=or.Ui,e.module$exports$Blockly$Events.UiBase=Hn.UiBase,e.module$exports$Blockly$Events.VarBase=yn.VarBase,e.module$exports$Blockly$Events.VarCreate=vn.VarCreate,e.module$exports$Blockly$Events.VarDelete=Cn.VarDelete,e.module$exports$Blockly$Events.VarRename=Sn.VarRename,e.module$exports$Blockly$Events.ViewportChange=Yo.ViewportChange,e.module$exports$Blockly$Events.BLOCK_CHANGE=oe.CHANGE,e.module$exports$Blockly$Events.BLOCK_CREATE=oe.CREATE,e.module$exports$Blockly$Events.BLOCK_DELETE=oe.DELETE,e.module$exports$Blockly$Events.BLOCK_DRAG=oe.BLOCK_DRAG,e.module$exports$Blockly$Events.BLOCK_MOVE=oe.MOVE,e.module$exports$Blockly$Events.BUBBLE_OPEN=oe.BUBBLE_OPEN,e.module$exports$Blockly$Events.BumpEvent=oe.BumpEvent,e.module$exports$Blockly$Events.BUMP_EVENTS=oe.BUMP_EVENTS,e.module$exports$Blockly$Events.CHANGE=oe.CHANGE,e.module$exports$Blockly$Events.CLICK=oe.CLICK,e.module$exports$Blockly$Events.COMMENT_CHANGE=oe.COMMENT_CHANGE,e.module$exports$Blockly$Events.COMMENT_CREATE=oe.COMMENT_CREATE,e.module$exports$Blockly$Events.COMMENT_DELETE=oe.COMMENT_DELETE,e.module$exports$Blockly$Events.COMMENT_MOVE=oe.COMMENT_MOVE,e.module$exports$Blockly$Events.CREATE=oe.CREATE,e.module$exports$Blockly$Events.DELETE=oe.DELETE,e.module$exports$Blockly$Events.FINISHED_LOADING=oe.FINISHED_LOADING,e.module$exports$Blockly$Events.MARKER_MOVE=oe.MARKER_MOVE,e.module$exports$Blockly$Events.MOVE=oe.MOVE,e.module$exports$Blockly$Events.SELECTED=oe.SELECTED,e.module$exports$Blockly$Events.THEME_CHANGE=oe.THEME_CHANGE,e.module$exports$Blockly$Events.TOOLBOX_ITEM_SELECT=oe.TOOLBOX_ITEM_SELECT,e.module$exports$Blockly$Events.TRASHCAN_OPEN=oe.TRASHCAN_OPEN,e.module$exports$Blockly$Events.UI=oe.UI,e.module$exports$Blockly$Events.VAR_CREATE=oe.VAR_CREATE,e.module$exports$Blockly$Events.VAR_DELETE=oe.VAR_DELETE,e.module$exports$Blockly$Events.VAR_RENAME=oe.VAR_RENAME,e.module$exports$Blockly$Events.VIEWPORT_CHANGE=oe.VIEWPORT_CHANGE,e.module$exports$Blockly$Events.clearPendingUndo=oe.clearPendingUndo,e.module$exports$Blockly$Events.disable=oe.disable,e.module$exports$Blockly$Events.enable=oe.enable,e.module$exports$Blockly$Events.filter=oe.filter,e.module$exports$Blockly$Events.fire=oe.fire,e.module$exports$Blockly$Events.fromJson=oe.fromJson,e.module$exports$Blockly$Events.getDescendantIds=oe.getDescendantIds,e.module$exports$Blockly$Events.get=oe.get,e.module$exports$Blockly$Events.getGroup=oe.getGroup,e.module$exports$Blockly$Events.getRecordUndo=oe.getRecordUndo,e.module$exports$Blockly$Events.isEnabled=oe.isEnabled,e.module$exports$Blockly$Events.setGroup=oe.setGroup,e.module$exports$Blockly$Events.setRecordUndo=oe.setRecordUndo,e.module$exports$Blockly$Events.disableOrphans=oe.disableOrphans,Object.defineProperties(e.module$exports$Blockly$Events,{recordUndo:{get:function(){return(0,a.warn)("Blockly.Events.recordUndo","September 2021","September 2022","Blockly.Events.getRecordUndo()"),(0,oe.getRecordUndo)()},set:function(e){(0,a.warn)("Blockly.Events.recordUndo","September 2021","September 2022","Blockly.Events.setRecordUndo()"),(0,oe.setRecordUndo)(e)}}});var cr={registerUndo:function(){No.ContextMenuRegistry.registry.register({displayText:function(){return e.module$exports$Blockly$Msg.Msg.UNDO},preconditionFn:function(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!1)},scopeType:No.ContextMenuRegistry.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},registerRedo:function(){No.ContextMenuRegistry.registry.register({displayText:function(){return e.module$exports$Blockly$Msg.Msg.REDO},preconditionFn:function(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!0)},scopeType:No.ContextMenuRegistry.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},registerCleanup:function(){No.ContextMenuRegistry.registry.register({displayText:function(){return e.module$exports$Blockly$Msg.Msg.CLEAN_UP},preconditionFn:function(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback:function(e){e.workspace.cleanUp()},scopeType:No.ContextMenuRegistry.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})}},ur=function(t,n){var o=0,i=0,r=function(n){i--,n.setCollapsed(t),0===i&&(0,e.module$exports$Blockly$Events.setGroup)(!1)};(0,e.module$exports$Blockly$Events.setGroup)(!0);for(var s=0;s<n.length;s++)for(var l=n[s];l;)i++,setTimeout(r.bind(null,l),o),l=l.getNextBlock(),o+=10};cr.registerCollapse=function(){No.ContextMenuRegistry.registry.register({displayText:function(){return e.module$exports$Blockly$Msg.Msg.COLLAPSE_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var t=0;t<e.length;t++)for(var n=e[t];n;){if(!n.isCollapsed())return"enabled";n=n.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){ur(!0,e.workspace.getTopBlocks(!0))},scopeType:No.ContextMenuRegistry.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},cr.registerExpand=function(){No.ContextMenuRegistry.registry.register({displayText:function(){return e.module$exports$Blockly$Msg.Msg.EXPAND_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var t=0;t<e.length;t++)for(var n=e[t];n;){if(n.isCollapsed())return"enabled";n=n.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){ur(!1,e.workspace.getTopBlocks(!0))},scopeType:No.ContextMenuRegistry.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})};var pr=function e(t,n){if(t.isDeletable())Array.prototype.push.apply(n,t.getDescendants(!1));else{t=t.getChildren(!1);for(var o=0;o<t.length;o++)e(t[o],n)}},hr=function(e){var t=[];e=e.getTopBlocks(!0);for(var n=0;n<e.length;n++)pr(e[n],t);return t},dr=function e(t,n){(0,oe.setGroup)(n);var o=t.shift();o&&(o.workspace?(o.dispose(!1,!0),setTimeout(e,10,t,n)):e(t,n)),(0,oe.setGroup)(!1)};cr.registerDeleteAll=function(){No.ContextMenuRegistry.registry.register({displayText:function(t){if(t.workspace)return 1===(t=hr(t.workspace).length)?e.module$exports$Blockly$Msg.Msg.DELETE_BLOCK:e.module$exports$Blockly$Msg.Msg.DELETE_X_BLOCKS.replace("%1",String(t))},preconditionFn:function(e){if(e.workspace)return 0<hr(e.workspace).length?"enabled":"disabled"},callback:function(t){if(t.workspace){t.workspace.cancelCurrentGesture();var n=hr(t.workspace),o=(0,K.genUid)();2>n.length?dr(n,o):(0,fn.confirm)(e.module$exports$Blockly$Msg.Msg.DELETE_ALL_BLOCKS.replace("%1",String(n.length)),(function(e){e&&dr(n,o)}))}},scopeType:No.ContextMenuRegistry.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},cr.registerDuplicate=function(){No.ContextMenuRegistry.registry.register({displayText:function(){return e.module$exports$Blockly$Msg.Msg.DUPLICATE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback:function(e){e.block&&(0,ot.duplicate)(e.block)},scopeType:No.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},cr.registerComment=function(){No.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.getCommentIcon()?e.module$exports$Blockly$Msg.Msg.REMOVE_COMMENT:e.module$exports$Blockly$Msg.Msg.ADD_COMMENT},preconditionFn:function(e){return e=e.block,f.IE||e.isInFlyout||!e.workspace.options.comments||e.isCollapsed()||!e.isEditable()?"hidden":"enabled"},callback:function(e){(e=e.block).getCommentIcon()?e.setCommentText(null):e.setCommentText("")},scopeType:No.ContextMenuRegistry.ScopeType.BLOCK,id:"blockComment",weight:2})},cr.registerInline=function(){No.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.getInputsInline()?e.module$exports$Blockly$Msg.Msg.EXTERNAL_INPUTS:e.module$exports$Blockly$Msg.Msg.INLINE_INPUTS},preconditionFn:function(t){if(!(t=t.block).isInFlyout&&t.isMovable()&&!t.isCollapsed())for(var n=1;n<t.inputList.length;n++)if(t.inputList[n-1].type!==e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&t.inputList[n].type!==e.module$exports$Blockly$inputTypes.inputTypes.STATEMENT)return"enabled";return"hidden"},callback:function(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:No.ContextMenuRegistry.ScopeType.BLOCK,id:"blockInline",weight:3})},cr.registerCollapseExpandBlock=function(){No.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.isCollapsed()?e.module$exports$Blockly$Msg.Msg.EXPAND_BLOCK:e.module$exports$Blockly$Msg.Msg.COLLAPSE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback:function(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:No.ContextMenuRegistry.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},cr.registerDisable=function(){No.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.isEnabled()?e.module$exports$Blockly$Msg.Msg.DISABLE_BLOCK:e.module$exports$Blockly$Msg.Msg.ENABLE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback:function(e){e=e.block;var t=(0,oe.getGroup)();t||(0,oe.setGroup)(!0),e.setEnabled(!e.isEnabled()),t||(0,oe.setGroup)(!1)},scopeType:No.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDisable",weight:5})},cr.registerDelete=function(){No.ContextMenuRegistry.registry.register({displayText:function(t){var n=t.block;return t=n.getDescendants(!1).length,(n=n.getNextBlock())&&(t-=n.getDescendants(!1).length),1===t?e.module$exports$Blockly$Msg.Msg.DELETE_BLOCK:e.module$exports$Blockly$Msg.Msg.DELETE_X_BLOCKS.replace("%1",String(t))},preconditionFn:function(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback:function(e){e.block&&e.block.checkAndDelete()},scopeType:No.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDelete",weight:6})},cr.registerHelp=function(){No.ContextMenuRegistry.registry.register({displayText:function(){return e.module$exports$Blockly$Msg.Msg.HELP},preconditionFn:function(e){return("function"===typeof(e=e.block).helpUrl?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback:function(e){e.block.showHelp()},scopeType:No.ContextMenuRegistry.ScopeType.BLOCK,id:"blockHelp",weight:7})},cr.registerDefaultOptions=function(){(0,cr.registerUndo)(),(0,cr.registerRedo)(),(0,cr.registerCleanup)(),(0,cr.registerCollapse)(),(0,cr.registerExpand)(),(0,cr.registerDeleteAll)(),(0,cr.registerDuplicate)(),(0,cr.registerComment)(),(0,cr.registerInline)(),(0,cr.registerCollapseExpandBlock)(),(0,cr.registerDisable)(),(0,cr.registerDelete)(),(0,cr.registerHelp)()},(0,cr.registerDefaultOptions)();var fr={Icon:function(e){this.block_=e,this.iconGroup_=null}};fr.Icon.prototype.collapseHidden=!0,fr.Icon.prototype.SIZE=17,fr.Icon.prototype.bubble_=null,fr.Icon.prototype.iconXY_=null,fr.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=(0,M.createSvgElement)(Ee.Svg.G,{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&(0,M.addClass)(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),(0,_.conditionalBind)(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},fr.Icon.prototype.dispose=function(){(0,M.removeNode)(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},fr.Icon.prototype.updateEditable=function(){},fr.Icon.prototype.isVisible=function(){return!!this.bubble_},fr.Icon.prototype.iconClick_=function(e){this.block_.workspace.isDragging()||this.block_.isInFlyout||(0,_.isRightButton)(e)||this.setVisible(!this.isVisible())},fr.Icon.prototype.applyColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.style.colourPrimary)},fr.Icon.prototype.setIconLocation=function(e){this.iconXY_=e,this.isVisible()&&this.bubble_.setAnchorLocation(e)},fr.Icon.prototype.computeIconLocation=function(){var e=this.block_.getRelativeToSurfaceXY(),t=(0,ye.getRelativeXY)(this.iconGroup_);e=new he.Coordinate(e.x+t.x+this.SIZE/2,e.y+t.y+this.SIZE/2),he.Coordinate.equals(this.getIconLocation(),e)||this.setIconLocation(e)},fr.Icon.prototype.getIconLocation=function(){return this.iconXY_},fr.Icon.prototype.getCorrectedSize=function(){return new de.Size(fr.Icon.prototype.SIZE,fr.Icon.prototype.SIZE-2)};var gr={Warning:function(e){gr.Warning.superClass_.constructor.call(this,e),this.createIcon(),this.text_=Object.create(null)}};(0,e.module$exports$Blockly$utils$object.inherits)(gr.Warning,fr.Icon),gr.Warning.prototype.collapseHidden=!1,gr.Warning.prototype.drawIcon_=function(e){(0,M.createSvgElement)(Ee.Svg.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),(0,M.createSvgElement)(Ee.Svg.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),(0,M.createSvgElement)(Ee.Svg.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)},gr.Warning.prototype.setVisible=function(e){e!==this.isVisible()&&((0,oe.fire)(new((0,oe.get)(oe.BUBBLE_OPEN))(this.block_,e,"warning")),e?this.createBubble_():this.disposeBubble_())},gr.Warning.prototype.createBubble_=function(){this.paragraphElement_=Mn.Bubble.textToDom(this.getText()),this.bubble_=Mn.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},gr.Warning.prototype.disposeBubble_=function(){this.bubble_.dispose(),this.paragraphElement_=this.bubble_=null},gr.Warning.prototype.setText=function(e,t){this.text_[t]!==e&&(e?this.text_[t]=e:delete this.text_[t],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},gr.Warning.prototype.getText=function(){var e,t=[];for(e in this.text_)t.push(this.text_[e]);return t.join("\n")},gr.Warning.prototype.dispose=function(){this.block_.warning=null,fr.Icon.prototype.dispose.call(this)};var _r={Comment:function(e){_r.Comment.superClass_.constructor.call(this,e),this.model_=e.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.onInputWrapper_=this.onChangeWrapper_=this.onWheelWrapper_=this.onMouseUpWrapper_=null,this.createIcon()}};(0,e.module$exports$Blockly$utils$object.inherits)(_r.Comment,fr.Icon),_r.Comment.prototype.drawIcon_=function(e){(0,M.createSvgElement)(Ee.Svg.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),(0,M.createSvgElement)(Ee.Svg.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),(0,M.createSvgElement)(Ee.Svg.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)},_r.Comment.prototype.createEditor_=function(){this.foreignObject_=(0,M.createSvgElement)(Ee.Svg.FOREIGNOBJECT,{x:Mn.Bubble.BORDER_WIDTH,y:Mn.Bubble.BORDER_WIDTH},null);var e=document.createElementNS(M.HTML_NS,"body");e.setAttribute("xmlns",M.HTML_NS),e.className="blocklyMinimalBody";var t=this.textarea_=document.createElementNS(M.HTML_NS,"textarea");return t.className="blocklyCommentTextarea",t.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),t.value=this.model_.text,this.resizeTextarea_(),e.appendChild(t),this.foreignObject_.appendChild(e),this.onMouseUpWrapper_=(0,_.conditionalBind)(t,"mouseup",this,this.startEdit_,!0,!0),this.onWheelWrapper_=(0,_.conditionalBind)(t,"wheel",this,(function(e){e.stopPropagation()})),this.onChangeWrapper_=(0,_.conditionalBind)(t,"change",this,(function(e){this.cachedText_!==this.model_.text&&(0,oe.fire)(new((0,oe.get)(oe.CHANGE))(this.block_,"comment",null,this.cachedText_,this.model_.text))})),this.onInputWrapper_=(0,_.conditionalBind)(t,"input",this,(function(e){this.model_.text=t.value})),setTimeout(t.focus.bind(t),0),this.foreignObject_},_r.Comment.prototype.updateEditable=function(){_r.Comment.superClass_.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},_r.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},_r.Comment.prototype.resizeTextarea_=function(){var e=this.model_.size,t=2*Mn.Bubble.BORDER_WIDTH,n=e.width-t;e=e.height-t,this.foreignObject_.setAttribute("width",n),this.foreignObject_.setAttribute("height",e),this.textarea_.style.width=n-4+"px",this.textarea_.style.height=e-4+"px"},_r.Comment.prototype.setVisible=function(e){e!==this.isVisible()&&((0,oe.fire)(new((0,oe.get)(oe.BUBBLE_OPEN))(this.block_,e,"comment")),(this.model_.pinned=e)?this.createBubble_():this.disposeBubble_())},_r.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||f.IE?this.createNonEditableBubble_():this.createEditableBubble_()},_r.Comment.prototype.createEditableBubble_=function(){this.bubble_=new Mn.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.applyColour()},_r.Comment.prototype.createNonEditableBubble_=function(){this.paragraphElement_=Mn.Bubble.textToDom(this.block_.getCommentText()),this.bubble_=Mn.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},_r.Comment.prototype.disposeBubble_=function(){this.onMouseUpWrapper_&&((0,_.unbind)(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onWheelWrapper_&&((0,_.unbind)(this.onWheelWrapper_),this.onWheelWrapper_=null),this.onChangeWrapper_&&((0,_.unbind)(this.onChangeWrapper_),this.onChangeWrapper_=null),this.onInputWrapper_&&((0,_.unbind)(this.onInputWrapper_),this.onInputWrapper_=null),this.bubble_.dispose(),this.paragraphElement_=this.foreignObject_=this.textarea_=this.bubble_=null},_r.Comment.prototype.startEdit_=function(e){this.bubble_.promote()&&this.textarea_.focus(),this.cachedText_=this.model_.text},_r.Comment.prototype.getBubbleSize=function(){return this.model_.size},_r.Comment.prototype.setBubbleSize=function(e,t){this.bubble_?this.bubble_.setBubbleSize(e,t):(this.model_.size.width=e,this.model_.size.height=t)},_r.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},_r.Comment.prototype.dispose=function(){this.block_.comment=null,fr.Icon.prototype.dispose.call(this)},(0,c.register)("\n  .blocklyCommentTextarea {\n    background-color: #fef49c;\n    border: 0;\n    display: block;\n    margin: 0;\n    outline: 0;\n    padding: 3px;\n    resize: none;\n    text-overflow: hidden;\n  }\n");var mr={verticalPosition:{TOP:0,BOTTOM:1},horizontalPosition:{LEFT:0,RIGHT:1},bumpDirection:{UP:0,DOWN:1},getStartPositionRect:function(e,t,n,o,i,r){var s=r.scrollbar&&r.scrollbar.canScrollVertically();return e.horizontal===mr.horizontalPosition.LEFT?(n=i.absoluteMetrics.left+n,s&&r.RTL&&(n+=Ze.Scrollbar.scrollbarThickness)):(n=i.absoluteMetrics.left+i.viewMetrics.width-t.width-n,s&&!r.RTL&&(n-=Ze.Scrollbar.scrollbarThickness)),e.vertical===mr.verticalPosition.TOP?e=i.absoluteMetrics.top+o:(e=i.absoluteMetrics.top+i.viewMetrics.height-t.height-o,r.scrollbar&&r.scrollbar.canScrollHorizontally()&&(e-=Ze.Scrollbar.scrollbarThickness)),new me.Rect(e,e+t.height,n,n+t.width)},getCornerOppositeToolbox:function(e,t){return{horizontal:t.toolboxMetrics.position===Ve.Position.LEFT||e.horizontalLayout&&!e.RTL?mr.horizontalPosition.RIGHT:mr.horizontalPosition.LEFT,vertical:t.toolboxMetrics.position===Ve.Position.BOTTOM?mr.verticalPosition.TOP:mr.verticalPosition.BOTTOM}},bumpPositionRect:function(e,t,n,o){for(var i=e.left,r=e.right-e.left,s=e.bottom-e.top,l=0;l<o.length;l++){var a=o[l];e.intersects(a)&&(e=n===mr.bumpDirection.UP?a.top-s-t:a.bottom+t,e=new me.Rect(e,e+s,i,i+r),l=-1)}return e}},yr={ZoomControls:function(e){this.workspace_=e,this.id="zoomControls",this.zoomResetGroup_=this.zoomOutGroup_=this.zoomInGroup_=this.onZoomOutWrapper_=this.onZoomInWrapper_=this.onZoomResetWrapper_=null}};yr.ZoomControls.prototype.WIDTH_=32,yr.ZoomControls.prototype.HEIGHT_=32,yr.ZoomControls.prototype.SMALL_SPACING_=2,yr.ZoomControls.prototype.LARGE_SPACING_=11,yr.ZoomControls.prototype.MARGIN_VERTICAL_=20,yr.ZoomControls.prototype.MARGIN_HORIZONTAL_=20,yr.ZoomControls.prototype.svgGroup_=null,yr.ZoomControls.prototype.left_=0,yr.ZoomControls.prototype.top_=0,yr.ZoomControls.prototype.initialized_=!1,yr.ZoomControls.prototype.createDom=function(){this.svgGroup_=(0,M.createSvgElement)(Ee.Svg.G,{},null);var e=String(Math.random()).substring(2);return this.createZoomOutSvg_(e),this.createZoomInSvg_(e),this.workspace_.isMovable()&&this.createZoomResetSvg_(e),this.svgGroup_},yr.ZoomControls.prototype.init=function(){this.workspace_.getComponentManager().addComponent({component:this,weight:2,capabilities:[dn.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0},yr.ZoomControls.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("zoomControls"),this.svgGroup_&&(0,M.removeNode)(this.svgGroup_),this.onZoomResetWrapper_&&(0,_.unbind)(this.onZoomResetWrapper_),this.onZoomInWrapper_&&(0,_.unbind)(this.onZoomInWrapper_),this.onZoomOutWrapper_&&(0,_.unbind)(this.onZoomOutWrapper_)},yr.ZoomControls.prototype.getBoundingRectangle=function(){var e=this.SMALL_SPACING_+2*this.HEIGHT_;return this.zoomResetGroup_&&(e+=this.LARGE_SPACING_+this.HEIGHT_),new me.Rect(this.top_,this.top_+e,this.left_,this.left_+this.WIDTH_)},yr.ZoomControls.prototype.position=function(e,t){if(this.initialized_){var n=(0,mr.getCornerOppositeToolbox)(this.workspace_,e),o=this.SMALL_SPACING_+2*this.HEIGHT_;this.zoomResetGroup_&&(o+=this.LARGE_SPACING_+this.HEIGHT_),e=(0,mr.getStartPositionRect)(n,new de.Size(this.WIDTH_,o),this.MARGIN_HORIZONTAL_,this.MARGIN_VERTICAL_,e,this.workspace_),n=n.vertical,t=(0,mr.bumpPositionRect)(e,this.MARGIN_VERTICAL_,n===mr.verticalPosition.TOP?mr.bumpDirection.DOWN:mr.bumpDirection.UP,t),n===mr.verticalPosition.TOP?(n=this.SMALL_SPACING_+this.HEIGHT_,this.zoomInGroup_.setAttribute("transform","translate(0, "+n+")"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, "+(n+this.LARGE_SPACING_+this.HEIGHT_)+")")):(n=this.zoomResetGroup_?this.LARGE_SPACING_+this.HEIGHT_:0,this.zoomInGroup_.setAttribute("transform","translate(0, "+n+")"),this.zoomOutGroup_.setAttribute("transform","translate(0, "+(n+this.SMALL_SPACING_+this.HEIGHT_)+")")),this.top_=t.top,this.left_=t.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},yr.ZoomControls.prototype.createZoomOutSvg_=function(t){this.zoomOutGroup_=(0,M.createSvgElement)(Ee.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=(0,M.createSvgElement)(Ee.Svg.CLIPPATH,{id:"blocklyZoomoutClipPath"+t},this.zoomOutGroup_);(0,M.createSvgElement)(Ee.Svg.RECT,{width:32,height:32},n),(0,M.createSvgElement)(Ee.Svg.IMAGE,{width:e.module$exports$Blockly$internalConstants.SPRITE.width,height:e.module$exports$Blockly$internalConstants.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+t+")"},this.zoomOutGroup_).setAttributeNS(M.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.module$exports$Blockly$internalConstants.SPRITE.url),this.onZoomOutWrapper_=(0,_.conditionalBind)(this.zoomOutGroup_,"mousedown",null,this.zoom_.bind(this,-1))},yr.ZoomControls.prototype.createZoomInSvg_=function(t){this.zoomInGroup_=(0,M.createSvgElement)(Ee.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=(0,M.createSvgElement)(Ee.Svg.CLIPPATH,{id:"blocklyZoominClipPath"+t},this.zoomInGroup_);(0,M.createSvgElement)(Ee.Svg.RECT,{width:32,height:32},n),(0,M.createSvgElement)(Ee.Svg.IMAGE,{width:e.module$exports$Blockly$internalConstants.SPRITE.width,height:e.module$exports$Blockly$internalConstants.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+t+")"},this.zoomInGroup_).setAttributeNS(M.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.module$exports$Blockly$internalConstants.SPRITE.url),this.onZoomInWrapper_=(0,_.conditionalBind)(this.zoomInGroup_,"mousedown",null,this.zoom_.bind(this,1))},yr.ZoomControls.prototype.zoom_=function(e,t){this.workspace_.markFocused(),this.workspace_.zoomCenter(e),this.fireZoomEvent_(),(0,p.clearTouchIdentifier)(),t.stopPropagation(),t.preventDefault()},yr.ZoomControls.prototype.createZoomResetSvg_=function(t){this.zoomResetGroup_=(0,M.createSvgElement)(Ee.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=(0,M.createSvgElement)(Ee.Svg.CLIPPATH,{id:"blocklyZoomresetClipPath"+t},this.zoomResetGroup_);(0,M.createSvgElement)(Ee.Svg.RECT,{width:32,height:32},n),(0,M.createSvgElement)(Ee.Svg.IMAGE,{width:e.module$exports$Blockly$internalConstants.SPRITE.width,height:e.module$exports$Blockly$internalConstants.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+t+")"},this.zoomResetGroup_).setAttributeNS(M.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.module$exports$Blockly$internalConstants.SPRITE.url),this.onZoomResetWrapper_=(0,_.conditionalBind)(this.zoomResetGroup_,"mousedown",null,this.resetZoom_.bind(this))},yr.ZoomControls.prototype.resetZoom_=function(e){this.workspace_.markFocused();var t=Math.log(this.workspace_.options.zoomOptions.startScale/this.workspace_.scale)/Math.log(this.workspace_.options.zoomOptions.scaleSpeed);this.workspace_.beginCanvasTransition(),this.workspace_.zoomCenter(t),this.workspace_.scrollCenter(),setTimeout(this.workspace_.endCanvasTransition.bind(this.workspace_),500),this.fireZoomEvent_(),(0,p.clearTouchIdentifier)(),e.stopPropagation(),e.preventDefault()},yr.ZoomControls.prototype.fireZoomEvent_=function(){var e=new((0,oe.get)(oe.CLICK))(null,this.workspace_.id,"zoom_controls");(0,oe.fire)(e)},(0,c.register)("\n  .blocklyZoom>image, .blocklyZoom>svg>image {\n    opacity: .4;\n  }\n\n  .blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\n    opacity: .6;\n  }\n\n  .blocklyZoom>image:active, .blocklyZoom>svg>image:active {\n    opacity: .8;\n  }\n");var vr={WorkspaceComment:function(e,t,n,o,i){this.id=i&&!e.getCommentById(i)?i:(0,K.genUid)(),e.addTopComment(this),this.xy_=new he.Coordinate(0,0),this.height_=n,this.width_=o,this.workspace=e,this.RTL=e.RTL,this.editable_=this.movable_=this.deletable_=!0,this.content_=t,this.disposed_=!1,this.isComment=!0,vr.WorkspaceComment.fireCreateEvent(this)}};vr.WorkspaceComment.prototype.dispose=function(){this.disposed_||((0,oe.isEnabled)()&&(0,oe.fire)(new((0,oe.get)(oe.COMMENT_DELETE))(this)),this.workspace.removeTopComment(this),this.disposed_=!0)},vr.WorkspaceComment.prototype.getHeight=function(){return this.height_},vr.WorkspaceComment.prototype.setHeight=function(e){this.height_=e},vr.WorkspaceComment.prototype.getWidth=function(){return this.width_},vr.WorkspaceComment.prototype.setWidth=function(e){this.width_=e},vr.WorkspaceComment.prototype.getXY=function(){return new he.Coordinate(this.xy_.x,this.xy_.y)},vr.WorkspaceComment.prototype.moveBy=function(e,t){var n=new((0,oe.get)(oe.COMMENT_MOVE))(this);this.xy_.translate(e,t),n.recordNew(),(0,oe.fire)(n)},vr.WorkspaceComment.prototype.isDeletable=function(){return this.deletable_&&!(this.workspace&&this.workspace.options.readOnly)},vr.WorkspaceComment.prototype.setDeletable=function(e){this.deletable_=e},vr.WorkspaceComment.prototype.isMovable=function(){return this.movable_&&!(this.workspace&&this.workspace.options.readOnly)},vr.WorkspaceComment.prototype.setMovable=function(e){this.movable_=e},vr.WorkspaceComment.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},vr.WorkspaceComment.prototype.setEditable=function(e){this.editable_=e},vr.WorkspaceComment.prototype.getContent=function(){return this.content_},vr.WorkspaceComment.prototype.setContent=function(e){this.content_!==e&&((0,oe.fire)(new((0,oe.get)(oe.COMMENT_CHANGE))(this,this.content_,e)),this.content_=e)},vr.WorkspaceComment.prototype.toXmlWithXY=function(e){return(e=this.toXml(e)).setAttribute("x",Math.round(this.xy_.x)),e.setAttribute("y",Math.round(this.xy_.y)),e.setAttribute("h",this.height_),e.setAttribute("w",this.width_),e},vr.WorkspaceComment.prototype.toXml=function(t){var n=(0,e.module$exports$Blockly$utils$xml.createElement)("comment");return t||(n.id=this.id),n.textContent=this.getContent(),n},vr.WorkspaceComment.fireCreateEvent=function(e){if((0,oe.isEnabled)()){var t=(0,oe.getGroup)();t||(0,oe.setGroup)(!0);try{(0,oe.fire)(new((0,oe.get)(oe.COMMENT_CREATE))(e))}finally{t||(0,oe.setGroup)(!1)}}},vr.WorkspaceComment.fromXml=function(e,t){var n=vr.WorkspaceComment.parseAttributes(e);return t=new vr.WorkspaceComment(t,n.content,n.h,n.w,n.id),n=parseInt(e.getAttribute("x"),10),e=parseInt(e.getAttribute("y"),10),isNaN(n)||isNaN(e)||t.moveBy(n,e),vr.WorkspaceComment.fireCreateEvent(t),t},vr.WorkspaceComment.parseAttributes=function(e){var t=e.getAttribute("h"),n=e.getAttribute("w");return{id:e.getAttribute("id"),h:t?parseInt(t,10):100,w:n?parseInt(n,10):100,x:parseInt(e.getAttribute("x"),10),y:parseInt(e.getAttribute("y"),10),content:e.textContent}};var Tr={WorkspaceCommentSvg:function(e,t,n,o,i){this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.svgGroup_=(0,M.createSvgElement)(Ee.Svg.G,{class:"blocklyComment"},null),this.svgGroup_.translate_="",this.svgRect_=(0,M.createSvgElement)(Ee.Svg.RECT,{class:"blocklyCommentRect",x:0,y:0,rx:3,ry:3}),this.svgGroup_.appendChild(this.svgRect_),this.rendered_=!1,this.useDragSurface_=(0,ye.is3dSupported)()&&!!e.getBlockDragSurface(),Tr.WorkspaceCommentSvg.superClass_.constructor.call(this,e,t,n,o,i),this.render()}};(0,e.module$exports$Blockly$utils$object.inherits)(Tr.WorkspaceCommentSvg,vr.WorkspaceComment),Tr.WorkspaceCommentSvg.DEFAULT_SIZE=100,Tr.WorkspaceCommentSvg.TOP_OFFSET=10,Tr.WorkspaceCommentSvg.prototype.dispose=function(){this.disposed_||((0,e.module$exports$Blockly$common.getSelected)()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),(0,oe.isEnabled)()&&(0,oe.fire)(new((0,oe.get)(oe.COMMENT_DELETE))(this)),(0,M.removeNode)(this.svgGroup_),this.disposeInternal_(),(0,oe.disable)(),Tr.WorkspaceCommentSvg.superClass_.dispose.call(this),(0,oe.enable)())},Tr.WorkspaceCommentSvg.prototype.initSvg=function(e){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit_||((0,_.conditionalBind)(this.svgRectTarget_,"mousedown",this,this.pathMouseDown_),(0,_.conditionalBind)(this.svgHandleTarget_,"mousedown",this,this.pathMouseDown_)),this.eventsInit_=!0,this.updateMovable(),this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot()),!e&&this.textarea_&&this.textarea_.select()},Tr.WorkspaceCommentSvg.prototype.pathMouseDown_=function(e){var t=this.workspace.getGesture(e);t&&t.handleBubbleStart(e,this)},Tr.WorkspaceCommentSvg.prototype.showContextMenu=function(t){if(!this.workspace.options.readOnly){var n=[];this.isDeletable()&&this.isMovable()&&(n.push((0,e.module$exports$Blockly$ContextMenu.commentDuplicateOption)(this)),n.push((0,e.module$exports$Blockly$ContextMenu.commentDeleteOption)(this))),(0,e.module$exports$Blockly$ContextMenu.show)(t,n,this.RTL)}},Tr.WorkspaceCommentSvg.prototype.select=function(){if((0,e.module$exports$Blockly$common.getSelected)()!==this){var t=null;if((0,e.module$exports$Blockly$common.getSelected)()){t=(0,e.module$exports$Blockly$common.getSelected)().id,(0,oe.disable)();try{(0,e.module$exports$Blockly$common.getSelected)().unselect()}finally{(0,oe.enable)()}}t=new((0,oe.get)(oe.SELECTED))(t,this.id,this.workspace.id),(0,oe.fire)(t),(0,e.module$exports$Blockly$common.setSelected)(this),this.addSelect()}},Tr.WorkspaceCommentSvg.prototype.unselect=function(){if((0,e.module$exports$Blockly$common.getSelected)()===this){var t=new((0,oe.get)(oe.SELECTED))(this.id,null,this.workspace.id);(0,oe.fire)(t),(0,e.module$exports$Blockly$common.setSelected)(null),this.removeSelect(),this.blurFocus()}},Tr.WorkspaceCommentSvg.prototype.addSelect=function(){(0,M.addClass)(this.svgGroup_,"blocklySelected"),this.setFocus()},Tr.WorkspaceCommentSvg.prototype.removeSelect=function(){(0,M.removeClass)(this.svgGroup_,"blocklySelected"),this.blurFocus()},Tr.WorkspaceCommentSvg.prototype.addFocus=function(){(0,M.addClass)(this.svgGroup_,"blocklyFocused")},Tr.WorkspaceCommentSvg.prototype.removeFocus=function(){(0,M.removeClass)(this.svgGroup_,"blocklyFocused")},Tr.WorkspaceCommentSvg.prototype.getRelativeToSurfaceXY=function(){var e=0,t=0,n=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,o=this.getSvgRoot();if(o)do{var i=(0,ye.getRelativeXY)(o);e+=i.x,t+=i.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()===o&&(e+=(i=this.workspace.getBlockDragSurface().getSurfaceTranslation()).x,t+=i.y),o=o.parentNode}while(o&&o!==this.workspace.getBubbleCanvas()&&o!==n);return this.xy_=new he.Coordinate(e,t)},Tr.WorkspaceCommentSvg.prototype.moveBy=function(e,t){var n=new((0,oe.get)(oe.COMMENT_MOVE))(this),o=this.getRelativeToSurfaceXY();this.translate(o.x+e,o.y+t),this.xy_=new he.Coordinate(o.x+e,o.y+t),n.recordNew(),(0,oe.fire)(n),this.workspace.resizeContents()},Tr.WorkspaceCommentSvg.prototype.translate=function(e,t){this.xy_=new he.Coordinate(e,t),this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")},Tr.WorkspaceCommentSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),this.workspace.getBlockDragSurface().setBlocksAndShow(this.getSvgRoot())}},Tr.WorkspaceCommentSvg.prototype.moveDuringDrag=function(e,t){e?e.translateSurface(t.x,t.y):(this.svgGroup_.translate_="translate("+t.x+","+t.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},Tr.WorkspaceCommentSvg.prototype.moveTo=function(e,t){this.translate(e,t)},Tr.WorkspaceCommentSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},Tr.WorkspaceCommentSvg.prototype.getBoundingRectangle=function(){var e=this.getRelativeToSurfaceXY(),t=this.getHeightWidth(),n=e.y,o=e.y+t.height;if(this.RTL){var i=e.x-t.width;e=e.x}else i=e.x,e=e.x+t.width;return new me.Rect(n,o,i,e)},Tr.WorkspaceCommentSvg.prototype.updateMovable=function(){this.isMovable()?(0,M.addClass)(this.svgGroup_,"blocklyDraggable"):(0,M.removeClass)(this.svgGroup_,"blocklyDraggable")},Tr.WorkspaceCommentSvg.prototype.setMovable=function(e){Tr.WorkspaceCommentSvg.superClass_.setMovable.call(this,e),this.updateMovable()},Tr.WorkspaceCommentSvg.prototype.setEditable=function(e){Tr.WorkspaceCommentSvg.superClass_.setEditable.call(this,e),this.textarea_&&(this.textarea_.readOnly=!e)},Tr.WorkspaceCommentSvg.prototype.setDragging=function(e){e?((e=this.getSvgRoot()).translate_="",e.skew_="",(0,M.addClass)(this.svgGroup_,"blocklyDragging")):(0,M.removeClass)(this.svgGroup_,"blocklyDragging")},Tr.WorkspaceCommentSvg.prototype.getSvgRoot=function(){return this.svgGroup_},Tr.WorkspaceCommentSvg.prototype.getContent=function(){return this.textarea_?this.textarea_.value:this.content_},Tr.WorkspaceCommentSvg.prototype.setContent=function(e){Tr.WorkspaceCommentSvg.superClass_.setContent.call(this,e),this.textarea_&&(this.textarea_.value=e)},Tr.WorkspaceCommentSvg.prototype.setDeleteStyle=function(e){e?(0,M.addClass)(this.svgGroup_,"blocklyDraggingDelete"):(0,M.removeClass)(this.svgGroup_,"blocklyDraggingDelete")},Tr.WorkspaceCommentSvg.prototype.setAutoLayout=function(e){},Tr.WorkspaceCommentSvg.fromXml=function(e,t,n){(0,oe.disable)();try{var o=vr.WorkspaceComment.parseAttributes(e),i=new Tr.WorkspaceCommentSvg(t,o.content,o.h,o.w,o.id);if(t.rendered&&(i.initSvg(!0),i.render()),!isNaN(o.x)&&!isNaN(o.y))if(t.RTL){var r=n||t.getWidth();i.moveBy(r-o.x,o.y)}else i.moveBy(o.x,o.y)}finally{(0,oe.enable)()}return vr.WorkspaceComment.fireCreateEvent(i),i},Tr.WorkspaceCommentSvg.prototype.toXmlWithXY=function(e){var t;this.workspace.RTL&&(t=this.workspace.getWidth()),e=this.toXml(e);var n=this.getRelativeToSurfaceXY();return e.setAttribute("x",Math.round(this.workspace.RTL?t-n.x:n.x)),e.setAttribute("y",Math.round(n.y)),e.setAttribute("h",this.getHeight()),e.setAttribute("w",this.getWidth()),e},Tr.WorkspaceCommentSvg.prototype.toCopyData=function(){return{saveInfo:this.toXmlWithXY(),source:this.workspace,typeCounts:null}},Tr.WorkspaceCommentSvg.prototype.getHeightWidth=function(){return{width:this.getWidth(),height:this.getHeight()}},Tr.WorkspaceCommentSvg.prototype.render=function(){if(!this.rendered_){var e=this.getHeightWidth();this.createEditor_(),this.svgGroup_.appendChild(this.foreignObject_),this.svgHandleTarget_=(0,M.createSvgElement)(Ee.Svg.RECT,{class:"blocklyCommentHandleTarget",x:0,y:0}),this.svgGroup_.appendChild(this.svgHandleTarget_),this.svgRectTarget_=(0,M.createSvgElement)(Ee.Svg.RECT,{class:"blocklyCommentTarget",x:0,y:0,rx:3,ry:3}),this.svgGroup_.appendChild(this.svgRectTarget_),this.addResizeDom_(),this.isDeletable()&&this.addDeleteDom_(),this.setSize_(e.width,e.height),this.textarea_.value=this.content_,this.rendered_=!0,this.resizeGroup_&&(0,_.conditionalBind)(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_),this.isDeletable()&&((0,_.conditionalBind)(this.deleteGroup_,"mousedown",this,this.deleteMouseDown_),(0,_.conditionalBind)(this.deleteGroup_,"mouseout",this,this.deleteMouseOut_),(0,_.conditionalBind)(this.deleteGroup_,"mouseup",this,this.deleteMouseUp_))}},Tr.WorkspaceCommentSvg.prototype.createEditor_=function(){this.foreignObject_=(0,M.createSvgElement)(Ee.Svg.FOREIGNOBJECT,{x:0,y:Tr.WorkspaceCommentSvg.TOP_OFFSET,class:"blocklyCommentForeignObject"},null);var e=document.createElementNS(M.HTML_NS,"body");e.setAttribute("xmlns",M.HTML_NS),e.className="blocklyMinimalBody";var t=document.createElementNS(M.HTML_NS,"textarea");return t.className="blocklyCommentTextarea",t.setAttribute("dir",this.RTL?"RTL":"LTR"),t.readOnly=!this.isEditable(),e.appendChild(t),this.textarea_=t,this.foreignObject_.appendChild(e),(0,_.conditionalBind)(t,"wheel",this,(function(e){e.stopPropagation()})),(0,_.conditionalBind)(t,"change",this,(function(e){this.setContent(t.value)})),this.foreignObject_},Tr.WorkspaceCommentSvg.prototype.addResizeDom_=function(){this.resizeGroup_=(0,M.createSvgElement)(Ee.Svg.G,{class:this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup_),(0,M.createSvgElement)(Ee.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,8..toString())},this.resizeGroup_),(0,M.createSvgElement)(Ee.Svg.LINE,{class:"blocklyResizeLine",x1:8/3,y1:7,x2:7,y2:8/3},this.resizeGroup_),(0,M.createSvgElement)(Ee.Svg.LINE,{class:"blocklyResizeLine",x1:16/3,y1:7,x2:7,y2:16/3},this.resizeGroup_)},Tr.WorkspaceCommentSvg.prototype.addDeleteDom_=function(){this.deleteGroup_=(0,M.createSvgElement)(Ee.Svg.G,{class:"blocklyCommentDeleteIcon"},this.svgGroup_),this.deleteIconBorder_=(0,M.createSvgElement)(Ee.Svg.CIRCLE,{class:"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup_),(0,M.createSvgElement)(Ee.Svg.LINE,{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup_),(0,M.createSvgElement)(Ee.Svg.LINE,{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.deleteGroup_)},Tr.WorkspaceCommentSvg.prototype.resizeMouseDown_=function(e){this.unbindDragEvents_(),(0,_.isRightButton)(e)||(this.workspace.startDrag(e,new he.Coordinate(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper_=(0,_.conditionalBind)(document,"mouseup",this,this.resizeMouseUp_),this.onMouseMoveWrapper_=(0,_.conditionalBind)(document,"mousemove",this,this.resizeMouseMove_),this.workspace.hideChaff()),e.stopPropagation()},Tr.WorkspaceCommentSvg.prototype.deleteMouseDown_=function(e){(0,M.addClass)(this.deleteIconBorder_,"blocklyDeleteIconHighlighted"),e.stopPropagation()},Tr.WorkspaceCommentSvg.prototype.deleteMouseOut_=function(e){(0,M.removeClass)(this.deleteIconBorder_,"blocklyDeleteIconHighlighted")},Tr.WorkspaceCommentSvg.prototype.deleteMouseUp_=function(e){this.dispose(),e.stopPropagation()},Tr.WorkspaceCommentSvg.prototype.unbindDragEvents_=function(){this.onMouseUpWrapper_&&((0,_.unbind)(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&((0,_.unbind)(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)},Tr.WorkspaceCommentSvg.prototype.resizeMouseUp_=function(e){(0,p.clearTouchIdentifier)(),this.unbindDragEvents_()},Tr.WorkspaceCommentSvg.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace.moveDrag(e),this.setSize_(this.RTL?-e.x:e.x,e.y)},Tr.WorkspaceCommentSvg.prototype.resizeComment_=function(){var e=this.getHeightWidth(),t=Tr.WorkspaceCommentSvg.TOP_OFFSET;this.foreignObject_.setAttribute("width",e.width),this.foreignObject_.setAttribute("height",e.height-t),this.RTL&&this.foreignObject_.setAttribute("x",-e.width),this.textarea_.style.width=e.width-4+"px",this.textarea_.style.height=e.height-4-t+"px"},Tr.WorkspaceCommentSvg.prototype.setSize_=function(e,t){e=Math.max(e,45),t=Math.max(t,20+Tr.WorkspaceCommentSvg.TOP_OFFSET),this.width_=e,this.height_=t,this.svgRect_.setAttribute("width",e),this.svgRect_.setAttribute("height",t),this.svgRectTarget_.setAttribute("width",e),this.svgRectTarget_.setAttribute("height",t),this.svgHandleTarget_.setAttribute("width",e),this.svgHandleTarget_.setAttribute("height",Tr.WorkspaceCommentSvg.TOP_OFFSET),this.RTL&&(this.svgRect_.setAttribute("transform","scale(-1 1)"),this.svgRectTarget_.setAttribute("transform","scale(-1 1)")),this.resizeGroup_&&(this.RTL?(this.resizeGroup_.setAttribute("transform","translate("+(8-e)+","+(t-8)+") scale(-1 1)"),this.deleteGroup_.setAttribute("transform","translate("+(8-e)+",-8) scale(-1 1)")):(this.resizeGroup_.setAttribute("transform","translate("+(e-8)+","+(t-8)+")"),this.deleteGroup_.setAttribute("transform","translate("+(e-8)+",-8)"))),this.resizeComment_()},Tr.WorkspaceCommentSvg.prototype.disposeInternal_=function(){this.svgHandleTarget_=this.svgRectTarget_=this.foreignObject_=this.textarea_=null,this.disposed_=!0},Tr.WorkspaceCommentSvg.prototype.setFocus=function(){var e=this;this.focused_=!0,setTimeout((function(){e.disposed_||(e.textarea_.focus(),e.addFocus(),(0,M.addClass)(e.svgRectTarget_,"blocklyCommentTargetFocused"),(0,M.addClass)(e.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))}),0)},Tr.WorkspaceCommentSvg.prototype.blurFocus=function(){var e=this;this.focused_=!1,setTimeout((function(){e.disposed_||(e.textarea_.blur(),e.removeFocus(),(0,M.removeClass)(e.svgRectTarget_,"blocklyCommentTargetFocused"),(0,M.removeClass)(e.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))}),0)},(0,c.register)("\n  .blocklyCommentForeignObject {\n    position: relative;\n    z-index: 0;\n  }\n\n  .blocklyCommentRect {\n    fill: #E7DE8E;\n    stroke: #bcA903;\n    stroke-width: 1px;\n  }\n\n  .blocklyCommentTarget {\n    fill: transparent;\n    stroke: #bcA903;\n  }\n\n  .blocklyCommentTargetFocused {\n    fill: none;\n  }\n\n  .blocklyCommentHandleTarget {\n    fill: none;\n  }\n\n  .blocklyCommentHandleTargetFocused {\n    fill: transparent;\n  }\n\n  .blocklyFocused>.blocklyCommentRect {\n    fill: #B9B272;\n    stroke: #B9B272;\n  }\n\n  .blocklySelected>.blocklyCommentTarget {\n    stroke: #fc3;\n    stroke-width: 3px;\n  }\n\n  .blocklyCommentDeleteIcon {\n    cursor: pointer;\n    fill: #000;\n    display: none;\n  }\n\n  .blocklySelected > .blocklyCommentDeleteIcon {\n    display: block;\n  }\n\n  .blocklyDeleteIconShape {\n    fill: #000;\n    stroke: #000;\n    stroke-width: 1px;\n  }\n\n  .blocklyDeleteIconShape.blocklyDeleteIconHighlighted {\n    stroke: #fc3;\n  }\n");var Er={Trashcan:function(e){Er.Trashcan.superClass_.constructor.call(this),this.workspace_=e,this.id="trashcan",this.contents_=[],this.flyout=null,0>=this.workspace_.options.maxTrashcanContents||(e=new qe.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace_.horizontalLayout?(e.toolboxPosition=this.workspace_.toolboxPosition===Ve.Position.TOP?Ve.Position.BOTTOM:Ve.Position.TOP,this.flyout=new((0,Z.getClassFromOptions)(Z.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace_.options,!0))(e)):(e.toolboxPosition=this.workspace_.toolboxPosition===Ve.Position.RIGHT?Ve.Position.LEFT:Ve.Position.RIGHT,this.flyout=new((0,Z.getClassFromOptions)(Z.Type.FLYOUTS_VERTICAL_TOOLBOX,this.workspace_.options,!0))(e)),this.workspace_.addChangeListener(this.onDelete_.bind(this)))}};(0,e.module$exports$Blockly$utils$object.inherits)(Er.Trashcan,ii.DeleteArea);var kr=47,br=16;Er.Trashcan.prototype.isLidOpen=!1,Er.Trashcan.prototype.minOpenness_=0,Er.Trashcan.prototype.svgGroup_=null,Er.Trashcan.prototype.svgLid_=null,Er.Trashcan.prototype.lidTask_=0,Er.Trashcan.prototype.lidOpen_=0,Er.Trashcan.prototype.left_=0,Er.Trashcan.prototype.top_=0,Er.Trashcan.prototype.initialized_=!1,Er.Trashcan.prototype.createDom=function(){this.svgGroup_=(0,M.createSvgElement)(Ee.Svg.G,{class:"blocklyTrash"},null);var t=String(Math.random()).substring(2),n=(0,M.createSvgElement)(Ee.Svg.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup_);(0,M.createSvgElement)(Ee.Svg.RECT,{width:kr,height:44,y:br},n);var o=(0,M.createSvgElement)(Ee.Svg.IMAGE,{width:e.module$exports$Blockly$internalConstants.SPRITE.width,x:-0,height:e.module$exports$Blockly$internalConstants.SPRITE.height,y:-32,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup_);return o.setAttributeNS(M.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.module$exports$Blockly$internalConstants.SPRITE.url),n=(0,M.createSvgElement)(Ee.Svg.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup_),(0,M.createSvgElement)(Ee.Svg.RECT,{width:kr,height:br},n),this.svgLid_=(0,M.createSvgElement)(Ee.Svg.IMAGE,{width:e.module$exports$Blockly$internalConstants.SPRITE.width,x:-0,height:e.module$exports$Blockly$internalConstants.SPRITE.height,y:-32,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup_),this.svgLid_.setAttributeNS(M.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.module$exports$Blockly$internalConstants.SPRITE.url),(0,_.bind)(this.svgGroup_,"mousedown",this,this.blockMouseDownWhenOpenable_),(0,_.bind)(this.svgGroup_,"mouseup",this,this.click),(0,_.bind)(o,"mouseover",this,this.mouseOver_),(0,_.bind)(o,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},Er.Trashcan.prototype.init=function(){0<this.workspace_.options.maxTrashcanContents&&((0,M.insertAfter)(this.flyout.createDom(Ee.Svg.SVG),this.workspace_.getParentSvg()),this.flyout.init(this.workspace_)),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[dn.ComponentManager.Capability.AUTOHIDEABLE,dn.ComponentManager.Capability.DELETE_AREA,dn.ComponentManager.Capability.DRAG_TARGET,dn.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0,this.setLidOpen(!1)},Er.Trashcan.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("trashcan"),this.svgGroup_&&((0,M.removeNode)(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},Er.Trashcan.prototype.hasContents_=function(){return!!this.contents_.length},Er.Trashcan.prototype.contentsIsOpen=function(){return!!this.flyout&&this.flyout.isVisible()},Er.Trashcan.prototype.openFlyout=function(){if(!this.contentsIsOpen()){var e=this.contents_.map((function(e){return JSON.parse(e)}));this.flyout.show(e),this.fireUiEvent_(!0)}},Er.Trashcan.prototype.closeFlyout=function(){this.contentsIsOpen()&&(this.flyout.hide(),this.fireUiEvent_(!1),this.workspace_.recordDragTargets())},Er.Trashcan.prototype.autoHide=function(e){!e&&this.flyout&&this.closeFlyout()},Er.Trashcan.prototype.emptyContents=function(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())},Er.Trashcan.prototype.position=function(e,t){if(this.initialized_){var n=(0,mr.getCornerOppositeToolbox)(this.workspace_,e);e=(0,mr.getStartPositionRect)(n,new de.Size(kr,60),20,20,e,this.workspace_),t=(0,mr.bumpPositionRect)(e,20,n.vertical===mr.verticalPosition.TOP?mr.bumpDirection.DOWN:mr.bumpDirection.UP,t),this.top_=t.top,this.left_=t.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},Er.Trashcan.prototype.getBoundingRectangle=function(){return new me.Rect(this.top_,this.top_+44+br,this.left_,this.left_+kr)},Er.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),t=e.top+32-10;return e=e.left+0-10,new me.Rect(t,t+br+44+20,e,e+kr+20)},Er.Trashcan.prototype.onDragOver=function(e){this.setLidOpen(this.wouldDelete_)},Er.Trashcan.prototype.onDragExit=function(e){this.setLidOpen(!1)},Er.Trashcan.prototype.onDrop=function(e){setTimeout(this.setLidOpen.bind(this,!1),100)},Er.Trashcan.prototype.setLidOpen=function(e){this.isLidOpen!==e&&(clearTimeout(this.lidTask_),this.isLidOpen=e,this.animateLid_())},Er.Trashcan.prototype.animateLid_=function(){this.lidOpen_+=this.isLidOpen?.2:-.2,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(45*this.lidOpen_),this.svgGroup_.style.opacity=.4+.4*this.lidOpen_,this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),20))},Er.Trashcan.prototype.setLidAngle_=function(e){var t=this.workspace_.toolboxPosition===Ve.Position.RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(t?-e:e)+","+(t?4:43)+",14)")},Er.Trashcan.prototype.setMinOpenness_=function(e){this.minOpenness_=e,this.isLidOpen||this.setLidAngle_(45*e)},Er.Trashcan.prototype.closeLid=function(){this.setLidOpen(!1)},Er.Trashcan.prototype.click=function(){this.hasContents_()&&this.openFlyout()},Er.Trashcan.prototype.fireUiEvent_=function(e){e=new((0,oe.get)(oe.TRASHCAN_OPEN))(e,this.workspace_.id),(0,oe.fire)(e)},Er.Trashcan.prototype.blockMouseDownWhenOpenable_=function(e){!this.contentsIsOpen()&&this.hasContents_()&&e.stopPropagation()},Er.Trashcan.prototype.mouseOver_=function(){this.hasContents_()&&this.setLidOpen(!0)},Er.Trashcan.prototype.mouseOut_=function(){this.setLidOpen(!1)},Er.Trashcan.prototype.onDelete_=function(e){if(!(0>=this.workspace_.options.maxTrashcanContents||e.type!==oe.DELETE||e.wasShadow)&&(e=this.cleanBlockJson_(e.oldJson),-1===this.contents_.indexOf(e))){for(this.contents_.unshift(e);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(.1)}},Er.Trashcan.prototype.cleanBlockJson_=function(e){return function e(t){if(t){if(delete t.id,delete t.x,delete t.y,delete t.enabled,t.icons&&t.icons.comment){var n=t.icons.comment;delete n.height,delete n.width,delete n.pinned}for(var o in n=t.inputs){var i=n[o];e(i.block),e(i.shadow)}t.next&&(e((t=t.next).block),e(t.shadow))}}(e=JSON.parse(JSON.stringify(e))),e.kind="BLOCK",JSON.stringify(e)};var Cr={FlyoutButton:function(e,t,n,o){this.workspace_=e,this.targetWorkspace_=t,this.text_=n.text,this.position_=new he.Coordinate(0,0),this.isLabel_=o,this.callbackKey_=n.callbackKey||n.callbackkey,this.cssClass_=n["web-class"]||null,this.onMouseUpWrapper_=null,this.info=n}};Cr.FlyoutButton.MARGIN_X=5,Cr.FlyoutButton.MARGIN_Y=2,Cr.FlyoutButton.prototype.width=0,Cr.FlyoutButton.prototype.height=0,Cr.FlyoutButton.prototype.createDom=function(){var e,t=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass_&&(t+=" "+this.cssClass_),this.svgGroup_=(0,M.createSvgElement)(Ee.Svg.G,{class:t},this.workspace_.getCanvas()),this.isLabel_||(e=(0,M.createSvgElement)(Ee.Svg.RECT,{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_)),t=(0,M.createSvgElement)(Ee.Svg.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var n=(0,M.createSvgElement)(Ee.Svg.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_),o=(0,en.replaceMessageReferences)(this.text_);this.workspace_.RTL&&(o+="\u200f"),n.textContent=o,this.isLabel_&&(this.svgText_=n,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));var i=(0,fe.getComputedStyle)(n,"fontSize"),r=(0,fe.getComputedStyle)(n,"fontWeight"),s=(0,fe.getComputedStyle)(n,"fontFamily");return this.width=(0,M.getFastTextWidthWithSizeString)(n,i,r,s),o=(0,M.measureFontMetrics)(o,i,r,s),this.height=o.height,this.isLabel_||(this.width+=2*Cr.FlyoutButton.MARGIN_X,this.height+=2*Cr.FlyoutButton.MARGIN_Y,e.setAttribute("width",this.width),e.setAttribute("height",this.height)),t.setAttribute("width",this.width),t.setAttribute("height",this.height),n.setAttribute("x",this.width/2),n.setAttribute("y",this.height/2-o.height/2+o.baseline),this.updateTransform_(),this.onMouseUpWrapper_=(0,_.conditionalBind)(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},Cr.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},Cr.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},Cr.FlyoutButton.prototype.moveTo=function(e,t){this.position_.x=e,this.position_.y=t,this.updateTransform_()},Cr.FlyoutButton.prototype.isLabel=function(){return this.isLabel_},Cr.FlyoutButton.prototype.getPosition=function(){return this.position_},Cr.FlyoutButton.prototype.getButtonText=function(){return this.text_},Cr.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},Cr.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&(0,_.unbind)(this.onMouseUpWrapper_),this.svgGroup_&&(0,M.removeNode)(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},Cr.FlyoutButton.prototype.onMouseUp_=function(e){(e=this.targetWorkspace_.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},(0,c.register)("\n  .blocklyFlyoutButton {\n    fill: #888;\n    cursor: default;\n  }\n\n  .blocklyFlyoutButtonShadow {\n    fill: #666;\n  }\n\n  .blocklyFlyoutButton:hover {\n    fill: #aaa;\n  }\n\n  .blocklyFlyoutLabel {\n    cursor: default;\n  }\n\n  .blocklyFlyoutLabelBackground {\n    opacity: 0;\n  }\n");var Sr,Ir={CATEGORY_NAME:"VARIABLE_DYNAMIC",onCreateVariableButtonClick_String:function(t){(0,e.module$exports$Blockly$Variables.createVariableButtonHandler)(t.getTargetWorkspace(),void 0,"String")},onCreateVariableButtonClick_Number:function(t){(0,e.module$exports$Blockly$Variables.createVariableButtonHandler)(t.getTargetWorkspace(),void 0,"Number")},onCreateVariableButtonClick_Colour:function(t){(0,e.module$exports$Blockly$Variables.createVariableButtonHandler)(t.getTargetWorkspace(),void 0,"Colour")},flyoutCategory:function(t){var n=[],o=document.createElement("button");return o.setAttribute("text",e.module$exports$Blockly$Msg.Msg.NEW_STRING_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),n.push(o),(o=document.createElement("button")).setAttribute("text",e.module$exports$Blockly$Msg.Msg.NEW_NUMBER_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),n.push(o),(o=document.createElement("button")).setAttribute("text",e.module$exports$Blockly$Msg.Msg.NEW_COLOUR_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),n.push(o),t.registerButtonCallback("CREATE_VARIABLE_STRING",Ir.onCreateVariableButtonClick_String),t.registerButtonCallback("CREATE_VARIABLE_NUMBER",Ir.onCreateVariableButtonClick_Number),t.registerButtonCallback("CREATE_VARIABLE_COLOUR",Ir.onCreateVariableButtonClick_Colour),t=(0,Ir.flyoutCategoryBlocks)(t),n.concat(t)},flyoutCategoryBlocks:function(t){var n=[];if(0<(t=t.getAllVariables()).length){if(e.module$exports$Blockly$blocks.Blocks.variables_set_dynamic){var o=t[t.length-1],i=(0,e.module$exports$Blockly$utils$xml.createElement)("block");i.setAttribute("type","variables_set_dynamic"),i.setAttribute("gap",24),i.appendChild((0,e.module$exports$Blockly$Variables.generateVariableFieldDom)(o)),n.push(i)}if(e.module$exports$Blockly$blocks.Blocks.variables_get_dynamic)for(t.sort(En.VariableModel.compareByName),o=0;i=t[o];o++){var r=(0,e.module$exports$Blockly$utils$xml.createElement)("block");r.setAttribute("type","variables_get_dynamic"),r.setAttribute("gap",8),r.appendChild((0,e.module$exports$Blockly$Variables.generateVariableFieldDom)(i)),n.push(r)}}return n}};e.module$exports$Blockly$Procedures={CATEGORY_NAME:"PROCEDURE",DEFAULT_ARG:"x",allProcedures:function(e){var t=e.getBlocksByType("procedures_defnoreturn",!1).map((function(e){return e.getProcedureDef()}));return e=e.getBlocksByType("procedures_defreturn",!1).map((function(e){return e.getProcedureDef()})),t.sort(Sr),e.sort(Sr),[t,e]}},Sr=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},e.module$exports$Blockly$Procedures.findLegalName=function(t,n){if(n.isInFlyout)return t;for(t=t||e.module$exports$Blockly$Msg.Msg.UNNAMED_KEY||"unnamed";!Rr(t,n.workspace,n);){var o=t.match(/^(.*?)(\d+)$/);t=o?o[1]+(parseInt(o[2],10)+1):t+"2"}return t};var Rr=function(t,n,o){return!(0,e.module$exports$Blockly$Procedures.isNameUsed)(t,n,o)};e.module$exports$Blockly$Procedures.isNameUsed=function(t,n,o){n=n.getAllBlocks(!1);for(var i=0;i<n.length;i++)if(n[i]!==o&&n[i].getProcedureDef){var r=n[i].getProcedureDef();if(e.module$exports$Blockly$Names.Names.equals(r[0],t))return!0}return!1},e.module$exports$Blockly$Procedures.rename=function(t){t=t.trim();var n=(0,e.module$exports$Blockly$Procedures.findLegalName)(t,this.getSourceBlock()),o=this.getValue();if(o!==t&&o!==n){t=this.getSourceBlock().workspace.getAllBlocks(!1);for(var i=0;i<t.length;i++)t[i].renameProcedure&&t[i].renameProcedure(o,n)}return n},e.module$exports$Blockly$Procedures.flyoutCategory=function(t){function n(t,n){for(var i=0;i<t.length;i++){var r=t[i][0],s=t[i][1],l=(0,e.module$exports$Blockly$utils$xml.createElement)("block");l.setAttribute("type",n),l.setAttribute("gap",16);var a=(0,e.module$exports$Blockly$utils$xml.createElement)("mutation");for(a.setAttribute("name",r),l.appendChild(a),r=0;r<s.length;r++){var c=(0,e.module$exports$Blockly$utils$xml.createElement)("arg");c.setAttribute("name",s[r]),a.appendChild(c)}o.push(l)}}var o=[];if(e.module$exports$Blockly$blocks.Blocks.procedures_defnoreturn){var i=(0,e.module$exports$Blockly$utils$xml.createElement)("block");i.setAttribute("type","procedures_defnoreturn"),i.setAttribute("gap",16);var r=(0,e.module$exports$Blockly$utils$xml.createElement)("field");r.setAttribute("name","NAME"),r.appendChild((0,e.module$exports$Blockly$utils$xml.createTextNode)(e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),i.appendChild(r),o.push(i)}return e.module$exports$Blockly$blocks.Blocks.procedures_defreturn&&((i=(0,e.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type","procedures_defreturn"),i.setAttribute("gap",16),(r=(0,e.module$exports$Blockly$utils$xml.createElement)("field")).setAttribute("name","NAME"),r.appendChild((0,e.module$exports$Blockly$utils$xml.createTextNode)(e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),i.appendChild(r),o.push(i)),e.module$exports$Blockly$blocks.Blocks.procedures_ifreturn&&((i=(0,e.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type","procedures_ifreturn"),i.setAttribute("gap",16),o.push(i)),o.length&&o[o.length-1].setAttribute("gap",24),n((t=(0,e.module$exports$Blockly$Procedures.allProcedures)(t))[0],"procedures_callnoreturn"),n(t[1],"procedures_callreturn"),o};var Or=function(t){for(var n,o=[],i=t.getBlocksByType("procedures_mutatorarg",!1),r=0;n=i[r];r++)o.push(n.getFieldValue("NAME"));i=(0,e.module$exports$Blockly$utils$xml.createElement)("xml"),(r=(0,e.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type","procedures_mutatorarg"),(n=(0,e.module$exports$Blockly$utils$xml.createElement)("field")).setAttribute("name","NAME"),o=(0,e.module$exports$Blockly$Variables.generateUniqueNameFromOptions)(e.module$exports$Blockly$Procedures.DEFAULT_ARG,o),o=(0,e.module$exports$Blockly$utils$xml.createTextNode)(o),n.appendChild(o),r.appendChild(n),i.appendChild(r),t.updateToolbox(i)};e.module$exports$Blockly$Procedures.mutatorOpenListener=function(e){if(e.type===oe.BUBBLE_OPEN&&"mutator"===e.bubbleType&&e.isOpen){var t=(e=Nn.Workspace.getById(e.workspaceId).getBlockById(e.blockId)).type;"procedures_defnoreturn"!==t&&"procedures_defreturn"!==t||(e=e.mutator.getWorkspace(),Or(e),e.addChangeListener(wr))}};var wr=function(e){e.type!==oe.CREATE&&e.type!==oe.DELETE&&e.type!==oe.CHANGE||(e=Nn.Workspace.getById(e.workspaceId),Or(e))};return e.module$exports$Blockly$Procedures.getCallers=function(t,n){var o=[];n=n.getAllBlocks(!1);for(var i=0;i<n.length;i++)if(n[i].getProcedureCall){var r=n[i].getProcedureCall();r&&e.module$exports$Blockly$Names.Names.equals(r,t)&&o.push(n[i])}return o},e.module$exports$Blockly$Procedures.mutateCallers=function(t){var n,o=(0,oe.getRecordUndo)(),i=t.getProcedureDef()[0],r=t.mutationToDom(!0);for(t=(0,e.module$exports$Blockly$Procedures.getCallers)(i,t.workspace),i=0;n=t[i];i++){var s=n.mutationToDom();s=s&&(0,e.module$exports$Blockly$Xml.domToText)(s),n.domToMutation(r);var l=n.mutationToDom();s!==(l=l&&(0,e.module$exports$Blockly$Xml.domToText)(l))&&((0,oe.setRecordUndo)(!1),(0,oe.fire)(new((0,oe.get)(oe.CHANGE))(n,"mutation",null,s,l)),(0,oe.setRecordUndo)(o))}},e.module$exports$Blockly$Procedures.getDefinition=function(t,n){n=n.getAllBlocks(!1);for(var o=0;o<n.length;o++)if(n[o].getProcedureDef){var i=n[o].getProcedureDef();if(i&&e.module$exports$Blockly$Names.Names.equals(i[0],t))return n[o]}return null},e.module$exports$Blockly$Mutator={Mutator:function(t){e.module$exports$Blockly$Mutator.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=t}},(0,e.module$exports$Blockly$utils$object.inherits)(e.module$exports$Blockly$Mutator.Mutator,fr.Icon),e.module$exports$Blockly$Mutator.Mutator.prototype.workspace_=null,e.module$exports$Blockly$Mutator.Mutator.prototype.workspaceWidth_=0,e.module$exports$Blockly$Mutator.Mutator.prototype.workspaceHeight_=0,e.module$exports$Blockly$Mutator.Mutator.prototype.setBlock=function(e){this.block_=e},e.module$exports$Blockly$Mutator.Mutator.prototype.getWorkspace=function(){return this.workspace_},e.module$exports$Blockly$Mutator.Mutator.prototype.drawIcon_=function(e){(0,M.createSvgElement)(Ee.Svg.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),(0,M.createSvgElement)(Ee.Svg.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),(0,M.createSvgElement)(Ee.Svg.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)},e.module$exports$Blockly$Mutator.Mutator.prototype.iconClick_=function(e){this.block_.isEditable()&&fr.Icon.prototype.iconClick_.call(this,e)},e.module$exports$Blockly$Mutator.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=(0,M.createSvgElement)(Ee.Svg.SVG,{x:Mn.Bubble.BORDER_WIDTH,y:Mn.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var t,n=(0,e.module$exports$Blockly$utils$xml.createElement)("xml"),o=0;t=this.quarkNames_[o];o++){var i=(0,e.module$exports$Blockly$utils$xml.createElement)("block");i.setAttribute("type",t),n.appendChild(i)}else n=null;return(o=new qe.Options({disable:!1,parentWorkspace:this.block_.workspace,media:this.block_.workspace.options.pathToMedia,rtl:this.block_.RTL,horizontalLayout:!1,renderer:this.block_.workspace.options.renderer,rendererOverrides:this.block_.workspace.options.rendererOverrides})).toolboxPosition=this.block_.RTL?Ve.Position.RIGHT:Ve.Position.LEFT,(t=!!n)&&(o.languageTree=(0,Ve.convertToolboxDefToJson)(n)),this.workspace_=new Xo.WorkspaceSvg(o),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(oe.disableOrphans),n=t?this.workspace_.addFlyout(Ee.Svg.G):null,o=this.workspace_.createDom("blocklyMutatorBackground"),n&&o.insertBefore(n,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(o),this.svgDialog_},e.module$exports$Blockly$Mutator.Mutator.prototype.updateEditable=function(){e.module$exports$Blockly$Mutator.Mutator.superClass_.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&(0,M.removeClass)(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&(0,M.addClass)(this.iconGroup_,"blocklyIconGroupReadonly")))},e.module$exports$Blockly$Mutator.Mutator.prototype.resizeBubble_=function(){var e=2*Mn.Bubble.BORDER_WIDTH,t=this.workspace_.getCanvas().getBBox(),n=t.width+t.x,o=t.height+3*e,i=this.workspace_.getFlyout();if(i){var r=i.getWorkspace().getMetricsManager().getScrollMetrics();o=Math.max(o,r.height+20),n+=i.getWidth()}this.block_.RTL&&(n=-t.x),n+=3*e,(Math.abs(this.workspaceWidth_-n)>e||Math.abs(this.workspaceHeight_-o)>e)&&(this.workspaceWidth_=n,this.workspaceHeight_=o,this.bubble_.setBubbleSize(n+e,o+e),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_),this.workspace_.setCachedParentSvgSize(this.workspaceWidth_,this.workspaceHeight_)),this.block_.RTL&&(e="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",e)),this.workspace_.resize()},e.module$exports$Blockly$Mutator.Mutator.prototype.onBubbleMove_=function(){this.workspace_&&this.workspace_.recordDragTargets()},e.module$exports$Blockly$Mutator.Mutator.prototype.setVisible=function(e){if(e!==this.isVisible())if((0,oe.fire)(new((0,oe.get)(oe.BUBBLE_OPEN))(this.block_,e,"mutator")),e){this.bubble_=new Mn.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));var t=this.workspace_.options.languageTree;e=this.workspace_.getFlyout(),t&&(e.init(this.workspace_),e.show(t)),this.rootBlock_=this.block_.decompose(this.workspace_),t=this.rootBlock_.getDescendants(!1);for(var n=0,o=void 0;o=t[n];n++)o.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),e?(t=2*e.CORNER_RADIUS,e=this.rootBlock_.RTL?e.getWidth()+t:t):e=t=16,this.block_.RTL&&(e=-e),this.rootBlock_.moveBy(e,t),this.block_.saveConnections){var i=this,r=this.block_;r.saveConnections(this.rootBlock_),this.sourceListener_=function(){r.saveConnections(i.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.updateWorkspace_(),this.applyColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},e.module$exports$Blockly$Mutator.Mutator.prototype.workspaceChanged_=function(e){e.isUiEvent||e.type===oe.CHANGE&&"disabled"===e.element||e.type===oe.CREATE||this.updateWorkspace_()},e.module$exports$Blockly$Mutator.Mutator.prototype.updateWorkspace_=function(){if(!this.workspace_.isDragging())for(var t=this.workspace_.getTopBlocks(!1),n=0,o=void 0;o=t[n];n++){var i=o.getRelativeToSurfaceXY();if(20>i.y&&o.moveBy(0,20-i.y),o.RTL){var r=-20,s=this.workspace_.getFlyout();s&&(r-=s.getWidth()),i.x>r&&o.moveBy(r-i.x,0)}else 20>i.x&&o.moveBy(20-i.x,0)}if(this.rootBlock_.workspace===this.workspace_){(0,oe.setGroup)(!0);var l=this.block_;if(t=sn.BlockChange.getExtraBlockState_(l),n=l.rendered,l.rendered=!1,l.compose(this.rootBlock_),l.rendered=n,l.initSvg(),l.rendered&&l.render(),t!==(n=sn.BlockChange.getExtraBlockState_(l))){(0,oe.fire)(new((0,oe.get)(oe.CHANGE))(l,"mutation",null,t,n));var a=(0,oe.getGroup)();setTimeout((function(){(0,oe.setGroup)(a),l.bumpNeighbours(),(0,oe.setGroup)(!1)}),e.module$exports$Blockly$internalConstants.BUMP_DELAY)}this.workspace_.isDragging()||this.resizeBubble_(),(0,oe.setGroup)(!1)}},e.module$exports$Blockly$Mutator.Mutator.prototype.dispose=function(){this.block_.mutator=null,fr.Icon.prototype.dispose.call(this)},e.module$exports$Blockly$Mutator.Mutator.prototype.updateBlockStyle=function(){var e=this.workspace_;if(e&&e.getAllBlocks(!1)){for(var t,n=e.getAllBlocks(!1),o=0;t=n[o];o++)t.setStyle(t.getStyleName());if(e=e.getFlyout())for(e=e.workspace_.getAllBlocks(!1),n=0;o=e[n];n++)o.setStyle(o.getStyleName())}},e.module$exports$Blockly$Mutator.Mutator.reconnect=function(e,t,n){if(!e||!e.getSourceBlock().workspace)return!1;n=t.getInput(n).connection;var o=e.targetBlock();return!(o&&o!==t||n.targetConnection===e)&&(n.isConnected()&&n.disconnect(),n.connect(e),!0)},e.module$exports$Blockly$Mutator.Mutator.findParentWs=function(e){var t=null;if(e&&e.options){var n=e.options.parentWorkspace;e.isFlyout?n&&n.options&&(t=n.options.parentWorkspace):n&&(t=n)}return t},e.Blockly={VERSION:"7.20211209.4"},e.Blockly.ALIGN_LEFT=e.module$exports$Blockly$Input.Align.LEFT,e.Blockly.ALIGN_CENTRE=e.module$exports$Blockly$Input.Align.CENTRE,e.Blockly.ALIGN_RIGHT=e.module$exports$Blockly$Input.Align.RIGHT,e.Blockly.INPUT_VALUE=e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,e.Blockly.OUTPUT_VALUE=e.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE,e.Blockly.NEXT_STATEMENT=e.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT,e.Blockly.PREVIOUS_STATEMENT=e.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT,e.Blockly.DUMMY_INPUT=e.module$exports$Blockly$inputTypes.inputTypes.DUMMY,e.Blockly.TOOLBOX_AT_TOP=Ve.Position.TOP,e.Blockly.TOOLBOX_AT_BOTTOM=Ve.Position.BOTTOM,e.Blockly.TOOLBOX_AT_LEFT=Ve.Position.LEFT,e.Blockly.TOOLBOX_AT_RIGHT=Ve.Position.RIGHT,e.Blockly.svgResize=e.module$exports$Blockly$common.svgResize,e.Blockly.hideChaff=function(t){(0,e.module$exports$Blockly$common.getMainWorkspace)().hideChaff(t)},e.Blockly.getMainWorkspace=e.module$exports$Blockly$common.getMainWorkspace,e.Blockly.defineBlocksWithJsonArray=e.module$exports$Blockly$common.defineBlocksWithJsonArray,e.Blockly.setParentContainer=e.module$exports$Blockly$common.setParentContainer,Object.defineProperties(e.Blockly,{alert:{set:function(e){(0,a.warn)("Blockly.alert","December 2021","December 2022"),(0,fn.setAlert)(e)},get:function(){return(0,a.warn)("Blockly.alert","December 2021","December 2022","Blockly.dialog.alert()"),fn.alert}},confirm:{set:function(e){(0,a.warn)("Blockly.confirm","December 2021","December 2022"),(0,fn.setConfirm)(e)},get:function(){return(0,a.warn)("Blockly.confirm","December 2021","December 2022","Blockly.dialog.confirm()"),fn.confirm}},mainWorkspace:{set:function(t){(0,e.module$exports$Blockly$common.setMainWorkspace)(t)},get:function(){return(0,e.module$exports$Blockly$common.getMainWorkspace)()}},prompt:{set:function(e){(0,a.warn)("Blockly.prompt","December 2021","December 2022"),(0,fn.setPrompt)(e)},get:function(){return(0,a.warn)("Blockly.prompt","December 2021","December 2022","Blockly.dialog.prompt()"),fn.prompt}},selected:{get:function(){return(0,e.module$exports$Blockly$common.getSelected)()},set:function(t){(0,e.module$exports$Blockly$common.setSelected)(t)}},HSV_SATURATION:{get:function(){return Bo.colour.getHsvSaturation()},set:function(e){Bo.colour.setHsvSaturation(e)}},HSV_VALUE:{get:function(){return Bo.colour.getHsvValue()},set:function(e){Bo.colour.setHsvValue(e)}}}),e.Blockly.svgSize=ye.svgSize,e.Blockly.resizeSvgContents=function(e){(0,a.warn)("Blockly.resizeSvgContents","December 2021","December 2022","Blockly.WorkspaceSvg.resizeSvgContents"),(0,Xo.resizeSvgContents)(e)},e.Blockly.copy=function(e){(0,a.warn)("Blockly.copy","December 2021","December 2022","Blockly.clipboard.copy"),(0,ot.copy)(e)},e.Blockly.paste=function(){return(0,a.warn)("Blockly.paste","December 2021","December 2022","Blockly.clipboard.paste"),(0,ot.paste)()},e.Blockly.duplicate=function(e){(0,a.warn)("Blockly.duplicate","December 2021","December 2022","Blockly.clipboard.duplicate"),(0,ot.duplicate)(e)},e.Blockly.isNumber=function(e){return(0,a.warn)("Blockly.isNumber","December 2021","December 2022","Blockly.utils.string.isNumber"),Bo.string.isNumber(e)},e.Blockly.hueToHex=function(e){return(0,a.warn)("Blockly.hueToHex","December 2021","December 2022","Blockly.utils.colour.hueToHex"),(0,Jt.hueToHex)(e)},e.Blockly.bindEvent_=function(e,t,n,o){return(0,a.warn)("Blockly.bindEvent_","December 2021","December 2022","Blockly.browserEvents.bind"),(0,_.bind)(e,t,n,o)},e.Blockly.unbindEvent_=function(e){return(0,a.warn)("Blockly.unbindEvent_","December 2021","December 2022","Blockly.browserEvents.unbind"),(0,_.unbind)(e)},e.Blockly.bindEventWithChecks_=function(e,t,n,o,i,r){return(0,a.warn)("Blockly.bindEventWithChecks_","December 2021","December 2022","Blockly.browserEvents.conditionalBind"),(0,_.conditionalBind)(e,t,n,o,i,r)},e.Blockly.LINE_MODE_MULTIPLIER=e.module$exports$Blockly$internalConstants.LINE_MODE_MULTIPLIER,e.Blockly.PAGE_MODE_MULTIPLIER=e.module$exports$Blockly$internalConstants.PAGE_MODE_MULTIPLIER,e.Blockly.DRAG_RADIUS=e.module$exports$Blockly$internalConstants.DRAG_RADIUS,e.Blockly.FLYOUT_DRAG_RADIUS=e.module$exports$Blockly$internalConstants.FLYOUT_DRAG_RADIUS,e.Blockly.SNAP_RADIUS=e.module$exports$Blockly$internalConstants.SNAP_RADIUS,e.Blockly.CONNECTING_SNAP_RADIUS=e.module$exports$Blockly$internalConstants.SNAP_RADIUS,e.Blockly.CURRENT_CONNECTION_PREFERENCE=e.module$exports$Blockly$internalConstants.CURRENT_CONNECTION_PREFERENCE,e.Blockly.BUMP_DELAY=e.module$exports$Blockly$internalConstants.BUMP_DELAY,e.Blockly.BUMP_RANDOMNESS=e.module$exports$Blockly$internalConstants.BUMP_RANDOMNESS,e.Blockly.COLLAPSE_CHARS=e.module$exports$Blockly$internalConstants.COLLAPSE_CHARS,e.Blockly.LONGPRESS=e.module$exports$Blockly$internalConstants.LONGPRESS,e.Blockly.SOUND_LIMIT=e.module$exports$Blockly$internalConstants.SOUND_LIMIT,e.Blockly.DRAG_STACK=e.module$exports$Blockly$internalConstants.DRAG_STACK,e.Blockly.SPRITE=e.module$exports$Blockly$internalConstants.SPRITE,e.Blockly.DRAG_NONE=e.module$exports$Blockly$internalConstants.DRAG_NONE,e.Blockly.DRAG_STICKY=e.module$exports$Blockly$internalConstants.DRAG_STICKY,e.Blockly.DRAG_BEGIN=e.module$exports$Blockly$internalConstants.DRAG_BEGIN,e.Blockly.DRAG_FREE=e.module$exports$Blockly$internalConstants.DRAG_FREE,e.Blockly.OPPOSITE_TYPE=e.module$exports$Blockly$internalConstants.OPPOSITE_TYPE,e.Blockly.RENAME_VARIABLE_ID=e.module$exports$Blockly$internalConstants.RENAME_VARIABLE_ID,e.Blockly.DELETE_VARIABLE_ID=e.module$exports$Blockly$internalConstants.DELETE_VARIABLE_ID,e.Blockly.COLLAPSED_INPUT_NAME=On.COLLAPSED_INPUT_NAME,e.Blockly.COLLAPSED_FIELD_NAME=On.COLLAPSED_FIELD_NAME,e.Blockly.VARIABLE_CATEGORY_NAME=e.module$exports$Blockly$Variables.CATEGORY_NAME,e.Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME=Ir.CATEGORY_NAME,e.Blockly.PROCEDURE_CATEGORY_NAME=e.module$exports$Blockly$Procedures.CATEGORY_NAME,e.Blockly.ASTNode=ro.ASTNode,e.Blockly.BasicCursor=Lo.BasicCursor,e.Blockly.Block=xo.Block,e.Blockly.BlocklyOptions=function(){},e.Blockly.BlockDragger=Gn.BlockDragger,e.Blockly.BlockDragSurfaceSvg=ke.BlockDragSurfaceSvg,e.Blockly.BlockSvg=Uo.BlockSvg,e.Blockly.Blocks=e.module$exports$Blockly$blocks.Blocks,e.Blockly.Bubble=Mn.Bubble,e.Blockly.BubbleDragger=Fn.BubbleDragger,e.Blockly.CollapsibleToolboxCategory=pi.CollapsibleToolboxCategory,e.Blockly.Comment=_r.Comment,e.Blockly.ComponentManager=dn.ComponentManager,e.Blockly.Connection=wn.Connection,e.Blockly.ConnectionType=e.module$exports$Blockly$ConnectionType.ConnectionType,e.Blockly.ConnectionChecker=xn.ConnectionChecker,e.Blockly.ConnectionDB=Ho.ConnectionDB,e.Blockly.ContextMenu=e.module$exports$Blockly$ContextMenu,e.Blockly.ContextMenuItems=cr,e.Blockly.ContextMenuRegistry=No.ContextMenuRegistry,e.Blockly.Css=c,e.Blockly.Cursor=Po.Cursor,e.Blockly.DeleteArea=ii.DeleteArea,e.Blockly.DragTarget=oi.DragTarget,e.Blockly.DropDownDiv=be.DropDownDiv,e.Blockly.Events=e.module$exports$Blockly$Events,e.Blockly.Extensions=e.module$exports$Blockly$Extensions,e.Blockly.Field=jn.Field,e.Blockly.FieldAngle=Ei.FieldAngle,e.Blockly.FieldCheckbox=e.module$exports$Blockly$FieldCheckbox.FieldCheckbox,e.Blockly.FieldColour=Ti.FieldColour,e.Blockly.FieldDropdown=e.module$exports$Blockly$FieldDropdown.FieldDropdown,e.Blockly.FieldImage=e.module$exports$Blockly$FieldImage.FieldImage,e.Blockly.FieldLabel=e.module$exports$Blockly$FieldLabel.FieldLabel,e.Blockly.FieldLabelSerializable=vi.FieldLabelSerializable,e.Blockly.FieldMultilineInput=yi.FieldMultilineInput,e.Blockly.FieldNumber=mi.FieldNumber,e.Blockly.FieldTextInput=e.module$exports$Blockly$FieldTextInput.FieldTextInput,e.Blockly.FieldVariable=_i.FieldVariable,e.Blockly.Flyout=si.Flyout,e.Blockly.FlyoutButton=Cr.FlyoutButton,e.Blockly.FlyoutMetricsManager=ri.FlyoutMetricsManager,e.Blockly.Generator=e.module$exports$Blockly$Generator.Generator,e.Blockly.Gesture=Yn.Gesture,e.Blockly.Grid=Me.Grid,e.Blockly.HorizontalFlyout=fi.HorizontalFlyout,e.Blockly.IASTNodeLocation=function(){},e.Blockly.IASTNodeLocationSvg=function(){},e.Blockly.IASTNodeLocationWithBlock=function(){},e.Blockly.IAutoHideable=function(){},e.Blockly.IBlockDragger=function(){},e.Blockly.IBoundedElement=function(){},e.Blockly.IBubble=function(){},e.Blockly.ICollapsibleToolboxItem=function(){},e.Blockly.IComponent=function(){},e.Blockly.IConnectionChecker=function(){},e.Blockly.IContextMenu=function(){},e.Blockly.Icon=fr.Icon,e.Blockly.ICopyable=function(){},e.Blockly.IDeletable=function(){},e.Blockly.IDeleteArea=function(){},e.Blockly.IDragTarget=function(){},e.Blockly.IDraggable=function(){},e.Blockly.IFlyout=function(){},e.Blockly.IKeyboardAccessible=function(){},e.Blockly.IMetricsManager=function(){},e.Blockly.IMovable=function(){},e.Blockly.Input=e.module$exports$Blockly$Input.Input,e.Blockly.InsertionMarkerManager=Un.InsertionMarkerManager,e.Blockly.IPositionable=function(){},e.Blockly.IRegistrable=function(){},e.Blockly.IRegistrableField={},e.Blockly.ISelectable=function(){},e.Blockly.ISelectableToolboxItem=function(){},e.Blockly.IStyleable=function(){},e.Blockly.IToolbox=function(){},e.Blockly.IToolboxItem=function(){},e.Blockly.Marker=Mo.Marker,e.Blockly.MarkerManager=rn.MarkerManager,e.Blockly.Menu=st.Menu,e.Blockly.MenuItem=rt.MenuItem,e.Blockly.MetricsManager=jo.MetricsManager,e.Blockly.Mutator=e.module$exports$Blockly$Mutator.Mutator,e.Blockly.Msg=e.module$exports$Blockly$Msg.Msg,e.Blockly.Names=e.module$exports$Blockly$Names.Names,e.Blockly.Options=qe.Options,e.Blockly.Procedures=e.module$exports$Blockly$Procedures,e.Blockly.RenderedConnection=Do.RenderedConnection,e.Blockly.Scrollbar=Ze.Scrollbar,e.Blockly.ScrollbarPair=Qe.ScrollbarPair,e.Blockly.ShortcutItems=tr,e.Blockly.ShortcutRegistry=tt.ShortcutRegistry,e.Blockly.TabNavigateCursor=Fo.TabNavigateCursor,e.Blockly.Theme=Ke.Theme,e.Blockly.Themes=er,e.Blockly.ThemeManager=Vo.ThemeManager,e.Blockly.Toolbox=di.Toolbox,e.Blockly.ToolboxCategory=ci.ToolboxCategory,e.Blockly.ToolboxItem=ai.ToolboxItem,e.Blockly.ToolboxSeparator=ui.ToolboxSeparator,e.Blockly.Tooltip=T,e.Blockly.Touch=p,e.Blockly.TouchGesture=Go.TouchGesture,e.Blockly.Trashcan=Er.Trashcan,e.Blockly.VariableMap=In.VariableMap,e.Blockly.VariableModel=En.VariableModel,e.Blockly.Variables=e.module$exports$Blockly$Variables,e.Blockly.VariablesDynamic=Ir,e.Blockly.VerticalFlyout=li.VerticalFlyout,e.Blockly.Warning=gr.Warning,e.Blockly.WidgetDiv=U,e.Blockly.Workspace=Nn.Workspace,e.Blockly.WorkspaceAudio=Wo.WorkspaceAudio,e.Blockly.WorkspaceComment=vr.WorkspaceComment,e.Blockly.WorkspaceCommentSvg=Tr.WorkspaceCommentSvg,e.Blockly.WorkspaceDragSurfaceSvg=nt.WorkspaceDragSurfaceSvg,e.Blockly.WorkspaceDragger=$n.WorkspaceDragger,e.Blockly.WorkspaceSvg=Xo.WorkspaceSvg,e.Blockly.Xml=e.module$exports$Blockly$Xml,e.Blockly.ZoomControls=yr.ZoomControls,e.Blockly.blockAnimations=ln,e.Blockly.blockRendering=ko,e.Blockly.browserEvents=_,e.Blockly.bumpObjects=ue,e.Blockly.clipboard=ot,e.Blockly.common=e.module$exports$Blockly$common,e.Blockly.connectionTypes=e.module$exports$Blockly$ConnectionType.ConnectionType,e.Blockly.constants=On,e.Blockly.dialog=fn,e.Blockly.fieldRegistry=on,e.Blockly.geras=Zi,e.Blockly.inject=Ko,e.Blockly.inputTypes=e.module$exports$Blockly$inputTypes.inputTypes,e.Blockly.minimalist=Vi,e.Blockly.registry=Z,e.Blockly.serialization={blocks:pt,exceptions:ct,priorities:lt,registry:at,variables:{},workspaces:Pi,ISerializer:ut.ISerializer},e.Blockly.thrasos=Mi,e.Blockly.uiPosition=mr,e.Blockly.utils=Bo,e.Blockly.zelos=xi,"Blockly"in e.module$exports$Blockly$utils$global.globalThis||(e.module$exports$Blockly$utils$global.globalThis.Blockly={Msg:e.module$exports$Blockly$Msg.Msg}),e.Blockly.internal_=e,e.Blockly},i=[],void 0===(r="function"===typeof(o=s)?o.apply(t,i):o)||(e.exports=r)},3487:function(e,t,n){var o,i,r;i=[n(7365)],void 0===(r="function"===typeof(o=function(e){return e})?o.apply(t,i):o)||(e.exports=r)},7365:function(e,t,n){var o,i,r;i=[n(9810)],void 0===(r="function"===typeof(o=function(e){var t=e.internal_;(0,t.module$exports$Blockly$common.defineBlocksWithJsonArray)([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]);var n={customContextMenu:function(e){if(this.isInFlyout)"variables_get_dynamic"!==this.type&&"variables_get_reporter_dynamic"!==this.type||(n={text:t.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE,enabled:!0,callback:o(this)},l=this.getField("VAR").getText(),l={text:t.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE.replace("%1",l),enabled:!0,callback:i(this)},e.unshift(n),e.unshift(l));else{var n=this.getFieldValue("VAR"),r=this.workspace.getVariableById(n).type;if("variables_get_dynamic"===this.type){n="variables_set_dynamic";var s=t.module$exports$Blockly$Msg.Msg.VARIABLES_GET_CREATE_SET}else n="variables_get_dynamic",s=t.module$exports$Blockly$Msg.Msg.VARIABLES_SET_CREATE_GET;var l={enabled:0<this.workspace.remainingCapacity()},a=this.getField("VAR").getText();l.text=s.replace("%1",a),(s=(0,t.module$exports$Blockly$utils$xml.createElement)("field")).setAttribute("name","VAR"),s.setAttribute("variabletype",r),s.appendChild((0,t.module$exports$Blockly$utils$xml.createTextNode)(a)),(r=(0,t.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type",n),r.appendChild(s),l.callback=(0,t.module$exports$Blockly$ContextMenu.callbackFactory)(this,r),e.push(l)}},onchange:function(e){e=this.getFieldValue("VAR"),e=(0,t.module$exports$Blockly$Variables.getVariable)(this.workspace,e),"variables_get_dynamic"===this.type?this.outputConnection.setCheck(e.type):this.getInput("VALUE").connection.setCheck(e.type)}},o=function(e){return function(){var n=e.workspace,o=e.getField("VAR").getVariable();(0,t.module$exports$Blockly$Variables.renameVariable)(n,o)}},i=function(e){return function(){var t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}};(0,t.module$exports$Blockly$Extensions.registerMixin)("contextMenu_variableDynamicSetterGetter",n),(0,t.module$exports$Blockly$common.defineBlocksWithJsonArray)([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);var r={customContextMenu:function(e){if(this.isInFlyout)"variables_get"!==this.type&&"variables_get_reporter"!==this.type||(n={text:t.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE,enabled:!0,callback:s(this)},i=this.getField("VAR").getText(),i={text:t.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE.replace("%1",i),enabled:!0,callback:l(this)},e.unshift(n),e.unshift(i));else{if("variables_get"===this.type)var n="variables_set",o=t.module$exports$Blockly$Msg.Msg.VARIABLES_GET_CREATE_SET;else n="variables_get",o=t.module$exports$Blockly$Msg.Msg.VARIABLES_SET_CREATE_GET;var i={enabled:0<this.workspace.remainingCapacity()},r=this.getField("VAR").getText();i.text=o.replace("%1",r),(o=(0,t.module$exports$Blockly$utils$xml.createElement)("field")).setAttribute("name","VAR"),o.appendChild((0,t.module$exports$Blockly$utils$xml.createTextNode)(r)),(r=(0,t.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type",n),r.appendChild(o),i.callback=(0,t.module$exports$Blockly$ContextMenu.callbackFactory)(this,r),e.push(i)}}},s=function(e){return function(){var n=e.workspace,o=e.getField("VAR").getVariable();(0,t.module$exports$Blockly$Variables.renameVariable)(n,o)}},l=function(e){return function(){var t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}};(0,t.module$exports$Blockly$Extensions.registerMixin)("contextMenu_variableSetterGetter",r),(0,t.module$exports$Blockly$common.defineBlocksWithJsonArray)([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"\xb6"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),t.module$exports$Blockly$blocks.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[t.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[t.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[t.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[t.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[t.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(t.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(t.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation"),n=this.getInput("AT1").type===t.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE;return e.setAttribute("at1",n),n=this.getInput("AT2").type===t.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,e.setAttribute("at2",n),e},domToMutation:function(e){var t="true"===e.getAttribute("at1");e="true"===e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(e,n){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),n?(this.appendValueInput("AT"+e).setCheck("Number"),t.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e),2===e&&t.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TAIL));var o=new t.module$exports$Blockly$FieldDropdown.FieldDropdown(this["WHERE_OPTIONS_"+e],(function(t){var o="FROM_START"===t||"FROM_END"===t;if(o!==n){var i=this.getSourceBlock();return i.updateAt_(e,o),i.setFieldValue(t,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(o,"WHERE"+e),1===e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},t.module$exports$Blockly$blocks.Blocks.text_changeCase={init:function(){var e=[[t.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[t.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[t.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new t.module$exports$Blockly$FieldDropdown.FieldDropdown(e),"CASE"),this.setOutput(!0,"String"),this.setTooltip(t.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_TOOLTIP)}},t.module$exports$Blockly$blocks.Blocks.text_trim={init:function(){var e=[[t.module$exports$Blockly$Msg.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[t.module$exports$Blockly$Msg.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[t.module$exports$Blockly$Msg.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new t.module$exports$Blockly$FieldDropdown.FieldDropdown(e),"MODE"),this.setOutput(!0,"String"),this.setTooltip(t.module$exports$Blockly$Msg.Msg.TEXT_TRIM_TOOLTIP)}},t.module$exports$Blockly$blocks.Blocks.text_print={init:function(){this.jsonInit({message0:t.module$exports$Blockly$Msg.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:t.module$exports$Blockly$Msg.Msg.TEXT_PRINT_TOOLTIP,helpUrl:t.module$exports$Blockly$Msg.Msg.TEXT_PRINT_HELPURL})}};var a={updateType_:function(e){this.outputConnection.setCheck("NUMBER"===e?"Number":"String")},mutationToDom:function(){var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation");return e.setAttribute("type",this.getFieldValue("TYPE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("type"))}};t.module$exports$Blockly$blocks.Blocks.text_prompt_ext=Object.assign({},a,{init:function(){var e=[[t.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var n=this;e=new t.module$exports$Blockly$FieldDropdown.FieldDropdown(e,(function(e){n.updateType_(e)})),this.appendValueInput("TEXT").appendField(e,"TYPE"),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"===n.getFieldValue("TYPE")?t.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TOOLTIP_TEXT:t.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))}}),t.module$exports$Blockly$blocks.Blocks.text_prompt=Object.assign({},a,{init:function(){this.mixin(c);var e=[[t.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],n=this;this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),e=new t.module$exports$Blockly$FieldDropdown.FieldDropdown(e,(function(e){n.updateType_(e)})),this.appendDummyInput().appendField(e,"TYPE").appendField(this.newQuote_(!0)).appendField(new t.module$exports$Blockly$FieldTextInput.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"===n.getFieldValue("TYPE")?t.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TOOLTIP_TEXT:t.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))}}),t.module$exports$Blockly$blocks.Blocks.text_count={init:function(){this.jsonInit({message0:t.module$exports$Blockly$Msg.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:t.module$exports$Blockly$Msg.Msg.TEXT_COUNT_TOOLTIP,helpUrl:t.module$exports$Blockly$Msg.Msg.TEXT_COUNT_HELPURL})}},t.module$exports$Blockly$blocks.Blocks.text_replace={init:function(){this.jsonInit({message0:t.module$exports$Blockly$Msg.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.module$exports$Blockly$Msg.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:t.module$exports$Blockly$Msg.Msg.TEXT_REPLACE_HELPURL})}},t.module$exports$Blockly$blocks.Blocks.text_reverse={init:function(){this.jsonInit({message0:t.module$exports$Blockly$Msg.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.module$exports$Blockly$Msg.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:t.module$exports$Blockly$Msg.Msg.TEXT_REVERSE_HELPURL})}};var c={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(e){for(var t,n=0;t=this.inputList[n];n++)for(var o,i=0;o=t.fieldRow[i];i++)if(e===o.name)return t.insertFieldAt(i,this.newQuote_(!0)),void t.insertFieldAt(i+2,this.newQuote_(!1));console.warn('field named "'+e+'" not found in '+this.toDevString())},newQuote_:function(e){return e=this.RTL?!e:e,new t.module$exports$Blockly$FieldImage.FieldImage(e?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,e?"\u201c":"\u201d")}},u=function(){this.mixin(c),this.quoteField_("TEXT")},p={mutationToDom:function(){var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(e){this.itemCount_=e.itemCount,this.updateShape_()},decompose:function(e){var t=e.newBlock("text_create_join_container");t.initSvg();for(var n=t.getInput("STACK").connection,o=0;o<this.itemCount_;o++){var i=e.newBlock("text_create_join_item");i.initSvg(),n.connect(i.previousConnection),n=i.nextConnection}return t},compose:function(e){var n=e.getInputTargetBlock("STACK");for(e=[];n&&!n.isInsertionMarker();)e.push(n.valueConnection_),n=n.nextConnection&&n.nextConnection.targetBlock();for(n=0;n<this.itemCount_;n++){var o=this.getInput("ADD"+n).connection.targetConnection;o&&-1===e.indexOf(o)&&o.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),n=0;n<this.itemCount_;n++)t.module$exports$Blockly$Mutator.Mutator.reconnect(e[n],this,"ADD"+n)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,e=e.nextConnection&&e.nextConnection.targetBlock(),t++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var n=this.appendValueInput("ADD"+e).setAlign(t.module$exports$Blockly$Input.Align.RIGHT);0===e&&n.appendField(t.module$exports$Blockly$Msg.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(e=this.itemCount_;this.getInput("ADD"+e);e++)this.removeInput("ADD"+e)}},h=function(){this.mixin(c),this.itemCount_=2,this.updateShape_(),this.setMutator(new t.module$exports$Blockly$Mutator.Mutator(["text_create_join_item"]))};(0,t.module$exports$Blockly$Extensions.register)("text_append_tooltip",(0,t.module$exports$Blockly$Extensions.buildTooltipWithFieldText)("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var d=function(){var e=this;this.setTooltip((function(){return t.module$exports$Blockly$Msg.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",e.workspace.options.oneBasedIndex?"0":"-1")}))},f={mutationToDom:function(){var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation");return e.setAttribute("at",!!this.isAt_),e},domToMutation:function(e){e="false"!==e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(e){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),e&&(this.appendValueInput("AT").setCheck("Number"),t.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)),t.module$exports$Blockly$Msg.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.module$exports$Blockly$Msg.Msg.TEXT_CHARAT_TAIL)),this.isAt_=e}},g=function(){this.getField("WHERE").setValidator((function(e){(e="FROM_START"===e||"FROM_END"===e)!==this.isAt_&&this.getSourceBlock().updateAt_(e)})),this.updateAt_(!0);var e=this;this.setTooltip((function(){var n=e.getFieldValue("WHERE"),o=t.module$exports$Blockly$Msg.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"===n||"FROM_END"===n)&&(n="FROM_START"===n?t.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_START_TOOLTIP:t.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(o+="  "+n.replace("%1",e.workspace.options.oneBasedIndex?"#1":"#0")),o}))};(0,t.module$exports$Blockly$Extensions.register)("text_indexOf_tooltip",d),(0,t.module$exports$Blockly$Extensions.register)("text_quotes",u),(0,t.module$exports$Blockly$Extensions.registerMutator)("text_join_mutator",p,h),(0,t.module$exports$Blockly$Extensions.registerMutator)("text_charAt_mutator",f,g);var _={setStatements_:function(e){this.hasStatements_!==e&&(e?(this.appendStatementInput("STACK").appendField(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=e)},updateParams_:function(){var e="";this.arguments_.length&&(e=t.module$exports$Blockly$Msg.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),(0,t.module$exports$Blockly$Events.disable)();try{this.setFieldValue(e,"PARAMS")}finally{(0,t.module$exports$Blockly$Events.enable)()}},mutationToDom:function(e){var n=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation");e&&n.setAttribute("name",this.getFieldValue("NAME"));for(var o=0;o<this.argumentVarModels_.length;o++){var i=(0,t.module$exports$Blockly$utils$xml.createElement)("arg"),r=this.argumentVarModels_[o];i.setAttribute("name",r.name),i.setAttribute("varid",r.getId()),e&&this.paramIds_&&i.setAttribute("paramId",this.paramIds_[o]),n.appendChild(i)}return this.hasStatements_||n.setAttribute("statements","false"),n},domToMutation:function(e){this.arguments_=[],this.argumentVarModels_=[];for(var n,o=0;n=e.childNodes[o];o++)if("arg"===n.nodeName.toLowerCase()){var i=n.getAttribute("name");n=n.getAttribute("varid")||n.getAttribute("varId"),this.arguments_.push(i),null!==(n=(0,t.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.workspace,n,i,""))?this.argumentVarModels_.push(n):console.log("Failed to create a variable with name "+i+", ignoring.")}this.updateParams_(),(0,t.module$exports$Blockly$Procedures.mutateCallers)(this),this.setStatements_("false"!==e.getAttribute("statements"))},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;var e=Object.create(null);if(this.argumentVarModels_.length){e.params=[];for(var t=0;t<this.argumentVarModels_.length;t++)e.params.push({name:this.argumentVarModels_[t].name,id:this.argumentVarModels_[t].getId()})}return this.hasStatements_||(e.hasStatements=!1),e},loadExtraState:function(e){if(this.arguments_=[],this.argumentVarModels_=[],e.params)for(var n=0;n<e.params.length;n++){var o=e.params[n];o=(0,t.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.workspace,o.id,o.name,""),this.arguments_.push(o.name),this.argumentVarModels_.push(o)}this.updateParams_(),(0,t.module$exports$Blockly$Procedures.mutateCallers)(this),this.setStatements_(!1!==e.hasStatements)},decompose:function(e){var n=(0,t.module$exports$Blockly$utils$xml.createElement)("block");n.setAttribute("type","procedures_mutatorcontainer");var o=(0,t.module$exports$Blockly$utils$xml.createElement)("statement");o.setAttribute("name","STACK"),n.appendChild(o);for(var i=0;i<this.arguments_.length;i++){var r=(0,t.module$exports$Blockly$utils$xml.createElement)("block");r.setAttribute("type","procedures_mutatorarg");var s=(0,t.module$exports$Blockly$utils$xml.createElement)("field");s.setAttribute("name","NAME");var l=(0,t.module$exports$Blockly$utils$xml.createTextNode)(this.arguments_[i]);s.appendChild(l),r.appendChild(s),s=(0,t.module$exports$Blockly$utils$xml.createElement)("next"),r.appendChild(s),o.appendChild(r),o=s}return e=(0,t.module$exports$Blockly$Xml.domToBlock)(n,e),"procedures_defreturn"===this.type?e.setFieldValue(this.hasStatements_,"STATEMENTS"):e.removeInput("STATEMENT_INPUT"),(0,t.module$exports$Blockly$Procedures.mutateCallers)(this),e},compose:function(e){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var n=e.getInputTargetBlock("STACK");n&&!n.isInsertionMarker();){var o=n.getFieldValue("NAME");this.arguments_.push(o),o=this.workspace.getVariable(o,""),this.argumentVarModels_.push(o),this.paramIds_.push(n.id),n=n.nextConnection&&n.nextConnection.targetBlock()}this.updateParams_(),(0,t.module$exports$Blockly$Procedures.mutateCallers)(this),null!==(e=e.getFieldValue("STATEMENTS"))&&(e="TRUE"===e,this.hasStatements_!==e)&&(e?(this.setStatements_(!0),t.module$exports$Blockly$Mutator.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(e=this.getInput("STACK").connection,(this.statementConnection_=e.targetConnection)&&((e=e.targetBlock()).unplug(),e.bumpNeighbours()),this.setStatements_(!1)))},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(e,n){var o=this.workspace.getVariableById(e);if(""===o.type){o=o.name,n=this.workspace.getVariableById(n);for(var i=!1,r=0;r<this.argumentVarModels_.length;r++)this.argumentVarModels_[r].getId()===e&&(this.arguments_[r]=n.name,this.argumentVarModels_[r]=n,i=!0);i&&(this.displayRenamedVar_(o,n.name),(0,t.module$exports$Blockly$Procedures.mutateCallers)(this))}},updateVarName:function(e){for(var n,o=e.name,i=!1,r=0;r<this.argumentVarModels_.length;r++)this.argumentVarModels_[r].getId()===e.getId()&&(n=this.arguments_[r],this.arguments_[r]=o,i=!0);i&&(this.displayRenamedVar_(n,o),(0,t.module$exports$Blockly$Procedures.mutateCallers)(this))},displayRenamedVar_:function(e,n){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var o,i=this.mutator.workspace_.getAllBlocks(!1),r=0;o=i[r];r++)"procedures_mutatorarg"===o.type&&t.module$exports$Blockly$Names.Names.equals(e,o.getFieldValue("NAME"))&&o.setFieldValue(n,"NAME")},customContextMenu:function(e){if(!this.isInFlyout){var n={enabled:!0},o=this.getFieldValue("NAME");n.text=t.module$exports$Blockly$Msg.Msg.PROCEDURES_CREATE_DO.replace("%1",o);var i=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation");for(i.setAttribute("name",o),o=0;o<this.arguments_.length;o++){var r=(0,t.module$exports$Blockly$utils$xml.createElement)("arg");r.setAttribute("name",this.arguments_[o]),i.appendChild(r)}if((o=(0,t.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type",this.callType_),o.appendChild(i),n.callback=(0,t.module$exports$Blockly$ContextMenu.callbackFactory)(this,o),e.push(n),!this.isCollapsed())for(n=0;n<this.argumentVarModels_.length;n++)i={enabled:!0},o=this.argumentVarModels_[n],i.text=t.module$exports$Blockly$Msg.Msg.VARIABLES_SET_CREATE_GET.replace("%1",o.name),o=(0,t.module$exports$Blockly$Variables.generateVariableFieldDom)(o),(r=(0,t.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type","variables_get"),r.appendChild(o),i.callback=(0,t.module$exports$Blockly$ContextMenu.callbackFactory)(this,r),e.push(i)}},callType_:"procedures_callnoreturn"};t.module$exports$Blockly$blocks.Blocks.procedures_defnoreturn=Object.assign({},_,{init:function(){var e=(0,t.module$exports$Blockly$Procedures.findLegalName)("",this);(e=new t.module$exports$Blockly$FieldTextInput.FieldTextInput(e,t.module$exports$Blockly$Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.setMutator(new t.module$exports$Blockly$Mutator.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]}}),t.module$exports$Blockly$blocks.Blocks.procedures_defreturn=Object.assign({},_,{init:function(){var e=(0,t.module$exports$Blockly$Procedures.findLegalName)("",this);(e=new t.module$exports$Blockly$FieldTextInput.FieldTextInput(e,t.module$exports$Blockly$Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(t.module$exports$Blockly$Input.Align.RIGHT).appendField(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new t.module$exports$Blockly$Mutator.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]}}),t.module$exports$Blockly$blocks.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(t.module$exports$Blockly$Msg.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(t.module$exports$Blockly$Msg.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new t.module$exports$Blockly$FieldCheckbox.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(t.module$exports$Blockly$Msg.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},t.module$exports$Blockly$blocks.Blocks.procedures_mutatorarg={init:function(){var e=new t.module$exports$Blockly$FieldTextInput.FieldTextInput(t.module$exports$Blockly$Procedures.DEFAULT_ARG,this.validator_);e.oldShowEditorFn_=e.showEditor_,e.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(t.module$exports$Blockly$Msg.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(e,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.module$exports$Blockly$Msg.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,e.onFinishEditing_=this.deleteIntermediateVars_,e.createdVariables_=[],e.onFinishEditing_("x")},validator_:function(e){var n=this.getSourceBlock(),o=t.module$exports$Blockly$Mutator.Mutator.findParentWs(n.workspace);if(!(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;for(var i=(n.workspace.targetWorkspace||n.workspace).getAllBlocks(!1),r=e.toLowerCase(),s=0;s<i.length;s++)if(i[s].id!==this.getSourceBlock().id){var l=i[s].getFieldValue("NAME");if(l&&l.toLowerCase()===r)return null}return n.isInFlyout||((n=o.getVariable(e,""))&&n.name!==e&&o.renameVariableById(n.getId(),e),n||(n=o.createVariable(e,""))&&this.createdVariables_&&this.createdVariables_.push(n)),e},deleteIntermediateVars_:function(e){var n=t.module$exports$Blockly$Mutator.Mutator.findParentWs(this.getSourceBlock().workspace);if(n)for(var o=0;o<this.createdVariables_.length;o++){var i=this.createdVariables_[o];i.name!==e&&n.deleteVariableById(i.getId())}}};var m={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(e,n){t.module$exports$Blockly$Names.Names.equals(e,this.getProcedureCall())&&(this.setFieldValue(n,"NAME"),this.setTooltip((this.outputConnection?t.module$exports$Blockly$Msg.Msg.PROCEDURES_CALLRETURN_TOOLTIP:t.module$exports$Blockly$Msg.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",n)))},setProcedureParameters_:function(e,n){var o=(0,t.module$exports$Blockly$Procedures.getDefinition)(this.getProcedureCall(),this.workspace),i=o&&o.mutator&&o.mutator.isVisible();if(i||(this.quarkConnections_={},this.quarkIds_=null),n)if(e.join("\n")===this.arguments_.join("\n"))this.quarkIds_=n;else{if(n.length!==e.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),o=this.rendered,this.rendered=!1;for(var r=0;r<this.arguments_.length;r++){var s=this.getInput("ARG"+r);s&&(s=s.connection.targetConnection,this.quarkConnections_[this.quarkIds_[r]]=s,i&&s&&-1===n.indexOf(this.quarkIds_[r])&&(s.disconnect(),s.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(e),this.argumentVarModels_=[],e=0;e<this.arguments_.length;e++)i=(0,t.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.workspace,null,this.arguments_[e],""),this.argumentVarModels_.push(i);if(this.updateShape_(),this.quarkIds_=n)for(n=0;n<this.arguments_.length;n++)(e=this.quarkIds_[n])in this.quarkConnections_&&(t.module$exports$Blockly$Mutator.Mutator.reconnect(this.quarkConnections_[e],this,"ARG"+n)||delete this.quarkConnections_[e]);(this.rendered=o)&&this.render()}},updateShape_:function(){for(var e=0;e<this.arguments_.length;e++){var n=this.getField("ARGNAME"+e);if(n){(0,t.module$exports$Blockly$Events.disable)();try{n.setValue(this.arguments_[e])}finally{(0,t.module$exports$Blockly$Events.enable)()}}else n=new t.module$exports$Blockly$FieldLabel.FieldLabel(this.arguments_[e]),this.appendValueInput("ARG"+e).setAlign(t.module$exports$Blockly$Input.Align.RIGHT).appendField(n,"ARGNAME"+e).init()}for(e=this.arguments_.length;this.getInput("ARG"+e);e++)this.removeInput("ARG"+e);(e=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(e.appendField(t.module$exports$Blockly$Msg.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),e.init()):this.getField("WITH")&&e.removeField("WITH"))},mutationToDom:function(){var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation");e.setAttribute("name",this.getProcedureCall());for(var n=0;n<this.arguments_.length;n++){var o=(0,t.module$exports$Blockly$utils$xml.createElement)("arg");o.setAttribute("name",this.arguments_[n]),e.appendChild(o)}return e},domToMutation:function(e){var t=e.getAttribute("name");this.renameProcedure(this.getProcedureCall(),t),t=[];for(var n,o=[],i=0;n=e.childNodes[i];i++)"arg"===n.nodeName.toLowerCase()&&(t.push(n.getAttribute("name")),o.push(n.getAttribute("paramId")));this.setProcedureParameters_(t,o)},saveExtraState:function(){var e=Object.create(null);return e.name=this.getProcedureCall(),this.arguments_.length&&(e.params=this.arguments_),e},loadExtraState:function(e){if(this.renameProcedure(this.getProcedureCall(),e.name),e=e.params){var t=[];t.length=e.length,t.fill(null),this.setProcedureParameters_(e,t)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(e){if(this.workspace&&!this.workspace.isFlyout&&e.recordUndo)if(e.type===t.module$exports$Blockly$Events.BLOCK_CREATE&&-1!==e.ids.indexOf(this.id)){var n=this.getProcedureCall();if(!(n=(0,t.module$exports$Blockly$Procedures.getDefinition)(n,this.workspace))||n.type===this.defType_&&JSON.stringify(n.getVars())===JSON.stringify(this.arguments_)||(n=null),!n){(0,t.module$exports$Blockly$Events.setGroup)(e.group),e=(0,t.module$exports$Blockly$utils$xml.createElement)("xml"),(n=(0,t.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type",this.defType_);var o=this.getRelativeToSurfaceXY(),i=o.y+2*t.module$exports$Blockly$internalConstants.SNAP_RADIUS;n.setAttribute("x",o.x+t.module$exports$Blockly$internalConstants.SNAP_RADIUS*(this.RTL?-1:1)),n.setAttribute("y",i),o=this.mutationToDom(),n.appendChild(o),(o=(0,t.module$exports$Blockly$utils$xml.createElement)("field")).setAttribute("name","NAME"),(i=this.getProcedureCall())||(i=(0,t.module$exports$Blockly$Procedures.findLegalName)("",this),this.renameProcedure("",i)),o.appendChild((0,t.module$exports$Blockly$utils$xml.createTextNode)(i)),n.appendChild(o),e.appendChild(n),(0,t.module$exports$Blockly$Xml.domToWorkspace)(e,this.workspace),(0,t.module$exports$Blockly$Events.setGroup)(!1)}}else e.type===t.module$exports$Blockly$Events.BLOCK_DELETE?(n=this.getProcedureCall(),(0,t.module$exports$Blockly$Procedures.getDefinition)(n,this.workspace)||((0,t.module$exports$Blockly$Events.setGroup)(e.group),this.dispose(!0),(0,t.module$exports$Blockly$Events.setGroup)(!1))):e.type===t.module$exports$Blockly$Events.CHANGE&&"disabled"===e.element&&(n=this.getProcedureCall(),(n=(0,t.module$exports$Blockly$Procedures.getDefinition)(n,this.workspace))&&n.id===e.blockId&&((n=(0,t.module$exports$Blockly$Events.getGroup)())&&console.log("Saw an existing group while responding to a definition change"),(0,t.module$exports$Blockly$Events.setGroup)(e.group),e.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),(0,t.module$exports$Blockly$Events.setGroup)(n)))},customContextMenu:function(e){if(this.workspace.isMovable()){var n={enabled:!0};n.text=t.module$exports$Blockly$Msg.Msg.PROCEDURES_HIGHLIGHT_DEF;var o=this.getProcedureCall(),i=this.workspace;n.callback=function(){var e=(0,t.module$exports$Blockly$Procedures.getDefinition)(o,i);e&&(i.centerOnBlock(e.id),e.select())},e.push(n)}}};t.module$exports$Blockly$blocks.Blocks.procedures_callnoreturn=Object.assign({},m,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defnoreturn"}),t.module$exports$Blockly$blocks.Blocks.procedures_callreturn=Object.assign({},m,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defreturn"}),t.module$exports$Blockly$blocks.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(t.module$exports$Blockly$Msg.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.module$exports$Blockly$Msg.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation");return e.setAttribute("value",Number(this.hasReturnValue_)),e},domToMutation:function(e){this.hasReturnValue_="1"===e.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(e){if(!this.workspace.isDragging||!this.workspace.isDragging()){e=!1;var n=this;do{if(-1!==this.FUNCTION_TYPES.indexOf(n.type)){e=!0;break}n=n.getSurroundParent()}while(n);e?("procedures_defnoreturn"===n.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!==n.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(t.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(t.module$exports$Blockly$Msg.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},(0,t.module$exports$Blockly$common.defineBlocksWithJsonArray)([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\xbd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);var y={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};(0,t.module$exports$Blockly$Extensions.register)("math_op_tooltip",(0,t.module$exports$Blockly$Extensions.buildTooltipForDropdown)("OP",y));var v={mutationToDom:function(){var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation"),n="DIVISIBLE_BY"===this.getFieldValue("PROPERTY");return e.setAttribute("divisor_input",n),e},domToMutation:function(e){e="true"===e.getAttribute("divisor_input"),this.updateShape_(e)},updateShape_:function(e){var t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck("Number"):t&&this.removeInput("DIVISOR")}},T=function(){this.getField("PROPERTY").setValidator((function(e){e="DIVISIBLE_BY"===e,this.getSourceBlock().updateShape_(e)}))};(0,t.module$exports$Blockly$Extensions.registerMutator)("math_is_divisibleby_mutator",v,T),(0,t.module$exports$Blockly$Extensions.register)("math_change_tooltip",(0,t.module$exports$Blockly$Extensions.buildTooltipWithFieldText)("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var E={updateType_:function(e){"MODE"===e?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation");return e.setAttribute("op",this.getFieldValue("OP")),e},domToMutation:function(e){this.updateType_(e.getAttribute("op"))}},k=function(){this.getField("OP").setValidator(function(e){this.updateType_(e)}.bind(this))};(0,t.module$exports$Blockly$Extensions.registerMutator)("math_modes_of_list_mutator",E,k);var b={};(0,t.module$exports$Blockly$common.defineBlocksWithJsonArray)([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]);var C={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};(0,t.module$exports$Blockly$Extensions.register)("controls_whileUntil_tooltip",(0,t.module$exports$Blockly$Extensions.buildTooltipForDropdown)("MODE",C));var S={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};(0,t.module$exports$Blockly$Extensions.register)("controls_flow_tooltip",(0,t.module$exports$Blockly$Extensions.buildTooltipForDropdown)("FLOW",S));var I={customContextMenu:function(e){if(!this.isInFlyout){var n=this.getField("VAR").getVariable(),o=n.name;if(!this.isCollapsed()&&null!==o){var i={enabled:!0};i.text=t.module$exports$Blockly$Msg.Msg.VARIABLES_SET_CREATE_GET.replace("%1",o),n=(0,t.module$exports$Blockly$Variables.generateVariableFieldDom)(n),(o=(0,t.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type","variables_get"),o.appendChild(n),i.callback=(0,t.module$exports$Blockly$ContextMenu.callbackFactory)(this,o),e.push(i)}}}};(0,t.module$exports$Blockly$Extensions.registerMixin)("contextMenu_newGetVariableBlock",I),(0,t.module$exports$Blockly$Extensions.register)("controls_for_tooltip",(0,t.module$exports$Blockly$Extensions.buildTooltipWithFieldText)("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),(0,t.module$exports$Blockly$Extensions.register)("controls_forEach_tooltip",(0,t.module$exports$Blockly$Extensions.buildTooltipWithFieldText)("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),b.loopTypes=["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"];var R={getSurroundLoop:function(){var e=this;do{if(b.loopTypes.includes(e.type))return e;e=e.getSurroundParent()}while(e);return null},onchange:function(e){if(this.workspace.isDragging&&!this.workspace.isDragging()&&e.type===t.module$exports$Blockly$Events.BLOCK_MOVE){var n=this.getSurroundLoop(this);if(this.setWarningText(n?null:t.module$exports$Blockly$Msg.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout){var o=(0,t.module$exports$Blockly$Events.getGroup)();(0,t.module$exports$Blockly$Events.setGroup)(e.group),this.setEnabled(n),(0,t.module$exports$Blockly$Events.setGroup)(o)}}}};(0,t.module$exports$Blockly$Extensions.registerMixin)("controls_flow_in_loop_check",R),(0,t.module$exports$Blockly$common.defineBlocksWithJsonArray)([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);var O={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};(0,t.module$exports$Blockly$Extensions.register)("logic_op_tooltip",(0,t.module$exports$Blockly$Extensions.buildTooltipForDropdown)("OP",O));var w={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation");return this.elseifCount_&&e.setAttribute("elseif",this.elseifCount_),this.elseCount_&&e.setAttribute("else",1),e},domToMutation:function(e){this.elseifCount_=parseInt(e.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(e.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var e=Object.create(null);return this.elseifCount_&&(e.elseIfCount=this.elseifCount_),this.elseCount_&&(e.hasElse=!0),e},loadExtraState:function(e){this.elseifCount_=e.elseIfCount||0,this.elseCount_=e.hasElse?1:0,this.updateShape_()},decompose:function(e){var t=e.newBlock("controls_if_if");t.initSvg();for(var n=t.nextConnection,o=1;o<=this.elseifCount_;o++){var i=e.newBlock("controls_if_elseif");i.initSvg(),n.connect(i.previousConnection),n=i.nextConnection}return this.elseCount_&&((e=e.newBlock("controls_if_else")).initSvg(),n.connect(e.previousConnection)),t},compose:function(e){e=e.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var t=[null],n=[null],o=null;e&&!e.isInsertionMarker();){switch(e.type){case"controls_if_elseif":this.elseifCount_++,t.push(e.valueConnection_),n.push(e.statementConnection_);break;case"controls_if_else":this.elseCount_++,o=e.statementConnection_;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.nextConnection&&e.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(t,n,o)},saveConnections:function(e){e=e.nextConnection.targetBlock();for(var t=1;e;){switch(e.type){case"controls_if_elseif":var n=this.getInput("IF"+t),o=this.getInput("DO"+t);e.valueConnection_=n&&n.connection.targetConnection,e.statementConnection_=o&&o.connection.targetConnection,t++;break;case"controls_if_else":n=this.getInput("ELSE"),e.statementConnection_=n&&n.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.nextConnection&&e.nextConnection.targetBlock()}},rebuildShape_:function(){var e=[null],t=[null],n=null;this.getInput("ELSE")&&(n=this.getInput("ELSE").connection.targetConnection);for(var o=1;this.getInput("IF"+o);o++){var i=this.getInput("IF"+o),r=this.getInput("DO"+o);e.push(i.connection.targetConnection),t.push(r.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(e,t,n)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var e=1;this.getInput("IF"+e);e++)this.removeInput("IF"+e),this.removeInput("DO"+e);for(e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).setCheck("Boolean").appendField(t.module$exports$Blockly$Msg.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+e).appendField(t.module$exports$Blockly$Msg.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(t.module$exports$Blockly$Msg.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(e,n,o){for(var i=1;i<=this.elseifCount_;i++)t.module$exports$Blockly$Mutator.Mutator.reconnect(e[i],this,"IF"+i),t.module$exports$Blockly$Mutator.Mutator.reconnect(n[i],this,"DO"+i);t.module$exports$Blockly$Mutator.Mutator.reconnect(o,this,"ELSE")}};(0,t.module$exports$Blockly$Extensions.registerMutator)("controls_if_mutator",w,null,["controls_if_elseif","controls_if_else"]);var B=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?t.module$exports$Blockly$Msg.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?t.module$exports$Blockly$Msg.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?t.module$exports$Blockly$Msg.Msg.CONTROLS_IF_TOOLTIP_4:"":t.module$exports$Blockly$Msg.Msg.CONTROLS_IF_TOOLTIP_1}.bind(this))};(0,t.module$exports$Blockly$Extensions.register)("controls_if_tooltip",B);var A={onchange:function(e){this.prevBlocks_||(this.prevBlocks_=[null,null]);var n=this.getInputTargetBlock("A"),o=this.getInputTargetBlock("B");n&&o&&!this.workspace.connectionChecker.doTypeChecks(n.outputConnection,o.outputConnection)&&((0,t.module$exports$Blockly$Events.setGroup)(e.group),(e=this.prevBlocks_[0])!==n&&(n.unplug(),!e||e.isDisposed()||e.isShadow()||this.getInput("A").connection.connect(e.outputConnection)),(n=this.prevBlocks_[1])!==o&&(o.unplug(),!n||n.isDisposed()||n.isShadow()||this.getInput("B").connection.connect(n.outputConnection)),this.bumpNeighbours(),(0,t.module$exports$Blockly$Events.setGroup)(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},x=function(){this.mixin(A)};(0,t.module$exports$Blockly$Extensions.register)("logic_compare",x);var N={prevParentConnection_:null,onchange:function(e){var n=this.getInputTargetBlock("THEN"),o=this.getInputTargetBlock("ELSE"),i=this.outputConnection.targetConnection;if((n||o)&&i)for(var r=0;2>r;r++){var s=1===r?n:o;s&&!s.workspace.connectionChecker.doTypeChecks(s.outputConnection,i)&&((0,t.module$exports$Blockly$Events.setGroup)(e.group),i===this.prevParentConnection_?(this.unplug(),i.getSourceBlock().bumpNeighbours()):(s.unplug(),s.bumpNeighbours()),(0,t.module$exports$Blockly$Events.setGroup)(!1))}this.prevParentConnection_=i}};return(0,t.module$exports$Blockly$Extensions.registerMixin)("logic_ternary",N),(0,t.module$exports$Blockly$common.defineBlocksWithJsonArray)([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),t.module$exports$Blockly$blocks.Blocks.lists_create_with={init:function(){this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new t.module$exports$Blockly$Mutator.Mutator(["lists_create_with_item"])),this.setTooltip(t.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(e){this.itemCount_=e.itemCount,this.updateShape_()},decompose:function(e){var t=e.newBlock("lists_create_with_container");t.initSvg();for(var n=t.getInput("STACK").connection,o=0;o<this.itemCount_;o++){var i=e.newBlock("lists_create_with_item");i.initSvg(),n.connect(i.previousConnection),n=i.nextConnection}return t},compose:function(e){var n=e.getInputTargetBlock("STACK");for(e=[];n&&!n.isInsertionMarker();)e.push(n.valueConnection_),n=n.nextConnection&&n.nextConnection.targetBlock();for(n=0;n<this.itemCount_;n++){var o=this.getInput("ADD"+n).connection.targetConnection;o&&-1===e.indexOf(o)&&o.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),n=0;n<this.itemCount_;n++)t.module$exports$Blockly$Mutator.Mutator.reconnect(e[n],this,"ADD"+n)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,e=e.nextConnection&&e.nextConnection.targetBlock(),t++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(t.module$exports$Blockly$Msg.Msg.LISTS_CREATE_EMPTY_TITLE);for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var n=this.appendValueInput("ADD"+e).setAlign(t.module$exports$Blockly$Input.Align.RIGHT);0===e&&n.appendField(t.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(e=this.itemCount_;this.getInput("ADD"+e);e++)this.removeInput("ADD"+e)}},t.module$exports$Blockly$blocks.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(t.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},t.module$exports$Blockly$blocks.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},t.module$exports$Blockly$blocks.Blocks.lists_indexOf={init:function(){var e=[[t.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[t.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(t.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new t.module$exports$Blockly$FieldDropdown.FieldDropdown(e),"END"),this.setInputsInline(!0);var n=this;this.setTooltip((function(){return t.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"0":"-1")}))}},t.module$exports$Blockly$blocks.Blocks.lists_getIndex={init:function(){var e=[[t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_GET,"GET"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_LAST,"LAST"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),e=new t.module$exports$Blockly$FieldDropdown.FieldDropdown(e,(function(e){e="REMOVE"===e,this.getSourceBlock().updateStatement_(e)})),this.appendValueInput("VALUE").setCheck("Array").appendField(t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(e,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var n=this;this.setTooltip((function(){var e=n.getFieldValue("MODE"),o=n.getFieldValue("WHERE"),i="";switch(e+" "+o){case"GET FROM_START":case"GET FROM_END":i=t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":i=t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":i=t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":i=t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":i=t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":i=t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":i=t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":i=t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":i=t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":i=t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":i=t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":i=t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!==o&&"FROM_END"!==o||(i+="  "+("FROM_START"===o?t.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_START_TOOLTIP:t.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),i}))},mutationToDom:function(){var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation");e.setAttribute("statement",!this.outputConnection);var n=this.getInput("AT").type===t.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE;return e.setAttribute("at",n),e},domToMutation:function(e){var t="true"===e.getAttribute("statement");this.updateStatement_(t),e="false"!==e.getAttribute("at"),this.updateAt_(e)},updateStatement_:function(e){e!==!this.outputConnection&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var n=new t.module$exports$Blockly$FieldDropdown.FieldDropdown(this.WHERE_OPTIONS,(function(t){var n="FROM_START"===t||"FROM_END"===t;if(n!==e){var o=this.getSourceBlock();return o.updateAt_(n),o.setFieldValue(t,"WHERE"),null}}));this.getInput("AT").appendField(n,"WHERE"),t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},t.module$exports$Blockly$blocks.Blocks.lists_setIndex={init:function(){var e=[[t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_SET,"SET"],[t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_LAST,"LAST"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new t.module$exports$Blockly$FieldDropdown.FieldDropdown(e),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var n=this;this.setTooltip((function(){var e=n.getFieldValue("MODE"),o=n.getFieldValue("WHERE"),i="";switch(e+" "+o){case"SET FROM_START":case"SET FROM_END":i=t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":i=t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":i=t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":i=t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":i=t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":i=t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":i=t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":i=t.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!==o&&"FROM_END"!==o||(i+="  "+t.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),i}))},mutationToDom:function(){var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation"),n=this.getInput("AT").type===t.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE;return e.setAttribute("at",n),e},domToMutation:function(e){e="false"!==e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var n=new t.module$exports$Blockly$FieldDropdown.FieldDropdown(this.WHERE_OPTIONS,(function(t){var n="FROM_START"===t||"FROM_END"===t;if(n!==e){var o=this.getSourceBlock();return o.updateAt_(n),o.setFieldValue(t,"WHERE"),null}}));this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(n,"WHERE")}},t.module$exports$Blockly$blocks.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[t.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[t.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(t.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation"),n=this.getInput("AT1").type===t.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE;return e.setAttribute("at1",n),n=this.getInput("AT2").type===t.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,e.setAttribute("at2",n),e},domToMutation:function(e){var t="true"===e.getAttribute("at1");e="true"===e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(e,n){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),n?(this.appendValueInput("AT"+e).setCheck("Number"),t.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e);var o=new t.module$exports$Blockly$FieldDropdown.FieldDropdown(this["WHERE_OPTIONS_"+e],(function(t){var o="FROM_START"===t||"FROM_END"===t;if(o!==n){var i=this.getSourceBlock();return i.updateAt_(e,o),i.setFieldValue(t,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(o,"WHERE"+e),1===e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),t.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},t.module$exports$Blockly$blocks.Blocks.lists_sort={init:function(){this.jsonInit({message0:t.module$exports$Blockly$Msg.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[t.module$exports$Blockly$Msg.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[t.module$exports$Blockly$Msg.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[t.module$exports$Blockly$Msg.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[t.module$exports$Blockly$Msg.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[t.module$exports$Blockly$Msg.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:t.module$exports$Blockly$Msg.Msg.LISTS_SORT_TOOLTIP,helpUrl:t.module$exports$Blockly$Msg.Msg.LISTS_SORT_HELPURL})}},t.module$exports$Blockly$blocks.Blocks.lists_split={init:function(){var e=this,n=new t.module$exports$Blockly$FieldDropdown.FieldDropdown([[t.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[t.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],(function(t){e.updateType_(t)}));this.setHelpUrl(t.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(n,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(t.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip((function(){var n=e.getFieldValue("MODE");if("SPLIT"===n)return t.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"===n)return t.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+n)}))},updateType_:function(e){if(this.getFieldValue("MODE")!==e){var t=this.getInput("INPUT").connection;t.setShadowDom(null);var n=t.targetBlock();n&&(t.disconnect(),n.isShadow()?n.dispose():this.bumpNeighbours())}"SPLIT"===e?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var e=(0,t.module$exports$Blockly$utils$xml.createElement)("mutation");return e.setAttribute("mode",this.getFieldValue("MODE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("mode"))}},(0,t.module$exports$Blockly$common.defineBlocksWithJsonArray)([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),t.Blockly.Blocks})?o.apply(t,i):o)||(e.exports=r)},4117:function(e,t,n){var o,i,r;i=[n(947),n(8052),n(3487),n(4173)],void 0===(r="function"===typeof(o=function(e,t,n,o){"use strict";return e.setLocale(t),e})?o.apply(t,i):o)||(e.exports=r)},947:function(e,t,n){var o,i,r;i=[n(2845)],void 0===(r="function"===typeof(o=function(e){"use strict";return e.setLocale=function(t){Object.keys(t).forEach((function(n){e.Msg[n]=t[n]}))},e})?o.apply(t,i):o)||(e.exports=r)},7496:function(e,t,n){var o,i,r;i=[n(4117)],void 0===(r="function"===typeof(o=function(e){return e})?o.apply(t,i):o)||(e.exports=r)},4173:function(e,t,n){var o,i,r;i=[n(947),n(9881)],void 0===(r="function"===typeof(o=function(e,t){return t})?o.apply(t,i):o)||(e.exports=r)},9881:function(e,t,n){var o,i,r;i=[n(9810)],void 0===(r="function"===typeof(o=function(e){var t=e.internal_,n=new t.module$exports$Blockly$Generator.Generator("JavaScript");n.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(t.module$exports$Blockly$utils$global.globalThis).join(",")),n.ORDER_ATOMIC=0,n.ORDER_NEW=1.1,n.ORDER_MEMBER=1.2,n.ORDER_FUNCTION_CALL=2,n.ORDER_INCREMENT=3,n.ORDER_DECREMENT=3,n.ORDER_BITWISE_NOT=4.1,n.ORDER_UNARY_PLUS=4.2,n.ORDER_UNARY_NEGATION=4.3,n.ORDER_LOGICAL_NOT=4.4,n.ORDER_TYPEOF=4.5,n.ORDER_VOID=4.6,n.ORDER_DELETE=4.7,n.ORDER_AWAIT=4.8,n.ORDER_EXPONENTIATION=5,n.ORDER_MULTIPLICATION=5.1,n.ORDER_DIVISION=5.2,n.ORDER_MODULUS=5.3,n.ORDER_SUBTRACTION=6.1,n.ORDER_ADDITION=6.2,n.ORDER_BITWISE_SHIFT=7,n.ORDER_RELATIONAL=8,n.ORDER_IN=8,n.ORDER_INSTANCEOF=8,n.ORDER_EQUALITY=9,n.ORDER_BITWISE_AND=10,n.ORDER_BITWISE_XOR=11,n.ORDER_BITWISE_OR=12,n.ORDER_LOGICAL_AND=13,n.ORDER_LOGICAL_OR=14,n.ORDER_CONDITIONAL=15,n.ORDER_ASSIGNMENT=16,n.ORDER_YIELD=17,n.ORDER_COMMA=18,n.ORDER_NONE=99,n.ORDER_OVERRIDES=[[n.ORDER_FUNCTION_CALL,n.ORDER_MEMBER],[n.ORDER_FUNCTION_CALL,n.ORDER_FUNCTION_CALL],[n.ORDER_MEMBER,n.ORDER_MEMBER],[n.ORDER_MEMBER,n.ORDER_FUNCTION_CALL],[n.ORDER_LOGICAL_NOT,n.ORDER_LOGICAL_NOT],[n.ORDER_MULTIPLICATION,n.ORDER_MULTIPLICATION],[n.ORDER_ADDITION,n.ORDER_ADDITION],[n.ORDER_LOGICAL_AND,n.ORDER_LOGICAL_AND],[n.ORDER_LOGICAL_OR,n.ORDER_LOGICAL_OR]],n.isInitialized=!1,n.init=function(e){Object.getPrototypeOf(this).init.call(this),this.nameDB_?this.nameDB_.reset():this.nameDB_=new t.module$exports$Blockly$Names.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(e.getVariableMap()),this.nameDB_.populateVariables(e),this.nameDB_.populateProcedures(e);for(var n=[],o=(0,t.module$exports$Blockly$Variables.allDeveloperVariables)(e),i=0;i<o.length;i++)n.push(this.nameDB_.getName(o[i],t.module$exports$Blockly$Names.NameType.DEVELOPER_VARIABLE));for(e=(0,t.module$exports$Blockly$Variables.allUsedVarModels)(e),o=0;o<e.length;o++)n.push(this.nameDB_.getName(e[o].getId(),t.module$exports$Blockly$Names.NameType.VARIABLE));n.length&&(this.definitions_.variables="var "+n.join(", ")+";"),this.isInitialized=!0},n.finish=function(e){var n=(0,t.module$exports$Blockly$utils$object.values)(this.definitions_);return e=Object.getPrototypeOf(this).finish.call(this,e),this.isInitialized=!1,this.nameDB_.reset(),n.join("\n\n")+"\n\n\n"+e},n.scrubNakedValue=function(e){return e+";\n"},n.quote_=function(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},n.multiline_quote_=function(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' +\n")},n.scrub_=function(e,n,o){var i="";if(!e.outputConnection||!e.outputConnection.targetConnection){var r=e.getCommentText();r&&(r=(0,t.module$exports$Blockly$utils$string.wrap)(r,this.COMMENT_WRAP-3),i+=this.prefixLines(r+"\n","// "));for(var s=0;s<e.inputList.length;s++)e.inputList[s].type===t.module$exports$Blockly$inputTypes.inputTypes.VALUE&&(r=e.inputList[s].connection.targetBlock())&&(r=this.allNestedComments(r))&&(i+=this.prefixLines(r,"// "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),i+n+(o=o?"":this.blockToCode(e))},n.getAdjusted=function(e,n,o,i,r){o=o||0,r=r||this.ORDER_NONE,e.workspace.options.oneBasedIndex&&o--;var s=e.workspace.options.oneBasedIndex?"1":"0",l=r;if(0<o)var a=l=this.ORDER_ADDITION;else 0>o?a=l=this.ORDER_SUBTRACTION:i&&(a=l=this.ORDER_UNARY_NEGATION);return e=this.valueToCode(e,n,l)||s,(0,t.module$exports$Blockly$utils$string.isNumber)(e)?(e=Number(e)+o,i&&(e=-e)):(0<o?e=e+" + "+o:0>o&&(e=e+" - "+-o),i&&(e=o?"-("+e+")":"-"+e),a=Math.floor(a),r=Math.floor(r),a&&r>=a&&(e="("+e+")")),e},t.Blockly.JavaScript=n,t.Blockly.JavaScript.variables_get=function(e){return[t.Blockly.JavaScript.nameDB_.getName(e.getFieldValue("VAR"),t.module$exports$Blockly$Names.NameType.VARIABLE),t.Blockly.JavaScript.ORDER_ATOMIC]},t.Blockly.JavaScript.variables_set=function(e){var n=t.Blockly.JavaScript.valueToCode(e,"VALUE",t.Blockly.JavaScript.ORDER_ASSIGNMENT)||"0";return t.Blockly.JavaScript.nameDB_.getName(e.getFieldValue("VAR"),t.module$exports$Blockly$Names.NameType.VARIABLE)+" = "+n+";\n"},t.Blockly.JavaScript.variables_get_dynamic=t.Blockly.JavaScript.variables_get,t.Blockly.JavaScript.variables_set_dynamic=t.Blockly.JavaScript.variables_set;var o=/^\s*'([^']|\\')*'\s*$/,i=function(e){return o.test(e)?[e,t.Blockly.JavaScript.ORDER_ATOMIC]:["String("+e+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},r=function(e,t,n){return"FIRST"===t?"0":"FROM_END"===t?e+".length - 1 - "+n:"LAST"===t?e+".length - 1":n};t.Blockly.JavaScript.text=function(e){return[t.Blockly.JavaScript.quote_(e.getFieldValue("TEXT")),t.Blockly.JavaScript.ORDER_ATOMIC]},t.Blockly.JavaScript.text_multiline=function(e){var n=-1!==(e=t.Blockly.JavaScript.multiline_quote_(e.getFieldValue("TEXT"))).indexOf("+")?t.Blockly.JavaScript.ORDER_ADDITION:t.Blockly.JavaScript.ORDER_ATOMIC;return[e,n]},t.Blockly.JavaScript.text_join=function(e){switch(e.itemCount_){case 0:return["''",t.Blockly.JavaScript.ORDER_ATOMIC];case 1:return e=t.Blockly.JavaScript.valueToCode(e,"ADD0",t.Blockly.JavaScript.ORDER_NONE)||"''",i(e);case 2:var n=t.Blockly.JavaScript.valueToCode(e,"ADD0",t.Blockly.JavaScript.ORDER_NONE)||"''";return e=t.Blockly.JavaScript.valueToCode(e,"ADD1",t.Blockly.JavaScript.ORDER_NONE)||"''",[i(n)[0]+" + "+i(e)[0],t.Blockly.JavaScript.ORDER_ADDITION];default:n=Array(e.itemCount_);for(var o=0;o<e.itemCount_;o++)n[o]=t.Blockly.JavaScript.valueToCode(e,"ADD"+o,t.Blockly.JavaScript.ORDER_NONE)||"''";return["["+n.join(",")+"].join('')",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]}},t.Blockly.JavaScript.text_append=function(e){var n=t.Blockly.JavaScript.nameDB_.getName(e.getFieldValue("VAR"),t.module$exports$Blockly$Names.NameType.VARIABLE);return e=t.Blockly.JavaScript.valueToCode(e,"TEXT",t.Blockly.JavaScript.ORDER_NONE)||"''",n+" += "+i(e)[0]+";\n"},t.Blockly.JavaScript.text_length=function(e){return[(t.Blockly.JavaScript.valueToCode(e,"VALUE",t.Blockly.JavaScript.ORDER_MEMBER)||"''")+".length",t.Blockly.JavaScript.ORDER_MEMBER]},t.Blockly.JavaScript.text_isEmpty=function(e){return["!"+(t.Blockly.JavaScript.valueToCode(e,"VALUE",t.Blockly.JavaScript.ORDER_MEMBER)||"''")+".length",t.Blockly.JavaScript.ORDER_LOGICAL_NOT]},t.Blockly.JavaScript.text_indexOf=function(e){var n="FIRST"===e.getFieldValue("END")?"indexOf":"lastIndexOf",o=t.Blockly.JavaScript.valueToCode(e,"FIND",t.Blockly.JavaScript.ORDER_NONE)||"''";return n=(t.Blockly.JavaScript.valueToCode(e,"VALUE",t.Blockly.JavaScript.ORDER_MEMBER)||"''")+"."+n+"("+o+")",e.workspace.options.oneBasedIndex?[n+" + 1",t.Blockly.JavaScript.ORDER_ADDITION]:[n,t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.text_charAt=function(e){var n=e.getFieldValue("WHERE")||"FROM_START",o=t.Blockly.JavaScript.valueToCode(e,"VALUE","RANDOM"===n?t.Blockly.JavaScript.ORDER_NONE:t.Blockly.JavaScript.ORDER_MEMBER)||"''";switch(n){case"FIRST":return[o+".charAt(0)",t.Blockly.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[o+".slice(-1)",t.Blockly.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return[o+".charAt("+(e=t.Blockly.JavaScript.getAdjusted(e,"AT"))+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return[o+".slice("+(e=t.Blockly.JavaScript.getAdjusted(e,"AT",1,!0))+").charAt(0)",t.Blockly.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[t.Blockly.JavaScript.provideFunction_("textRandomLetter",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+o+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},t.Blockly.JavaScript.text_getSubstring=function(e){var n=e.getFieldValue("WHERE1"),o=e.getFieldValue("WHERE2"),i="FROM_END"!==n&&"LAST"!==n&&"FROM_END"!==o&&"LAST"!==o,s=t.Blockly.JavaScript.valueToCode(e,"STRING",i?t.Blockly.JavaScript.ORDER_MEMBER:t.Blockly.JavaScript.ORDER_NONE)||"''";if("FIRST"===n&&"LAST"===o)return[s,t.Blockly.JavaScript.ORDER_NONE];if(s.match(/^'?\w+'?$/)||i){switch(n){case"FROM_START":n=t.Blockly.JavaScript.getAdjusted(e,"AT1");break;case"FROM_END":n=s+".length - "+(n=t.Blockly.JavaScript.getAdjusted(e,"AT1",1,!1,t.Blockly.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":n="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(o){case"FROM_START":o=t.Blockly.JavaScript.getAdjusted(e,"AT2",1);break;case"FROM_END":o=s+".length - "+(o=t.Blockly.JavaScript.getAdjusted(e,"AT2",0,!1,t.Blockly.JavaScript.ORDER_SUBTRACTION));break;case"LAST":o=s+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}s=s+".slice("+n+", "+o+")"}else{i=t.Blockly.JavaScript.getAdjusted(e,"AT1"),e=t.Blockly.JavaScript.getAdjusted(e,"AT2");var l={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};s=t.Blockly.JavaScript.provideFunction_("subsequence"+l[n]+l[o],["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"===n||"FROM_START"===n?", at1":"")+("FROM_END"===o||"FROM_START"===o?", at2":"")+") {","  var start = "+r("sequence",n,"at1")+";","  var end = "+r("sequence",o,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+s+("FROM_END"===n||"FROM_START"===n?", "+i:"")+("FROM_END"===o||"FROM_START"===o?", "+e:"")+")"}return[s,t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.text_changeCase=function(e){var n={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[e.getFieldValue("CASE")];return e=t.Blockly.JavaScript.valueToCode(e,"TEXT",n?t.Blockly.JavaScript.ORDER_MEMBER:t.Blockly.JavaScript.ORDER_NONE)||"''",[n?e+n:t.Blockly.JavaScript.provideFunction_("textToTitleCase",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+e+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.text_trim=function(e){var n={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[e.getFieldValue("MODE")];return[(t.Blockly.JavaScript.valueToCode(e,"TEXT",t.Blockly.JavaScript.ORDER_MEMBER)||"''")+n,t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.text_print=function(e){return"window.alert("+(t.Blockly.JavaScript.valueToCode(e,"TEXT",t.Blockly.JavaScript.ORDER_NONE)||"''")+");\n"},t.Blockly.JavaScript.text_prompt_ext=function(e){var n="window.prompt("+(e.getField("TEXT")?t.Blockly.JavaScript.quote_(e.getFieldValue("TEXT")):t.Blockly.JavaScript.valueToCode(e,"TEXT",t.Blockly.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"===e.getFieldValue("TYPE")&&(n="Number("+n+")"),[n,t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.text_prompt=t.Blockly.JavaScript.text_prompt_ext,t.Blockly.JavaScript.text_count=function(e){var n=t.Blockly.JavaScript.valueToCode(e,"TEXT",t.Blockly.JavaScript.ORDER_NONE)||"''";return e=t.Blockly.JavaScript.valueToCode(e,"SUB",t.Blockly.JavaScript.ORDER_NONE)||"''",[t.Blockly.JavaScript.provideFunction_("textCount",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+n+", "+e+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.text_replace=function(e){var n=t.Blockly.JavaScript.valueToCode(e,"TEXT",t.Blockly.JavaScript.ORDER_NONE)||"''",o=t.Blockly.JavaScript.valueToCode(e,"FROM",t.Blockly.JavaScript.ORDER_NONE)||"''";return e=t.Blockly.JavaScript.valueToCode(e,"TO",t.Blockly.JavaScript.ORDER_NONE)||"''",[t.Blockly.JavaScript.provideFunction_("textReplace",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+n+", "+o+", "+e+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.text_reverse=function(e){return[(t.Blockly.JavaScript.valueToCode(e,"TEXT",t.Blockly.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.procedures_defreturn=function(e){var n=t.Blockly.JavaScript.nameDB_.getName(e.getFieldValue("NAME"),t.module$exports$Blockly$Names.NameType.PROCEDURE),o="";t.Blockly.JavaScript.STATEMENT_PREFIX&&(o+=t.Blockly.JavaScript.injectId(t.Blockly.JavaScript.STATEMENT_PREFIX,e)),t.Blockly.JavaScript.STATEMENT_SUFFIX&&(o+=t.Blockly.JavaScript.injectId(t.Blockly.JavaScript.STATEMENT_SUFFIX,e)),o&&(o=t.Blockly.JavaScript.prefixLines(o,t.Blockly.JavaScript.INDENT));var i="";t.Blockly.JavaScript.INFINITE_LOOP_TRAP&&(i=t.Blockly.JavaScript.prefixLines(t.Blockly.JavaScript.injectId(t.Blockly.JavaScript.INFINITE_LOOP_TRAP,e),t.Blockly.JavaScript.INDENT));var r=t.Blockly.JavaScript.statementToCode(e,"STACK"),s=t.Blockly.JavaScript.valueToCode(e,"RETURN",t.Blockly.JavaScript.ORDER_NONE)||"",l="";r&&s&&(l=o),s&&(s=t.Blockly.JavaScript.INDENT+"return "+s+";\n");for(var a=[],c=e.getVars(),u=0;u<c.length;u++)a[u]=t.Blockly.JavaScript.nameDB_.getName(c[u],t.module$exports$Blockly$Names.NameType.VARIABLE);return o="function "+n+"("+a.join(", ")+") {\n"+o+i+r+l+s+"}",o=t.Blockly.JavaScript.scrub_(e,o),t.Blockly.JavaScript.definitions_["%"+n]=o,null},t.Blockly.JavaScript.procedures_defnoreturn=t.Blockly.JavaScript.procedures_defreturn,t.Blockly.JavaScript.procedures_callreturn=function(e){for(var n=t.Blockly.JavaScript.nameDB_.getName(e.getFieldValue("NAME"),t.module$exports$Blockly$Names.NameType.PROCEDURE),o=[],i=e.getVars(),r=0;r<i.length;r++)o[r]=t.Blockly.JavaScript.valueToCode(e,"ARG"+r,t.Blockly.JavaScript.ORDER_NONE)||"null";return[n+"("+o.join(", ")+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.procedures_callnoreturn=function(e){return t.Blockly.JavaScript.procedures_callreturn(e)[0]+";\n"},t.Blockly.JavaScript.procedures_ifreturn=function(e){var n="if ("+(t.Blockly.JavaScript.valueToCode(e,"CONDITION",t.Blockly.JavaScript.ORDER_NONE)||"false")+") {\n";return t.Blockly.JavaScript.STATEMENT_SUFFIX&&(n+=t.Blockly.JavaScript.prefixLines(t.Blockly.JavaScript.injectId(t.Blockly.JavaScript.STATEMENT_SUFFIX,e),t.Blockly.JavaScript.INDENT)),e.hasReturnValue_?(e=t.Blockly.JavaScript.valueToCode(e,"VALUE",t.Blockly.JavaScript.ORDER_NONE)||"null",n+=t.Blockly.JavaScript.INDENT+"return "+e+";\n"):n+=t.Blockly.JavaScript.INDENT+"return;\n",n+"}\n"},t.Blockly.JavaScript.math_number=function(e){return[e=Number(e.getFieldValue("NUM")),0<=e?t.Blockly.JavaScript.ORDER_ATOMIC:t.Blockly.JavaScript.ORDER_UNARY_NEGATION]},t.Blockly.JavaScript.math_arithmetic=function(e){var n={ADD:[" + ",t.Blockly.JavaScript.ORDER_ADDITION],MINUS:[" - ",t.Blockly.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",t.Blockly.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",t.Blockly.JavaScript.ORDER_DIVISION],POWER:[null,t.Blockly.JavaScript.ORDER_NONE]}[e.getFieldValue("OP")],o=n[0];n=n[1];var i=t.Blockly.JavaScript.valueToCode(e,"A",n)||"0";return e=t.Blockly.JavaScript.valueToCode(e,"B",n)||"0",o?[i+o+e,n]:["Math.pow("+i+", "+e+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.math_single=function(e){var n=e.getFieldValue("OP");if("NEG"===n)return"-"===(e=t.Blockly.JavaScript.valueToCode(e,"NUM",t.Blockly.JavaScript.ORDER_UNARY_NEGATION)||"0")[0]&&(e=" "+e),["-"+e,t.Blockly.JavaScript.ORDER_UNARY_NEGATION];switch(e="SIN"===n||"COS"===n||"TAN"===n?t.Blockly.JavaScript.valueToCode(e,"NUM",t.Blockly.JavaScript.ORDER_DIVISION)||"0":t.Blockly.JavaScript.valueToCode(e,"NUM",t.Blockly.JavaScript.ORDER_NONE)||"0",n){case"ABS":var o="Math.abs("+e+")";break;case"ROOT":o="Math.sqrt("+e+")";break;case"LN":o="Math.log("+e+")";break;case"EXP":o="Math.exp("+e+")";break;case"POW10":o="Math.pow(10,"+e+")";break;case"ROUND":o="Math.round("+e+")";break;case"ROUNDUP":o="Math.ceil("+e+")";break;case"ROUNDDOWN":o="Math.floor("+e+")";break;case"SIN":o="Math.sin("+e+" / 180 * Math.PI)";break;case"COS":o="Math.cos("+e+" / 180 * Math.PI)";break;case"TAN":o="Math.tan("+e+" / 180 * Math.PI)"}if(o)return[o,t.Blockly.JavaScript.ORDER_FUNCTION_CALL];switch(n){case"LOG10":o="Math.log("+e+") / Math.log(10)";break;case"ASIN":o="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":o="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":o="Math.atan("+e+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+n)}return[o,t.Blockly.JavaScript.ORDER_DIVISION]},t.Blockly.JavaScript.math_constant=function(e){return{PI:["Math.PI",t.Blockly.JavaScript.ORDER_MEMBER],E:["Math.E",t.Blockly.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",t.Blockly.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",t.Blockly.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",t.Blockly.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",t.Blockly.JavaScript.ORDER_ATOMIC]}[e.getFieldValue("CONSTANT")]},t.Blockly.JavaScript.math_number_property=function(e){var n=t.Blockly.JavaScript.valueToCode(e,"NUMBER_TO_CHECK",t.Blockly.JavaScript.ORDER_MODULUS)||"0",o=e.getFieldValue("PROPERTY");if("PRIME"===o)return[t.Blockly.JavaScript.provideFunction_("mathIsPrime",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) === 0 || n % (x + 1) === 0) {","      return false;","    }","  }","  return true;","}"])+"("+n+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL];switch(o){case"EVEN":var i=n+" % 2 === 0";break;case"ODD":i=n+" % 2 === 1";break;case"WHOLE":i=n+" % 1 === 0";break;case"POSITIVE":i=n+" > 0";break;case"NEGATIVE":i=n+" < 0";break;case"DIVISIBLE_BY":i=n+" % "+(e=t.Blockly.JavaScript.valueToCode(e,"DIVISOR",t.Blockly.JavaScript.ORDER_MODULUS)||"0")+" === 0"}return[i,t.Blockly.JavaScript.ORDER_EQUALITY]},t.Blockly.JavaScript.math_change=function(e){var n=t.Blockly.JavaScript.valueToCode(e,"DELTA",t.Blockly.JavaScript.ORDER_ADDITION)||"0";return(e=t.Blockly.JavaScript.nameDB_.getName(e.getFieldValue("VAR"),t.module$exports$Blockly$Names.NameType.VARIABLE))+" = (typeof "+e+" === 'number' ? "+e+" : 0) + "+n+";\n"},t.Blockly.JavaScript.math_round=t.Blockly.JavaScript.math_single,t.Blockly.JavaScript.math_trig=t.Blockly.JavaScript.math_single,t.Blockly.JavaScript.math_on_list=function(e){var n=e.getFieldValue("OP");switch(n){case"SUM":e=t.Blockly.JavaScript.valueToCode(e,"LIST",t.Blockly.JavaScript.ORDER_MEMBER)||"[]",e+=".reduce(function(x, y) {return x + y;})";break;case"MIN":e="Math.min.apply(null, "+(e=t.Blockly.JavaScript.valueToCode(e,"LIST",t.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"MAX":e="Math.max.apply(null, "+(e=t.Blockly.JavaScript.valueToCode(e,"LIST",t.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"AVERAGE":e=(n=t.Blockly.JavaScript.provideFunction_("mathMean",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]))+"("+(e=t.Blockly.JavaScript.valueToCode(e,"LIST",t.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"MEDIAN":e=(n=t.Blockly.JavaScript.provideFunction_("mathMedian",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x === 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 === 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]))+"("+(e=t.Blockly.JavaScript.valueToCode(e,"LIST",t.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"MODE":e=(n=t.Blockly.JavaScript.provideFunction_("mathModes",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] === maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]))+"("+(e=t.Blockly.JavaScript.valueToCode(e,"LIST",t.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"STD_DEV":e=(n=t.Blockly.JavaScript.provideFunction_("mathStandardDeviation",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]))+"("+(e=t.Blockly.JavaScript.valueToCode(e,"LIST",t.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"RANDOM":e=(n=t.Blockly.JavaScript.provideFunction_("mathRandomList",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]))+"("+(e=t.Blockly.JavaScript.valueToCode(e,"LIST",t.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+n)}return[e,t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.math_modulo=function(e){return[(t.Blockly.JavaScript.valueToCode(e,"DIVIDEND",t.Blockly.JavaScript.ORDER_MODULUS)||"0")+" % "+(e=t.Blockly.JavaScript.valueToCode(e,"DIVISOR",t.Blockly.JavaScript.ORDER_MODULUS)||"0"),t.Blockly.JavaScript.ORDER_MODULUS]},t.Blockly.JavaScript.math_constrain=function(e){return["Math.min(Math.max("+(t.Blockly.JavaScript.valueToCode(e,"VALUE",t.Blockly.JavaScript.ORDER_NONE)||"0")+", "+(t.Blockly.JavaScript.valueToCode(e,"LOW",t.Blockly.JavaScript.ORDER_NONE)||"0")+"), "+(e=t.Blockly.JavaScript.valueToCode(e,"HIGH",t.Blockly.JavaScript.ORDER_NONE)||"Infinity")+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.math_random_int=function(e){var n=t.Blockly.JavaScript.valueToCode(e,"FROM",t.Blockly.JavaScript.ORDER_NONE)||"0";return e=t.Blockly.JavaScript.valueToCode(e,"TO",t.Blockly.JavaScript.ORDER_NONE)||"0",[t.Blockly.JavaScript.provideFunction_("mathRandomInt",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+n+", "+e+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.math_random_float=function(e){return["Math.random()",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.math_atan2=function(e){var n=t.Blockly.JavaScript.valueToCode(e,"X",t.Blockly.JavaScript.ORDER_NONE)||"0";return["Math.atan2("+(t.Blockly.JavaScript.valueToCode(e,"Y",t.Blockly.JavaScript.ORDER_NONE)||"0")+", "+n+") / Math.PI * 180",t.Blockly.JavaScript.ORDER_DIVISION]},t.Blockly.JavaScript.controls_repeat_ext=function(e){var n=e.getField("TIMES")?String(Number(e.getFieldValue("TIMES"))):t.Blockly.JavaScript.valueToCode(e,"TIMES",t.Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",o=t.Blockly.JavaScript.statementToCode(e,"DO");o=t.Blockly.JavaScript.addLoopTrap(o,e),e="";var i=t.Blockly.JavaScript.nameDB_.getDistinctName("count",t.module$exports$Blockly$Names.NameType.VARIABLE),r=n;return n.match(/^\w+$/)||(0,t.module$exports$Blockly$utils$string.isNumber)(n)||(e+="var "+(r=t.Blockly.JavaScript.nameDB_.getDistinctName("repeat_end",t.module$exports$Blockly$Names.NameType.VARIABLE))+" = "+n+";\n"),e+"for (var "+i+" = 0; "+i+" < "+r+"; "+i+"++) {\n"+o+"}\n"},t.Blockly.JavaScript.controls_repeat=t.Blockly.JavaScript.controls_repeat_ext,t.Blockly.JavaScript.controls_whileUntil=function(e){var n="UNTIL"===e.getFieldValue("MODE"),o=t.Blockly.JavaScript.valueToCode(e,"BOOL",n?t.Blockly.JavaScript.ORDER_LOGICAL_NOT:t.Blockly.JavaScript.ORDER_NONE)||"false",i=t.Blockly.JavaScript.statementToCode(e,"DO");return n&&(o="!"+o),"while ("+o+") {\n"+(i=t.Blockly.JavaScript.addLoopTrap(i,e))+"}\n"},t.Blockly.JavaScript.controls_for=function(e){var n=t.Blockly.JavaScript.nameDB_.getName(e.getFieldValue("VAR"),t.module$exports$Blockly$Names.NameType.VARIABLE),o=t.Blockly.JavaScript.valueToCode(e,"FROM",t.Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",i=t.Blockly.JavaScript.valueToCode(e,"TO",t.Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",r=t.Blockly.JavaScript.valueToCode(e,"BY",t.Blockly.JavaScript.ORDER_ASSIGNMENT)||"1",s=t.Blockly.JavaScript.statementToCode(e,"DO");if(s=t.Blockly.JavaScript.addLoopTrap(s,e),(0,t.module$exports$Blockly$utils$string.isNumber)(o)&&(0,t.module$exports$Blockly$utils$string.isNumber)(i)&&(0,t.module$exports$Blockly$utils$string.isNumber)(r)){var l=Number(o)<=Number(i);e="for ("+n+" = "+o+"; "+n+(l?" <= ":" >= ")+i+"; "+n,e=(1===(n=Math.abs(Number(r)))?e+(l?"++":"--"):e+(l?" += ":" -= ")+n)+") {\n"+s+"}\n"}else e="",l=o,o.match(/^\w+$/)||(0,t.module$exports$Blockly$utils$string.isNumber)(o)||(e+="var "+(l=t.Blockly.JavaScript.nameDB_.getDistinctName(n+"_start",t.module$exports$Blockly$Names.NameType.VARIABLE))+" = "+o+";\n"),o=i,i.match(/^\w+$/)||(0,t.module$exports$Blockly$utils$string.isNumber)(i)||(e+="var "+(o=t.Blockly.JavaScript.nameDB_.getDistinctName(n+"_end",t.module$exports$Blockly$Names.NameType.VARIABLE))+" = "+i+";\n"),e+="var "+(i=t.Blockly.JavaScript.nameDB_.getDistinctName(n+"_inc",t.module$exports$Blockly$Names.NameType.VARIABLE))+" = ",e=(e=(0,t.module$exports$Blockly$utils$string.isNumber)(r)?e+(Math.abs(r)+";\n"):e+"Math.abs("+r+");\n")+"if ("+l+" > "+o+") {\n"+(t.Blockly.JavaScript.INDENT+i)+" = -"+i+";\n",e+="}\n",e+="for ("+n+" = "+l+"; "+i+" >= 0 ? "+n+" <= "+o+" : "+n+" >= "+o+"; "+n+" += "+i+") {\n"+s+"}\n";return e},t.Blockly.JavaScript.controls_forEach=function(e){var n=t.Blockly.JavaScript.nameDB_.getName(e.getFieldValue("VAR"),t.module$exports$Blockly$Names.NameType.VARIABLE),o=t.Blockly.JavaScript.valueToCode(e,"LIST",t.Blockly.JavaScript.ORDER_ASSIGNMENT)||"[]",i=t.Blockly.JavaScript.statementToCode(e,"DO");i=t.Blockly.JavaScript.addLoopTrap(i,e),e="";var r=o;return o.match(/^\w+$/)||(e+="var "+(r=t.Blockly.JavaScript.nameDB_.getDistinctName(n+"_list",t.module$exports$Blockly$Names.NameType.VARIABLE))+" = "+o+";\n"),e+"for (var "+(o=t.Blockly.JavaScript.nameDB_.getDistinctName(n+"_index",t.module$exports$Blockly$Names.NameType.VARIABLE))+" in "+r+") {\n"+(i=t.Blockly.JavaScript.INDENT+n+" = "+r+"["+o+"];\n"+i)+"}\n"},t.Blockly.JavaScript.controls_flow_statements=function(e){var n="";if(t.Blockly.JavaScript.STATEMENT_PREFIX&&(n+=t.Blockly.JavaScript.injectId(t.Blockly.JavaScript.STATEMENT_PREFIX,e)),t.Blockly.JavaScript.STATEMENT_SUFFIX&&(n+=t.Blockly.JavaScript.injectId(t.Blockly.JavaScript.STATEMENT_SUFFIX,e)),t.Blockly.JavaScript.STATEMENT_PREFIX){var o=e.getSurroundLoop();o&&!o.suppressPrefixSuffix&&(n+=t.Blockly.JavaScript.injectId(t.Blockly.JavaScript.STATEMENT_PREFIX,o))}switch(e.getFieldValue("FLOW")){case"BREAK":return n+"break;\n";case"CONTINUE":return n+"continue;\n"}throw Error("Unknown flow statement.")},t.Blockly.JavaScript.controls_if=function(e){var n=0,o="";t.Blockly.JavaScript.STATEMENT_PREFIX&&(o+=t.Blockly.JavaScript.injectId(t.Blockly.JavaScript.STATEMENT_PREFIX,e));do{var i=t.Blockly.JavaScript.valueToCode(e,"IF"+n,t.Blockly.JavaScript.ORDER_NONE)||"false",r=t.Blockly.JavaScript.statementToCode(e,"DO"+n);t.Blockly.JavaScript.STATEMENT_SUFFIX&&(r=t.Blockly.JavaScript.prefixLines(t.Blockly.JavaScript.injectId(t.Blockly.JavaScript.STATEMENT_SUFFIX,e),t.Blockly.JavaScript.INDENT)+r),o+=(0<n?" else ":"")+"if ("+i+") {\n"+r+"}",n++}while(e.getInput("IF"+n));return(e.getInput("ELSE")||t.Blockly.JavaScript.STATEMENT_SUFFIX)&&(n=t.Blockly.JavaScript.statementToCode(e,"ELSE"),t.Blockly.JavaScript.STATEMENT_SUFFIX&&(n=t.Blockly.JavaScript.prefixLines(t.Blockly.JavaScript.injectId(t.Blockly.JavaScript.STATEMENT_SUFFIX,e),t.Blockly.JavaScript.INDENT)+n),o+=" else {\n"+n+"}"),o+"\n"},t.Blockly.JavaScript.controls_ifelse=t.Blockly.JavaScript.controls_if,t.Blockly.JavaScript.logic_compare=function(e){var n={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],o="=="===n||"!="===n?t.Blockly.JavaScript.ORDER_EQUALITY:t.Blockly.JavaScript.ORDER_RELATIONAL;return[(t.Blockly.JavaScript.valueToCode(e,"A",o)||"0")+" "+n+" "+(e=t.Blockly.JavaScript.valueToCode(e,"B",o)||"0"),o]},t.Blockly.JavaScript.logic_operation=function(e){var n="AND"===e.getFieldValue("OP")?"&&":"||",o="&&"===n?t.Blockly.JavaScript.ORDER_LOGICAL_AND:t.Blockly.JavaScript.ORDER_LOGICAL_OR,i=t.Blockly.JavaScript.valueToCode(e,"A",o);if(e=t.Blockly.JavaScript.valueToCode(e,"B",o),i||e){var r="&&"===n?"true":"false";i||(i=r),e||(e=r)}else e=i="false";return[i+" "+n+" "+e,o]},t.Blockly.JavaScript.logic_negate=function(e){var n=t.Blockly.JavaScript.ORDER_LOGICAL_NOT;return["!"+(t.Blockly.JavaScript.valueToCode(e,"BOOL",n)||"true"),n]},t.Blockly.JavaScript.logic_boolean=function(e){return["TRUE"===e.getFieldValue("BOOL")?"true":"false",t.Blockly.JavaScript.ORDER_ATOMIC]},t.Blockly.JavaScript.logic_null=function(e){return["null",t.Blockly.JavaScript.ORDER_ATOMIC]},t.Blockly.JavaScript.logic_ternary=function(e){return[(t.Blockly.JavaScript.valueToCode(e,"IF",t.Blockly.JavaScript.ORDER_CONDITIONAL)||"false")+" ? "+(t.Blockly.JavaScript.valueToCode(e,"THEN",t.Blockly.JavaScript.ORDER_CONDITIONAL)||"null")+" : "+(e=t.Blockly.JavaScript.valueToCode(e,"ELSE",t.Blockly.JavaScript.ORDER_CONDITIONAL)||"null"),t.Blockly.JavaScript.ORDER_CONDITIONAL]},t.Blockly.JavaScript.lists_create_empty=function(e){return["[]",t.Blockly.JavaScript.ORDER_ATOMIC]},t.Blockly.JavaScript.lists_create_with=function(e){for(var n=Array(e.itemCount_),o=0;o<e.itemCount_;o++)n[o]=t.Blockly.JavaScript.valueToCode(e,"ADD"+o,t.Blockly.JavaScript.ORDER_NONE)||"null";return["["+n.join(", ")+"]",t.Blockly.JavaScript.ORDER_ATOMIC]},t.Blockly.JavaScript.lists_repeat=function(e){return[t.Blockly.JavaScript.provideFunction_("listsRepeat",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"])+"("+(t.Blockly.JavaScript.valueToCode(e,"ITEM",t.Blockly.JavaScript.ORDER_NONE)||"null")+", "+(e=t.Blockly.JavaScript.valueToCode(e,"NUM",t.Blockly.JavaScript.ORDER_NONE)||"0")+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.lists_length=function(e){return[(t.Blockly.JavaScript.valueToCode(e,"VALUE",t.Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",t.Blockly.JavaScript.ORDER_MEMBER]},t.Blockly.JavaScript.lists_isEmpty=function(e){return["!"+(t.Blockly.JavaScript.valueToCode(e,"VALUE",t.Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",t.Blockly.JavaScript.ORDER_LOGICAL_NOT]},t.Blockly.JavaScript.lists_indexOf=function(e){var n="FIRST"===e.getFieldValue("END")?"indexOf":"lastIndexOf",o=t.Blockly.JavaScript.valueToCode(e,"FIND",t.Blockly.JavaScript.ORDER_NONE)||"''";return n=(t.Blockly.JavaScript.valueToCode(e,"VALUE",t.Blockly.JavaScript.ORDER_MEMBER)||"[]")+"."+n+"("+o+")",e.workspace.options.oneBasedIndex?[n+" + 1",t.Blockly.JavaScript.ORDER_ADDITION]:[n,t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.lists_getIndex=function(e){var n=e.getFieldValue("MODE")||"GET",o=e.getFieldValue("WHERE")||"FROM_START",i=t.Blockly.JavaScript.valueToCode(e,"VALUE","RANDOM"===o?t.Blockly.JavaScript.ORDER_NONE:t.Blockly.JavaScript.ORDER_MEMBER)||"[]";switch(o){case"FIRST":if("GET"===n)return[i+"[0]",t.Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"===n)return[i+".shift()",t.Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"===n)return i+".shift();\n";break;case"LAST":if("GET"===n)return[i+".slice(-1)[0]",t.Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"===n)return[i+".pop()",t.Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"===n)return i+".pop();\n";break;case"FROM_START":if(e=t.Blockly.JavaScript.getAdjusted(e,"AT"),"GET"===n)return[i+"["+e+"]",t.Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"===n)return[i+".splice("+e+", 1)[0]",t.Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"===n)return i+".splice("+e+", 1);\n";break;case"FROM_END":if(e=t.Blockly.JavaScript.getAdjusted(e,"AT",1,!0),"GET"===n)return[i+".slice("+e+")[0]",t.Blockly.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"===n)return[i+".splice("+e+", 1)[0]",t.Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"===n)return i+".splice("+e+", 1);";break;case"RANDOM":if(i=t.Blockly.JavaScript.provideFunction_("listsGetRandomItem",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+i+", "+("GET"!==n)+")","GET"===n||"GET_REMOVE"===n)return[i,t.Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"===n)return i+";\n"}throw Error("Unhandled combination (lists_getIndex).")},t.Blockly.JavaScript.lists_setIndex=function(e){function n(){if(o.match(/^\w+$/))return"";var e=t.Blockly.JavaScript.nameDB_.getDistinctName("tmpList",t.module$exports$Blockly$Names.NameType.VARIABLE),n="var "+e+" = "+o+";\n";return o=e,n}var o=t.Blockly.JavaScript.valueToCode(e,"LIST",t.Blockly.JavaScript.ORDER_MEMBER)||"[]",i=e.getFieldValue("MODE")||"GET",r=e.getFieldValue("WHERE")||"FROM_START",s=t.Blockly.JavaScript.valueToCode(e,"TO",t.Blockly.JavaScript.ORDER_ASSIGNMENT)||"null";switch(r){case"FIRST":if("SET"===i)return o+"[0] = "+s+";\n";if("INSERT"===i)return o+".unshift("+s+");\n";break;case"LAST":if("SET"===i)return n()+(o+"[")+o+".length - 1] = "+s+";\n";if("INSERT"===i)return o+".push("+s+");\n";break;case"FROM_START":if(e=t.Blockly.JavaScript.getAdjusted(e,"AT"),"SET"===i)return o+"["+e+"] = "+s+";\n";if("INSERT"===i)return o+".splice("+e+", 0, "+s+");\n";break;case"FROM_END":if(e=t.Blockly.JavaScript.getAdjusted(e,"AT",1,!1,t.Blockly.JavaScript.ORDER_SUBTRACTION),r=n(),"SET"===i)return r+(o+"[")+o+".length - "+e+"] = "+s+";\n";if("INSERT"===i)return r+(o+".splice(")+o+".length - "+e+", 0, "+s+");\n";break;case"RANDOM":if(e=n(),e+="var "+(r=t.Blockly.JavaScript.nameDB_.getDistinctName("tmpX",t.module$exports$Blockly$Names.NameType.VARIABLE))+" = Math.floor(Math.random() * "+o+".length);\n","SET"===i)return e+(o+"[")+r+"] = "+s+";\n";if("INSERT"===i)return e+(o+".splice(")+r+", 0, "+s+");\n"}throw Error("Unhandled combination (lists_setIndex).")};var s=function(e,t,n){return"FIRST"===t?"0":"FROM_END"===t?e+".length - 1 - "+n:"LAST"===t?e+".length - 1":n};return t.Blockly.JavaScript.lists_getSublist=function(e){var n=t.Blockly.JavaScript.valueToCode(e,"LIST",t.Blockly.JavaScript.ORDER_MEMBER)||"[]",o=e.getFieldValue("WHERE1"),i=e.getFieldValue("WHERE2");if("FIRST"===o&&"LAST"===i)n+=".slice(0)";else if(n.match(/^\w+$/)||"FROM_END"!==o&&"FROM_START"===i){switch(o){case"FROM_START":o=t.Blockly.JavaScript.getAdjusted(e,"AT1");break;case"FROM_END":o=n+".length - "+(o=t.Blockly.JavaScript.getAdjusted(e,"AT1",1,!1,t.Blockly.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":o="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(i){case"FROM_START":i=t.Blockly.JavaScript.getAdjusted(e,"AT2",1);break;case"FROM_END":i=n+".length - "+(i=t.Blockly.JavaScript.getAdjusted(e,"AT2",0,!1,t.Blockly.JavaScript.ORDER_SUBTRACTION));break;case"LAST":i=n+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}n=n+".slice("+o+", "+i+")"}else{var r=t.Blockly.JavaScript.getAdjusted(e,"AT1");e=t.Blockly.JavaScript.getAdjusted(e,"AT2");var l={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};n=t.Blockly.JavaScript.provideFunction_("subsequence"+l[o]+l[i],["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"===o||"FROM_START"===o?", at1":"")+("FROM_END"===i||"FROM_START"===i?", at2":"")+") {",s("sequence",o,"at1")+";","  var end = "+s("sequence",i,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+n+("FROM_END"===o||"FROM_START"===o?", "+r:"")+("FROM_END"===i||"FROM_START"===i?", "+e:"")+")"}return[n,t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.lists_sort=function(e){var n=t.Blockly.JavaScript.valueToCode(e,"LIST",t.Blockly.JavaScript.ORDER_FUNCTION_CALL)||"[]",o="1"===e.getFieldValue("DIRECTION")?1:-1;return e=e.getFieldValue("TYPE"),[n+".slice().sort("+t.Blockly.JavaScript.provideFunction_("listsGetSortCompare",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"])+'("'+e+'", '+o+"))",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.lists_split=function(e){var n=t.Blockly.JavaScript.valueToCode(e,"INPUT",t.Blockly.JavaScript.ORDER_MEMBER),o=t.Blockly.JavaScript.valueToCode(e,"DELIM",t.Blockly.JavaScript.ORDER_NONE)||"''";if("SPLIT"===(e=e.getFieldValue("MODE")))n||(n="''"),e="split";else{if("JOIN"!==e)throw Error("Unknown mode: "+e);n||(n="[]"),e="join"}return[n+"."+e+"("+o+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.lists_reverse=function(e){return[(t.Blockly.JavaScript.valueToCode(e,"LIST",t.Blockly.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.colour_picker=function(e){return[t.Blockly.JavaScript.quote_(e.getFieldValue("COLOUR")),t.Blockly.JavaScript.ORDER_ATOMIC]},t.Blockly.JavaScript.colour_random=function(e){return[t.Blockly.JavaScript.provideFunction_("colourRandom",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.colour_rgb=function(e){var n=t.Blockly.JavaScript.valueToCode(e,"RED",t.Blockly.JavaScript.ORDER_NONE)||0,o=t.Blockly.JavaScript.valueToCode(e,"GREEN",t.Blockly.JavaScript.ORDER_NONE)||0;return e=t.Blockly.JavaScript.valueToCode(e,"BLUE",t.Blockly.JavaScript.ORDER_NONE)||0,[t.Blockly.JavaScript.provideFunction_("colourRgb",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+n+", "+o+", "+e+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript.colour_blend=function(e){var n=t.Blockly.JavaScript.valueToCode(e,"COLOUR1",t.Blockly.JavaScript.ORDER_NONE)||"'#000000'",o=t.Blockly.JavaScript.valueToCode(e,"COLOUR2",t.Blockly.JavaScript.ORDER_NONE)||"'#000000'";return e=t.Blockly.JavaScript.valueToCode(e,"RATIO",t.Blockly.JavaScript.ORDER_NONE)||.5,[t.Blockly.JavaScript.provideFunction_("colourBlend",["function "+t.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+n+", "+o+", "+e+")",t.Blockly.JavaScript.ORDER_FUNCTION_CALL]},t.Blockly.JavaScript})?o.apply(t,i):o)||(e.exports=r)},8052:function(e,t,n){var o,i,r;i=[n(947)],void 0===(r="function"===typeof(o=function(e){return(e={Msg:{}}).Msg.ADD_COMMENT="Add Comment",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",e.Msg.CHANGE_VALUE_TITLE="Change value:",e.Msg.CLEAN_UP="Clean up Blocks",e.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",e.Msg.COLLAPSE_ALL="Collapse Blocks",e.Msg.COLLAPSE_BLOCK="Collapse Block",e.Msg.COLOUR_BLEND_COLOUR1="colour 1",e.Msg.COLOUR_BLEND_COLOUR2="colour 2",e.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",e.Msg.COLOUR_BLEND_RATIO="ratio",e.Msg.COLOUR_BLEND_TITLE="blend",e.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",e.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",e.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="random colour",e.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",e.Msg.COLOUR_RGB_BLUE="blue",e.Msg.COLOUR_RGB_GREEN="green",e.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",e.Msg.COLOUR_RGB_RED="red",e.Msg.COLOUR_RGB_TITLE="colour with",e.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",e.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",e.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",e.Msg.CONTROLS_IF_MSG_ELSE="else",e.Msg.CONTROLS_IF_MSG_ELSEIF="else if",e.Msg.CONTROLS_IF_MSG_IF="if",e.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",e.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",e.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",e.Msg.CONTROLS_REPEAT_INPUT_DO="do",e.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",e.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",e.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",e.Msg.DELETE_BLOCK="Delete Block",e.Msg.DELETE_VARIABLE="Delete the '%1' variable",e.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",e.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",e.Msg.DIALOG_CANCEL="Cancel",e.Msg.DIALOG_OK="OK",e.Msg.DISABLE_BLOCK="Disable Block",e.Msg.DUPLICATE_BLOCK="Duplicate",e.Msg.DUPLICATE_COMMENT="Duplicate Comment",e.Msg.ENABLE_BLOCK="Enable Block",e.Msg.EXPAND_ALL="Expand Blocks",e.Msg.EXPAND_BLOCK="Expand Block",e.Msg.EXTERNAL_INPUTS="External Inputs",e.Msg.HELP="Help",e.Msg.INLINE_INPUTS="Inline Inputs",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",e.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",e.Msg.LISTS_GET_INDEX_FIRST="first",e.Msg.LISTS_GET_INDEX_FROM_END="# from end",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="get",e.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",e.Msg.LISTS_GET_INDEX_LAST="last",e.Msg.LISTS_GET_INDEX_RANDOM="random",e.Msg.LISTS_GET_INDEX_REMOVE="remove",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",e.Msg.LISTS_GET_SUBLIST_END_LAST="to last",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",e.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",e.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",e.Msg.LISTS_INLIST="in list",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",e.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="length of %1",e.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",e.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",e.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="as",e.Msg.LISTS_SET_INDEX_INSERT="insert at",e.Msg.LISTS_SET_INDEX_SET="set",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",e.Msg.LISTS_SORT_ORDER_DESCENDING="descending",e.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",e.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",e.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",e.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",e.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",e.Msg.LOGIC_BOOLEAN_FALSE="false",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",e.Msg.LOGIC_BOOLEAN_TRUE="true",e.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",e.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",e.Msg.LOGIC_NEGATE_TITLE="not %1",e.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",e.Msg.LOGIC_NULL="null",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="Returns null.",e.Msg.LOGIC_OPERATION_AND="and",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="or",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",e.Msg.LOGIC_TERNARY_CONDITION="test",e.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",e.Msg.LOGIC_TERNARY_IF_FALSE="if false",e.Msg.LOGIC_TERNARY_IF_TRUE="if true",e.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",e.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",e.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",e.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",e.Msg.MATH_CHANGE_TITLE="change %1 by %2",e.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",e.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",e.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), or \u221e (infinity).",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",e.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",e.Msg.MATH_DIVISION_SYMBOL="\xf7",e.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",e.Msg.MATH_IS_EVEN="is even",e.Msg.MATH_IS_NEGATIVE="is negative",e.Msg.MATH_IS_ODD="is odd",e.Msg.MATH_IS_POSITIVE="is positive",e.Msg.MATH_IS_PRIME="is prime",e.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",e.Msg.MATH_IS_WHOLE="is whole",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="remainder of %1 \xf7 %2",e.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",e.Msg.MATH_MULTIPLICATION_SYMBOL="\xd7",e.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",e.Msg.MATH_NUMBER_TOOLTIP="A number.",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",e.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",e.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",e.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",e.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",e.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",e.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",e.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",e.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",e.Msg.MATH_ROUND_OPERATOR_ROUND="round",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",e.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",e.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",e.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",e.Msg.MATH_SINGLE_OP_ROOT="square root",e.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",e.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",e.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",e.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",e.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",e.Msg.NEW_NUMBER_VARIABLE="Create number variable...",e.Msg.NEW_STRING_VARIABLE="Create string variable...",e.Msg.NEW_VARIABLE="Create variable...",e.Msg.NEW_VARIABLE_TITLE="New variable name:",e.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",e.Msg.PROCEDURES_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CREATE_DO="Create '%1'",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",e.Msg.PROCEDURES_DEFNORETURN_TITLE="to",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFRETURN_RETURN="return",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",e.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",e.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",e.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",e.Msg.REDO="Redo",e.Msg.REMOVE_COMMENT="Remove Comment",e.Msg.RENAME_VARIABLE="Rename variable...",e.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="to %1 append text %2",e.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",e.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",e.Msg.TEXT_CHARAT_FIRST="get first letter",e.Msg.TEXT_CHARAT_FROM_END="get letter # from end",e.Msg.TEXT_CHARAT_FROM_START="get letter #",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="get last letter",e.Msg.TEXT_CHARAT_RANDOM="get random letter",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="in text %1 %2",e.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",e.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",e.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",e.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",e.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",e.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="length of %1",e.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="print %1",e.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",e.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",e.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",e.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",e.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",e.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",e.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",e.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",e.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",e.Msg.TODAY="Today",e.Msg.UNDO="Undo",e.Msg.UNNAMED_KEY="unnamed",e.Msg.VARIABLES_DEFAULT_NAME="item",e.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",e.Msg.VARIABLES_SET="set %1 to %2",e.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",e.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",e.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})?o.apply(t,i):o)||(e.exports=r)},5702:function(e,t,n){var o,i,r;i=[n(947),n(9074)],void 0===(r="function"===typeof(o=function(e,t){return t})?o.apply(t,i):o)||(e.exports=r)},9074:function(e,t,n){var o,i,r;i=[n(9810)],void 0===(r="function"===typeof(o=function(e){var t=e.internal_,n=new t.module$exports$Blockly$Generator.Generator("Python");n.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip"),n.ORDER_ATOMIC=0,n.ORDER_COLLECTION=1,n.ORDER_STRING_CONVERSION=1,n.ORDER_MEMBER=2.1,n.ORDER_FUNCTION_CALL=2.2,n.ORDER_EXPONENTIATION=3,n.ORDER_UNARY_SIGN=4,n.ORDER_BITWISE_NOT=4,n.ORDER_MULTIPLICATIVE=5,n.ORDER_ADDITIVE=6,n.ORDER_BITWISE_SHIFT=7,n.ORDER_BITWISE_AND=8,n.ORDER_BITWISE_XOR=9,n.ORDER_BITWISE_OR=10,n.ORDER_RELATIONAL=11,n.ORDER_LOGICAL_NOT=12,n.ORDER_LOGICAL_AND=13,n.ORDER_LOGICAL_OR=14,n.ORDER_CONDITIONAL=15,n.ORDER_LAMBDA=16,n.ORDER_NONE=99,n.ORDER_OVERRIDES=[[n.ORDER_FUNCTION_CALL,n.ORDER_MEMBER],[n.ORDER_FUNCTION_CALL,n.ORDER_FUNCTION_CALL],[n.ORDER_MEMBER,n.ORDER_MEMBER],[n.ORDER_MEMBER,n.ORDER_FUNCTION_CALL],[n.ORDER_LOGICAL_NOT,n.ORDER_LOGICAL_NOT],[n.ORDER_LOGICAL_AND,n.ORDER_LOGICAL_AND],[n.ORDER_LOGICAL_OR,n.ORDER_LOGICAL_OR]],n.isInitialized=!1,n.init=function(e){Object.getPrototypeOf(this).init.call(this),this.PASS=this.INDENT+"pass\n",this.nameDB_?this.nameDB_.reset():this.nameDB_=new t.module$exports$Blockly$Names.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(e.getVariableMap()),this.nameDB_.populateVariables(e),this.nameDB_.populateProcedures(e);for(var n=[],o=(0,t.module$exports$Blockly$Variables.allDeveloperVariables)(e),i=0;i<o.length;i++)n.push(this.nameDB_.getName(o[i],t.module$exports$Blockly$Names.Names.DEVELOPER_VARIABLE_TYPE)+" = None");for(e=(0,t.module$exports$Blockly$Variables.allUsedVarModels)(e),o=0;o<e.length;o++)n.push(this.nameDB_.getName(e[o].getId(),t.module$exports$Blockly$Names.NameType.VARIABLE)+" = None");this.definitions_.variables=n.join("\n"),this.isInitialized=!0},n.finish=function(e){var t,n=[],o=[];for(t in this.definitions_){var i=this.definitions_[t];i.match(/^(from\s+\S+\s+)?import\s+\S+/)?n.push(i):o.push(i)}return e=Object.getPrototypeOf(this).finish.call(this,e),this.isInitialized=!1,this.nameDB_.reset(),(n.join("\n")+"\n\n"+o.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+e},n.scrubNakedValue=function(e){return e+"\n"},n.quote_=function(e){var t="'";return-1!==(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n")).indexOf("'")&&(-1===e.indexOf('"')?t='"':e=e.replace(/'/g,"\\'")),t+e+t},n.multiline_quote_=function(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' + \n")},n.scrub_=function(e,n,o){var i="";if(!e.outputConnection||!e.outputConnection.targetConnection){var r=e.getCommentText();r&&(r=(0,t.module$exports$Blockly$utils$string.wrap)(r,this.COMMENT_WRAP-3),i+=this.prefixLines(r+"\n","# "));for(var s=0;s<e.inputList.length;s++)e.inputList[s].type===t.module$exports$Blockly$inputTypes.inputTypes.VALUE&&(r=e.inputList[s].connection.targetBlock())&&(r=this.allNestedComments(r))&&(i+=this.prefixLines(r,"# "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),i+n+(o=o?"":this.blockToCode(e))},n.getAdjustedInt=function(e,n,o,i){o=o||0,e.workspace.options.oneBasedIndex&&o--;var r=e.workspace.options.oneBasedIndex?"1":"0";return e=this.valueToCode(e,n,o?this.ORDER_ADDITIVE:this.ORDER_NONE)||r,(0,t.module$exports$Blockly$utils$string.isNumber)(e)?(e=parseInt(e,10)+o,i&&(e=-e)):(e=0<o?"int("+e+" + "+o+")":0>o?"int("+e+" - "+-o+")":"int("+e+")",i&&(e="-"+e)),e},t.Blockly.Python=n,t.Blockly.Python.variables_get=function(e){return[t.Blockly.Python.nameDB_.getName(e.getFieldValue("VAR"),t.module$exports$Blockly$Names.NameType.VARIABLE),t.Blockly.Python.ORDER_ATOMIC]},t.Blockly.Python.variables_set=function(e){var n=t.Blockly.Python.valueToCode(e,"VALUE",t.Blockly.Python.ORDER_NONE)||"0";return t.Blockly.Python.nameDB_.getName(e.getFieldValue("VAR"),t.module$exports$Blockly$Names.NameType.VARIABLE)+" = "+n+"\n"},t.Blockly.Python.variables_get_dynamic=t.Blockly.Python.variables_get,t.Blockly.Python.variables_set_dynamic=t.Blockly.Python.variables_set,t.Blockly.Python.text=function(e){return[t.Blockly.Python.quote_(e.getFieldValue("TEXT")),t.Blockly.Python.ORDER_ATOMIC]},t.Blockly.Python.text_multiline=function(e){var n=-1!==(e=t.Blockly.Python.multiline_quote_(e.getFieldValue("TEXT"))).indexOf("+")?t.Blockly.Python.ORDER_ADDITIVE:t.Blockly.Python.ORDER_ATOMIC;return[e,n]};var o=/^\s*'([^']|\\')*'\s*$/,i=function(e){return o.test(e)?[e,t.Blockly.Python.ORDER_ATOMIC]:["str("+e+")",t.Blockly.Python.ORDER_FUNCTION_CALL]};return t.Blockly.Python.text_join=function(e){switch(e.itemCount_){case 0:return["''",t.Blockly.Python.ORDER_ATOMIC];case 1:return e=t.Blockly.Python.valueToCode(e,"ADD0",t.Blockly.Python.ORDER_NONE)||"''",i(e);case 2:var n=t.Blockly.Python.valueToCode(e,"ADD0",t.Blockly.Python.ORDER_NONE)||"''";return e=t.Blockly.Python.valueToCode(e,"ADD1",t.Blockly.Python.ORDER_NONE)||"''",[i(n)[0]+" + "+i(e)[0],t.Blockly.Python.ORDER_ADDITIVE];default:n=[];for(var o=0;o<e.itemCount_;o++)n[o]=t.Blockly.Python.valueToCode(e,"ADD"+o,t.Blockly.Python.ORDER_NONE)||"''";return["''.join([str("+(e=t.Blockly.Python.nameDB_.getDistinctName("x",t.module$exports$Blockly$Names.NameType.VARIABLE))+") for "+e+" in ["+n.join(", ")+"]])",t.Blockly.Python.ORDER_FUNCTION_CALL]}},t.Blockly.Python.text_append=function(e){var n=t.Blockly.Python.nameDB_.getName(e.getFieldValue("VAR"),t.module$exports$Blockly$Names.NameType.VARIABLE);return e=t.Blockly.Python.valueToCode(e,"TEXT",t.Blockly.Python.ORDER_NONE)||"''",n+" = str("+n+") + "+i(e)[0]+"\n"},t.Blockly.Python.text_length=function(e){return["len("+(t.Blockly.Python.valueToCode(e,"VALUE",t.Blockly.Python.ORDER_NONE)||"''")+")",t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.text_isEmpty=function(e){return["not len("+(t.Blockly.Python.valueToCode(e,"VALUE",t.Blockly.Python.ORDER_NONE)||"''")+")",t.Blockly.Python.ORDER_LOGICAL_NOT]},t.Blockly.Python.text_indexOf=function(e){var n="FIRST"===e.getFieldValue("END")?"find":"rfind",o=t.Blockly.Python.valueToCode(e,"FIND",t.Blockly.Python.ORDER_NONE)||"''";return n=(t.Blockly.Python.valueToCode(e,"VALUE",t.Blockly.Python.ORDER_MEMBER)||"''")+"."+n+"("+o+")",e.workspace.options.oneBasedIndex?[n+" + 1",t.Blockly.Python.ORDER_ADDITIVE]:[n,t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.text_charAt=function(e){var n=e.getFieldValue("WHERE")||"FROM_START",o=t.Blockly.Python.valueToCode(e,"VALUE","RANDOM"===n?t.Blockly.Python.ORDER_NONE:t.Blockly.Python.ORDER_MEMBER)||"''";switch(n){case"FIRST":return[o+"[0]",t.Blockly.Python.ORDER_MEMBER];case"LAST":return[o+"[-1]",t.Blockly.Python.ORDER_MEMBER];case"FROM_START":return[o+"["+(e=t.Blockly.Python.getAdjustedInt(e,"AT"))+"]",t.Blockly.Python.ORDER_MEMBER];case"FROM_END":return[o+"["+(e=t.Blockly.Python.getAdjustedInt(e,"AT",1,!0))+"]",t.Blockly.Python.ORDER_MEMBER];case"RANDOM":return t.Blockly.Python.definitions_.import_random="import random",[t.Blockly.Python.provideFunction_("text_random_letter",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(text):","  x = int(random.random() * len(text))","  return text[x];"])+"("+o+")",t.Blockly.Python.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},t.Blockly.Python.text_getSubstring=function(e){var n=e.getFieldValue("WHERE1"),o=e.getFieldValue("WHERE2"),i=t.Blockly.Python.valueToCode(e,"STRING",t.Blockly.Python.ORDER_MEMBER)||"''";switch(n){case"FROM_START":0===(n=t.Blockly.Python.getAdjustedInt(e,"AT1"))&&(n="");break;case"FROM_END":n=t.Blockly.Python.getAdjustedInt(e,"AT1",1,!0);break;case"FIRST":n="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(o){case"FROM_START":e=t.Blockly.Python.getAdjustedInt(e,"AT2",1);break;case"FROM_END":e=t.Blockly.Python.getAdjustedInt(e,"AT2",0,!0),(0,t.module$exports$Blockly$utils$string.isNumber)(String(e))?0===e&&(e=""):(t.Blockly.Python.definitions_.import_sys="import sys",e+=" or sys.maxsize");break;case"LAST":e="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[i+"["+n+" : "+e+"]",t.Blockly.Python.ORDER_MEMBER]},t.Blockly.Python.text_changeCase=function(e){var n={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[e.getFieldValue("CASE")];return[(t.Blockly.Python.valueToCode(e,"TEXT",t.Blockly.Python.ORDER_MEMBER)||"''")+n,t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.text_trim=function(e){var n={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[e.getFieldValue("MODE")];return[(t.Blockly.Python.valueToCode(e,"TEXT",t.Blockly.Python.ORDER_MEMBER)||"''")+n,t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.text_print=function(e){return"print("+(t.Blockly.Python.valueToCode(e,"TEXT",t.Blockly.Python.ORDER_NONE)||"''")+")\n"},t.Blockly.Python.text_prompt_ext=function(e){var n=t.Blockly.Python.provideFunction_("text_prompt",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(msg):","  try:","    return raw_input(msg)","  except NameError:","    return input(msg)"]);return n=n+"("+(e.getField("TEXT")?t.Blockly.Python.quote_(e.getFieldValue("TEXT")):t.Blockly.Python.valueToCode(e,"TEXT",t.Blockly.Python.ORDER_NONE)||"''")+")","NUMBER"===e.getFieldValue("TYPE")&&(n="float("+n+")"),[n,t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.text_prompt=t.Blockly.Python.text_prompt_ext,t.Blockly.Python.text_count=function(e){return[(t.Blockly.Python.valueToCode(e,"TEXT",t.Blockly.Python.ORDER_MEMBER)||"''")+".count("+(e=t.Blockly.Python.valueToCode(e,"SUB",t.Blockly.Python.ORDER_NONE)||"''")+")",t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.text_replace=function(e){return[(t.Blockly.Python.valueToCode(e,"TEXT",t.Blockly.Python.ORDER_MEMBER)||"''")+".replace("+(t.Blockly.Python.valueToCode(e,"FROM",t.Blockly.Python.ORDER_NONE)||"''")+", "+(e=t.Blockly.Python.valueToCode(e,"TO",t.Blockly.Python.ORDER_NONE)||"''")+")",t.Blockly.Python.ORDER_MEMBER]},t.Blockly.Python.text_reverse=function(e){return[(t.Blockly.Python.valueToCode(e,"TEXT",t.Blockly.Python.ORDER_MEMBER)||"''")+"[::-1]",t.Blockly.Python.ORDER_MEMBER]},t.Blockly.Python.procedures_defreturn=function(e){for(var n,o=[],i=e.workspace,r=(0,t.module$exports$Blockly$Variables.allUsedVarModels)(i)||[],s=0;n=r[s];s++)n=n.name,-1===e.getVars().indexOf(n)&&o.push(t.Blockly.Python.nameDB_.getName(n,t.module$exports$Blockly$Names.NameType.VARIABLE));for(i=(0,t.module$exports$Blockly$Variables.allDeveloperVariables)(i),r=0;r<i.length;r++)o.push(t.Blockly.Python.nameDB_.getName(i[r],t.module$exports$Blockly$Names.NameType.DEVELOPER_VARIABLE));i=o.length?t.Blockly.Python.INDENT+"global "+o.join(", ")+"\n":"",o=t.Blockly.Python.nameDB_.getName(e.getFieldValue("NAME"),t.module$exports$Blockly$Names.NameType.PROCEDURE),r="",t.Blockly.Python.STATEMENT_PREFIX&&(r+=t.Blockly.Python.injectId(t.Blockly.Python.STATEMENT_PREFIX,e)),t.Blockly.Python.STATEMENT_SUFFIX&&(r+=t.Blockly.Python.injectId(t.Blockly.Python.STATEMENT_SUFFIX,e)),r&&(r=t.Blockly.Python.prefixLines(r,t.Blockly.Python.INDENT)),s="",t.Blockly.Python.INFINITE_LOOP_TRAP&&(s=t.Blockly.Python.prefixLines(t.Blockly.Python.injectId(t.Blockly.Python.INFINITE_LOOP_TRAP,e),t.Blockly.Python.INDENT)),n=t.Blockly.Python.statementToCode(e,"STACK");var l=t.Blockly.Python.valueToCode(e,"RETURN",t.Blockly.Python.ORDER_NONE)||"",a="";n&&l&&(a=r),l?l=t.Blockly.Python.INDENT+"return "+l+"\n":n||(n=t.Blockly.Python.PASS);for(var c=[],u=e.getVars(),p=0;p<u.length;p++)c[p]=t.Blockly.Python.nameDB_.getName(u[p],t.module$exports$Blockly$Names.NameType.VARIABLE);return i="def "+o+"("+c.join(", ")+"):\n"+i+r+s+n+a+l,i=t.Blockly.Python.scrub_(e,i),t.Blockly.Python.definitions_["%"+o]=i,null},t.Blockly.Python.procedures_defnoreturn=t.Blockly.Python.procedures_defreturn,t.Blockly.Python.procedures_callreturn=function(e){for(var n=t.Blockly.Python.nameDB_.getName(e.getFieldValue("NAME"),t.module$exports$Blockly$Names.NameType.PROCEDURE),o=[],i=e.getVars(),r=0;r<i.length;r++)o[r]=t.Blockly.Python.valueToCode(e,"ARG"+r,t.Blockly.Python.ORDER_NONE)||"None";return[n+"("+o.join(", ")+")",t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.procedures_callnoreturn=function(e){return t.Blockly.Python.procedures_callreturn(e)[0]+"\n"},t.Blockly.Python.procedures_ifreturn=function(e){var n="if "+(t.Blockly.Python.valueToCode(e,"CONDITION",t.Blockly.Python.ORDER_NONE)||"False")+":\n";return t.Blockly.Python.STATEMENT_SUFFIX&&(n+=t.Blockly.Python.prefixLines(t.Blockly.Python.injectId(t.Blockly.Python.STATEMENT_SUFFIX,e),t.Blockly.Python.INDENT)),e.hasReturnValue_?(e=t.Blockly.Python.valueToCode(e,"VALUE",t.Blockly.Python.ORDER_NONE)||"None",n+=t.Blockly.Python.INDENT+"return "+e+"\n"):n+=t.Blockly.Python.INDENT+"return\n",n},t.Blockly.Python.addReservedWords("math,random,Number"),t.Blockly.Python.math_number=function(e){if(1/0===(e=Number(e.getFieldValue("NUM")))){e='float("inf")';var n=t.Blockly.Python.ORDER_FUNCTION_CALL}else-1/0===e?(e='-float("inf")',n=t.Blockly.Python.ORDER_UNARY_SIGN):n=0>e?t.Blockly.Python.ORDER_UNARY_SIGN:t.Blockly.Python.ORDER_ATOMIC;return[e,n]},t.Blockly.Python.math_arithmetic=function(e){var n={ADD:[" + ",t.Blockly.Python.ORDER_ADDITIVE],MINUS:[" - ",t.Blockly.Python.ORDER_ADDITIVE],MULTIPLY:[" * ",t.Blockly.Python.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",t.Blockly.Python.ORDER_MULTIPLICATIVE],POWER:[" ** ",t.Blockly.Python.ORDER_EXPONENTIATION]}[e.getFieldValue("OP")],o=n[0];return n=n[1],[(t.Blockly.Python.valueToCode(e,"A",n)||"0")+o+(e=t.Blockly.Python.valueToCode(e,"B",n)||"0"),n]},t.Blockly.Python.math_single=function(e){var n=e.getFieldValue("OP");if("NEG"===n){var o=t.Blockly.Python.valueToCode(e,"NUM",t.Blockly.Python.ORDER_UNARY_SIGN)||"0";return["-"+o,t.Blockly.Python.ORDER_UNARY_SIGN]}switch(t.Blockly.Python.definitions_.import_math="import math",e="SIN"===n||"COS"===n||"TAN"===n?t.Blockly.Python.valueToCode(e,"NUM",t.Blockly.Python.ORDER_MULTIPLICATIVE)||"0":t.Blockly.Python.valueToCode(e,"NUM",t.Blockly.Python.ORDER_NONE)||"0",n){case"ABS":o="math.fabs("+e+")";break;case"ROOT":o="math.sqrt("+e+")";break;case"LN":o="math.log("+e+")";break;case"LOG10":o="math.log10("+e+")";break;case"EXP":o="math.exp("+e+")";break;case"POW10":o="math.pow(10,"+e+")";break;case"ROUND":o="round("+e+")";break;case"ROUNDUP":o="math.ceil("+e+")";break;case"ROUNDDOWN":o="math.floor("+e+")";break;case"SIN":o="math.sin("+e+" / 180.0 * math.pi)";break;case"COS":o="math.cos("+e+" / 180.0 * math.pi)";break;case"TAN":o="math.tan("+e+" / 180.0 * math.pi)"}if(o)return[o,t.Blockly.Python.ORDER_FUNCTION_CALL];switch(n){case"ASIN":o="math.asin("+e+") / math.pi * 180";break;case"ACOS":o="math.acos("+e+") / math.pi * 180";break;case"ATAN":o="math.atan("+e+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+n)}return[o,t.Blockly.Python.ORDER_MULTIPLICATIVE]},t.Blockly.Python.math_constant=function(e){var n={PI:["math.pi",t.Blockly.Python.ORDER_MEMBER],E:["math.e",t.Blockly.Python.ORDER_MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",t.Blockly.Python.ORDER_MULTIPLICATIVE],SQRT2:["math.sqrt(2)",t.Blockly.Python.ORDER_MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",t.Blockly.Python.ORDER_MEMBER],INFINITY:["float('inf')",t.Blockly.Python.ORDER_ATOMIC]};return"INFINITY"!==(e=e.getFieldValue("CONSTANT"))&&(t.Blockly.Python.definitions_.import_math="import math"),n[e]},t.Blockly.Python.math_number_property=function(e){var n=t.Blockly.Python.valueToCode(e,"NUMBER_TO_CHECK",t.Blockly.Python.ORDER_MULTIPLICATIVE)||"0",o=e.getFieldValue("PROPERTY");if("PRIME"===o)return t.Blockly.Python.definitions_.import_math="import math",t.Blockly.Python.definitions_.from_numbers_import_Number="from numbers import Number",[t.Blockly.Python.provideFunction_("math_isPrime",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(n):","  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  # If n is not a number but a string, try parsing it.","  if not isinstance(n, Number):","    try:","      n = float(n)","    except:","      return False","  if n == 2 or n == 3:","    return True","  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.","  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:","    return False","  # Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for x in range(6, int(math.sqrt(n)) + 2, 6):","    if n % (x - 1) == 0 or n % (x + 1) == 0:","      return False","  return True"])+"("+n+")",t.Blockly.Python.ORDER_FUNCTION_CALL];switch(o){case"EVEN":var i=n+" % 2 == 0";break;case"ODD":i=n+" % 2 == 1";break;case"WHOLE":i=n+" % 1 == 0";break;case"POSITIVE":i=n+" > 0";break;case"NEGATIVE":i=n+" < 0";break;case"DIVISIBLE_BY":if(!(e=t.Blockly.Python.valueToCode(e,"DIVISOR",t.Blockly.Python.ORDER_MULTIPLICATIVE))||"0"===e)return["False",t.Blockly.Python.ORDER_ATOMIC];i=n+" % "+e+" == 0"}return[i,t.Blockly.Python.ORDER_RELATIONAL]},t.Blockly.Python.math_change=function(e){t.Blockly.Python.definitions_.from_numbers_import_Number="from numbers import Number";var n=t.Blockly.Python.valueToCode(e,"DELTA",t.Blockly.Python.ORDER_ADDITIVE)||"0";return(e=t.Blockly.Python.nameDB_.getName(e.getFieldValue("VAR"),t.module$exports$Blockly$Names.NameType.VARIABLE))+" = ("+e+" if isinstance("+e+", Number) else 0) + "+n+"\n"},t.Blockly.Python.math_round=t.Blockly.Python.math_single,t.Blockly.Python.math_trig=t.Blockly.Python.math_single,t.Blockly.Python.math_on_list=function(e){var n=e.getFieldValue("OP");switch(e=t.Blockly.Python.valueToCode(e,"LIST",t.Blockly.Python.ORDER_NONE)||"[]",n){case"SUM":n="sum("+e+")";break;case"MIN":n="min("+e+")";break;case"MAX":n="max("+e+")";break;case"AVERAGE":t.Blockly.Python.definitions_.from_numbers_import_Number="from numbers import Number",n=t.Blockly.Python.provideFunction_("math_mean",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = [e for e in myList if isinstance(e, Number)]","  if not localList: return","  return float(sum(localList)) / len(localList)"])+"("+e+")";break;case"MEDIAN":t.Blockly.Python.definitions_.from_numbers_import_Number="from numbers import Number",n=t.Blockly.Python.provideFunction_("math_median",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = sorted([e for e in myList if isinstance(e, Number)])","  if not localList: return","  if len(localList) % 2 == 0:","    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0","  else:","    return localList[(len(localList) - 1) // 2]"])+"("+e+")";break;case"MODE":n=t.Blockly.Python.provideFunction_("math_modes",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(some_list):","  modes = []","  # Using a lists of [item, count] to keep count rather than dict",'  # to avoid "unhashable" errors when the counted item is itself a list or dict.',"  counts = []","  maxCount = 1","  for item in some_list:","    found = False","    for count in counts:","      if count[0] == item:","        count[1] += 1","        maxCount = max(maxCount, count[1])","        found = True","    if not found:","      counts.append([item, 1])","  for counted_item, item_count in counts:","    if item_count == maxCount:","      modes.append(counted_item)","  return modes"])+"("+e+")";break;case"STD_DEV":t.Blockly.Python.definitions_.import_math="import math",n=t.Blockly.Python.provideFunction_("math_standard_deviation",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(numbers):","  n = len(numbers)","  if n == 0: return","  mean = float(sum(numbers)) / n","  variance = sum((x - mean) ** 2 for x in numbers) / n","  return math.sqrt(variance)"])+"("+e+")";break;case"RANDOM":t.Blockly.Python.definitions_.import_random="import random",n="random.choice("+e+")";break;default:throw Error("Unknown operator: "+n)}return[n,t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.math_modulo=function(e){return[(t.Blockly.Python.valueToCode(e,"DIVIDEND",t.Blockly.Python.ORDER_MULTIPLICATIVE)||"0")+" % "+(e=t.Blockly.Python.valueToCode(e,"DIVISOR",t.Blockly.Python.ORDER_MULTIPLICATIVE)||"0"),t.Blockly.Python.ORDER_MULTIPLICATIVE]},t.Blockly.Python.math_constrain=function(e){return["min(max("+(t.Blockly.Python.valueToCode(e,"VALUE",t.Blockly.Python.ORDER_NONE)||"0")+", "+(t.Blockly.Python.valueToCode(e,"LOW",t.Blockly.Python.ORDER_NONE)||"0")+"), "+(e=t.Blockly.Python.valueToCode(e,"HIGH",t.Blockly.Python.ORDER_NONE)||"float('inf')")+")",t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.math_random_int=function(e){return t.Blockly.Python.definitions_.import_random="import random",["random.randint("+(t.Blockly.Python.valueToCode(e,"FROM",t.Blockly.Python.ORDER_NONE)||"0")+", "+(e=t.Blockly.Python.valueToCode(e,"TO",t.Blockly.Python.ORDER_NONE)||"0")+")",t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.math_random_float=function(e){return t.Blockly.Python.definitions_.import_random="import random",["random.random()",t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.math_atan2=function(e){t.Blockly.Python.definitions_.import_math="import math";var n=t.Blockly.Python.valueToCode(e,"X",t.Blockly.Python.ORDER_NONE)||"0";return["math.atan2("+(t.Blockly.Python.valueToCode(e,"Y",t.Blockly.Python.ORDER_NONE)||"0")+", "+n+") / math.pi * 180",t.Blockly.Python.ORDER_MULTIPLICATIVE]},t.Blockly.Python.controls_repeat_ext=function(e){var n=e.getField("TIMES")?String(parseInt(e.getFieldValue("TIMES"),10)):t.Blockly.Python.valueToCode(e,"TIMES",t.Blockly.Python.ORDER_NONE)||"0";n=(0,t.module$exports$Blockly$utils$string.isNumber)(n)?parseInt(n,10):"int("+n+")";var o=t.Blockly.Python.statementToCode(e,"DO");return o=t.Blockly.Python.addLoopTrap(o,e)||t.Blockly.Python.PASS,"for "+t.Blockly.Python.nameDB_.getDistinctName("count",t.module$exports$Blockly$Names.NameType.VARIABLE)+" in range("+n+"):\n"+o},t.Blockly.Python.controls_repeat=t.Blockly.Python.controls_repeat_ext,t.Blockly.Python.controls_whileUntil=function(e){var n="UNTIL"===e.getFieldValue("MODE"),o=t.Blockly.Python.valueToCode(e,"BOOL",n?t.Blockly.Python.ORDER_LOGICAL_NOT:t.Blockly.Python.ORDER_NONE)||"False",i=t.Blockly.Python.statementToCode(e,"DO");return n&&(o="not "+o),"while "+o+":\n"+(i=t.Blockly.Python.addLoopTrap(i,e)||t.Blockly.Python.PASS)},t.Blockly.Python.controls_for=function(e){var n=t.Blockly.Python.nameDB_.getName(e.getFieldValue("VAR"),t.module$exports$Blockly$Names.NameType.VARIABLE),o=t.Blockly.Python.valueToCode(e,"FROM",t.Blockly.Python.ORDER_NONE)||"0",i=t.Blockly.Python.valueToCode(e,"TO",t.Blockly.Python.ORDER_NONE)||"0",r=t.Blockly.Python.valueToCode(e,"BY",t.Blockly.Python.ORDER_NONE)||"1",s=t.Blockly.Python.statementToCode(e,"DO");s=t.Blockly.Python.addLoopTrap(s,e)||t.Blockly.Python.PASS;var l="";e=function(){return t.Blockly.Python.provideFunction_("upRange",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start <= stop:","    yield start","    start += abs(step)"])};var a=function(){return t.Blockly.Python.provideFunction_("downRange",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start >= stop:","    yield start","    start -= abs(step)"])};if((0,t.module$exports$Blockly$utils$string.isNumber)(o)&&(0,t.module$exports$Blockly$utils$string.isNumber)(i)&&(0,t.module$exports$Blockly$utils$string.isNumber)(r))o=Number(o),i=Number(i),r=Math.abs(Number(r)),0===o%1&&0===i%1&&0===r%1?(o<=i?(i++,e=0===o&&1===r?i:o+", "+i,1!==r&&(e+=", "+r)):e=o+", "+--i+", -"+r,e="range("+e+")"):(e=o<i?e():a(),e+="("+o+", "+i+", "+r+")");else{var c=function(e,o){return(0,t.module$exports$Blockly$utils$string.isNumber)(e)?e=Number(e):e.match(/^\w+$/)?e="float("+e+")":(o=t.Blockly.Python.nameDB_.getDistinctName(n+o,t.module$exports$Blockly$Names.NameType.VARIABLE),l+=o+" = float("+e+")\n",e=o),e};o=c(o,"_start"),i=c(i,"_end"),r=c(r,"_inc"),"number"===typeof o&&"number"===typeof i?(e=o<i?e():a(),e+="("+o+", "+i+", "+r+")"):e="("+o+" <= "+i+") and "+e()+"("+o+", "+i+", "+r+") or "+a()+"("+o+", "+i+", "+r+")"}return l+="for "+n+" in "+e+":\n"+s},t.Blockly.Python.controls_forEach=function(e){var n=t.Blockly.Python.nameDB_.getName(e.getFieldValue("VAR"),t.module$exports$Blockly$Names.NameType.VARIABLE),o=t.Blockly.Python.valueToCode(e,"LIST",t.Blockly.Python.ORDER_RELATIONAL)||"[]",i=t.Blockly.Python.statementToCode(e,"DO");return"for "+n+" in "+o+":\n"+(i=t.Blockly.Python.addLoopTrap(i,e)||t.Blockly.Python.PASS)},t.Blockly.Python.controls_flow_statements=function(e){var n="";if(t.Blockly.Python.STATEMENT_PREFIX&&(n+=t.Blockly.Python.injectId(t.Blockly.Python.STATEMENT_PREFIX,e)),t.Blockly.Python.STATEMENT_SUFFIX&&(n+=t.Blockly.Python.injectId(t.Blockly.Python.STATEMENT_SUFFIX,e)),t.Blockly.Python.STATEMENT_PREFIX){var o=e.getSurroundLoop();o&&!o.suppressPrefixSuffix&&(n+=t.Blockly.Python.injectId(t.Blockly.Python.STATEMENT_PREFIX,o))}switch(e.getFieldValue("FLOW")){case"BREAK":return n+"break\n";case"CONTINUE":return n+"continue\n"}throw Error("Unknown flow statement.")},t.Blockly.Python.controls_if=function(e){var n=0,o="";t.Blockly.Python.STATEMENT_PREFIX&&(o+=t.Blockly.Python.injectId(t.Blockly.Python.STATEMENT_PREFIX,e));do{var i=t.Blockly.Python.valueToCode(e,"IF"+n,t.Blockly.Python.ORDER_NONE)||"False",r=t.Blockly.Python.statementToCode(e,"DO"+n)||t.Blockly.Python.PASS;t.Blockly.Python.STATEMENT_SUFFIX&&(r=t.Blockly.Python.prefixLines(t.Blockly.Python.injectId(t.Blockly.Python.STATEMENT_SUFFIX,e),t.Blockly.Python.INDENT)+r),o+=(0===n?"if ":"elif ")+i+":\n"+r,n++}while(e.getInput("IF"+n));return(e.getInput("ELSE")||t.Blockly.Python.STATEMENT_SUFFIX)&&(r=t.Blockly.Python.statementToCode(e,"ELSE")||t.Blockly.Python.PASS,t.Blockly.Python.STATEMENT_SUFFIX&&(r=t.Blockly.Python.prefixLines(t.Blockly.Python.injectId(t.Blockly.Python.STATEMENT_SUFFIX,e),t.Blockly.Python.INDENT)+r),o+="else:\n"+r),o},t.Blockly.Python.controls_ifelse=t.Blockly.Python.controls_if,t.Blockly.Python.logic_compare=function(e){var n={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],o=t.Blockly.Python.ORDER_RELATIONAL;return[(t.Blockly.Python.valueToCode(e,"A",o)||"0")+" "+n+" "+(e=t.Blockly.Python.valueToCode(e,"B",o)||"0"),o]},t.Blockly.Python.logic_operation=function(e){var n="AND"===e.getFieldValue("OP")?"and":"or",o="and"===n?t.Blockly.Python.ORDER_LOGICAL_AND:t.Blockly.Python.ORDER_LOGICAL_OR,i=t.Blockly.Python.valueToCode(e,"A",o);if(e=t.Blockly.Python.valueToCode(e,"B",o),i||e){var r="and"===n?"True":"False";i||(i=r),e||(e=r)}else e=i="False";return[i+" "+n+" "+e,o]},t.Blockly.Python.logic_negate=function(e){return["not "+(t.Blockly.Python.valueToCode(e,"BOOL",t.Blockly.Python.ORDER_LOGICAL_NOT)||"True"),t.Blockly.Python.ORDER_LOGICAL_NOT]},t.Blockly.Python.logic_boolean=function(e){return["TRUE"===e.getFieldValue("BOOL")?"True":"False",t.Blockly.Python.ORDER_ATOMIC]},t.Blockly.Python.logic_null=function(e){return["None",t.Blockly.Python.ORDER_ATOMIC]},t.Blockly.Python.logic_ternary=function(e){var n=t.Blockly.Python.valueToCode(e,"IF",t.Blockly.Python.ORDER_CONDITIONAL)||"False";return[(t.Blockly.Python.valueToCode(e,"THEN",t.Blockly.Python.ORDER_CONDITIONAL)||"None")+" if "+n+" else "+(e=t.Blockly.Python.valueToCode(e,"ELSE",t.Blockly.Python.ORDER_CONDITIONAL)||"None"),t.Blockly.Python.ORDER_CONDITIONAL]},t.Blockly.Python.lists_create_empty=function(e){return["[]",t.Blockly.Python.ORDER_ATOMIC]},t.Blockly.Python.lists_create_with=function(e){for(var n=Array(e.itemCount_),o=0;o<e.itemCount_;o++)n[o]=t.Blockly.Python.valueToCode(e,"ADD"+o,t.Blockly.Python.ORDER_NONE)||"None";return["["+n.join(", ")+"]",t.Blockly.Python.ORDER_ATOMIC]},t.Blockly.Python.lists_repeat=function(e){return["["+(t.Blockly.Python.valueToCode(e,"ITEM",t.Blockly.Python.ORDER_NONE)||"None")+"] * "+(e=t.Blockly.Python.valueToCode(e,"NUM",t.Blockly.Python.ORDER_MULTIPLICATIVE)||"0"),t.Blockly.Python.ORDER_MULTIPLICATIVE]},t.Blockly.Python.lists_length=function(e){return["len("+(t.Blockly.Python.valueToCode(e,"VALUE",t.Blockly.Python.ORDER_NONE)||"[]")+")",t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.lists_isEmpty=function(e){return["not len("+(t.Blockly.Python.valueToCode(e,"VALUE",t.Blockly.Python.ORDER_NONE)||"[]")+")",t.Blockly.Python.ORDER_LOGICAL_NOT]},t.Blockly.Python.lists_indexOf=function(e){var n=t.Blockly.Python.valueToCode(e,"FIND",t.Blockly.Python.ORDER_NONE)||"[]",o=t.Blockly.Python.valueToCode(e,"VALUE",t.Blockly.Python.ORDER_NONE)||"''",i=" -1",r="",s=" - 1";return e.workspace.options.oneBasedIndex&&(i=" 0",r=" + 1",s=""),"FIRST"===e.getFieldValue("END")?[t.Blockly.Python.provideFunction_("first_index",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = my_list.index(elem)"+r,"  except: index ="+i,"  return index"])+"("+o+", "+n+")",t.Blockly.Python.ORDER_FUNCTION_CALL]:[t.Blockly.Python.provideFunction_("last_index",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = len(my_list) - my_list[::-1].index(elem)"+s,"  except: index ="+i,"  return index"])+"("+o+", "+n+")",t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.lists_getIndex=function(e){var n=e.getFieldValue("MODE")||"GET",o=e.getFieldValue("WHERE")||"FROM_START",i=t.Blockly.Python.valueToCode(e,"VALUE","RANDOM"===o?t.Blockly.Python.ORDER_NONE:t.Blockly.Python.ORDER_MEMBER)||"[]";switch(o){case"FIRST":if("GET"===n)return[i+"[0]",t.Blockly.Python.ORDER_MEMBER];if("GET_REMOVE"===n)return[i+".pop(0)",t.Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"===n)return i+".pop(0)\n";break;case"LAST":if("GET"===n)return[i+"[-1]",t.Blockly.Python.ORDER_MEMBER];if("GET_REMOVE"===n)return[i+".pop()",t.Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"===n)return i+".pop()\n";break;case"FROM_START":if(e=t.Blockly.Python.getAdjustedInt(e,"AT"),"GET"===n)return[i+"["+e+"]",t.Blockly.Python.ORDER_MEMBER];if("GET_REMOVE"===n)return[i+".pop("+e+")",t.Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"===n)return i+".pop("+e+")\n";break;case"FROM_END":if(e=t.Blockly.Python.getAdjustedInt(e,"AT",1,!0),"GET"===n)return[i+"["+e+"]",t.Blockly.Python.ORDER_MEMBER];if("GET_REMOVE"===n)return[i+".pop("+e+")",t.Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"===n)return i+".pop("+e+")\n";break;case"RANDOM":if(t.Blockly.Python.definitions_.import_random="import random","GET"===n)return["random.choice("+i+")",t.Blockly.Python.ORDER_FUNCTION_CALL];if(i=t.Blockly.Python.provideFunction_("lists_remove_random_item",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  x = int(random.random() * len(myList))","  return myList.pop(x)"])+"("+i+")","GET_REMOVE"===n)return[i,t.Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"===n)return i+"\n"}throw Error("Unhandled combination (lists_getIndex).")},t.Blockly.Python.lists_setIndex=function(e){var n=t.Blockly.Python.valueToCode(e,"LIST",t.Blockly.Python.ORDER_MEMBER)||"[]",o=e.getFieldValue("MODE")||"GET",i=e.getFieldValue("WHERE")||"FROM_START",r=t.Blockly.Python.valueToCode(e,"TO",t.Blockly.Python.ORDER_NONE)||"None";switch(i){case"FIRST":if("SET"===o)return n+"[0] = "+r+"\n";if("INSERT"===o)return n+".insert(0, "+r+")\n";break;case"LAST":if("SET"===o)return n+"[-1] = "+r+"\n";if("INSERT"===o)return n+".append("+r+")\n";break;case"FROM_START":if(e=t.Blockly.Python.getAdjustedInt(e,"AT"),"SET"===o)return n+"["+e+"] = "+r+"\n";if("INSERT"===o)return n+".insert("+e+", "+r+")\n";break;case"FROM_END":if(e=t.Blockly.Python.getAdjustedInt(e,"AT",1,!0),"SET"===o)return n+"["+e+"] = "+r+"\n";if("INSERT"===o)return n+".insert("+e+", "+r+")\n";break;case"RANDOM":if(t.Blockly.Python.definitions_.import_random="import random",n.match(/^\w+$/)?e="":(i=(e=t.Blockly.Python.nameDB_.getDistinctName("tmp_list",t.module$exports$Blockly$Names.NameType.VARIABLE))+" = "+n+"\n",n=e,e=i),e+=(i=t.Blockly.Python.nameDB_.getDistinctName("tmp_x",t.module$exports$Blockly$Names.NameType.VARIABLE))+" = int(random.random() * len("+n+"))\n","SET"===o)return e+(n+"[")+i+"] = "+r+"\n";if("INSERT"===o)return e+(n+".insert(")+i+", "+r+")\n"}throw Error("Unhandled combination (lists_setIndex).")},t.Blockly.Python.lists_getSublist=function(e){var n=t.Blockly.Python.valueToCode(e,"LIST",t.Blockly.Python.ORDER_MEMBER)||"[]",o=e.getFieldValue("WHERE1"),i=e.getFieldValue("WHERE2");switch(o){case"FROM_START":0===(o=t.Blockly.Python.getAdjustedInt(e,"AT1"))&&(o="");break;case"FROM_END":o=t.Blockly.Python.getAdjustedInt(e,"AT1",1,!0);break;case"FIRST":o="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(i){case"FROM_START":e=t.Blockly.Python.getAdjustedInt(e,"AT2",1);break;case"FROM_END":e=t.Blockly.Python.getAdjustedInt(e,"AT2",0,!0),(0,t.module$exports$Blockly$utils$string.isNumber)(String(e))?0===e&&(e=""):(t.Blockly.Python.definitions_.import_sys="import sys",e+=" or sys.maxsize");break;case"LAST":e="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[n+"["+o+" : "+e+"]",t.Blockly.Python.ORDER_MEMBER]},t.Blockly.Python.lists_sort=function(e){var n=t.Blockly.Python.valueToCode(e,"LIST",t.Blockly.Python.ORDER_NONE)||"[]",o=e.getFieldValue("TYPE");return e="1"===e.getFieldValue("DIRECTION")?"False":"True",[t.Blockly.Python.provideFunction_("lists_sort",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, type, reverse):","  def try_float(s):","    try:","      return float(s)","    except:","      return 0","  key_funcs = {",'    "NUMERIC": try_float,','    "TEXT": str,','    "IGNORE_CASE": lambda s: str(s).lower()',"  }","  key_func = key_funcs[type]","  list_cpy = list(my_list)","  return sorted(list_cpy, key=key_func, reverse=reverse)"])+"("+n+', "'+o+'", '+e+")",t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.lists_split=function(e){var n=e.getFieldValue("MODE");if("SPLIT"===n)e=(n=t.Blockly.Python.valueToCode(e,"INPUT",t.Blockly.Python.ORDER_MEMBER)||"''")+".split("+(e=t.Blockly.Python.valueToCode(e,"DELIM",t.Blockly.Python.ORDER_NONE))+")";else{if("JOIN"!==n)throw Error("Unknown mode: "+n);n=t.Blockly.Python.valueToCode(e,"INPUT",t.Blockly.Python.ORDER_NONE)||"[]",e=(t.Blockly.Python.valueToCode(e,"DELIM",t.Blockly.Python.ORDER_MEMBER)||"''")+".join("+n+")"}return[e,t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.lists_reverse=function(e){return["list(reversed("+(t.Blockly.Python.valueToCode(e,"LIST",t.Blockly.Python.ORDER_NONE)||"[]")+"))",t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.colour_picker=function(e){return[t.Blockly.Python.quote_(e.getFieldValue("COLOUR")),t.Blockly.Python.ORDER_ATOMIC]},t.Blockly.Python.colour_random=function(e){return t.Blockly.Python.definitions_.import_random="import random",["'#%06x' % random.randint(0, 2**24 - 1)",t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.colour_rgb=function(e){return[t.Blockly.Python.provideFunction_("colour_rgb",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b):","  r = round(min(100, max(0, r)) * 2.55)","  g = round(min(100, max(0, g)) * 2.55)","  b = round(min(100, max(0, b)) * 2.55)","  return '#%02x%02x%02x' % (r, g, b)"])+"("+(t.Blockly.Python.valueToCode(e,"RED",t.Blockly.Python.ORDER_NONE)||0)+", "+(t.Blockly.Python.valueToCode(e,"GREEN",t.Blockly.Python.ORDER_NONE)||0)+", "+(e=t.Blockly.Python.valueToCode(e,"BLUE",t.Blockly.Python.ORDER_NONE)||0)+")",t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python.colour_blend=function(e){return[t.Blockly.Python.provideFunction_("colour_blend",["def "+t.Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(colour1, colour2, ratio):","  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)","  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)","  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)","  ratio = min(1, max(0, ratio))","  r = round(r1 * (1 - ratio) + r2 * ratio)","  g = round(g1 * (1 - ratio) + g2 * ratio)","  b = round(b1 * (1 - ratio) + b2 * ratio)","  return '#%02x%02x%02x' % (r, g, b)"])+"("+(t.Blockly.Python.valueToCode(e,"COLOUR1",t.Blockly.Python.ORDER_NONE)||"'#000000'")+", "+(t.Blockly.Python.valueToCode(e,"COLOUR2",t.Blockly.Python.ORDER_NONE)||"'#000000'")+", "+(e=t.Blockly.Python.valueToCode(e,"RATIO",t.Blockly.Python.ORDER_NONE)||0)+")",t.Blockly.Python.ORDER_FUNCTION_CALL]},t.Blockly.Python})?o.apply(t,i):o)||(e.exports=r)},6123:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var s=i.apply(null,n);s&&e.push(s)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var l in n)o.call(n,l)&&n[l]&&e.push(l);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},658:function(e,t,n){e.exports=function e(t,n,o){function i(s,l){if(!n[s]){if(!t[s]){if(r)return r(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return i(t[s][1][e]||e)}),c,c.exports,e,t,n,o)}return n[s].exports}for(var r=void 0,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){"use strict";var o=e("./utils"),i=e("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,s,l,a,c,u=[],p=0,h=e.length,d=h,f="string"!==o.getTypeOf(e);p<e.length;)d=h-p,i=f?(t=e[p++],n=p<h?e[p++]:0,p<h?e[p++]:0):(t=e.charCodeAt(p++),n=p<h?e.charCodeAt(p++):0,p<h?e.charCodeAt(p++):0),s=t>>2,l=(3&t)<<4|n>>4,a=1<d?(15&n)<<2|i>>6:64,c=2<d?63&i:64,u.push(r.charAt(s)+r.charAt(l)+r.charAt(a)+r.charAt(c));return u.join("")},n.decode=function(e){var t,n,o,s,l,a,c=0,u=0,p="data:";if(e.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var h,d=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===r.charAt(64)&&d--,e.charAt(e.length-2)===r.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=i.uint8array?new Uint8Array(0|d):new Array(0|d);c<e.length;)t=r.indexOf(e.charAt(c++))<<2|(s=r.indexOf(e.charAt(c++)))>>4,n=(15&s)<<4|(l=r.indexOf(e.charAt(c++)))>>2,o=(3&l)<<6|(a=r.indexOf(e.charAt(c++))),h[u++]=t,64!==l&&(h[u++]=n),64!==a&&(h[u++]=o);return h}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var o=e("./external"),i=e("./stream/DataWorker"),r=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function l(e,t,n,o,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=o,this.compressedContent=i}l.prototype={getContentWorker:function(){var e=new i(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(e,t,n){return e.pipe(new r).pipe(new s("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},t.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var o=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var o=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var o=0;o<8;o++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==o.getTypeOf(e)?function(e,t,n,o){var r=i,s=o+n;e^=-1;for(var l=o;l<s;l++)e=e>>>8^r[255&(e^t[l])];return-1^e}(0|t,e,e.length,0):function(e,t,n,o){var r=i,s=o+n;e^=-1;for(var l=o;l<s;l++)e=e>>>8^r[255&(e^t.charCodeAt(l))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var o=null;o="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:o}},{lie:37}],7:[function(e,t,n){"use strict";var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),r=e("./utils"),s=e("./stream/GenericWorker"),l=o?"uint8array":"array";function a(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",r.inherits(a,s),a.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(r.transformTo(l,e.data),!1)},a.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},a.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new a("Deflate",e)},n.uncompressWorker=function(){return new a("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function o(e,t){var n,o="";for(n=0;n<t;n++)o+=String.fromCharCode(255&e),e>>>=8;return o}function i(e,t,n,i,s,u){var p,h,d=e.file,f=e.compression,g=u!==l.utf8encode,_=r.transformTo("string",u(d.name)),m=r.transformTo("string",l.utf8encode(d.name)),y=d.comment,v=r.transformTo("string",u(y)),T=r.transformTo("string",l.utf8encode(y)),E=m.length!==d.name.length,k=T.length!==y.length,b="",C="",S="",I=d.dir,R=d.date,O={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(O.crc32=e.crc32,O.compressedSize=e.compressedSize,O.uncompressedSize=e.uncompressedSize);var w=0;t&&(w|=8),g||!E&&!k||(w|=2048);var B=0,A=0;I&&(B|=16),"UNIX"===s?(A=798,B|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(d.unixPermissions,I)):(A=20,B|=function(e){return 63&(e||0)}(d.dosPermissions)),p=R.getUTCHours(),p<<=6,p|=R.getUTCMinutes(),p<<=5,p|=R.getUTCSeconds()/2,h=R.getUTCFullYear()-1980,h<<=4,h|=R.getUTCMonth()+1,h<<=5,h|=R.getUTCDate(),E&&(C=o(1,1)+o(a(_),4)+m,b+="up"+o(C.length,2)+C),k&&(S=o(1,1)+o(a(v),4)+T,b+="uc"+o(S.length,2)+S);var x="";return x+="\n\0",x+=o(w,2),x+=f.magic,x+=o(p,2),x+=o(h,2),x+=o(O.crc32,4),x+=o(O.compressedSize,4),x+=o(O.uncompressedSize,4),x+=o(_.length,2),x+=o(b.length,2),{fileRecord:c.LOCAL_FILE_HEADER+x+_+b,dirRecord:c.CENTRAL_FILE_HEADER+o(A,2)+x+o(v.length,2)+"\0\0\0\0"+o(B,4)+o(i,4)+_+b+v}}var r=e("../utils"),s=e("../stream/GenericWorker"),l=e("../utf8"),a=e("../crc32"),c=e("../signature");function u(e,t,n,o){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=o,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(u,s),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,o=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,s.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-o-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+o(e.crc32,4)+o(e.compressedSize,4)+o(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,s){var l=r.transformTo("string",s(i));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(e,2)+o(e,2)+o(t,4)+o(n,4)+o(l.length,2)+l}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!s.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){s.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var o=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var r=new i(t.streamFiles,n,t.platform,t.encodeFileName),s=0;try{e.forEach((function(e,n){s++;var i=function(e,t){var n=e||t,i=o[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),l=n.options.compressionOptions||t.compressionOptions||{},a=n.dir,c=n.date;n._compressWorker(i,l).withStreamInfo("file",{name:e,dir:a,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(r)})),r.entriesCount=s}catch(e){r.error(e)}return r}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new o;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(o.prototype=e("./object")).loadAsync=e("./load"),o.support=e("./support"),o.defaults=e("./defaults"),o.version="3.8.0",o.loadAsync=function(e,t){return(new o).loadAsync(e,t)},o.external=e("./external"),t.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var o=e("./utils"),i=e("./external"),r=e("./utf8"),s=e("./zipEntries"),l=e("./stream/Crc32Probe"),a=e("./nodejsUtils");function c(e){return new i.Promise((function(t,n){var o=e.decompressed.getContentWorker().pipe(new l);o.on("error",(function(e){n(e)})).on("end",(function(){o.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=o.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),a.isNode&&a.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new s(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],o=e.files;if(t.checkCRC32)for(var r=0;r<o.length;r++)n.push(c(o[r]));return i.Promise.all(n)})).then((function(e){for(var i=e.shift(),r=i.files,s=0;s<r.length;s++){var l=r[s],a=l.fileNameStr,c=o.resolve(l.fileNameStr);n.file(c,l.decompressed,{binary:!0,optimizedBinaryString:!0,date:l.date,dir:l.dir,comment:l.fileCommentStr.length?l.fileCommentStr:null,unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions,createFolders:t.createFolders}),l.dir||(n.file(c).unsafeOriginalName=a)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var o=e("../utils"),i=e("../stream/GenericWorker");function r(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}o.inherits(r,i),r.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},r.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var o=e("readable-stream").Readable;function i(e,t,n){o.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,o),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function o(e,t,n){var o,i=r.getTypeOf(t),l=r.extend(n||{},a);l.date=l.date||new Date,null!==l.compression&&(l.compression=l.compression.toUpperCase()),"string"==typeof l.unixPermissions&&(l.unixPermissions=parseInt(l.unixPermissions,8)),l.unixPermissions&&16384&l.unixPermissions&&(l.dir=!0),l.dosPermissions&&16&l.dosPermissions&&(l.dir=!0),l.dir&&(e=g(e)),l.createFolders&&(o=f(e))&&_.call(this,o,!0);var p="string"===i&&!1===l.binary&&!1===l.base64;n&&void 0!==n.binary||(l.binary=!p),(t instanceof c&&0===t.uncompressedSize||l.dir||!t||0===t.length)&&(l.base64=!1,l.binary=!0,t="",l.compression="STORE",i="string");var m=null;m=t instanceof c||t instanceof s?t:h.isNode&&h.isStream(t)?new d(e,t):r.prepareContent(e,t,l.binary,l.optimizedBinaryString,l.base64);var y=new u(e,m,l);this.files[e]=y}var i=e("./utf8"),r=e("./utils"),s=e("./stream/GenericWorker"),l=e("./stream/StreamHelper"),a=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),p=e("./generate"),h=e("./nodejsUtils"),d=e("./nodejs/NodejsStreamInputAdapter"),f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},_=function(e,t){return t=void 0!==t?t:a.createFolders,e=g(e),this.files[e]||o.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,o;for(t in this.files)o=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,o)},filter:function(e){var t=[];return this.forEach((function(n,o){e(n,o)&&t.push(o)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,o.call(this,e,t,n),this;if(m(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var r=this.files[this.root+e];return r&&!r.dir?r:null},folder:function(e){if(!e)return this;if(m(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=_.call(this,t),o=this.clone();return o.root=n.name,o},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),o=0;o<n.length;o++)delete this.files[n[o].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var o=n.comment||this.comment||"";t=p.generateWorker(this,n,o)}catch(e){(t=new s("error")).error(e)}return new l(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var o=e("./DataReader");function i(e){o.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,o),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),o=e.charCodeAt(2),i=e.charCodeAt(3),r=this.length-4;0<=r;--r)if(this.data[r]===t&&this.data[r+1]===n&&this.data[r+2]===o&&this.data[r+3]===i)return r-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),o=e.charCodeAt(2),i=e.charCodeAt(3),r=this.readData(4);return t===r[0]&&n===r[1]&&o===r[2]&&i===r[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var o=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return o.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var o=e("./Uint8ArrayReader");function i(e){o.call(this,e)}e("../utils").inherits(i,o),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var o=e("./DataReader");function i(e){o.call(this,e)}e("../utils").inherits(i,o),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var o=e("./ArrayReader");function i(e){o.call(this,e)}e("../utils").inherits(i,o),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var o=e("../utils"),i=e("../support"),r=e("./ArrayReader"),s=e("./StringReader"),l=e("./NodeBufferReader"),a=e("./Uint8ArrayReader");t.exports=function(e){var t=o.getTypeOf(e);return o.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new l(e):i.uint8array?new a(o.transformTo("uint8array",e)):new r(o.transformTo("array",e)):new s(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var o=e("./GenericWorker"),i=e("../utils");function r(e){o.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(r,o),r.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var o=e("./GenericWorker"),i=e("../crc32");function r(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(r,o),r.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var o=e("../utils"),i=e("./GenericWorker");function r(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}o.inherits(r,i),r.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var o=e("../utils"),i=e("./GenericWorker");function r(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=o.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}o.inherits(r,i),r.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function o(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=o},{}],29:[function(e,t,n){"use strict";var o=e("../utils"),i=e("./ConvertWorker"),r=e("./GenericWorker"),s=e("../base64"),l=e("../support"),a=e("../external"),c=null;if(l.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t){return new a.Promise((function(n,i){var r=[],l=e._internalType,a=e._outputType,c=e._mimeType;e.on("data",(function(e,n){r.push(e),t&&t(n)})).on("error",(function(e){r=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return o.newBlob(o.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return o.transformTo(e,t)}}(a,function(e,t){var n,o=0,i=null,r=0;for(n=0;n<t.length;n++)r+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(r),n=0;n<t.length;n++)i.set(t[n],o),o+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,r),c);n(e)}catch(e){i(e)}r=[]})).resume()}))}function p(e,t,n){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=n,o.checkSupport(s),this._worker=e.pipe(new i(s)),e.lock()}catch(e){this._worker=new r("error"),this._worker.error(e)}}p.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){o.delay(t,arguments,n)})),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(o.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var o=new ArrayBuffer(0);try{n.blob=0===new Blob([o],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(o),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var o=e("./utils"),i=e("./support"),r=e("./nodejsUtils"),s=e("./stream/GenericWorker"),l=new Array(256),a=0;a<256;a++)l[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function c(){s.call(this,"utf-8 decode"),this.leftOver=null}function u(){s.call(this,"utf-8 encode")}l[254]=l[254]=1,n.utf8encode=function(e){return i.nodebuffer?r.newBufferFrom(e,"utf-8"):function(e){var t,n,o,r,s,l=e.length,a=0;for(r=0;r<l;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<l&&56320==(64512&(o=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(o-56320),r++),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(a):new Array(a),r=s=0;s<a;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<l&&56320==(64512&(o=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(o-56320),r++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?o.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,r,s=e.length,a=new Array(2*s);for(t=n=0;t<s;)if((i=e[t++])<128)a[n++]=i;else if(4<(r=l[i]))a[n++]=65533,t+=r-1;else{for(i&=2===r?31:3===r?15:7;1<r&&t<s;)i=i<<6|63&e[t++],r--;1<r?a[n++]=65533:i<65536?a[n++]=i:(i-=65536,a[n++]=55296|i>>10&1023,a[n++]=56320|1023&i)}return a.length!==n&&(a.subarray?a=a.subarray(0,n):a.length=n),o.applyFromCharCode(a)}(e=o.transformTo(i.uint8array?"uint8array":"array",e))},o.inherits(c,s),c.prototype.processChunk=function(e){var t=o.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var r=t;(t=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+l[e[n]]>t?n:t}(t),a=t;s!==t.length&&(i.uint8array?(a=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(a=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:n.utf8decode(a),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,o.inherits(u,s),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var o=e("./support"),i=e("./base64"),r=e("./nodejsUtils"),s=e("set-immediate-shim"),l=e("./external");function a(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(t,o){n.checkSupport("blob");try{return new Blob([t],{type:o})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(o)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var o=[],i=0,r=e.length;if(r<=n)return String.fromCharCode.apply(null,e);for(;i<r;)"array"===t||"nodebuffer"===t?o.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,r)))):o.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,r)))),i+=n;return o.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(e){return!1}}()}};function p(e){var t=65536,o=n.getTypeOf(e),i=!0;if("uint8array"===o?i=u.applyCanBeUsed.uint8array:"nodebuffer"===o&&(i=u.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return u.stringifyByChunk(e,o,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=p;var d={};d.string={string:a,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,r.allocBuffer(e.length))}},d.array={string:p,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(e)}},d.arraybuffer={string:function(e){return p(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:p,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:a,nodebuffer:function(e){return r.newBufferFrom(e)}},d.nodebuffer={string:p,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:a},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var o=n.getTypeOf(t);return d[o][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],o=0;o<t.length;o++){var i=t[o];"."===i||""===i&&0!==o&&o!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":o.nodebuffer&&r.isBuffer(e)?"nodebuffer":o.uint8array&&e instanceof Uint8Array?"uint8array":o.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!o[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,o="";for(n=0;n<(e||"").length;n++)o+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return o},n.delay=function(e,t,n){s((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,r,s,a){return l.Promise.resolve(t).then((function(e){return o.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new l.Promise((function(t,n){var o=new FileReader;o.onload=function(e){t(e.target.result)},o.onerror=function(e){n(e.target.error)},o.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(a?t=i.decode(t):r&&!0!==s&&(t=function(e){return c(e,o.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):l.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var o=e("./reader/readerFor"),i=e("./utils"),r=e("./signature"),s=e("./zipEntry"),l=(e("./utf8"),e("./support"));function a(e){this.files=[],this.loadOptions=e}a.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var o=this.reader.readString(4)===t;return this.reader.setIndex(n),o},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=l.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,o=this.zip64EndOfCentralSize-44;0<o;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var o=t-n;if(0<o)this.isSignature(t,r.CENTRAL_FILE_HEADER)||(this.reader.zero=o);else if(o<0)throw new Error("Corrupted zip: missing "+Math.abs(o)+" bytes.")},prepareReader:function(e){this.reader=o(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=a},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var o=e("./reader/readerFor"),i=e("./utils"),r=e("./compressedObject"),s=e("./crc32"),l=e("./utf8"),a=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in a)if(a.hasOwnProperty(t)&&a[t].magic===e)return a[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=o(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,o,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),o=e.readData(n),this.extraFields[t]={id:t,length:n,value:o};e.setIndex(i)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var o=this.findExtraFieldUnicodeComment();if(null!==o)this.fileCommentStr=o;else{var r=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=o(e.value);return 1!==t.readInt(1)||s(this.fileName)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=o(e.value);return 1!==t.readInt(1)||s(this.fileComment)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function o(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),s=e("./utf8"),l=e("./compressedObject"),a=e("./stream/GenericWorker");o.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var o="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var r=!this._dataBinary;r&&!o&&(t=t.pipe(new s.Utf8EncodeWorker)),!r&&o&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new a("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof l&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new s.Utf8EncodeWorker)),l.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof a?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<c.length;p++)o.prototype[c[p]]=u;t.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,o){(function(e){"use strict";var n,o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var r=0,s=new i(u),l=e.document.createTextNode("");s.observe(l,{characterData:!0}),n=function(){l.data=r=++r%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var a=new e.MessageChannel;a.port1.onmessage=u,n=function(){a.port2.postMessage(0)}}var c=[];function u(){var e,t;o=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}o=!1}t.exports=function(e){1!==c.push(e)||o||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var o=e("immediate");function i(){}var r={},s=["REJECTED"],l=["FULFILLED"],a=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=a,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function p(e,t,n){o((function(){var o;try{o=t(n)}catch(o){return r.reject(e,o)}o===e?r.reject(e,new TypeError("Cannot resolve promise with itself")):r.resolve(e,o)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function o(t){n||(n=!0,r.reject(e,t))}function i(t){n||(n=!0,r.resolve(e,t))}var s=f((function(){t(i,o)}));"error"===s.status&&o(s.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===l||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(i);return this.state!==a?p(n,this.state===l?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){r.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){p(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){r.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){p(this.promise,this.onRejected,e)},r.resolve=function(e,t){var n=f(h,t);if("error"===n.status)return r.reject(e,n.value);var o=n.value;if(o)d(e,o);else{e.state=l,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},r.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,o=e.queue.length;++n<o;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:r.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return r.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var s=new Array(n),l=0,a=-1,c=new this(i);++a<n;)u(e[a],a);return c;function u(e,i){t.resolve(e).then((function(e){s[i]=e,++l!==n||o||(o=!0,r.resolve(c,s))}),(function(e){o||(o=!0,r.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var s,l=-1,a=new this(i);++l<n;)s=e[l],t.resolve(s).then((function(e){o||(o=!0,r.resolve(a,e))}),(function(e){o||(o=!0,r.reject(a,e))}));return a}},{immediate:36}],38:[function(e,t,n){"use strict";var o={};(0,e("./lib/utils/common").assign)(o,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var o=e("./zlib/deflate"),i=e("./utils/common"),r=e("./utils/strings"),s=e("./zlib/messages"),l=e("./zlib/zstream"),a=Object.prototype.toString,c=0,u=-1,p=0,h=8;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({level:u,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(s[n]);if(t.header&&o.deflateSetHeader(this.strm,t.header),t.dictionary){var f;if(f="string"==typeof t.dictionary?r.string2buf(t.dictionary):"[object ArrayBuffer]"===a.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=o.deflateSetDictionary(this.strm,f))!==c)throw new Error(s[n]);this._dict_set=!0}}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,l=this.strm,u=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?l.input=r.string2buf(e):"[object ArrayBuffer]"===a.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new i.Buf8(u),l.next_out=0,l.avail_out=u),1!==(n=o.deflate(l,s))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==l.avail_out&&(0!==l.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(r.buf2binstring(i.shrinkBuf(l.output,l.next_out))):this.onData(i.shrinkBuf(l.output,l.next_out)))}while((0<l.avail_in||0===l.avail_out)&&1!==n);return 4===s?(n=o.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==s||(this.onEnd(c),!(l.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=d,n.deflate=f,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,f(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var o=e("./zlib/inflate"),i=e("./utils/common"),r=e("./utils/strings"),s=e("./zlib/constants"),l=e("./zlib/messages"),a=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function p(e){if(!(this instanceof p))return new p(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=o.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(l[n]);this.header=new c,o.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||l[n.err];return n.result}p.prototype.push=function(e,t){var n,l,a,c,p,h,d=this.strm,f=this.options.chunkSize,g=this.options.dictionary,_=!1;if(this.ended)return!1;l=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?d.input=r.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(f),d.next_out=0,d.avail_out=f),(n=o.inflate(d,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&g&&(h="string"==typeof g?r.string2buf(g):"[object ArrayBuffer]"===u.call(g)?new Uint8Array(g):g,n=o.inflateSetDictionary(this.strm,h)),n===s.Z_BUF_ERROR&&!0===_&&(n=s.Z_OK,_=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&n!==s.Z_STREAM_END&&(0!==d.avail_in||l!==s.Z_FINISH&&l!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(a=r.utf8border(d.output,d.next_out),c=d.next_out-a,p=r.buf2string(d.output,a),d.next_out=c,d.avail_out=f-c,c&&i.arraySet(d.output,d.output,a,c,0),this.onData(p)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(_=!0)}while((0<d.avail_in||0===d.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(l=s.Z_FINISH),l===s.Z_FINISH?(n=o.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):l!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(d.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=p,n.inflate=h,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,o,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+o),i);else for(var r=0;r<o;r++)e[i+r]=t[n+r]},flattenChunks:function(e){var t,n,o,i,r,s;for(t=o=0,n=e.length;t<n;t++)o+=e[t].length;for(s=new Uint8Array(o),t=i=0,n=e.length;t<n;t++)r=e[t],s.set(r,i),i+=r.length;return s}},r={arraySet:function(e,t,n,o,i){for(var r=0;r<o;r++)e[i+r]=t[n+r]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(o)},{}],42:[function(e,t,n){"use strict";var o=e("./common"),i=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){r=!1}for(var s=new o.Buf8(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function a(e,t){if(t<65537&&(e.subarray&&r||!e.subarray&&i))return String.fromCharCode.apply(null,o.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,i,r,s,l=e.length,a=0;for(r=0;r<l;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<l&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new o.Buf8(a),r=s=0;s<a;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<l&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t},n.buf2binstring=function(e){return a(e,e.length)},n.binstring2buf=function(e){for(var t=new o.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,o,i,r,l=t||e.length,c=new Array(2*l);for(n=o=0;n<l;)if((i=e[n++])<128)c[o++]=i;else if(4<(r=s[i]))c[o++]=65533,n+=r-1;else{for(i&=2===r?31:3===r?15:7;1<r&&n<l;)i=i<<6|63&e[n++],r--;1<r?c[o++]=65533:i<65536?c[o++]=i:(i-=65536,c[o++]=55296|i>>10&1023,c[o++]=56320|1023&i)}return a(c,o)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,o){for(var i=65535&e|0,r=e>>>16&65535|0,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;r=r+(i=i+t[o++]|0)|0,--s;);i%=65521,r%=65521}return i|r<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var o=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var o=0;o<8;o++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var r=o,s=i+n;e^=-1;for(var l=i;l<s;l++)e=e>>>8^r[255&(e^t[l])];return-1^e}},{}],46:[function(e,t,n){"use strict";var o,i=e("../utils/common"),r=e("./trees"),s=e("./adler32"),l=e("./crc32"),a=e("./messages"),c=0,u=4,p=0,h=-2,d=-1,f=4,g=2,_=8,m=9,y=286,v=30,T=19,E=2*y+1,k=15,b=3,C=258,S=C+b+1,I=42,R=113,O=1,w=2,B=3,A=4;function x(e,t){return e.msg=a[t],t}function N(e){return(e<<1)-(4<e?9:0)}function D(e){for(var t=e.length;0<=--t;)e[t]=0}function M(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function P(e,t){r._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,M(e.strm)}function L(e,t){e.pending_buf[e.pending++]=t}function F(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function $(e,t){var n,o,i=e.max_chain_length,r=e.strstart,s=e.prev_length,l=e.nice_match,a=e.strstart>e.w_size-S?e.strstart-(e.w_size-S):0,c=e.window,u=e.w_mask,p=e.prev,h=e.strstart+C,d=c[r+s-1],f=c[r+s];e.prev_length>=e.good_match&&(i>>=2),l>e.lookahead&&(l=e.lookahead);do{if(c[(n=t)+s]===f&&c[n+s-1]===d&&c[n]===c[r]&&c[++n]===c[r+1]){r+=2,n++;do{}while(c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&r<h);if(o=C-(h-r),r=h-C,s<o){if(e.match_start=t,l<=(s=o))break;d=c[r+s-1],f=c[r+s]}}}while((t=p[t&u])>a&&0!=--i);return s<=e.lookahead?s:e.lookahead}function U(e){var t,n,o,r,a,c,u,p,h,d,f=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-S)){for(i.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=n=e.hash_size;o=e.head[--t],e.head[t]=f<=o?o-f:0,--n;);for(t=n=f;o=e.prev[--t],e.prev[t]=f<=o?o-f:0,--n;);r+=f}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,p=e.strstart+e.lookahead,d=void 0,(h=r)<(d=c.avail_in)&&(d=h),n=0===d?0:(c.avail_in-=d,i.arraySet(u,c.input,c.next_in,d,p),1===c.state.wrap?c.adler=s(c.adler,u,d,p):2===c.state.wrap&&(c.adler=l(c.adler,u,d,p)),c.next_in+=d,c.total_in+=d,d),e.lookahead+=n,e.lookahead+e.insert>=b)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+b-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<b)););}while(e.lookahead<S&&0!==e.strm.avail_in)}function H(e,t){for(var n,o;;){if(e.lookahead<S){if(U(e),e.lookahead<S&&t===c)return O;if(0===e.lookahead)break}if(n=0,e.lookahead>=b&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-S&&(e.match_length=$(e,n)),e.match_length>=b)if(o=r._tr_tally(e,e.strstart-e.match_start,e.match_length-b),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=b){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else o=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(o&&(P(e,!1),0===e.strm.avail_out))return O}return e.insert=e.strstart<b-1?e.strstart:b-1,t===u?(P(e,!0),0===e.strm.avail_out?B:A):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?O:w}function V(e,t){for(var n,o,i;;){if(e.lookahead<S){if(U(e),e.lookahead<S&&t===c)return O;if(0===e.lookahead)break}if(n=0,e.lookahead>=b&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=b-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-S&&(e.match_length=$(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===b&&4096<e.strstart-e.match_start)&&(e.match_length=b-1)),e.prev_length>=b&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-b,o=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-b),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=b-1,e.strstart++,o&&(P(e,!1),0===e.strm.avail_out))return O}else if(e.match_available){if((o=r._tr_tally(e,0,e.window[e.strstart-1]))&&P(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return O}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(o=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<b-1?e.strstart:b-1,t===u?(P(e,!0),0===e.strm.avail_out?B:A):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?O:w}function G(e,t,n,o,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=o,this.func=i}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*E),this.dyn_dtree=new i.Buf16(2*(2*v+1)),this.bl_tree=new i.Buf16(2*(2*T+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(k+1),this.heap=new i.Buf16(2*y+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*y+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function z(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=g,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?I:R,e.adler=2===t.wrap?0:1,t.last_flush=c,r._tr_init(t),p):x(e,h)}function Y(e){var t=z(e);return t===p&&function(e){e.window_size=2*e.w_size,D(e.head),e.max_lazy_match=o[e.level].max_lazy,e.good_match=o[e.level].good_length,e.nice_match=o[e.level].nice_length,e.max_chain_length=o[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=b-1,e.match_available=0,e.ins_h=0}(e.state),t}function j(e,t,n,o,r,s){if(!e)return h;var l=1;if(t===d&&(t=6),o<0?(l=0,o=-o):15<o&&(l=2,o-=16),r<1||m<r||n!==_||o<8||15<o||t<0||9<t||s<0||f<s)return x(e,h);8===o&&(o=9);var a=new W;return(e.state=a).strm=e,a.wrap=l,a.gzhead=null,a.w_bits=o,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+b-1)/b),a.window=new i.Buf8(2*a.w_size),a.head=new i.Buf16(a.hash_size),a.prev=new i.Buf16(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new i.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=s,a.method=n,Y(e)}o=[new G(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(U(e),0===e.lookahead&&t===c)return O;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var o=e.block_start+n;if((0===e.strstart||e.strstart>=o)&&(e.lookahead=e.strstart-o,e.strstart=o,P(e,!1),0===e.strm.avail_out))return O;if(e.strstart-e.block_start>=e.w_size-S&&(P(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?B:A):(e.strstart>e.block_start&&(P(e,!1),e.strm.avail_out),O)})),new G(4,4,8,4,H),new G(4,5,16,8,H),new G(4,6,32,32,H),new G(4,4,16,16,V),new G(8,16,32,32,V),new G(8,16,128,128,V),new G(8,32,128,256,V),new G(32,128,258,1024,V),new G(32,258,258,4096,V)],n.deflateInit=function(e,t){return j(e,t,_,15,8,0)},n.deflateInit2=j,n.deflateReset=Y,n.deflateResetKeep=z,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,p):h},n.deflate=function(e,t){var n,i,s,a;if(!e||!e.state||5<t||t<0)return e?x(e,h):h;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==u)return x(e,0===e.avail_out?-5:h);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===I)if(2===i.wrap)e.adler=0,L(i,31),L(i,139),L(i,8),i.gzhead?(L(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),L(i,255&i.gzhead.time),L(i,i.gzhead.time>>8&255),L(i,i.gzhead.time>>16&255),L(i,i.gzhead.time>>24&255),L(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),L(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(L(i,255&i.gzhead.extra.length),L(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=l(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(L(i,0),L(i,0),L(i,0),L(i,0),L(i,0),L(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),L(i,3),i.status=R);else{var d=_+(i.w_bits-8<<4)<<8;d|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(d|=32),d+=31-d%31,i.status=R,F(i,d),0!==i.strstart&&(F(i,e.adler>>>16),F(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=l(e.adler,i.pending_buf,i.pending-s,s)),M(e),s=i.pending,i.pending!==i.pending_buf_size));)L(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=l(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=l(e.adler,i.pending_buf,i.pending-s,s)),M(e),s=i.pending,i.pending===i.pending_buf_size)){a=1;break}a=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,L(i,a)}while(0!==a);i.gzhead.hcrc&&i.pending>s&&(e.adler=l(e.adler,i.pending_buf,i.pending-s,s)),0===a&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=l(e.adler,i.pending_buf,i.pending-s,s)),M(e),s=i.pending,i.pending===i.pending_buf_size)){a=1;break}a=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,L(i,a)}while(0!==a);i.gzhead.hcrc&&i.pending>s&&(e.adler=l(e.adler,i.pending_buf,i.pending-s,s)),0===a&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&M(e),i.pending+2<=i.pending_buf_size&&(L(i,255&e.adler),L(i,e.adler>>8&255),e.adler=0,i.status=R)):i.status=R),0!==i.pending){if(M(e),0===e.avail_out)return i.last_flush=-1,p}else if(0===e.avail_in&&N(t)<=N(n)&&t!==u)return x(e,-5);if(666===i.status&&0!==e.avail_in)return x(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==c&&666!==i.status){var f=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(U(e),0===e.lookahead)){if(t===c)return O;break}if(e.match_length=0,n=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(P(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?B:A):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?O:w}(i,t):3===i.strategy?function(e,t){for(var n,o,i,s,l=e.window;;){if(e.lookahead<=C){if(U(e),e.lookahead<=C&&t===c)return O;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=b&&0<e.strstart&&(o=l[i=e.strstart-1])===l[++i]&&o===l[++i]&&o===l[++i]){s=e.strstart+C;do{}while(o===l[++i]&&o===l[++i]&&o===l[++i]&&o===l[++i]&&o===l[++i]&&o===l[++i]&&o===l[++i]&&o===l[++i]&&i<s);e.match_length=C-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=b?(n=r._tr_tally(e,1,e.match_length-b),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(P(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?B:A):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?O:w}(i,t):o[i.level].func(i,t);if(f!==B&&f!==A||(i.status=666),f===O||f===B)return 0===e.avail_out&&(i.last_flush=-1),p;if(f===w&&(1===t?r._tr_align(i):5!==t&&(r._tr_stored_block(i,0,0,!1),3===t&&(D(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),M(e),0===e.avail_out))return i.last_flush=-1,p}return t!==u?p:i.wrap<=0?1:(2===i.wrap?(L(i,255&e.adler),L(i,e.adler>>8&255),L(i,e.adler>>16&255),L(i,e.adler>>24&255),L(i,255&e.total_in),L(i,e.total_in>>8&255),L(i,e.total_in>>16&255),L(i,e.total_in>>24&255)):(F(i,e.adler>>>16),F(i,65535&e.adler)),M(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?p:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==I&&69!==t&&73!==t&&91!==t&&103!==t&&t!==R&&666!==t?x(e,h):(e.state=null,t===R?x(e,-3):p):h},n.deflateSetDictionary=function(e,t){var n,o,r,l,a,c,u,d,f=t.length;if(!e||!e.state)return h;if(2===(l=(n=e.state).wrap)||1===l&&n.status!==I||n.lookahead)return h;for(1===l&&(e.adler=s(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===l&&(D(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),a=e.avail_in,c=e.next_in,u=e.input,e.avail_in=f,e.next_in=0,e.input=t,U(n);n.lookahead>=b;){for(o=n.strstart,r=n.lookahead-(b-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[o+b-1])&n.hash_mask,n.prev[o&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=o,o++,--r;);n.strstart=o,n.lookahead=b-1,U(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=b-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=a,n.wrap=l,p},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,o,i,r,s,l,a,c,u,p,h,d,f,g,_,m,y,v,T,E,k,b,C,S,I;n=e.state,o=e.next_in,S=e.input,i=o+(e.avail_in-5),r=e.next_out,I=e.output,s=r-(t-e.avail_out),l=r+(e.avail_out-257),a=n.dmax,c=n.wsize,u=n.whave,p=n.wnext,h=n.window,d=n.hold,f=n.bits,g=n.lencode,_=n.distcode,m=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{f<15&&(d+=S[o++]<<f,f+=8,d+=S[o++]<<f,f+=8),v=g[d&m];t:for(;;){if(d>>>=T=v>>>24,f-=T,0===(T=v>>>16&255))I[r++]=65535&v;else{if(!(16&T)){if(0==(64&T)){v=g[(65535&v)+(d&(1<<T)-1)];continue t}if(32&T){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}E=65535&v,(T&=15)&&(f<T&&(d+=S[o++]<<f,f+=8),E+=d&(1<<T)-1,d>>>=T,f-=T),f<15&&(d+=S[o++]<<f,f+=8,d+=S[o++]<<f,f+=8),v=_[d&y];n:for(;;){if(d>>>=T=v>>>24,f-=T,!(16&(T=v>>>16&255))){if(0==(64&T)){v=_[(65535&v)+(d&(1<<T)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(k=65535&v,f<(T&=15)&&(d+=S[o++]<<f,(f+=8)<T&&(d+=S[o++]<<f,f+=8)),a<(k+=d&(1<<T)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=T,f-=T,(T=r-s)<k){if(u<(T=k-T)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(C=h,(b=0)===p){if(b+=c-T,T<E){for(E-=T;I[r++]=h[b++],--T;);b=r-k,C=I}}else if(p<T){if(b+=c+p-T,(T-=p)<E){for(E-=T;I[r++]=h[b++],--T;);if(b=0,p<E){for(E-=T=p;I[r++]=h[b++],--T;);b=r-k,C=I}}}else if(b+=p-T,T<E){for(E-=T;I[r++]=h[b++],--T;);b=r-k,C=I}for(;2<E;)I[r++]=C[b++],I[r++]=C[b++],I[r++]=C[b++],E-=3;E&&(I[r++]=C[b++],1<E&&(I[r++]=C[b++]))}else{for(b=r-k;I[r++]=I[b++],I[r++]=I[b++],I[r++]=I[b++],2<(E-=3););E&&(I[r++]=I[b++],1<E&&(I[r++]=I[b++]))}break}}break}}while(o<i&&r<l);o-=E=f>>3,d&=(1<<(f-=E<<3))-1,e.next_in=o,e.next_out=r,e.avail_in=o<i?i-o+5:5-(o-i),e.avail_out=r<l?l-r+257:257-(r-l),n.hold=d,n.bits=f}},{}],49:[function(e,t,n){"use strict";var o=e("../utils/common"),i=e("./adler32"),r=e("./crc32"),s=e("./inffast"),l=e("./inftrees"),a=1,c=2,u=0,p=-2,h=1,d=852,f=592;function g(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new o.Buf32(d),t.distcode=t.distdyn=new o.Buf32(f),t.sane=1,t.back=-1,u):p}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,m(e)):p}function v(e,t){var n,o;return e&&e.state?(o=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?p:(null!==o.window&&o.wbits!==t&&(o.window=null),o.wrap=n,o.wbits=t,y(e))):p}function T(e,t){var n,o;return e?(o=new _,(e.state=o).window=null,(n=v(e,t))!==u&&(e.state=null),n):p}var E,k,b=!0;function C(e){if(b){var t;for(E=new o.Buf32(512),k=new o.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(l(a,e.lens,0,288,E,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;l(c,e.lens,0,32,k,0,e.work,{bits:5}),b=!1}e.lencode=E,e.lenbits=9,e.distcode=k,e.distbits=5}function S(e,t,n,i){var r,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new o.Buf8(s.wsize)),i>=s.wsize?(o.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i<(r=s.wsize-s.wnext)&&(r=i),o.arraySet(s.window,t,n-i,r,s.wnext),(i-=r)?(o.arraySet(s.window,t,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0}n.inflateReset=y,n.inflateReset2=v,n.inflateResetKeep=m,n.inflateInit=function(e){return T(e,15)},n.inflateInit2=T,n.inflate=function(e,t){var n,d,f,_,m,y,v,T,E,k,b,I,R,O,w,B,A,x,N,D,M,P,L,F,$=0,U=new o.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return p;12===(n=e.state).mode&&(n.mode=13),m=e.next_out,f=e.output,v=e.avail_out,_=e.next_in,d=e.input,y=e.avail_in,T=n.hold,E=n.bits,k=y,b=v,P=u;e:for(;;)switch(n.mode){case h:if(0===n.wrap){n.mode=13;break}for(;E<16;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}if(2&n.wrap&&35615===T){U[n.check=0]=255&T,U[1]=T>>>8&255,n.check=r(n.check,U,2,0),E=T=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&T)<<8)+(T>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&T)){e.msg="unknown compression method",n.mode=30;break}if(E-=4,M=8+(15&(T>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<M,e.adler=n.check=1,n.mode=512&T?10:12,E=T=0;break;case 2:for(;E<16;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}if(n.flags=T,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=T>>8&1),512&n.flags&&(U[0]=255&T,U[1]=T>>>8&255,n.check=r(n.check,U,2,0)),E=T=0,n.mode=3;case 3:for(;E<32;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}n.head&&(n.head.time=T),512&n.flags&&(U[0]=255&T,U[1]=T>>>8&255,U[2]=T>>>16&255,U[3]=T>>>24&255,n.check=r(n.check,U,4,0)),E=T=0,n.mode=4;case 4:for(;E<16;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}n.head&&(n.head.xflags=255&T,n.head.os=T>>8),512&n.flags&&(U[0]=255&T,U[1]=T>>>8&255,n.check=r(n.check,U,2,0)),E=T=0,n.mode=5;case 5:if(1024&n.flags){for(;E<16;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}n.length=T,n.head&&(n.head.extra_len=T),512&n.flags&&(U[0]=255&T,U[1]=T>>>8&255,n.check=r(n.check,U,2,0)),E=T=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(I=n.length)&&(I=y),I&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),o.arraySet(n.head.extra,d,_,I,M)),512&n.flags&&(n.check=r(n.check,d,I,_)),y-=I,_+=I,n.length-=I),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(I=0;M=d[_+I++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M)),M&&I<y;);if(512&n.flags&&(n.check=r(n.check,d,I,_)),y-=I,_+=I,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(I=0;M=d[_+I++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M)),M&&I<y;);if(512&n.flags&&(n.check=r(n.check,d,I,_)),y-=I,_+=I,M)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;E<16;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}if(T!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}E=T=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;E<32;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}e.adler=n.check=g(T),E=T=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=m,e.avail_out=v,e.next_in=_,e.avail_in=y,n.hold=T,n.bits=E,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){T>>>=7&E,E-=7&E,n.mode=27;break}for(;E<3;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}switch(n.last=1&T,E-=1,3&(T>>>=1)){case 0:n.mode=14;break;case 1:if(C(n),n.mode=20,6!==t)break;T>>>=2,E-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}T>>>=2,E-=2;break;case 14:for(T>>>=7&E,E-=7&E;E<32;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}if((65535&T)!=(T>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&T,E=T=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(I=n.length){if(y<I&&(I=y),v<I&&(I=v),0===I)break e;o.arraySet(f,d,_,I,m),y-=I,_+=I,v-=I,m+=I,n.length-=I;break}n.mode=12;break;case 17:for(;E<14;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}if(n.nlen=257+(31&T),T>>>=5,E-=5,n.ndist=1+(31&T),T>>>=5,E-=5,n.ncode=4+(15&T),T>>>=4,E-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;E<3;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}n.lens[H[n.have++]]=7&T,T>>>=3,E-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},P=l(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,P){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;B=($=n.lencode[T&(1<<n.lenbits)-1])>>>16&255,A=65535&$,!((w=$>>>24)<=E);){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}if(A<16)T>>>=w,E-=w,n.lens[n.have++]=A;else{if(16===A){for(F=w+2;E<F;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}if(T>>>=w,E-=w,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}M=n.lens[n.have-1],I=3+(3&T),T>>>=2,E-=2}else if(17===A){for(F=w+3;E<F;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}E-=w,M=0,I=3+(7&(T>>>=w)),T>>>=3,E-=3}else{for(F=w+7;E<F;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}E-=w,M=0,I=11+(127&(T>>>=w)),T>>>=7,E-=7}if(n.have+I>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;I--;)n.lens[n.have++]=M}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,L={bits:n.lenbits},P=l(a,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,P){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},P=l(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,P){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=v){e.next_out=m,e.avail_out=v,e.next_in=_,e.avail_in=y,n.hold=T,n.bits=E,s(e,b),m=e.next_out,f=e.output,v=e.avail_out,_=e.next_in,d=e.input,y=e.avail_in,T=n.hold,E=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;B=($=n.lencode[T&(1<<n.lenbits)-1])>>>16&255,A=65535&$,!((w=$>>>24)<=E);){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}if(B&&0==(240&B)){for(x=w,N=B,D=A;B=($=n.lencode[D+((T&(1<<x+N)-1)>>x)])>>>16&255,A=65535&$,!(x+(w=$>>>24)<=E);){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}T>>>=x,E-=x,n.back+=x}if(T>>>=w,E-=w,n.back+=w,n.length=A,0===B){n.mode=26;break}if(32&B){n.back=-1,n.mode=12;break}if(64&B){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&B,n.mode=22;case 22:if(n.extra){for(F=n.extra;E<F;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}n.length+=T&(1<<n.extra)-1,T>>>=n.extra,E-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;B=($=n.distcode[T&(1<<n.distbits)-1])>>>16&255,A=65535&$,!((w=$>>>24)<=E);){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}if(0==(240&B)){for(x=w,N=B,D=A;B=($=n.distcode[D+((T&(1<<x+N)-1)>>x)])>>>16&255,A=65535&$,!(x+(w=$>>>24)<=E);){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}T>>>=x,E-=x,n.back+=x}if(T>>>=w,E-=w,n.back+=w,64&B){e.msg="invalid distance code",n.mode=30;break}n.offset=A,n.extra=15&B,n.mode=24;case 24:if(n.extra){for(F=n.extra;E<F;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}n.offset+=T&(1<<n.extra)-1,T>>>=n.extra,E-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===v)break e;if(I=b-v,n.offset>I){if((I=n.offset-I)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}R=I>n.wnext?(I-=n.wnext,n.wsize-I):n.wnext-I,I>n.length&&(I=n.length),O=n.window}else O=f,R=m-n.offset,I=n.length;for(v<I&&(I=v),v-=I,n.length-=I;f[m++]=O[R++],--I;);0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;f[m++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;E<32;){if(0===y)break e;y--,T|=d[_++]<<E,E+=8}if(b-=v,e.total_out+=b,n.total+=b,b&&(e.adler=n.check=n.flags?r(n.check,f,b,m-b):i(n.check,f,b,m-b)),b=v,(n.flags?T:g(T))!==n.check){e.msg="incorrect data check",n.mode=30;break}E=T=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;E<32;){if(0===y)break e;y--,T+=d[_++]<<E,E+=8}if(T!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}E=T=0}n.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;default:return p}return e.next_out=m,e.avail_out=v,e.next_in=_,e.avail_in=y,n.hold=T,n.bits=E,(n.wsize||b!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&S(e,e.output,e.next_out,b-e.avail_out)?(n.mode=31,-4):(k-=e.avail_in,b-=e.avail_out,e.total_in+=k,e.total_out+=b,n.total+=b,n.wrap&&b&&(e.adler=n.check=n.flags?r(n.check,f,b,e.next_out-b):i(n.check,f,b,e.next_out-b)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==k&&0===b||4===t)&&P===u&&(P=-5),P)},n.inflateEnd=function(e){if(!e||!e.state)return p;var t=e.state;return t.window&&(t.window=null),e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?p:((n.head=t).done=!1,u):p},n.inflateSetDictionary=function(e,t){var n,o=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?p:11===n.mode&&i(1,t,o,0)!==n.check?-3:S(e,t,o,o)?(n.mode=31,-4):(n.havedict=1,u):p},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var o=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,a,c,u,p,h){var d,f,g,_,m,y,v,T,E,k=h.bits,b=0,C=0,S=0,I=0,R=0,O=0,w=0,B=0,A=0,x=0,N=null,D=0,M=new o.Buf16(16),P=new o.Buf16(16),L=null,F=0;for(b=0;b<=15;b++)M[b]=0;for(C=0;C<a;C++)M[t[n+C]]++;for(R=k,I=15;1<=I&&0===M[I];I--);if(I<R&&(R=I),0===I)return c[u++]=20971520,c[u++]=20971520,h.bits=1,0;for(S=1;S<I&&0===M[S];S++);for(R<S&&(R=S),b=B=1;b<=15;b++)if(B<<=1,(B-=M[b])<0)return-1;if(0<B&&(0===e||1!==I))return-1;for(P[1]=0,b=1;b<15;b++)P[b+1]=P[b]+M[b];for(C=0;C<a;C++)0!==t[n+C]&&(p[P[t[n+C]]++]=C);if(y=0===e?(N=L=p,19):1===e?(N=i,D-=257,L=r,F-=257,256):(N=s,L=l,-1),b=S,m=u,w=C=x=0,g=-1,_=(A=1<<(O=R))-1,1===e&&852<A||2===e&&592<A)return 1;for(;;){for(v=b-w,E=p[C]<y?(T=0,p[C]):p[C]>y?(T=L[F+p[C]],N[D+p[C]]):(T=96,0),d=1<<b-w,S=f=1<<O;c[m+(x>>w)+(f-=d)]=v<<24|T<<16|E|0,0!==f;);for(d=1<<b-1;x&d;)d>>=1;if(0!==d?(x&=d-1,x+=d):x=0,C++,0==--M[b]){if(b===I)break;b=t[n+p[C]]}if(R<b&&(x&_)!==g){for(0===w&&(w=R),m+=S,B=1<<(O=b-w);O+w<I&&!((B-=M[O+w])<=0);)O++,B<<=1;if(A+=1<<O,1===e&&852<A||2===e&&592<A)return 1;c[g=x&_]=R<<24|O<<16|m-u|0}}return 0!==x&&(c[m+x]=b-w<<24|64<<16|0),h.bits=R,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var o=e("../utils/common"),i=0,r=1;function s(e){for(var t=e.length;0<=--t;)e[t]=0}var l=0,a=29,c=256,u=c+1+a,p=30,h=19,d=2*u+1,f=15,g=16,_=7,m=256,y=16,v=17,T=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(u+2));s(S);var I=new Array(2*p);s(I);var R=new Array(512);s(R);var O=new Array(256);s(O);var w=new Array(a);s(w);var B,A,x,N=new Array(p);function D(e,t,n,o,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=o,this.max_length=i,this.has_stree=e&&e.length}function M(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function P(e){return e<256?R[e]:R[256+(e>>>7)]}function L(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function F(e,t,n){e.bi_valid>g-n?(e.bi_buf|=t<<e.bi_valid&65535,L(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=n-g):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function $(e,t,n){F(e,n[2*t],n[2*t+1])}function U(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function H(e,t,n){var o,i,r=new Array(f+1),s=0;for(o=1;o<=f;o++)r[o]=s=s+n[o-1]<<1;for(i=0;i<=t;i++){var l=e[2*i+1];0!==l&&(e[2*i]=U(r[l]++,l))}}function V(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<p;t++)e.dyn_dtree[2*t]=0;for(t=0;t<h;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*m]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function G(e){8<e.bi_valid?L(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function W(e,t,n,o){var i=2*t,r=2*n;return e[i]<e[r]||e[i]===e[r]&&o[t]<=o[n]}function z(e,t,n){for(var o=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&W(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!W(t,o,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=o}function Y(e,t,n){var o,i,r,s,l=0;if(0!==e.last_lit)for(;o=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===o?$(e,i,t):($(e,(r=O[i])+c+1,t),0!==(s=E[r])&&F(e,i-=w[r],s),$(e,r=P(--o),n),0!==(s=k[r])&&F(e,o-=N[r],s)),l<e.last_lit;);$(e,m,t)}function j(e,t){var n,o,i,r=t.dyn_tree,s=t.stat_desc.static_tree,l=t.stat_desc.has_stree,a=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=d,n=0;n<a;n++)0!==r[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):r[2*n+1]=0;for(;e.heap_len<2;)r[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,l&&(e.static_len-=s[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)z(e,r,n);for(i=a;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],z(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=o,r[2*i]=r[2*n]+r[2*o],e.depth[i]=(e.depth[n]>=e.depth[o]?e.depth[n]:e.depth[o])+1,r[2*n+1]=r[2*o+1]=i,e.heap[1]=i++,z(e,r,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,o,i,r,s,l,a=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,p=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,_=t.stat_desc.max_length,m=0;for(r=0;r<=f;r++)e.bl_count[r]=0;for(a[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<d;n++)_<(r=a[2*a[2*(o=e.heap[n])+1]+1]+1)&&(r=_,m++),a[2*o+1]=r,c<o||(e.bl_count[r]++,s=0,g<=o&&(s=h[o-g]),l=a[2*o],e.opt_len+=l*(r+s),p&&(e.static_len+=l*(u[2*o+1]+s)));if(0!==m){do{for(r=_-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[_]--,m-=2}while(0<m);for(r=_;0!==r;r--)for(o=e.bl_count[r];0!==o;)c<(i=e.heap[--n])||(a[2*i+1]!==r&&(e.opt_len+=(r-a[2*i+1])*a[2*i],a[2*i+1]=r),o--)}}(e,t),H(r,c,e.bl_count)}function X(e,t,n){var o,i,r=-1,s=t[1],l=0,a=7,c=4;for(0===s&&(a=138,c=3),t[2*(n+1)+1]=65535,o=0;o<=n;o++)i=s,s=t[2*(o+1)+1],++l<a&&i===s||(l<c?e.bl_tree[2*i]+=l:0!==i?(i!==r&&e.bl_tree[2*i]++,e.bl_tree[2*y]++):l<=10?e.bl_tree[2*v]++:e.bl_tree[2*T]++,r=i,c=(l=0)===s?(a=138,3):i===s?(a=6,3):(a=7,4))}function K(e,t,n){var o,i,r=-1,s=t[1],l=0,a=7,c=4;for(0===s&&(a=138,c=3),o=0;o<=n;o++)if(i=s,s=t[2*(o+1)+1],!(++l<a&&i===s)){if(l<c)for(;$(e,i,e.bl_tree),0!=--l;);else 0!==i?(i!==r&&($(e,i,e.bl_tree),l--),$(e,y,e.bl_tree),F(e,l-3,2)):l<=10?($(e,v,e.bl_tree),F(e,l-3,3)):($(e,T,e.bl_tree),F(e,l-11,7));r=i,c=(l=0)===s?(a=138,3):i===s?(a=6,3):(a=7,4)}}s(N);var J=!1;function q(e,t,n,i){F(e,(l<<1)+(i?1:0),3),function(e,t,n,i){G(e),i&&(L(e,n),L(e,~n)),o.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){J||(function(){var e,t,n,o,i,r=new Array(f+1);for(o=n=0;o<a-1;o++)for(w[o]=n,e=0;e<1<<E[o];e++)O[n++]=o;for(O[n-1]=o,o=i=0;o<16;o++)for(N[o]=i,e=0;e<1<<k[o];e++)R[i++]=o;for(i>>=7;o<p;o++)for(N[o]=i<<7,e=0;e<1<<k[o]-7;e++)R[256+i++]=o;for(t=0;t<=f;t++)r[t]=0;for(e=0;e<=143;)S[2*e+1]=8,e++,r[8]++;for(;e<=255;)S[2*e+1]=9,e++,r[9]++;for(;e<=279;)S[2*e+1]=7,e++,r[7]++;for(;e<=287;)S[2*e+1]=8,e++,r[8]++;for(H(S,u+1,r),e=0;e<p;e++)I[2*e+1]=5,I[2*e]=U(e,5);B=new D(S,E,c+1,u,f),A=new D(I,k,0,p,f),x=new D(new Array(0),b,0,h,_)}(),J=!0),e.l_desc=new M(e.dyn_ltree,B),e.d_desc=new M(e.dyn_dtree,A),e.bl_desc=new M(e.bl_tree,x),e.bi_buf=0,e.bi_valid=0,V(e)},n._tr_stored_block=q,n._tr_flush_block=function(e,t,n,o){var s,l,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return r;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return r;return i}(e)),j(e,e.l_desc),j(e,e.d_desc),a=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),j(e,e.bl_desc),t=h-1;3<=t&&0===e.bl_tree[2*C[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(l=e.static_len+3+7>>>3)<=s&&(s=l)):s=l=n+5,n+4<=s&&-1!==t?q(e,t,n,o):4===e.strategy||l===s?(F(e,2+(o?1:0),3),Y(e,S,I)):(F(e,4+(o?1:0),3),function(e,t,n,o){var i;for(F(e,t-257,5),F(e,n-1,5),F(e,o-4,4),i=0;i<o;i++)F(e,e.bl_tree[2*C[i]+1],3);K(e,e.dyn_ltree,t-1),K(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Y(e,e.dyn_ltree,e.dyn_dtree)),V(e),o&&G(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(O[n]+c+1)]++,e.dyn_dtree[2*P(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){F(e,2,3),$(e,m,S),function(e){16===e.bi_valid?(L(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},1725:function(e,t,n){var o=n(781)(n(7289),"DataView");e.exports=o},9748:function(e,t,n){var o=n(6545),i=n(9843),r=n(6266),s=n(7364),l=n(4156);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}a.prototype.clear=o,a.prototype.delete=i,a.prototype.get=r,a.prototype.has=s,a.prototype.set=l,e.exports=a},5745:function(e,t,n){var o=n(329),i=n(9666),r=n(2523),s=n(4397),l=n(3316);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}a.prototype.clear=o,a.prototype.delete=i,a.prototype.get=r,a.prototype.has=s,a.prototype.set=l,e.exports=a},8579:function(e,t,n){var o=n(781)(n(7289),"Map");e.exports=o},3109:function(e,t,n){var o=n(9e3),i=n(7240),r=n(3414),s=n(7140),l=n(5429);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}a.prototype.clear=o,a.prototype.delete=i,a.prototype.get=r,a.prototype.has=s,a.prototype.set=l,e.exports=a},9946:function(e,t,n){var o=n(781)(n(7289),"Promise");e.exports=o},4199:function(e,t,n){var o=n(781)(n(7289),"Set");e.exports=o},4526:function(e,t,n){var o=n(3109),i=n(5845),r=n(5544);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=r,e.exports=s},7016:function(e,t,n){var o=n(5745),i=n(3653),r=n(3359),s=n(2571),l=n(1698),a=n(5883);function c(e){var t=this.__data__=new o(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=s,c.prototype.has=l,c.prototype.set=a,e.exports=c},8624:function(e,t,n){var o=n(7289).Symbol;e.exports=o},6759:function(e,t,n){var o=n(7289).Uint8Array;e.exports=o},3289:function(e,t,n){var o=n(781)(n(7289),"WeakMap");e.exports=o},4951:function(e){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,i=0,r=[];++n<o;){var s=e[n];t(s,n,e)&&(r[i++]=s)}return r}},3200:function(e,t,n){var o=n(4499),i=n(2794),r=n(5585),s=n(667),l=n(674),a=n(3153),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=r(e),u=!n&&i(e),p=!n&&!u&&s(e),h=!n&&!u&&!p&&a(e),d=n||u||p||h,f=d?o(e.length,String):[],g=f.length;for(var _ in e)!t&&!c.call(e,_)||d&&("length"==_||p&&("offset"==_||"parent"==_)||h&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||l(_,g))||f.push(_);return f}},5349:function(e){e.exports=function(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e}},9330:function(e){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}},9194:function(e,t,n){var o=n(3666);e.exports=function(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}},2606:function(e,t,n){var o=n(5349),i=n(5585);e.exports=function(e,t,n){var r=t(e);return i(e)?r:o(r,n(e))}},8665:function(e,t,n){var o=n(8624),i=n(3596),r=n(8186),s=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):r(e)}},1276:function(e,t,n){var o=n(8665),i=n(9752);e.exports=function(e){return i(e)&&"[object Arguments]"==o(e)}},7081:function(e,t,n){var o=n(9110),i=n(9752);e.exports=function e(t,n,r,s,l){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:o(t,n,r,s,e,l))}},9110:function(e,t,n){var o=n(7016),i=n(4132),r=n(9820),s=n(6353),l=n(8466),a=n(5585),c=n(667),u=n(3153),p="[object Arguments]",h="[object Array]",d="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,_,m){var y=a(e),v=a(t),T=y?h:l(e),E=v?h:l(t),k=(T=T==p?d:T)==d,b=(E=E==p?d:E)==d,C=T==E;if(C&&c(e)){if(!c(t))return!1;y=!0,k=!1}if(C&&!k)return m||(m=new o),y||u(e)?i(e,t,n,g,_,m):r(e,t,T,n,g,_,m);if(!(1&n)){var S=k&&f.call(e,"__wrapped__"),I=b&&f.call(t,"__wrapped__");if(S||I){var R=S?e.value():e,O=I?t.value():t;return m||(m=new o),_(R,O,n,g,m)}}return!!C&&(m||(m=new o),s(e,t,n,g,_,m))}},3186:function(e,t,n){var o=n(375),i=n(5401),r=n(1845),s=n(2043),l=/^\[object .+?Constructor\]$/,a=Function.prototype,c=Object.prototype,u=a.toString,p=c.hasOwnProperty,h=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||i(e))&&(o(e)?h:l).test(s(e))}},7499:function(e,t,n){var o=n(8665),i=n(4276),r=n(9752),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&i(e.length)&&!!s[o(e)]}},3409:function(e,t,n){var o=n(6132),i=n(8723),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return i(e);var t=[];for(var n in Object(e))r.call(e,n)&&"constructor"!=n&&t.push(n);return t}},4499:function(e){e.exports=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}},6902:function(e){e.exports=function(e){return function(t){return e(t)}}},8905:function(e){e.exports=function(e,t){return e.has(t)}},7683:function(e,t,n){var o=n(7289)["__core-js_shared__"];e.exports=o},4132:function(e,t,n){var o=n(4526),i=n(9330),r=n(8905);e.exports=function(e,t,n,s,l,a){var c=1&n,u=e.length,p=t.length;if(u!=p&&!(c&&p>u))return!1;var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var f=-1,g=!0,_=2&n?new o:void 0;for(a.set(e,t),a.set(t,e);++f<u;){var m=e[f],y=t[f];if(s)var v=c?s(y,m,f,t,e,a):s(m,y,f,e,t,a);if(void 0!==v){if(v)continue;g=!1;break}if(_){if(!i(t,(function(e,t){if(!r(_,t)&&(m===e||l(m,e,n,s,a)))return _.push(t)}))){g=!1;break}}else if(m!==y&&!l(m,y,n,s,a)){g=!1;break}}return a.delete(e),a.delete(t),g}},9820:function(e,t,n){var o=n(8624),i=n(6759),r=n(3666),s=n(4132),l=n(258),a=n(3671),c=o?o.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,o,c,p,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!p(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=l;case"[object Set]":var f=1&o;if(d||(d=a),e.size!=t.size&&!f)return!1;var g=h.get(e);if(g)return g==t;o|=2,h.set(e,t);var _=s(d(e),d(t),o,c,p,h);return h.delete(e),_;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},6353:function(e,t,n){var o=n(7253),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,s,l){var a=1&n,c=o(e),u=c.length;if(u!=o(t).length&&!a)return!1;for(var p=u;p--;){var h=c[p];if(!(a?h in t:i.call(t,h)))return!1}var d=l.get(e),f=l.get(t);if(d&&f)return d==t&&f==e;var g=!0;l.set(e,t),l.set(t,e);for(var _=a;++p<u;){var m=e[h=c[p]],y=t[h];if(r)var v=a?r(y,m,h,t,e,l):r(m,y,h,e,t,l);if(!(void 0===v?m===y||s(m,y,n,r,l):v)){g=!1;break}_||(_="constructor"==h)}if(g&&!_){var T=e.constructor,E=t.constructor;T==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof T&&T instanceof T&&"function"==typeof E&&E instanceof E||(g=!1)}return l.delete(e),l.delete(t),g}},2692:function(e,t,n){var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=o},7253:function(e,t,n){var o=n(2606),i=n(6504),r=n(6385);e.exports=function(e){return o(e,r,i)}},6911:function(e,t,n){var o=n(1591);e.exports=function(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}},781:function(e,t,n){var o=n(3186),i=n(760);e.exports=function(e,t){var n=i(e,t);return o(n)?n:void 0}},3596:function(e,t,n){var o=n(8624),i=Object.prototype,r=i.hasOwnProperty,s=i.toString,l=o?o.toStringTag:void 0;e.exports=function(e){var t=r.call(e,l),n=e[l];try{e[l]=void 0;var o=!0}catch(a){}var i=s.call(e);return o&&(t?e[l]=n:delete e[l]),i}},6504:function(e,t,n){var o=n(4951),i=n(2554),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(e){return null==e?[]:(e=Object(e),o(s(e),(function(t){return r.call(e,t)})))}:i;e.exports=l},8466:function(e,t,n){var o=n(1725),i=n(8579),r=n(9946),s=n(4199),l=n(3289),a=n(8665),c=n(2043),u="[object Map]",p="[object Promise]",h="[object Set]",d="[object WeakMap]",f="[object DataView]",g=c(o),_=c(i),m=c(r),y=c(s),v=c(l),T=a;(o&&T(new o(new ArrayBuffer(1)))!=f||i&&T(new i)!=u||r&&T(r.resolve())!=p||s&&T(new s)!=h||l&&T(new l)!=d)&&(T=function(e){var t=a(e),n="[object Object]"==t?e.constructor:void 0,o=n?c(n):"";if(o)switch(o){case g:return f;case _:return u;case m:return p;case y:return h;case v:return d}return t}),e.exports=T},760:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6545:function(e,t,n){var o=n(1353);e.exports=function(){this.__data__=o?o(null):{},this.size=0}},9843:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6266:function(e,t,n){var o=n(1353),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(o){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},7364:function(e,t,n){var o=n(1353),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return o?void 0!==t[e]:i.call(t,e)}},4156:function(e,t,n){var o=n(1353);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?"__lodash_hash_undefined__":t,this}},674:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var o=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==o||"symbol"!=o&&t.test(e))&&e>-1&&e%1==0&&e<n}},1591:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5401:function(e,t,n){var o=n(7683),i=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},6132:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},329:function(e){e.exports=function(){this.__data__=[],this.size=0}},9666:function(e,t,n){var o=n(9194),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=o(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},2523:function(e,t,n){var o=n(9194);e.exports=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}},4397:function(e,t,n){var o=n(9194);e.exports=function(e){return o(this.__data__,e)>-1}},3316:function(e,t,n){var o=n(9194);e.exports=function(e,t){var n=this.__data__,i=o(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},9e3:function(e,t,n){var o=n(9748),i=n(5745),r=n(8579);e.exports=function(){this.size=0,this.__data__={hash:new o,map:new(r||i),string:new o}}},7240:function(e,t,n){var o=n(6911);e.exports=function(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}},3414:function(e,t,n){var o=n(6911);e.exports=function(e){return o(this,e).get(e)}},7140:function(e,t,n){var o=n(6911);e.exports=function(e){return o(this,e).has(e)}},5429:function(e,t,n){var o=n(6911);e.exports=function(e,t){var n=o(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},258:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}},1353:function(e,t,n){var o=n(781)(Object,"create");e.exports=o},8723:function(e,t,n){var o=n(9698)(Object.keys,Object);e.exports=o},7785:function(e,t,n){e=n.nmd(e);var o=n(2692),i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,s=r&&r.exports===i&&o.process,l=function(){try{var e=r&&r.require&&r.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=l},8186:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9698:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7289:function(e,t,n){var o=n(2692),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();e.exports=r},5845:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},5544:function(e){e.exports=function(e){return this.__data__.has(e)}},3671:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},3653:function(e,t,n){var o=n(5745);e.exports=function(){this.__data__=new o,this.size=0}},3359:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},2571:function(e){e.exports=function(e){return this.__data__.get(e)}},1698:function(e){e.exports=function(e){return this.__data__.has(e)}},5883:function(e,t,n){var o=n(5745),i=n(8579),r=n(3109);e.exports=function(e,t){var n=this.__data__;if(n instanceof o){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new r(s)}return n.set(e,t),this.size=n.size,this}},2043:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},3666:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},2794:function(e,t,n){var o=n(1276),i=n(9752),r=Object.prototype,s=r.hasOwnProperty,l=r.propertyIsEnumerable,a=o(function(){return arguments}())?o:function(e){return i(e)&&s.call(e,"callee")&&!l.call(e,"callee")};e.exports=a},5585:function(e){var t=Array.isArray;e.exports=t},2114:function(e,t,n){var o=n(375),i=n(4276);e.exports=function(e){return null!=e&&i(e.length)&&!o(e)}},667:function(e,t,n){e=n.nmd(e);var o=n(7289),i=n(5535),r=t&&!t.nodeType&&t,s=r&&e&&!e.nodeType&&e,l=s&&s.exports===r?o.Buffer:void 0,a=(l?l.isBuffer:void 0)||i;e.exports=a},1905:function(e,t,n){var o=n(7081);e.exports=function(e,t){return o(e,t)}},375:function(e,t,n){var o=n(8665),i=n(1845);e.exports=function(e){if(!i(e))return!1;var t=o(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4276:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},1845:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},9752:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3153:function(e,t,n){var o=n(7499),i=n(6902),r=n(7785),s=r&&r.isTypedArray,l=s?i(s):o;e.exports=l},6385:function(e,t,n){var o=n(3200),i=n(3409),r=n(2114);e.exports=function(e){return r(e)?o(e):i(e)}},2554:function(e){e.exports=function(){return[]}},5535:function(e){e.exports=function(){return!1}},1729:function(e,t,n){"use strict";var o=n(9165);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,s){if(s!==o){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},5192:function(e,t,n){e.exports=n(1729)()},9165:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},534:function(e,t,n){"use strict";var o=n(7313),i=n(2224);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function a(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function g(e,t,n,o,i,r,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,o){var i=_.hasOwnProperty(t)?_[t]:null;(null!==i?0!==i.type:o||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,o){if(null===t||"undefined"===typeof t||function(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,o)&&(n=null),o||null===i?function(e){return!!p.call(f,e)||!p.call(d,e)&&(h.test(e)?f[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,o=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);_[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);_[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);_[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),_.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var T=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),k=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var P,L=Object.assign;function F(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var $=!1;function U(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var o=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){o=c}e.call(t.prototype)}else{try{throw Error()}catch(c){o=c}e()}}catch(c){if(c&&o&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),r=o.stack.split("\n"),s=i.length-1,l=r.length-1;1<=s&&0<=l&&i[s]!==r[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==r[l]){if(1!==s||1!==l)do{if(s--,0>--l||i[s]!==r[l]){var a="\n"+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}}while(1<=s&&0<=l);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function H(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case b:return"Fragment";case k:return"Portal";case S:return"Profiler";case C:return"StrictMode";case w:return"Suspense";case B:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case R:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){o=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function j(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=z(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Z(e,t){q(e,t);var n=W(t.value),o=t.type;if(null!=n)"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!("submit"!==o&&"reset"!==o||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,o){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&o&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(o&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(te(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function re(e,t){var n=W(t.value),o=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=o&&(e.defaultValue=""+o)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,pe=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,o){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var o=0===n.indexOf("--"),i=ge(n,t[n],o);"float"===n&&(n="cssFloat"),o?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Te=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,be=null,Ce=null;function Se(e){if(e=mi(e)){if("function"!==typeof ke)throw Error(r(280));var t=e.stateNode;t&&(t=vi(t),ke(e.stateNode,e.type,t))}}function Ie(e){be?Ce?Ce.push(e):Ce=[e]:be=e}function Re(){if(be){var e=be,t=Ce;if(Ce=be=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Oe(e,t){return e(t)}function we(){}var Be=!1;function Ae(e,t,n){if(Be)return e(t,n);Be=!0;try{return Oe(e,t,n)}finally{Be=!1,(null!==be||null!==Ce)&&(we(),Re())}}function xe(e,t){var n=e.stateNode;if(null===n)return null;var o=vi(n);if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}var Ne=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ne=!1}function Me(e,t,n,o,i,r,s,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Pe=!1,Le=null,Fe=!1,$e=null,Ue={onError:function(e){Pe=!0,Le=e}};function He(e,t,n,o,i,r,s,l,a){Pe=!1,Le=null,Me.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(r(188))}function ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(o=i.return)){n=o;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===o)return We(i),t;s=s.sibling}throw Error(r(188))}if(n.return!==o.return)n=i,o=s;else{for(var l=!1,a=i.child;a;){if(a===n){l=!0,n=i,o=s;break}if(a===o){l=!0,o=i,n=s;break}a=a.sibling}if(!l){for(a=s.child;a;){if(a===n){l=!0,n=s,o=i;break}if(a===o){l=!0,o=s,n=i;break}a=a.sibling}if(!l)throw Error(r(189))}}if(n.alternate!==o)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var je=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Je=i.unstable_requestPaint,qe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,ot=i.unstable_IdlePriority,it=null,rt=null;var st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(lt(e)/at|0)|0},lt=Math.log,at=Math.LN2;var ct=64,ut=4194304;function pt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var o=0,i=e.suspendedLanes,r=e.pingedLanes,s=268435455&n;if(0!==s){var l=s&~i;0!==l?o=pt(l):0!==(r&=s)&&(o=pt(r))}else 0!==(s=n&~i)?o=pt(s):0!==r&&(o=pt(r));if(0===o)return 0;if(0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(r=t&-t)||16===i&&0!==(4194240&r)))return t;if(0!==(4&o)&&(o|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=o;0<t;)i=1<<(n=31-st(t)),o|=e[n],t&=~i;return o}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _t(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-st(n),i=1<<o;i&t|e[o]&t&&(e[o]|=t),n&=~i}}var yt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Tt,Et,kt,bt,Ct,St=!1,It=[],Rt=null,Ot=null,wt=null,Bt=new Map,At=new Map,xt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Bt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Mt(e,t,n,o,i,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:r,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&Et(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Pt(e){var t=_i(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Ct(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&Et(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);Te=o,n.target.dispatchEvent(o),Te=null,t.shift()}return!0}function Ft(e,t,n){Lt(e)&&n.delete(t)}function $t(){St=!1,null!==Rt&&Lt(Rt)&&(Rt=null),null!==Ot&&Lt(Ot)&&(Ot=null),null!==wt&&Lt(wt)&&(wt=null),Bt.forEach(Ft),At.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$t)))}function Ht(e){function t(t){return Ut(t,e)}if(0<It.length){Ut(It[0],e);for(var n=1;n<It.length;n++){var o=It[n];o.blockedOn===e&&(o.blockedOn=null)}}for(null!==Rt&&Ut(Rt,e),null!==Ot&&Ut(Ot,e),null!==wt&&Ut(wt,e),Bt.forEach(t),At.forEach(t),n=0;n<xt.length;n++)(o=xt[n]).blockedOn===e&&(o.blockedOn=null);for(;0<xt.length&&null===(n=xt[0]).blockedOn;)Pt(n),null===n.blockedOn&&xt.shift()}var Vt=T.ReactCurrentBatchConfig;function Gt(e,t,n,o){var i=yt,r=Vt.transition;Vt.transition=null;try{yt=1,zt(e,t,n,o)}finally{yt=i,Vt.transition=r}}function Wt(e,t,n,o){var i=yt,r=Vt.transition;Vt.transition=null;try{yt=4,zt(e,t,n,o)}finally{yt=i,Vt.transition=r}}function zt(e,t,n,o){var i=jt(e,t,n,o);if(null===i)Go(e,t,o,Yt,n),Dt(e,o);else if(function(e,t,n,o,i){switch(t){case"focusin":return Rt=Mt(Rt,e,t,n,o,i),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,o,i),!0;case"mouseover":return wt=Mt(wt,e,t,n,o,i),!0;case"pointerover":var r=i.pointerId;return Bt.set(r,Mt(Bt.get(r)||null,e,t,n,o,i)),!0;case"gotpointercapture":return r=i.pointerId,At.set(r,Mt(At.get(r)||null,e,t,n,o,i)),!0}return!1}(i,e,t,n,o))o.stopPropagation();else if(Dt(e,o),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var r=mi(i);if(null!==r&&Tt(r),null===(r=jt(e,t,n,o))&&Go(e,t,o,Yt,n),r===i)break;i=r}null!==i&&o.stopPropagation()}else Go(e,t,o,null,n)}var Yt=null;function jt(e,t,n,o){if(Yt=null,null!==(e=_i(e=Ee(o))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case ot:return 536870912;default:return 16}default:return 16}}var Kt=null,Jt=null,qt=null;function Zt(){if(qt)return qt;var e,t,n=Jt,o=n.length,i="value"in Kt?Kt.value:Kt.textContent,r=i.length;for(e=0;e<o&&n[e]===i[e];e++);var s=o-e;for(t=1;t<=s&&n[o-t]===i[r-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,o,i,r){for(var s in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var on,rn,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},an=nn(ln),cn=L({},ln,{view:0,detail:0}),un=nn(cn),pn=L({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,rn=e.screenY-sn.screenY):rn=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),hn=nn(pn),dn=nn(L({},pn,{dataTransfer:0})),fn=nn(L({},cn,{relatedTarget:0})),gn=nn(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mn=nn(_n),yn=nn(L({},ln,{data:0})),vn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function bn(){return kn}var Cn=L({},cn,{key:function(e){if(e.key){var t=vn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=nn(Cn),In=nn(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=nn(L({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),On=nn(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=nn(wn),An=[9,13,27,32],xn=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Nn,Mn=u&&(!xn||Nn&&8<Nn&&11>=Nn),Pn=String.fromCharCode(32),Ln=!1;function Fn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,o){Ie(o),0<(t=zo(t,"onChange")).length&&(n=new an("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Wn=null,zn=null;function Yn(e){Lo(e,0)}function jn(e){if(j(yi(e)))return e}function Xn(e,t){if("change"===e)return t}var Kn=!1;if(u){var Jn;if(u){var qn="oninput"in document;if(!qn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),qn="function"===typeof Zn.oninput}Jn=qn}else Jn=!1;Kn=Jn&&(!document.documentMode||9<document.documentMode)}function Qn(){Wn&&(Wn.detachEvent("onpropertychange",eo),zn=Wn=null)}function eo(e){if("value"===e.propertyName&&jn(zn)){var t=[];Gn(t,zn,e,Ee(e)),Ae(Yn,t)}}function to(e,t,n){"focusin"===e?(Qn(),zn=n,(Wn=t).attachEvent("onpropertychange",eo)):"focusout"===e&&Qn()}function no(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jn(zn)}function oo(e,t){if("click"===e)return jn(t)}function io(e,t){if("input"===e||"change"===e)return jn(t)}var ro="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function so(e,t){if(ro(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var i=n[o];if(!p.call(t,i)||!ro(e[i],t[i]))return!1}return!0}function lo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ao(e,t){var n,o=lo(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=lo(o)}}function co(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?co(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function uo(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(o){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ho(e){var t=uo(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&co(n.ownerDocument.documentElement,n)){if(null!==o&&po(n))if(t=o.start,void 0===(e=o.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,r=Math.min(o.start,i);o=void 0===o.end?r:Math.min(o.end,i),!e.extend&&r>o&&(i=o,o=r,r=i),i=ao(n,r);var s=ao(n,o);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),r>o?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fo=u&&"documentMode"in document&&11>=document.documentMode,go=null,_o=null,mo=null,yo=!1;function vo(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yo||null==go||go!==X(o)||("selectionStart"in(o=go)&&po(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},mo&&so(mo,o)||(mo=o,0<(o=zo(_o,"onSelect")).length&&(t=new an("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=go)))}function To(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Eo={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionend:To("Transition","TransitionEnd")},ko={},bo={};function Co(e){if(ko[e])return ko[e];if(!Eo[e])return e;var t,n=Eo[e];for(t in n)if(n.hasOwnProperty(t)&&t in bo)return ko[e]=n[t];return e}u&&(bo=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);var So=Co("animationend"),Io=Co("animationiteration"),Ro=Co("animationstart"),Oo=Co("transitionend"),wo=new Map,Bo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ao(e,t){wo.set(e,t),a(t,[e])}for(var xo=0;xo<Bo.length;xo++){var No=Bo[xo];Ao(No.toLowerCase(),"on"+(No[0].toUpperCase()+No.slice(1)))}Ao(So,"onAnimationEnd"),Ao(Io,"onAnimationIteration"),Ao(Ro,"onAnimationStart"),Ao("dblclick","onDoubleClick"),Ao("focusin","onFocus"),Ao("focusout","onBlur"),Ao(Oo,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mo=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function Po(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,o,i,s,l,a,c){if(He.apply(this,arguments),Pe){if(!Pe)throw Error(r(198));var u=Le;Pe=!1,Le=null,Fe||(Fe=!0,$e=u)}}(o,t,void 0,e),e.currentTarget=null}function Lo(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var o=e[n],i=o.event;o=o.listeners;e:{var r=void 0;if(t)for(var s=o.length-1;0<=s;s--){var l=o[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==r&&i.isPropagationStopped())break e;Po(i,l,c),r=a}else for(s=0;s<o.length;s++){if(a=(l=o[s]).instance,c=l.currentTarget,l=l.listener,a!==r&&i.isPropagationStopped())break e;Po(i,l,c),r=a}}}if(Fe)throw e=$e,Fe=!1,$e=null,e}function Fo(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var o=e+"__bubble";n.has(o)||(Vo(t,e,2,!1),n.add(o))}function $o(e,t,n){var o=0;t&&(o|=4),Vo(n,e,o,t)}var Uo="_reactListening"+Math.random().toString(36).slice(2);function Ho(e){if(!e[Uo]){e[Uo]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mo.has(t)||$o(t,!1,e),$o(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uo]||(t[Uo]=!0,$o("selectionchange",!1,t))}}function Vo(e,t,n,o){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=zt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),o?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Go(e,t,n,o,i){var r=o;if(0===(1&t)&&0===(2&t)&&null!==o)e:for(;;){if(null===o)return;var s=o.tag;if(3===s||4===s){var l=o.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===s)for(s=o.return;null!==s;){var a=s.tag;if((3===a||4===a)&&((a=s.stateNode.containerInfo)===i||8===a.nodeType&&a.parentNode===i))return;s=s.return}for(;null!==l;){if(null===(s=_i(l)))return;if(5===(a=s.tag)||6===a){o=r=s;continue e}l=l.parentNode}}o=o.return}Ae((function(){var o=r,i=Ee(n),s=[];e:{var l=wo.get(e);if(void 0!==l){var a=an,c=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":a=Sn;break;case"focusin":c="focus",a=fn;break;case"focusout":c="blur",a=fn;break;case"beforeblur":case"afterblur":a=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=Rn;break;case So:case Io:case Ro:a=gn;break;case Oo:a=On;break;case"scroll":a=un;break;case"wheel":a=Bn;break;case"copy":case"cut":case"paste":a=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=In}var u=0!==(4&t),p=!u&&"scroll"===e,h=u?null!==l?l+"Capture":null:l;u=[];for(var d,f=o;null!==f;){var g=(d=f).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==h&&(null!=(g=xe(f,h))&&u.push(Wo(f,g,d)))),p)break;f=f.return}0<u.length&&(l=new a(l,c,null,n,i),s.push({event:l,listeners:u}))}}if(0===(7&t)){if(a="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Te||!(c=n.relatedTarget||n.fromElement)||!_i(c)&&!c[hi])&&(a||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,a?(a=o,null!==(c=(c=n.relatedTarget||n.toElement)?_i(c):null)&&(c!==(p=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(a=null,c=o),a!==c)){if(u=hn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,g="onPointerLeave",h="onPointerEnter",f="pointer"),p=null==a?l:yi(a),d=null==c?l:yi(c),(l=new u(g,f+"leave",a,n,i)).target=p,l.relatedTarget=d,g=null,_i(i)===o&&((u=new u(h,f+"enter",c,n,i)).target=d,u.relatedTarget=p,g=u),p=g,a&&c)e:{for(h=c,f=0,d=u=a;d;d=Yo(d))f++;for(d=0,g=h;g;g=Yo(g))d++;for(;0<f-d;)u=Yo(u),f--;for(;0<d-f;)h=Yo(h),d--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yo(u),h=Yo(h)}u=null}else u=null;null!==a&&jo(s,l,a,u,!1),null!==c&&null!==p&&jo(s,p,c,u,!0)}if("select"===(a=(l=o?yi(o):window).nodeName&&l.nodeName.toLowerCase())||"input"===a&&"file"===l.type)var _=Xn;else if(Vn(l))if(Kn)_=io;else{_=no;var m=to}else(a=l.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(_=oo);switch(_&&(_=_(e,o))?Gn(s,_,n,i):(m&&m(e,l,o),"focusout"===e&&(m=l._wrapperState)&&m.controlled&&"number"===l.type&&ee(l,"number",l.value)),m=o?yi(o):window,e){case"focusin":(Vn(m)||"true"===m.contentEditable)&&(go=m,_o=o,mo=null);break;case"focusout":mo=_o=go=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":yo=!1,vo(s,n,i);break;case"selectionchange":if(fo)break;case"keydown":case"keyup":vo(s,n,i)}var y;if(xn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Un?Fn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Mn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==v?"onCompositionEnd"===v&&Un&&(y=Zt()):(Jt="value"in(Kt=i)?Kt.value:Kt.textContent,Un=!0)),0<(m=zo(o,v)).length&&(v=new yn(v,e,null,n,i),s.push({event:v,listeners:m}),y?v.data=y:null!==(y=$n(n))&&(v.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Ln=!0,Pn);case"textInput":return(e=t.data)===Pn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!xn&&Fn(e,t)?(e=Zt(),qt=Jt=Kt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(o=zo(o,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:o}),i.data=y))}Lo(s,t)}))}function Wo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zo(e,t){for(var n=t+"Capture",o=[];null!==e;){var i=e,r=i.stateNode;5===i.tag&&null!==r&&(i=r,null!=(r=xe(e,n))&&o.unshift(Wo(e,r,i)),null!=(r=xe(e,t))&&o.push(Wo(e,r,i))),e=e.return}return o}function Yo(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jo(e,t,n,o,i){for(var r=t._reactName,s=[];null!==n&&n!==o;){var l=n,a=l.alternate,c=l.stateNode;if(null!==a&&a===o)break;5===l.tag&&null!==c&&(l=c,i?null!=(a=xe(n,r))&&s.unshift(Wo(n,a,l)):i||null!=(a=xe(n,r))&&s.push(Wo(n,a,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xo=/\r\n?/g,Ko=/\u0000|\uFFFD/g;function Jo(e){return("string"===typeof e?e:""+e).replace(Xo,"\n").replace(Ko,"")}function qo(e,t,n){if(t=Jo(t),Jo(e)!==t&&n)throw Error(r(425))}function Zo(){}var Qo=null;function ei(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ti="function"===typeof setTimeout?setTimeout:void 0,ni="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ii="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ri)}:ti;function ri(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===o)return e.removeChild(i),void Ht(t);o--}else"$"!==n&&"$?"!==n&&"$!"!==n||o++;n=i}while(n);Ht(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ai(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ci=Math.random().toString(36).slice(2),ui="__reactFiber$"+ci,pi="__reactProps$"+ci,hi="__reactContainer$"+ci,di="__reactEvents$"+ci,fi="__reactListeners$"+ci,gi="__reactHandles$"+ci;function _i(e){var t=e[ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[ui]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ai(e);null!==e;){if(n=e[ui])return n;e=ai(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ui]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function vi(e){return e[pi]||null}var Ti=[],Ei=-1;function ki(e){return{current:e}}function bi(e){0>Ei||(e.current=Ti[Ei],Ti[Ei]=null,Ei--)}function Ci(e,t){Ei++,Ti[Ei]=e.current,e.current=t}var Si={},Ii=ki(Si),Ri=ki(!1),Oi=Si;function wi(e,t){var n=e.type.contextTypes;if(!n)return Si;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in n)r[i]=t[i];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){bi(Ri),bi(Ii)}function xi(e,t,n){if(Ii.current!==Si)throw Error(r(168));Ci(Ii,t),Ci(Ri,n)}function Ni(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,"function"!==typeof o.getChildContext)return n;for(var i in o=o.getChildContext())if(!(i in t))throw Error(r(108,G(e)||"Unknown",i));return L({},n,o)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Oi=Ii.current,Ci(Ii,e),Ci(Ri,Ri.current),!0}function Mi(e,t,n){var o=e.stateNode;if(!o)throw Error(r(169));n?(e=Ni(e,t,Oi),o.__reactInternalMemoizedMergedChildContext=e,bi(Ri),bi(Ii),Ci(Ii,e)):bi(Ri),Ci(Ri,n)}var Pi=null,Li=!1,Fi=!1;function $i(e){null===Pi?Pi=[e]:Pi.push(e)}function Ui(){if(!Fi&&null!==Pi){Fi=!0;var e=0,t=yt;try{var n=Pi;for(yt=1;e<n.length;e++){var o=n[e];do{o=o(!0)}while(null!==o)}Pi=null,Li=!1}catch(i){throw null!==Pi&&(Pi=Pi.slice(e+1)),je(Qe,Ui),i}finally{yt=t,Fi=!1}}return null}var Hi=T.ReactCurrentBatchConfig;function Vi(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Gi=ki(null),Wi=null,zi=null,Yi=null;function ji(){Yi=zi=Wi=null}function Xi(e){var t=Gi.current;bi(Gi),e._currentValue=t}function Ki(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Wi=e,Yi=zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ml=!0),e.firstContext=null)}function qi(e){var t=e._currentValue;if(Yi!==e)if(e={context:e,memoizedValue:t,next:null},null===zi){if(null===Wi)throw Error(r(308));zi=e,Wi.dependencies={lanes:0,firstContext:e}}else zi=zi.next=e;return t}var Zi=null,Qi=!1;function er(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function or(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==ya&&0!==(1&e.mode)&&0===(2&ma)?(null===(e=n.interleaved)?(t.next=t,null===Zi?Zi=[n]:Zi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ir(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,mt(e,n)}}function rr(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var i=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?i=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?i=r=t:r=r.next=t}else i=r=t;return n={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:o.shared,effects:o.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sr(e,t,n,o){var i=e.updateQueue;Qi=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var a=l,c=a.next;a.next=null,null===s?r=c:s.next=c,s=a;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(null!==r){var p=i.baseState;for(s=0,u=c=a=null,l=r;;){var h=l.lane,d=l.eventTime;if((o&h)===h){null!==u&&(u=u.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=e,g=l;switch(h=t,d=n,g.tag){case 1:if("function"===typeof(f=g.payload)){p=f.call(d,p,h);break e}p=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(d,p,h):f)||void 0===h)break e;p=L({},p,h);break e;case 2:Qi=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[l]:h.push(l))}else d={eventTime:d,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=d,a=p):u=u.next=d,s|=h;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(h=l).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(a=p),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===r&&(i.shared.lanes=0);Sa|=s,e.lanes=s,e.memoizedState=p}}function lr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var o=e[t],i=o.callback;if(null!==i){if(o.callback=null,o=n,"function"!==typeof i)throw Error(r(191,i));i.call(o)}}}var ar=(new o.Component).refs;function cr(e,t,n,o){n=null===(n=n(o,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ur={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Va(),i=Ga(e),r=nr(o,i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),or(e,r),null!==(t=Wa(e,i,o))&&ir(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Va(),i=Ga(e),r=nr(o,i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),or(e,r),null!==(t=Wa(e,i,o))&&ir(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Va(),o=Ga(e),i=nr(n,o);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),or(e,i),null!==(t=Wa(e,o,n))&&ir(t,e,o)}};function pr(e,t,n,o,i,r,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!so(n,o)||!so(i,r))}function hr(e,t,n){var o=!1,i=Si,r=t.contextType;return"object"===typeof r&&null!==r?r=qi(r):(i=Bi(t)?Oi:Ii.current,r=(o=null!==(o=t.contextTypes)&&void 0!==o)?wi(e,i):Si),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ur,e.stateNode=t,t._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function dr(e,t,n,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&ur.enqueueReplaceState(t,t.state,null)}function fr(e,t,n,o){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ar,er(e);var r=t.contextType;"object"===typeof r&&null!==r?i.context=qi(r):(r=Bi(t)?Oi:Ii.current,i.context=wi(e,r)),i.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(cr(e,t,r,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ur.enqueueReplaceState(i,i.state,null),sr(e,n,i,o),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var gr=[],_r=0,mr=null,yr=0,vr=[],Tr=0,Er=null,kr=1,br="";function Cr(e,t){gr[_r++]=yr,gr[_r++]=mr,mr=e,yr=t}function Sr(e,t,n){vr[Tr++]=kr,vr[Tr++]=br,vr[Tr++]=Er,Er=e;var o=kr;e=br;var i=32-st(o)-1;o&=~(1<<i),n+=1;var r=32-st(t)+i;if(30<r){var s=i-i%5;r=(o&(1<<s)-1).toString(32),o>>=s,i-=s,kr=1<<32-st(t)+i|n<<i|o,br=r+e}else kr=1<<r|n<<i|o,br=e}function Ir(e){null!==e.return&&(Cr(e,1),Sr(e,1,0))}function Rr(e){for(;e===mr;)mr=gr[--_r],gr[_r]=null,yr=gr[--_r],gr[_r]=null;for(;e===Er;)Er=vr[--Tr],vr[Tr]=null,br=vr[--Tr],vr[Tr]=null,kr=vr[--Tr],vr[Tr]=null}var Or=null,wr=null,Br=!1,Ar=null;function xr(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Nr(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Or=e,wr=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Or=e,wr=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Er?{id:kr,overflow:br}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Or=e,wr=null,!0);default:return!1}}function Dr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Mr(e){if(Br){var t=wr;if(t){var n=t;if(!Nr(e,t)){if(Dr(e))throw Error(r(418));t=li(n.nextSibling);var o=Or;t&&Nr(e,t)?xr(o,n):(e.flags=-4097&e.flags|2,Br=!1,Or=e)}}else{if(Dr(e))throw Error(r(418));e.flags=-4097&e.flags|2,Br=!1,Or=e}}}function Pr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Or=e}function Lr(e){if(e!==Or)return!1;if(!Br)return Pr(e),Br=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ei(e.type,e.memoizedProps)),t&&(t=wr)){if(Dr(e)){for(e=wr;e;)e=li(e.nextSibling);throw Error(r(418))}for(;t;)xr(e,t),t=li(t.nextSibling)}if(Pr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){wr=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}wr=null}}else wr=Or?li(e.stateNode.nextSibling):null;return!0}function Fr(){wr=Or=null,Br=!1}function $r(e){null===Ar?Ar=[e]:Ar.push(e)}function Ur(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var o=n.stateNode}if(!o)throw Error(r(147,e));var i=o,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===ar&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Hr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vr(e){return(0,e._init)(e._payload)}function Gr(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=kc(e,t)).index=0,e.sibling=null,e}function s(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=2,n):o:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,o){return null===t||6!==t.tag?((t=Ic(n,e.mode,o)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,o){var r=n.type;return r===b?p(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===x&&Vr(r)===t.type)?((o=i(t,n.props)).ref=Ur(e,t,n),o.return=e,o):((o=bc(n.type,n.key,n.props,null,e.mode,o)).ref=Ur(e,t,n),o.return=e,o)}function u(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Rc(n,e.mode,o)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,o,r){return null===t||7!==t.tag?((t=Cc(n,e.mode,o,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=bc(t.type,t.key,t.props,null,e.mode,n)).ref=Ur(e,null,t),n.return=e,n;case k:return(t=Rc(t,e.mode,n)).return=e,t;case x:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Cc(t,e.mode,n,null)).return=e,t;Hr(e,t)}return null}function d(e,t,n,o){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:a(e,t,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,o):null;case k:return n.key===i?u(e,t,n,o):null;case x:return d(e,t,(i=n._init)(n._payload),o)}if(te(n)||M(n))return null!==i?null:p(e,t,n,o,null);Hr(e,n)}return null}function f(e,t,n,o,i){if("string"===typeof o&&""!==o||"number"===typeof o)return a(t,e=e.get(n)||null,""+o,i);if("object"===typeof o&&null!==o){switch(o.$$typeof){case E:return c(t,e=e.get(null===o.key?n:o.key)||null,o,i);case k:return u(t,e=e.get(null===o.key?n:o.key)||null,o,i);case x:return f(e,t,n,(0,o._init)(o._payload),i)}if(te(o)||M(o))return p(t,e=e.get(n)||null,o,i,null);Hr(t,o)}return null}function g(i,r,l,a){for(var c=null,u=null,p=r,g=r=0,_=null;null!==p&&g<l.length;g++){p.index>g?(_=p,p=null):_=p.sibling;var m=d(i,p,l[g],a);if(null===m){null===p&&(p=_);break}e&&p&&null===m.alternate&&t(i,p),r=s(m,r,g),null===u?c=m:u.sibling=m,u=m,p=_}if(g===l.length)return n(i,p),Br&&Cr(i,g),c;if(null===p){for(;g<l.length;g++)null!==(p=h(i,l[g],a))&&(r=s(p,r,g),null===u?c=p:u.sibling=p,u=p);return Br&&Cr(i,g),c}for(p=o(i,p);g<l.length;g++)null!==(_=f(p,i,g,l[g],a))&&(e&&null!==_.alternate&&p.delete(null===_.key?g:_.key),r=s(_,r,g),null===u?c=_:u.sibling=_,u=_);return e&&p.forEach((function(e){return t(i,e)})),Br&&Cr(i,g),c}function _(i,l,a,c){var u=M(a);if("function"!==typeof u)throw Error(r(150));if(null==(a=u.call(a)))throw Error(r(151));for(var p=u=null,g=l,_=l=0,m=null,y=a.next();null!==g&&!y.done;_++,y=a.next()){g.index>_?(m=g,g=null):m=g.sibling;var v=d(i,g,y.value,c);if(null===v){null===g&&(g=m);break}e&&g&&null===v.alternate&&t(i,g),l=s(v,l,_),null===p?u=v:p.sibling=v,p=v,g=m}if(y.done)return n(i,g),Br&&Cr(i,_),u;if(null===g){for(;!y.done;_++,y=a.next())null!==(y=h(i,y.value,c))&&(l=s(y,l,_),null===p?u=y:p.sibling=y,p=y);return Br&&Cr(i,_),u}for(g=o(i,g);!y.done;_++,y=a.next())null!==(y=f(g,i,_,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?_:y.key),l=s(y,l,_),null===p?u=y:p.sibling=y,p=y);return e&&g.forEach((function(e){return t(i,e)})),Br&&Cr(i,_),u}return function e(o,r,s,a){if("object"===typeof s&&null!==s&&s.type===b&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case E:e:{for(var c=s.key,u=r;null!==u;){if(u.key===c){if((c=s.type)===b){if(7===u.tag){n(o,u.sibling),(r=i(u,s.props.children)).return=o,o=r;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===x&&Vr(c)===u.type){n(o,u.sibling),(r=i(u,s.props)).ref=Ur(o,u,s),r.return=o,o=r;break e}n(o,u);break}t(o,u),u=u.sibling}s.type===b?((r=Cc(s.props.children,o.mode,a,s.key)).return=o,o=r):((a=bc(s.type,s.key,s.props,null,o.mode,a)).ref=Ur(o,r,s),a.return=o,o=a)}return l(o);case k:e:{for(u=s.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(o,r.sibling),(r=i(r,s.children||[])).return=o,o=r;break e}n(o,r);break}t(o,r),r=r.sibling}(r=Rc(s,o.mode,a)).return=o,o=r}return l(o);case x:return e(o,r,(u=s._init)(s._payload),a)}if(te(s))return g(o,r,s,a);if(M(s))return _(o,r,s,a);Hr(o,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==r&&6===r.tag?(n(o,r.sibling),(r=i(r,s)).return=o,o=r):(n(o,r),(r=Ic(s,o.mode,a)).return=o,o=r),l(o)):n(o,r)}}var Wr=Gr(!0),zr=Gr(!1),Yr={},jr=ki(Yr),Xr=ki(Yr),Kr=ki(Yr);function Jr(e){if(e===Yr)throw Error(r(174));return e}function qr(e,t){switch(Ci(Kr,t),Ci(Xr,e),Ci(jr,Yr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ae(null,"");break;default:t=ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}bi(jr),Ci(jr,t)}function Zr(){bi(jr),bi(Xr),bi(Kr)}function Qr(e){Jr(Kr.current);var t=Jr(jr.current),n=ae(t,e.type);t!==n&&(Ci(Xr,e),Ci(jr,n))}function es(e){Xr.current===e&&(bi(jr),bi(Xr))}var ts=ki(0);function ns(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var os=[];function is(){for(var e=0;e<os.length;e++)os[e]._workInProgressVersionPrimary=null;os.length=0}var rs=T.ReactCurrentDispatcher,ss=T.ReactCurrentBatchConfig,ls=0,as=null,cs=null,us=null,ps=!1,hs=!1,ds=0,fs=0;function gs(){throw Error(r(321))}function _s(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ro(e[n],t[n]))return!1;return!0}function ms(e,t,n,o,i,s){if(ls=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Qs:el,e=n(o,i),hs){s=0;do{if(hs=!1,ds=0,25<=s)throw Error(r(301));s+=1,us=cs=null,t.updateQueue=null,rs.current=tl,e=n(o,i)}while(hs)}if(rs.current=Zs,t=null!==cs&&null!==cs.next,ls=0,us=cs=as=null,ps=!1,t)throw Error(r(300));return e}function ys(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?as.memoizedState=us=e:us=us.next=e,us}function Ts(){if(null===cs){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===us?as.memoizedState:us.next;if(null!==t)us=t,cs=e;else{if(null===e)throw Error(r(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===us?as.memoizedState=us=e:us=us.next=e}return us}function Es(e,t){return"function"===typeof t?t(e):t}function ks(e){var t=Ts(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=cs,i=o.baseQueue,s=n.pending;if(null!==s){if(null!==i){var l=i.next;i.next=s.next,s.next=l}o.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,o=o.baseState;var a=l=null,c=null,u=s;do{var p=u.lane;if((ls&p)===p)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),o=u.hasEagerState?u.eagerState:e(o,u.action);else{var h={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(a=c=h,l=o):c=c.next=h,as.lanes|=p,Sa|=p}u=u.next}while(null!==u&&u!==s);null===c?l=o:c.next=a,ro(o,t.memoizedState)||(ml=!0),t.memoizedState=o,t.baseState=l,t.baseQueue=c,n.lastRenderedState=o}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Sa|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bs(e){var t=Ts(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{s=e(s,l.action),l=l.next}while(l!==i);ro(s,t.memoizedState)||(ml=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,o]}function Cs(){}function Ss(e,t){var n=as,o=Ts(),i=t(),s=!ro(o.memoizedState,i);if(s&&(o.memoizedState=i,ml=!0),o=o.queue,Ps(Os.bind(null,n,o,e),[e]),o.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,As(9,Rs.bind(null,n,o,i,t),void 0,null),null===ya)throw Error(r(349));0!==(30&ls)||Is(n,t,i)}return i}function Is(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Rs(e,t,n,o){t.value=n,t.getSnapshot=o,ws(t)&&Wa(e,1,-1)}function Os(e,t,n){return n((function(){ws(t)&&Wa(e,1,-1)}))}function ws(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ro(e,n)}catch(o){return!0}}function Bs(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:e},t.queue=e,e=e.dispatch=js.bind(null,as,e),[t.memoizedState,e]}function As(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function xs(){return Ts().memoizedState}function Ns(e,t,n,o){var i=vs();as.flags|=e,i.memoizedState=As(1|t,n,void 0,void 0===o?null:o)}function Ds(e,t,n,o){var i=Ts();o=void 0===o?null:o;var r=void 0;if(null!==cs){var s=cs.memoizedState;if(r=s.destroy,null!==o&&_s(o,s.deps))return void(i.memoizedState=As(t,n,r,o))}as.flags|=e,i.memoizedState=As(1|t,n,r,o)}function Ms(e,t){return Ns(8390656,8,e,t)}function Ps(e,t){return Ds(2048,8,e,t)}function Ls(e,t){return Ds(4,2,e,t)}function Fs(e,t){return Ds(4,4,e,t)}function $s(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Us(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4,4,$s.bind(null,t,e),n)}function Hs(){}function Vs(e,t){var n=Ts();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&_s(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Gs(e,t){var n=Ts();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&_s(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var o=ss.transition;ss.transition={};try{e(!1),t()}finally{yt=n,ss.transition=o}}function zs(){return Ts().memoizedState}function Ys(e,t,n){var o=Ga(e);n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e)?Ks(t,n):(Js(e,t,n),null!==(e=Wa(e,o,n=Va()))&&qs(e,t,o))}function js(e,t,n){var o=Ga(e),i={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Ks(t,i);else{Js(e,t,i);var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=r(s,n);if(i.hasEagerState=!0,i.eagerState=l,ro(l,s))return}catch(a){}null!==(e=Wa(e,o,n=Va()))&&qs(e,t,o)}}function Xs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ks(e,t){hs=ps=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){null!==ya&&0!==(1&e.mode)&&0===(2&ma)?(null===(e=t.interleaved)?(n.next=n,null===Zi?Zi=[t]:Zi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function qs(e,t,n){if(0!==(4194240&n)){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,mt(e,n)}}var Zs={readContext:qi,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useInsertionEffect:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useSyncExternalStore:gs,useId:gs,unstable_isNewReconciler:!1},Qs={readContext:qi,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:qi,useEffect:Ms,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ns(4194308,4,$s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=vs();return t=void 0!==n?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Ys.bind(null,as,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Bs,useDebugValue:Hs,useDeferredValue:function(e){var t=Bs(e),n=t[0],o=t[1];return Ms((function(){var t=ss.transition;ss.transition={};try{o(e)}finally{ss.transition=t}}),[e]),n},useTransition:function(){var e=Bs(!1),t=e[0];return e=Ws.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=as,i=vs();if(Br){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===ya)throw Error(r(349));0!==(30&ls)||Is(o,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ms(Os.bind(null,o,s,e),[e]),o.flags|=2048,As(9,Rs.bind(null,o,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=ya.identifierPrefix;if(Br){var n=br;t=":"+t+"R"+(n=(kr&~(1<<32-st(kr)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},el={readContext:qi,useCallback:Vs,useContext:qi,useEffect:Ps,useImperativeHandle:Us,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:Gs,useReducer:ks,useRef:xs,useState:function(){return ks(Es)},useDebugValue:Hs,useDeferredValue:function(e){var t=ks(Es),n=t[0],o=t[1];return Ps((function(){var t=ss.transition;ss.transition={};try{o(e)}finally{ss.transition=t}}),[e]),n},useTransition:function(){return[ks(Es)[0],Ts().memoizedState]},useMutableSource:Cs,useSyncExternalStore:Ss,useId:zs,unstable_isNewReconciler:!1},tl={readContext:qi,useCallback:Vs,useContext:qi,useEffect:Ps,useImperativeHandle:Us,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:Gs,useReducer:bs,useRef:xs,useState:function(){return bs(Es)},useDebugValue:Hs,useDeferredValue:function(e){var t=bs(Es),n=t[0],o=t[1];return Ps((function(){var t=ss.transition;ss.transition={};try{o(e)}finally{ss.transition=t}}),[e]),n},useTransition:function(){return[bs(Es)[0],Ts().memoizedState]},useMutableSource:Cs,useSyncExternalStore:Ss,useId:zs,unstable_isNewReconciler:!1};function nl(e,t){try{var n="",o=t;do{n+=H(o),o=o.return}while(o);var i=n}catch(r){i="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:i}}function ol(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var il,rl,sl,ll="function"===typeof WeakMap?WeakMap:Map;function al(e,t,n){(n=nr(-1,n)).tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){xa||(xa=!0,Na=o),ol(0,t)},n}function cl(e,t,n){(n=nr(-1,n)).tag=3;var o=e.type.getDerivedStateFromError;if("function"===typeof o){var i=t.value;n.payload=function(){return o(i)},n.callback=function(){ol(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){ol(0,t),"function"!==typeof o&&(null===Da?Da=new Set([this]):Da.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ul(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new ll;var i=new Set;o.set(t,i)}else void 0===(i=o.get(t))&&(i=new Set,o.set(t,i));i.has(n)||(i.add(n),e=fc.bind(null,e,t,n),t.then(e,e))}function pl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hl(e,t,n,o,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=nr(-1,1)).tag=2,or(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function dl(e,t){if(!Br)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,o|=14680064&i.subtreeFlags,o|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function gl(e,t,n){var o=t.pendingProps;switch(Rr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fl(t),null;case 1:case 17:return Bi(t.type)&&Ai(),fl(t),null;case 3:return o=t.stateNode,Zr(),bi(Ri),bi(Ii),is(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(Lr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ar&&(Ka(Ar),Ar=null))),fl(t),null;case 5:es(t);var i=Jr(Kr.current);if(n=t.type,null!==e&&null!=t.stateNode)rl(e,t,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(r(166));return fl(t),null}if(e=Jr(jr.current),Lr(t)){o=t.stateNode,n=t.type;var s=t.memoizedProps;switch(o[ui]=t,o[pi]=s,e=0!==(1&t.mode),n){case"dialog":Fo("cancel",o),Fo("close",o);break;case"iframe":case"object":case"embed":Fo("load",o);break;case"video":case"audio":for(i=0;i<Do.length;i++)Fo(Do[i],o);break;case"source":Fo("error",o);break;case"img":case"image":case"link":Fo("error",o),Fo("load",o);break;case"details":Fo("toggle",o);break;case"input":J(o,s),Fo("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},Fo("invalid",o);break;case"textarea":ie(o,s),Fo("invalid",o)}for(var a in ye(n,s),i=null,s)if(s.hasOwnProperty(a)){var c=s[a];"children"===a?"string"===typeof c?o.textContent!==c&&(qo(o.textContent,c,e),i=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(qo(o.textContent,c,e),i=["children",""+c]):l.hasOwnProperty(a)&&null!=c&&"onScroll"===a&&Fo("scroll",o)}switch(n){case"input":Y(o),Q(o,s,!0);break;case"textarea":Y(o),se(o);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(o.onclick=Zo)}o=i,t.updateQueue=o,null!==o&&(t.flags|=4)}else{a=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof o.is?e=a.createElement(n,{is:o.is}):(e=a.createElement(n),"select"===n&&(a=e,o.multiple?a.multiple=!0:o.size&&(a.size=o.size))):e=a.createElementNS(e,n),e[ui]=t,e[pi]=o,il(e,t),t.stateNode=e;e:{switch(a=ve(n,o),n){case"dialog":Fo("cancel",e),Fo("close",e),i=o;break;case"iframe":case"object":case"embed":Fo("load",e),i=o;break;case"video":case"audio":for(i=0;i<Do.length;i++)Fo(Do[i],e);i=o;break;case"source":Fo("error",e),i=o;break;case"img":case"image":case"link":Fo("error",e),Fo("load",e),i=o;break;case"details":Fo("toggle",e),i=o;break;case"input":J(e,o),i=K(e,o),Fo("invalid",e);break;case"option":default:i=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=L({},o,{value:void 0}),Fo("invalid",e);break;case"textarea":ie(e,o),i=oe(e,o),Fo("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?_e(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&pe(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fo("scroll",e):null!=u&&v(e,s,u,a))}switch(n){case"input":Y(e),Q(e,o,!1);break;case"textarea":Y(e),se(e);break;case"option":null!=o.value&&e.setAttribute("value",""+W(o.value));break;case"select":e.multiple=!!o.multiple,null!=(s=o.value)?ne(e,!!o.multiple,s,!1):null!=o.defaultValue&&ne(e,!!o.multiple,o.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zo)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return fl(t),null;case 6:if(e&&null!=t.stateNode)sl(0,t,e.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw Error(r(166));if(n=Jr(Kr.current),Jr(jr.current),Lr(t)){if(o=t.stateNode,n=t.memoizedProps,o[ui]=t,(s=o.nodeValue!==n)&&null!==(e=Or))switch(a=0!==(1&e.mode),e.tag){case 3:qo(o.nodeValue,n,a);break;case 5:!0!==e.memoizedProps[void 0]&&qo(o.nodeValue,n,a)}s&&(t.flags|=4)}else(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[ui]=t,t.stateNode=o}return fl(t),null;case 13:if(bi(ts),o=t.memoizedState,Br&&null!==wr&&0!==(1&t.mode)&&0===(128&t.flags)){for(o=wr;o;)o=li(o.nextSibling);return Fr(),t.flags|=98560,t}if(null!==o&&null!==o.dehydrated){if(o=Lr(t),null===e){if(!o)throw Error(r(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(r(317));o[ui]=t}else Fr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return fl(t),null}return null!==Ar&&(Ka(Ar),Ar=null),0!==(128&t.flags)?(t.lanes=n,t):(o=null!==o,n=!1,null===e?Lr(t):n=null!==e.memoizedState,o&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ts.current)?0===ba&&(ba=3):ic())),null!==t.updateQueue&&(t.flags|=4),fl(t),null);case 4:return Zr(),null===e&&Ho(t.stateNode.containerInfo),fl(t),null;case 10:return Xi(t.type._context),fl(t),null;case 19:if(bi(ts),null===(s=t.memoizedState))return fl(t),null;if(o=0!==(128&t.flags),null===(a=s.rendering))if(o)dl(s,!1);else{if(0!==ba||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ns(e))){for(t.flags|=128,dl(s,!1),null!==(o=a.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;null!==n;)e=o,(s=n).flags&=14680066,null===(a=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ts,1&ts.current|2),t.child}e=e.sibling}null!==s.tail&&qe()>Aa&&(t.flags|=128,o=!0,dl(s,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=ns(a))){if(t.flags|=128,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),dl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!a.alternate&&!Br)return fl(t),null}else 2*qe()-s.renderingStartTime>Aa&&1073741824!==n&&(t.flags|=128,o=!0,dl(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=s.last)?n.sibling=a:t.child=a,s.last=a)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=qe(),t.sibling=null,n=ts.current,Ci(ts,o?1&n|2:1&n),t):(fl(t),null);case 22:case 23:return ec(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&0!==(1&t.mode)?0!==(1073741824&Ea)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}il=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},rl=function(e,t,n,o){var i=e.memoizedProps;if(i!==o){e=t.stateNode,Jr(jr.current);var r,s=null;switch(n){case"input":i=K(e,i),o=K(e,o),s=[];break;case"select":i=L({},i,{value:void 0}),o=L({},o,{value:void 0}),s=[];break;case"textarea":i=oe(e,i),o=oe(e,o),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof o.onClick&&(e.onclick=Zo)}for(u in ye(n,o),n=null,i)if(!o.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(r in a)a.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in o){var c=o[u];if(a=null!=i?i[u]:void 0,o.hasOwnProperty(u)&&c!==a&&(null!=c||null!=a))if("style"===u)if(a){for(r in a)!a.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&a[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,a=a?a.__html:void 0,null!=c&&a!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fo("scroll",e),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},sl=function(e,t,n,o){n!==o&&(t.flags|=4)};var _l=T.ReactCurrentOwner,ml=!1;function yl(e,t,n,o){t.child=null===e?zr(t,null,n,o):Wr(t,e.child,n,o)}function vl(e,t,n,o,i){n=n.render;var r=t.ref;return Ji(t,i),o=ms(e,t,n,o,r,i),n=ys(),null===e||ml?(Br&&n&&Ir(t),t.flags|=1,yl(e,t,o,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$l(e,t,i))}function Tl(e,t,n,o,i){if(null===e){var r=n.type;return"function"!==typeof r||Ec(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=bc(n.type,null,o,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,El(e,t,r,o,i))}if(r=e.child,0===(e.lanes&i)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:so)(s,o)&&e.ref===t.ref)return $l(e,t,i)}return t.flags|=1,(e=kc(r,o)).ref=t.ref,e.return=t,t.child=e}function El(e,t,n,o,i){if(null!==e&&so(e.memoizedProps,o)&&e.ref===t.ref){if(ml=!1,0===(e.lanes&i))return t.lanes=e.lanes,$l(e,t,i);0!==(131072&e.flags)&&(ml=!0)}return Cl(e,t,n,o,i)}function kl(e,t,n){var o=t.pendingProps,i=o.children,r=null!==e?e.memoizedState:null;if("hidden"===o.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Ci(ka,Ea),Ea|=n;else{if(0===(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Ci(ka,Ea),Ea|=e,null;t.memoizedState={baseLanes:0,cachePool:null},o=null!==r?r.baseLanes:n,Ci(ka,Ea),Ea|=o}else null!==r?(o=r.baseLanes|n,t.memoizedState=null):o=n,Ci(ka,Ea),Ea|=o;return yl(e,t,i,n),t.child}function bl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cl(e,t,n,o,i){var r=Bi(n)?Oi:Ii.current;return r=wi(t,r),Ji(t,i),n=ms(e,t,n,o,r,i),o=ys(),null===e||ml?(Br&&o&&Ir(t),t.flags|=1,yl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$l(e,t,i))}function Sl(e,t,n,o,i){if(Bi(n)){var r=!0;Di(t)}else r=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),hr(t,n,o),fr(t,n,o,i),o=!0;else if(null===e){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=qi(c):c=wi(t,c=Bi(n)?Oi:Ii.current);var u=n.getDerivedStateFromProps,p="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;p||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==o||a!==c)&&dr(t,s,o,c),Qi=!1;var h=t.memoizedState;s.state=h,sr(t,o,s,i),a=t.memoizedState,l!==o||h!==a||Ri.current||Qi?("function"===typeof u&&(cr(t,n,u,o),a=t.memoizedState),(l=Qi||pr(t,n,l,o,h,a,c))?(p||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=a),s.props=o,s.state=a,s.context=c,o=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),o=!1)}else{s=t.stateNode,tr(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Vi(t.type,l),s.props=c,p=t.pendingProps,h=s.context,"object"===typeof(a=n.contextType)&&null!==a?a=qi(a):a=wi(t,a=Bi(n)?Oi:Ii.current);var d=n.getDerivedStateFromProps;(u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==p||h!==a)&&dr(t,s,o,a),Qi=!1,h=t.memoizedState,s.state=h,sr(t,o,s,i);var f=t.memoizedState;l!==p||h!==f||Ri.current||Qi?("function"===typeof d&&(cr(t,n,d,o),f=t.memoizedState),(c=Qi||pr(t,n,c,o,h,f,a)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(o,f,a),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(o,f,a)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=f),s.props=o,s.state=f,s.context=a,o=c):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),o=!1)}return Il(e,t,n,o,r,i)}function Il(e,t,n,o,i,r){bl(e,t);var s=0!==(128&t.flags);if(!o&&!s)return i&&Mi(t,n,!1),$l(e,t,r);o=t.stateNode,_l.current=t;var l=s&&"function"!==typeof n.getDerivedStateFromError?null:o.render();return t.flags|=1,null!==e&&s?(t.child=Wr(t,e.child,null,r),t.child=Wr(t,null,l,r)):yl(e,t,l,r),t.memoizedState=o.state,i&&Mi(t,n,!0),t.child}function Rl(e){var t=e.stateNode;t.pendingContext?xi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&xi(0,t.context,!1),qr(e,t.containerInfo)}function Ol(e,t,n,o,i){return Fr(),$r(i),t.flags|=256,yl(e,t,n,o),t.child}var wl={dehydrated:null,treeContext:null,retryLane:0};function Bl(e){return{baseLanes:e,cachePool:null}}function Al(e,t,n){var o,i=t.pendingProps,s=ts.current,l=!1,a=0!==(128&t.flags);if((o=a)||(o=(null===e||null!==e.memoizedState)&&0!==(2&s)),o?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ci(ts,1&s),null===e)return Mr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,l?(i=t.mode,l=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==l?(l.childLanes=0,l.pendingProps=s):l=Sc(s,i,0,null),e=Cc(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Bl(n),t.memoizedState=wl,e):xl(t,s));if(null!==(s=e.memoizedState)){if(null!==(o=s.dehydrated)){if(a)return 256&t.flags?(t.flags&=-257,Ml(e,t,n,Error(r(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=i.fallback,s=t.mode,i=Sc({mode:"visible",children:i.children},s,0,null),(l=Cc(l,s,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,0!==(1&t.mode)&&Wr(t,e.child,null,n),t.child.memoizedState=Bl(n),t.memoizedState=wl,l);if(0===(1&t.mode))t=Ml(e,t,n,null);else if("$!"===o.data)t=Ml(e,t,n,Error(r(419)));else if(i=0!==(n&e.childLanes),ml||i){if(null!==(i=ya)){switch(n&-n){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}0!==(i=0!==(l&(i.suspendedLanes|n))?0:l)&&i!==s.retryLane&&(s.retryLane=i,Wa(e,i,-1))}ic(),t=Ml(e,t,n,Error(r(421)))}else"$?"===o.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),o._reactRetry=t,t=null):(n=s.treeContext,wr=li(o.nextSibling),Or=t,Br=!0,Ar=null,null!==n&&(vr[Tr++]=kr,vr[Tr++]=br,vr[Tr++]=Er,kr=n.id,br=n.overflow,Er=t),(t=xl(t,t.pendingProps.children)).flags|=4096);return t}return l?(i=Dl(e,t,i.children,i.fallback,n),l=t.child,s=e.child.memoizedState,l.memoizedState=null===s?Bl(n):{baseLanes:s.baseLanes|n,cachePool:null},l.childLanes=e.childLanes&~n,t.memoizedState=wl,i):(n=Nl(e,t,i.children,n),t.memoizedState=null,n)}return l?(i=Dl(e,t,i.children,i.fallback,n),l=t.child,s=e.child.memoizedState,l.memoizedState=null===s?Bl(n):{baseLanes:s.baseLanes|n,cachePool:null},l.childLanes=e.childLanes&~n,t.memoizedState=wl,i):(n=Nl(e,t,i.children,n),t.memoizedState=null,n)}function xl(e,t){return(t=Sc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Nl(e,t,n,o){var i=e.child;return e=i.sibling,n=kc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=o),n.return=t,n.sibling=null,null!==e&&(null===(o=t.deletions)?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n}function Dl(e,t,n,o,i){var r=t.mode,s=(e=e.child).sibling,l={mode:"hidden",children:n};return 0===(1&r)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=l,t.deletions=null):(n=kc(e,l)).subtreeFlags=14680064&e.subtreeFlags,null!==s?o=kc(s,o):(o=Cc(o,r,i,null)).flags|=2,o.return=t,n.return=t,n.sibling=o,t.child=n,o}function Ml(e,t,n,o){return null!==o&&$r(o),Wr(t,e.child,null,n),(e=xl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Pl(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),Ki(e.return,t,n)}function Ll(e,t,n,o,i){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=n,r.tailMode=i)}function Fl(e,t,n){var o=t.pendingProps,i=o.revealOrder,r=o.tail;if(yl(e,t,o.children,n),0!==(2&(o=ts.current)))o=1&o|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Pl(e,n,t);else if(19===e.tag)Pl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ci(ts,o),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ns(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ll(t,!1,i,n,r);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ns(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ll(t,!0,n,null,r);break;case"together":Ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $l(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Sa|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=kc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=kc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ul(e,t){switch(Rr(t),t.tag){case 1:return Bi(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zr(),bi(Ri),bi(Ii),is(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return es(t),null;case 13:if(bi(ts),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));Fr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return bi(ts),null;case 4:return Zr(),null;case 10:return Xi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var Hl=!1,Vl=!1,Gl="function"===typeof WeakSet?WeakSet:Set,Wl=null;function zl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(o){dc(e,t,o)}else n.current=null}function Yl(e,t,n){try{n()}catch(o){dc(e,t,o)}}var jl=!1;function Xl(e,t,n){var o=t.updateQueue;if(null!==(o=null!==o?o.lastEffect:null)){var i=o=o.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,void 0!==r&&Yl(t,n,r)}i=i.next}while(i!==o)}}function Kl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function Jl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ql(e,t,n){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(it,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var o=e=e.next;do{var i=o,r=i.destroy;i=i.tag,void 0!==r&&(0!==(2&i)||0!==(4&i))&&Yl(t,n,r),o=o.next}while(o!==e)}break;case 1:if(zl(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){dc(t,n,s)}break;case 5:zl(t,n);break;case 4:ia(e,t,n)}}function Zl(e){var t=e.alternate;null!==t&&(e.alternate=null,Zl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ui],delete t[pi],delete t[di],delete t[fi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ql(e){return 5===e.tag||3===e.tag||4===e.tag}function ea(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ql(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ta(e){e:{for(var t=e.return;null!==t;){if(Ql(t))break e;t=t.return}throw Error(r(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),oa(e,n=ea(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,na(e,n=ea(e),t);break;default:throw Error(r(161))}}function na(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zo));else if(4!==o&&null!==(e=e.child))for(na(e,t,n),e=e.sibling;null!==e;)na(e,t,n),e=e.sibling}function oa(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&null!==(e=e.child))for(oa(e,t,n),e=e.sibling;null!==e;)oa(e,t,n),e=e.sibling}function ia(e,t,n){for(var o,i,s=t,l=!1;;){if(!l){l=s.return;e:for(;;){if(null===l)throw Error(r(160));switch(o=l.stateNode,l.tag){case 5:i=!1;break e;case 3:case 4:o=o.containerInfo,i=!0;break e}l=l.return}l=!0}if(5===s.tag||6===s.tag){e:for(var a=e,c=s,u=n,p=c;;)if(ql(a,p,u),null!==p.child&&4!==p.tag)p.child.return=p,p=p.child;else{if(p===c)break e;for(;null===p.sibling;){if(null===p.return||p.return===c)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i?(a=o,c=s.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):o.removeChild(s.stateNode)}else if(18===s.tag)i?(a=o,c=s.stateNode,8===a.nodeType?si(a.parentNode,c):1===a.nodeType&&si(a,c),Ht(a)):si(o,s.stateNode);else if(4===s.tag){if(null!==s.child){o=s.stateNode.containerInfo,i=!0,s.child.return=s,s=s.child;continue}}else if(ql(e,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(l=!1)}s.sibling.return=s.return,s=s.sibling}}function ra(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Xl(3,t,t.return),Kl(3,t),void Xl(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var o=t.memoizedProps,i=null!==e?e.memoizedProps:o;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for("input"===e&&"radio"===o.type&&null!=o.name&&q(n,o),ve(e,i),t=ve(e,o),i=0;i<s.length;i+=2){var l=s[i],a=s[i+1];"style"===l?_e(n,a):"dangerouslySetInnerHTML"===l?pe(n,a):"children"===l?he(n,a):v(n,l,a,t)}switch(e){case"input":Z(n,o);break;case"textarea":re(n,o);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!o.multiple,null!=(s=o.value)?ne(n,!!o.multiple,s,!1):e!==!!o.multiple&&(null!=o.defaultValue?ne(n,!!o.multiple,o.defaultValue,!0):ne(n,!!o.multiple,o.multiple?[]:"",!1))}n[pi]=o}}return;case 6:if(null===t.stateNode)throw Error(r(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Ht(t.stateNode.containerInfo));case 13:case 19:return void sa(t)}throw Error(r(163))}function sa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gl),t.forEach((function(t){var o=mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))}))}}function la(e,t,n){Wl=e,aa(e,t,n)}function aa(e,t,n){for(var o=0!==(1&e.mode);null!==Wl;){var i=Wl,r=i.child;if(22===i.tag&&o){var s=null!==i.memoizedState||Hl;if(!s){var l=i.alternate,a=null!==l&&null!==l.memoizedState||Vl;l=Hl;var c=Vl;if(Hl=s,(Vl=a)&&!c)for(Wl=i;null!==Wl;)a=(s=Wl).child,22===s.tag&&null!==s.memoizedState?pa(i):null!==a?(a.return=s,Wl=a):pa(i);for(;null!==r;)Wl=r,aa(r,t,n),r=r.sibling;Wl=i,Hl=l,Vl=c}ca(e)}else 0!==(8772&i.subtreeFlags)&&null!==r?(r.return=i,Wl=r):ca(e)}}function ca(e){for(;null!==Wl;){var t=Wl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Vl||Kl(5,t);break;case 1:var o=t.stateNode;if(4&t.flags&&!Vl)if(null===n)o.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Vi(t.type,n.memoizedProps);o.componentDidUpdate(i,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&lr(t,s,o);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}lr(t,l,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var p=u.memoizedState;if(null!==p){var h=p.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(r(163))}Vl||512&t.flags&&Jl(t)}catch(d){dc(t,t.return,d)}}if(t===e){Wl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wl=n;break}Wl=t.return}}function ua(e){for(;null!==Wl;){var t=Wl;if(t===e){Wl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wl=n;break}Wl=t.return}}function pa(e){for(;null!==Wl;){var t=Wl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kl(4,t)}catch(a){dc(t,n,a)}break;case 1:var o=t.stateNode;if("function"===typeof o.componentDidMount){var i=t.return;try{o.componentDidMount()}catch(a){dc(t,i,a)}}var r=t.return;try{Jl(t)}catch(a){dc(t,r,a)}break;case 5:var s=t.return;try{Jl(t)}catch(a){dc(t,s,a)}}}catch(a){dc(t,t.return,a)}if(t===e){Wl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Wl=l;break}Wl=t.return}}var ha,da=Math.ceil,fa=T.ReactCurrentDispatcher,ga=T.ReactCurrentOwner,_a=T.ReactCurrentBatchConfig,ma=0,ya=null,va=null,Ta=0,Ea=0,ka=ki(0),ba=0,Ca=null,Sa=0,Ia=0,Ra=0,Oa=null,wa=null,Ba=0,Aa=1/0,xa=!1,Na=null,Da=null,Ma=!1,Pa=null,La=0,Fa=0,$a=null,Ua=-1,Ha=0;function Va(){return 0!==(6&ma)?qe():-1!==Ua?Ua:Ua=qe()}function Ga(e){return 0===(1&e.mode)?1:0!==(2&ma)&&0!==Ta?Ta&-Ta:null!==Hi.transition?(0===Ha&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),Ha=e),Ha):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function Wa(e,t,n){if(50<Fa)throw Fa=0,$a=null,Error(r(185));var o=za(e,t);return null===o?null:(_t(o,t,n),0!==(2&ma)&&o===ya||(o===ya&&(0===(2&ma)&&(Ia|=t),4===ba&&Ja(o,Ta)),Ya(o,n),1===t&&0===ma&&0===(1&e.mode)&&(Aa=qe()+500,Li&&Ui())),o)}function za(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ya(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-st(r),l=1<<s,a=i[s];-1===a?0!==(l&n)&&0===(l&o)||(i[s]=dt(l,t)):a<=t&&(e.expiredLanes|=l),r&=~l}}(e,t);var o=ht(e,e===ya?Ta:0);if(0===o)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Li=!0,$i(e)}(qa.bind(null,e)):$i(qa.bind(null,e)),ii((function(){0===ma&&Ui()})),n=null;else{switch(vt(o)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=ot}n=yc(n,ja.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ja(e,t){if(Ua=-1,Ha=0,0!==(6&ma))throw Error(r(327));var n=e.callbackNode;if(pc()&&e.callbackNode!==n)return null;var o=ht(e,e===ya?Ta:0);if(0===o)return null;if(0!==(30&o)||0!==(o&e.expiredLanes)||t)t=rc(e,o);else{t=o;var i=ma;ma|=2;var s=oc();for(ya===e&&Ta===t||(Aa=qe()+500,tc(e,t));;)try{lc();break}catch(a){nc(e,a)}ji(),fa.current=s,ma=i,null!==va?t=0:(ya=null,Ta=0,t=ba)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(o=i,t=Xa(e,i))),1===t)throw n=Ca,tc(e,0),Ja(e,o),Ya(e,qe()),n;if(6===t)Ja(e,o);else{if(i=e.current.alternate,0===(30&o)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var o=0;o<n.length;o++){var i=n[o],r=i.getSnapshot;i=i.value;try{if(!ro(r(),i))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=rc(e,o))&&(0!==(s=ft(e))&&(o=s,t=Xa(e,s))),1===t))throw n=Ca,tc(e,0),Ja(e,o),Ya(e,qe()),n;switch(e.finishedWork=i,e.finishedLanes=o,t){case 0:case 1:throw Error(r(345));case 2:case 5:uc(e,wa);break;case 3:if(Ja(e,o),(130023424&o)===o&&10<(t=Ba+500-qe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&o)!==o){Va(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ti(uc.bind(null,e,wa),t);break}uc(e,wa);break;case 4:if(Ja(e,o),(4194240&o)===o)break;for(t=e.eventTimes,i=-1;0<o;){var l=31-st(o);s=1<<l,(l=t[l])>i&&(i=l),o&=~s}if(o=i,10<(o=(120>(o=qe()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*da(o/1960))-o)){e.timeoutHandle=ti(uc.bind(null,e,wa),o);break}uc(e,wa);break;default:throw Error(r(329))}}}return Ya(e,qe()),e.callbackNode===n?ja.bind(null,e):null}function Xa(e,t){var n=Oa;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=rc(e,t))&&(t=wa,wa=n,null!==t&&Ka(t)),e}function Ka(e){null===wa?wa=e:wa.push.apply(wa,e)}function Ja(e,t){for(t&=~Ra,t&=~Ia,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),o=1<<n;e[n]=-1,t&=~o}}function qa(e){if(0!==(6&ma))throw Error(r(327));pc();var t=ht(e,0);if(0===(1&t))return Ya(e,qe()),null;var n=rc(e,t);if(0!==e.tag&&2===n){var o=ft(e);0!==o&&(t=o,n=Xa(e,o))}if(1===n)throw n=Ca,tc(e,0),Ja(e,t),Ya(e,qe()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uc(e,wa),Ya(e,qe()),null}function Za(e,t){var n=ma;ma|=1;try{return e(t)}finally{0===(ma=n)&&(Aa=qe()+500,Li&&Ui())}}function Qa(e){null!==Pa&&0===Pa.tag&&0===(6&ma)&&pc();var t=ma;ma|=1;var n=_a.transition,o=yt;try{if(_a.transition=null,yt=1,e)return e()}finally{yt=o,_a.transition=n,0===(6&(ma=t))&&Ui()}}function ec(){Ea=ka.current,bi(ka)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ni(n)),null!==va)for(n=va.return;null!==n;){var o=n;switch(Rr(o),o.tag){case 1:null!==(o=o.type.childContextTypes)&&void 0!==o&&Ai();break;case 3:Zr(),bi(Ri),bi(Ii),is();break;case 5:es(o);break;case 4:Zr();break;case 13:case 19:bi(ts);break;case 10:Xi(o.type._context);break;case 22:case 23:ec()}n=n.return}if(ya=e,va=e=kc(e.current,null),Ta=Ea=t,ba=0,Ca=null,Ra=Ia=Sa=0,wa=Oa=null,null!==Zi){for(t=0;t<Zi.length;t++)if(null!==(o=(n=Zi[t]).interleaved)){n.interleaved=null;var i=o.next,r=n.pending;if(null!==r){var s=r.next;r.next=i,o.next=s}n.pending=o}Zi=null}return e}function nc(e,t){for(;;){var n=va;try{if(ji(),rs.current=Zs,ps){for(var o=as.memoizedState;null!==o;){var i=o.queue;null!==i&&(i.pending=null),o=o.next}ps=!1}if(ls=0,us=cs=as=null,hs=!1,ds=0,ga.current=null,null===n||null===n.return){ba=1,Ca=t,va=null;break}e:{var s=e,l=n.return,a=n,c=t;if(t=Ta,a.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,p=a,h=p.tag;if(0===(1&p.mode)&&(0===h||11===h||15===h)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var f=pl(l);if(null!==f){f.flags&=-257,hl(f,l,a,0,t),1&f.mode&&ul(s,u,t),c=u;var g=(t=f).updateQueue;if(null===g){var _=new Set;_.add(c),t.updateQueue=_}else g.add(c);break e}if(0===(1&t)){ul(s,u,t),ic();break e}c=Error(r(426))}else if(Br&&1&a.mode){var m=pl(l);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),hl(m,l,a,0,t),$r(c);break e}}s=c,4!==ba&&(ba=2),null===Oa?Oa=[s]:Oa.push(s),c=nl(c,a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,rr(a,al(0,c,t));break e;case 1:s=c;var y=a.type,v=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Da||!Da.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,rr(a,cl(a,s,t));break e}}a=a.return}while(null!==a)}cc(n)}catch(T){t=T,va===n&&null!==n&&(va=n=n.return);continue}break}}function oc(){var e=fa.current;return fa.current=Zs,null===e?Zs:e}function ic(){0!==ba&&3!==ba&&2!==ba||(ba=4),null===ya||0===(268435455&Sa)&&0===(268435455&Ia)||Ja(ya,Ta)}function rc(e,t){var n=ma;ma|=2;var o=oc();for(ya===e&&Ta===t||tc(e,t);;)try{sc();break}catch(i){nc(e,i)}if(ji(),ma=n,fa.current=o,null!==va)throw Error(r(261));return ya=null,Ta=0,ba}function sc(){for(;null!==va;)ac(va)}function lc(){for(;null!==va&&!Ke();)ac(va)}function ac(e){var t=ha(e.alternate,e,Ea);e.memoizedProps=e.pendingProps,null===t?cc(e):va=t,ga.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=gl(n,t,Ea)))return void(va=n)}else{if(null!==(n=Ul(n,t)))return n.flags&=32767,void(va=n);if(null===e)return ba=6,void(va=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(va=t);va=t=e}while(null!==t);0===ba&&(ba=5)}function uc(e,t){var n=yt,o=_a.transition;try{_a.transition=null,yt=1,function(e,t,n){do{pc()}while(null!==Pa);if(0!==(6&ma))throw Error(r(327));var o=e.finishedWork,i=e.finishedLanes;if(null===o)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var s=o.lanes|o.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),r=1<<i;t[i]=0,o[i]=-1,e[i]=-1,n&=~r}}(e,s),e===ya&&(va=ya=null,Ta=0),0===(2064&o.subtreeFlags)&&0===(2064&o.flags)||Ma||(Ma=!0,yc(tt,(function(){return pc(),null}))),s=0!==(15990&o.flags),0!==(15990&o.subtreeFlags)||s){s=_a.transition,_a.transition=null;var l=yt;yt=1;var a=ma;ma|=4,ga.current=null,function(e,t){if(po(e=uo())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var i=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{n.nodeType,s.nodeType}catch(k){n=null;break e}var l=0,a=-1,c=-1,u=0,p=0,h=e,d=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(a=l+i),h!==s||0!==o&&3!==h.nodeType||(c=l+o),3===h.nodeType&&(l+=h.nodeValue.length),null!==(f=h.firstChild);)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++u===i&&(a=l),d===s&&++p===o&&(c=l),null!==(f=h.nextSibling))break;d=(h=d).parentNode}h=f}n=-1===a||-1===c?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qo={focusedElem:e,selectionRange:n},Wl=t;null!==Wl;)if(e=(t=Wl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wl=e;else for(;null!==Wl;){t=Wl;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var _=g.memoizedProps,m=g.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?_:Vi(t.type,_),m);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=t.stateNode.containerInfo;if(1===T.nodeType)T.textContent="";else if(9===T.nodeType){var E=T.body;null!=E&&(E.textContent="")}break;default:throw Error(r(163))}}catch(k){dc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Wl=e;break}Wl=t.return}g=jl,jl=!1}(e,o),function(e,t){for(Wl=t;null!==Wl;){var n=(t=Wl).deletions;if(null!==n)for(var o=0;o<n.length;o++){var i=n[o];try{ia(e,i,t);var r=i.alternate;null!==r&&(r.return=null),i.return=null}catch(C){dc(i,t,C)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wl=n;else for(;null!==Wl;){t=Wl;try{var s=t.flags;if(32&s&&he(t.stateNode,""),512&s){var l=t.alternate;if(null!==l){var a=l.ref;null!==a&&("function"===typeof a?a(null):a.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Ba=qe())}break;case 22:var u=null!==t.memoizedState,p=t.alternate,h=null!==p&&null!==p.memoizedState;e:{i=u;for(var d=null,f=o=n=t;;){if(5===f.tag){if(null===d){d=f;var g=f.stateNode;if(i){var _=g.style;"function"===typeof _.setProperty?_.setProperty("display","none","important"):_.display="none"}else{var m=f.stateNode,y=f.memoizedProps.style,v=void 0!==y&&null!==y&&y.hasOwnProperty("display")?y.display:null;m.style.display=ge("display",v)}}}else if(6===f.tag)null===d&&(f.stateNode.nodeValue=i?"":f.memoizedProps);else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===o)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===o)break;for(;null===f.sibling;){if(null===f.return||f.return===o)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}if(u&&!h&&0!==(1&n.mode)){Wl=n;for(var T=n.child;null!==T;){for(n=Wl=T;null!==Wl;){var E=(o=Wl).child;switch(o.tag){case 0:case 11:case 14:case 15:Xl(4,o,o.return);break;case 1:zl(o,o.return);var k=o.stateNode;if("function"===typeof k.componentWillUnmount){var b=o.return;try{k.props=o.memoizedProps,k.state=o.memoizedState,k.componentWillUnmount()}catch(C){dc(o,b,C)}}break;case 5:zl(o,o.return);break;case 22:if(null!==o.memoizedState){ua(n);continue}}null!==E?(E.return=o,Wl=E):ua(n)}T=T.sibling}}}switch(4102&s){case 2:ta(t),t.flags&=-3;break;case 6:ta(t),t.flags&=-3,ra(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,ra(t.alternate,t);break;case 4:ra(t.alternate,t)}}catch(C){dc(t,t.return,C)}if(null!==(n=t.sibling)){n.return=t.return,Wl=n;break}Wl=t.return}}}(e,o),ho(Qo),Qo=null,e.current=o,la(o,e,i),Je(),ma=a,yt=l,_a.transition=s}else e.current=o;if(Ma&&(Ma=!1,Pa=e,La=i),0===(s=e.pendingLanes)&&(Da=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(o.stateNode),Ya(e,qe()),null!==t)for(n=e.onRecoverableError,o=0;o<t.length;o++)n(t[o]);if(xa)throw xa=!1,e=Na,Na=null,e;0!==(1&La)&&0!==e.tag&&pc(),0!==(1&(s=e.pendingLanes))?e===$a?Fa++:(Fa=0,$a=e):Fa=0,Ui()}(e,t,n)}finally{_a.transition=o,yt=n}return null}function pc(){if(null!==Pa){var e=vt(La),t=_a.transition,n=yt;try{if(_a.transition=null,yt=16>e?16:e,null===Pa)var o=!1;else{if(e=Pa,Pa=null,La=0,0!==(6&ma))throw Error(r(331));var i=ma;for(ma|=4,Wl=e.current;null!==Wl;){var s=Wl,l=s.child;if(0!==(16&Wl.flags)){var a=s.deletions;if(null!==a){for(var c=0;c<a.length;c++){var u=a[c];for(Wl=u;null!==Wl;){var p=Wl;switch(p.tag){case 0:case 11:case 15:Xl(8,p,s)}var h=p.child;if(null!==h)h.return=p,Wl=h;else for(;null!==Wl;){var d=(p=Wl).sibling,f=p.return;if(Zl(p),p===u){Wl=null;break}if(null!==d){d.return=f,Wl=d;break}Wl=f}}}var g=s.alternate;if(null!==g){var _=g.child;if(null!==_){g.child=null;do{var m=_.sibling;_.sibling=null,_=m}while(null!==_)}}Wl=s}}if(0!==(2064&s.subtreeFlags)&&null!==l)l.return=s,Wl=l;else e:for(;null!==Wl;){if(0!==(2048&(s=Wl).flags))switch(s.tag){case 0:case 11:case 15:Xl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Wl=y;break e}Wl=s.return}}var v=e.current;for(Wl=v;null!==Wl;){var T=(l=Wl).child;if(0!==(2064&l.subtreeFlags)&&null!==T)T.return=l,Wl=T;else e:for(l=v;null!==Wl;){if(0!==(2048&(a=Wl).flags))try{switch(a.tag){case 0:case 11:case 15:Kl(9,a)}}catch(k){dc(a,a.return,k)}if(a===l){Wl=null;break e}var E=a.sibling;if(null!==E){E.return=a.return,Wl=E;break e}Wl=a.return}}if(ma=i,Ui(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(it,e)}catch(k){}o=!0}return o}finally{yt=n,_a.transition=t}}return!1}function hc(e,t,n){or(e,t=al(0,t=nl(n,t),1)),t=Va(),null!==(e=za(e,1))&&(_t(e,1,t),Ya(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===Da||!Da.has(o))){or(t,e=cl(t,e=nl(n,e),1)),e=Va(),null!==(t=za(t,1))&&(_t(t,1,e),Ya(t,e));break}}t=t.return}}function fc(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),t=Va(),e.pingedLanes|=e.suspendedLanes&n,ya===e&&(Ta&n)===n&&(4===ba||3===ba&&(130023424&Ta)===Ta&&500>qe()-Ba?tc(e,0):Ra|=n),Ya(e,t)}function gc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Va();null!==(e=za(e,t))&&(_t(e,t,n),Ya(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),gc(e,n)}function mc(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(r(314))}null!==o&&o.delete(t),gc(e,n)}function yc(e,t){return je(e,t)}function vc(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,o){return new vc(e,t,n,o)}function Ec(e){return!(!(e=e.prototype)||!e.isReactComponent)}function kc(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bc(e,t,n,o,i,s){var l=2;if(o=e,"function"===typeof e)Ec(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case b:return Cc(n.children,i,s,t);case C:l=8,i|=8;break;case S:return(e=Tc(12,n,t,2|i)).elementType=S,e.lanes=s,e;case w:return(e=Tc(13,n,t,i)).elementType=w,e.lanes=s,e;case B:return(e=Tc(19,n,t,i)).elementType=B,e.lanes=s,e;case N:return Sc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:l=10;break e;case R:l=9;break e;case O:l=11;break e;case A:l=14;break e;case x:l=16,o=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Tc(l,n,t,i)).elementType=e,t.type=o,t.lanes=s,t}function Cc(e,t,n,o){return(e=Tc(7,e,o,t)).lanes=n,e}function Sc(e,t,n,o){return(e=Tc(22,e,o,t)).elementType=N,e.lanes=n,e.stateNode={},e}function Ic(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Rc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oc(e,t,n,o,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wc(e,t,n,o,i,r,s,l,a){return e=new Oc(e,t,n,l,a),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Tc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null},er(r),e}function Bc(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}function Ac(e){if(!e)return Si;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Bi(n))return Ni(e,n,t)}return t}function xc(e,t,n,o,i,r,s,l,a){return(e=wc(n,o,!0,e,0,r,0,l,a)).context=Ac(null),n=e.current,(r=nr(o=Va(),i=Ga(n))).callback=void 0!==t&&null!==t?t:null,or(n,r),e.current.lanes=i,_t(e,i,o),Ya(e,o),e}function Nc(e,t,n,o){var i=t.current,r=Va(),s=Ga(i);return n=Ac(n),null===t.context?t.context=n:t.pendingContext=n,(t=nr(r,s)).payload={element:e},null!==(o=void 0===o?null:o)&&(t.callback=o),or(i,t),null!==(e=Wa(i,s,r))&&ir(e,i,s),s}function Dc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Mc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Pc(e,t){Mc(e,t),(e=e.alternate)&&Mc(e,t)}ha=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)ml=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ml=!1,function(e,t,n){switch(t.tag){case 3:Rl(t),Fr();break;case 5:Qr(t);break;case 1:Bi(t.type)&&Di(t);break;case 4:qr(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,i=t.memoizedProps.value;Ci(Gi,o._currentValue),o._currentValue=i;break;case 13:if(null!==(o=t.memoizedState))return null!==o.dehydrated?(Ci(ts,1&ts.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Al(e,t,n):(Ci(ts,1&ts.current),null!==(e=$l(e,t,n))?e.sibling:null);Ci(ts,1&ts.current);break;case 19:if(o=0!==(n&t.childLanes),0!==(128&e.flags)){if(o)return Fl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ts,ts.current),o)break;return null;case 22:case 23:return t.lanes=0,kl(e,t,n)}return $l(e,t,n)}(e,t,n);ml=0!==(131072&e.flags)}else ml=!1,Br&&0!==(1048576&t.flags)&&Sr(t,yr,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=wi(t,Ii.current);Ji(t,n),i=ms(null,t,o,e,i,n);var s=ys();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bi(o)?(s=!0,Di(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,er(t),i.updater=ur,t.stateNode=i,i._reactInternals=t,fr(t,o,e,n),t=Il(null,t,o,!0,s,n)):(t.tag=0,Br&&s&&Ir(t),yl(null,t,i,n),t=t.child),t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(i=o._init)(o._payload),t.type=o,i=t.tag=function(e){if("function"===typeof e)return Ec(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===A)return 14}return 2}(o),e=Vi(o,e),i){case 0:t=Cl(null,t,o,e,n);break e;case 1:t=Sl(null,t,o,e,n);break e;case 11:t=vl(null,t,o,e,n);break e;case 14:t=Tl(null,t,o,Vi(o.type,e),n);break e}throw Error(r(306,o,""))}return t;case 0:return o=t.type,i=t.pendingProps,Cl(e,t,o,i=t.elementType===o?i:Vi(o,i),n);case 1:return o=t.type,i=t.pendingProps,Sl(e,t,o,i=t.elementType===o?i:Vi(o,i),n);case 3:e:{if(Rl(t),null===e)throw Error(r(387));o=t.pendingProps,i=(s=t.memoizedState).element,tr(e,t),sr(t,o,null,n);var l=t.memoizedState;if(o=l.element,s.isDehydrated){if(s={element:o,isDehydrated:!1,cache:l.cache,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ol(e,t,o,n,i=Error(r(423)));break e}if(o!==i){t=Ol(e,t,o,n,i=Error(r(424)));break e}for(wr=li(t.stateNode.containerInfo.firstChild),Or=t,Br=!0,Ar=null,n=zr(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fr(),o===i){t=$l(e,t,n);break e}yl(e,t,o,n)}t=t.child}return t;case 5:return Qr(t),null===e&&Mr(t),o=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,l=i.children,ei(o,i)?l=null:null!==s&&ei(o,s)&&(t.flags|=32),bl(e,t),yl(e,t,l,n),t.child;case 6:return null===e&&Mr(t),null;case 13:return Al(e,t,n);case 4:return qr(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=Wr(t,null,o,n):yl(e,t,o,n),t.child;case 11:return o=t.type,i=t.pendingProps,vl(e,t,o,i=t.elementType===o?i:Vi(o,i),n);case 7:return yl(e,t,t.pendingProps,n),t.child;case 8:case 12:return yl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,i=t.pendingProps,s=t.memoizedProps,l=i.value,Ci(Gi,o._currentValue),o._currentValue=l,null!==s)if(ro(s.value,l)){if(s.children===i.children&&!Ri.current){t=$l(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var a=s.dependencies;if(null!==a){l=s.child;for(var c=a.firstContext;null!==c;){if(c.context===o){if(1===s.tag){(c=nr(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var p=(u=u.shared).pending;null===p?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ki(s.return,n,t),a.lanes|=n;break}c=c.next}}else if(10===s.tag)l=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(l=s.return))throw Error(r(341));l.lanes|=n,null!==(a=l.alternate)&&(a.lanes|=n),Ki(l,n,t),l=s.sibling}else l=s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===t){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}yl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps.children,Ji(t,n),o=o(i=qi(i)),t.flags|=1,yl(e,t,o,n),t.child;case 14:return i=Vi(o=t.type,t.pendingProps),Tl(e,t,o,i=Vi(o.type,i),n);case 15:return El(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Vi(o,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Bi(o)?(e=!0,Di(t)):e=!1,Ji(t,n),hr(t,o,i),fr(t,o,i,n),Il(null,t,o,!0,e,n);case 19:return Fl(e,t,n);case 22:return kl(e,t,n)}throw Error(r(156,t.tag))};var Lc="function"===typeof reportError?reportError:function(e){console.error(e)};function Fc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Uc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Hc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vc(){}function Gc(e,t,n,o,i){var r=n._reactRootContainer;if(r){var s=r;if("function"===typeof i){var l=i;i=function(){var e=Dc(s);l.call(e)}}Nc(t,s,e,i)}else s=function(e,t,n,o,i){if(i){if("function"===typeof o){var r=o;o=function(){var e=Dc(s);r.call(e)}}var s=xc(t,o,e,0,null,!1,0,"",Vc);return e._reactRootContainer=s,e[hi]=s.current,Ho(8===e.nodeType?e.parentNode:e),Qa(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof o){var l=o;o=function(){var e=Dc(a);l.call(e)}}var a=wc(e,0,!1,null,0,!1,0,"",Vc);return e._reactRootContainer=a,e[hi]=a.current,Ho(8===e.nodeType?e.parentNode:e),Qa((function(){Nc(t,a,n,o)})),a}(n,t,e,i,o);return Dc(s)}$c.prototype.render=Fc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Nc(e,t,null,null)},$c.prototype.unmount=Fc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qa((function(){Nc(null,e,null,null)})),t[hi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=bt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xt.length&&0!==t&&t<xt[n].priority;n++);xt.splice(n,0,e),0===n&&Pt(e)}},Tt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pt(t.pendingLanes);0!==n&&(mt(t,1|n),Ya(t,qe()),0===(6&ma)&&(Aa=qe()+500,Ui()))}break;case 13:var o=Va();Qa((function(){return Wa(e,1,o)})),Pc(e,1)}},Et=function(e){13===e.tag&&(Wa(e,134217728,Va()),Pc(e,134217728))},kt=function(e){if(13===e.tag){var t=Va(),n=Ga(e);Wa(e,n,t),Pc(e,n)}},bt=function(){return yt},Ct=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},ke=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=vi(o);if(!i)throw Error(r(90));j(o),Z(o,i)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=Za,we=Qa;var Wc={usingClientEntryPoint:!1,Events:[mi,yi,vi,Ie,Re,Za]},zc={findFiberByHostInstance:_i,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Yc={bundleType:zc.bundleType,version:zc.version,rendererPackageName:zc.rendererPackageName,rendererConfig:zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ze(e))?null:e.stateNode},findFiberByHostInstance:zc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{it=jc.inject(Yc),rt=jc}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Uc(t))throw Error(r(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Uc(e))throw Error(r(299));var n=!1,o="",i=Lc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=wc(e,1,!1,null,0,n,0,o,i),e[hi]=t.current,Ho(8===e.nodeType?e.parentNode:e),new Fc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=ze(t))?null:e.stateNode},t.flushSync=function(e){return Qa(e)},t.hydrate=function(e,t,n){if(!Hc(t))throw Error(r(200));return Gc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Uc(e))throw Error(r(405));var o=null!=n&&n.hydratedSources||null,i=!1,s="",l=Lc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=xc(t,null,e,1,null!=n?n:null,i,0,s,l),e[hi]=t.current,Ho(e),o)for(e=0;e<o.length;e++)i=(i=(n=o[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Hc(t))throw Error(r(200));return Gc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Hc(e))throw Error(r(40));return!!e._reactRootContainer&&(Qa((function(){Gc(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=Za,t.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Hc(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Gc(e,t,n,!1,o)},t.version="18.0.0-fc46dba67-20220329"},1739:function(e,t,n){"use strict";var o=n(1168);t.s=o.createRoot,o.hydrateRoot},1168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},1624:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case u:case p:case r:case l:case s:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case _:case g:case a:return e;default:return t}}case i:return t}}}function k(e){return E(e)===p}t.isFragment=function(e){return E(e)===r},t.isMemo=function(e){return E(e)===g}},6214:function(e,t,n){"use strict";e.exports=n(1624)},5918:function(e,t,n){"use strict";var o=n(7313),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var o,r={},c=null,u=null;for(o in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,o)&&!a.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===r[o]&&(r[o]=t[o]);return{$$typeof:i,type:e,key:c,ref:u,props:r,_owner:l.current}}t.jsx=c,t.jsxs=c},306:function(e,t){"use strict";var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function m(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var T=v.prototype=new y;T.constructor=v,g(T,m.prototype),T.isPureReactComponent=!0;var E=Array.isArray,k=Object.prototype.hasOwnProperty,b={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,o){var i,r={},s=null,l=null;if(null!=t)for(i in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,i)&&!C.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(1===a)r.children=o;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(i in a=e.defaultProps)void 0===r[i]&&(r[i]=a[i]);return{$$typeof:n,type:e,key:s,ref:l,props:r,_owner:b.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var R=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function w(e,t,i,r,s){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var a=!1;if(null===e)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case n:case o:a=!0}}if(a)return s=s(a=e),e=""===r?"."+O(a,0):r,E(s)?(i="",null!=e&&(i=e.replace(R,"$&/")+"/"),w(s,t,i,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(R,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=""===r?".":r+":",E(e))for(var c=0;c<e.length;c++){var u=r+O(l=e[c],c);a+=w(l,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)a+=w(l=l.value,t,i,u=r+O(l,c++),s);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function B(e,t,n){if(null==e)return e;var o=[],i=0;return w(e,o,"","",(function(e){return t.call(n,e,i++)})),o}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var x={current:null},N={transition:null},D={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:N,ReactCurrentOwner:b};t.Children={map:B,forEach:function(e,t,n){B(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return B(e,(function(){t++})),t},toArray:function(e){return B(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=s,t.PureComponent=v,t.StrictMode=r,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,o){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),r=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=b.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)k.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==a?a[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=o;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:n,type:e.type,key:r,ref:s,props:i,_owner:l}},t.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return x.current.useCallback(e,t)},t.useContext=function(e){return x.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return x.current.useDeferredValue(e)},t.useEffect=function(e,t){return x.current.useEffect(e,t)},t.useId=function(){return x.current.useId()},t.useImperativeHandle=function(e,t,n){return x.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.current.useMemo(e,t)},t.useReducer=function(e,t,n){return x.current.useReducer(e,t,n)},t.useRef=function(e){return x.current.useRef(e)},t.useState=function(e){return x.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},7313:function(e,t,n){"use strict";e.exports=n(306)},6417:function(e,t,n){"use strict";e.exports=n(5918)},8937:function(e){var t=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(A){a=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof _?t:_,r=Object.create(i.prototype),s=new O(o||[]);return r._invoke=function(e,t,n){var o=p;return function(i,r){if(o===d)throw new Error("Generator is already running");if(o===f){if("throw"===i)throw r;return B()}for(n.method=i,n.arg=r;;){var s=n.delegate;if(s){var l=S(s,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var a=u(e,t,n);if("normal"===a.type){if(o=n.done?f:h,a.arg===g)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(o=f,n.method="throw",n.arg=a.arg)}}}(e,n,s),r}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var p="suspendedStart",h="suspendedYield",d="executing",f="completed",g={};function _(){}function m(){}function y(){}var v={};a(v,r,(function(){return this}));var T=Object.getPrototypeOf,E=T&&T(T(w([])));E&&E!==n&&o.call(E,r)&&(v=E);var k=y.prototype=_.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,r,s,l){var a=u(e[i],e,r);if("throw"!==a.type){var c=a.arg,p=c.value;return p&&"object"===typeof p&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(p).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(a.arg)}var i;this._invoke=function(e,o){function r(){return new t((function(t,i){n(e,o,t,i)}))}return i=i?i.then(r,r):r()}}function S(e,n){var o=e.iterator[n.method];if(o===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=u(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var r=i.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function w(e){if(e){var n=e[r];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:B}}function B(){return{value:t,done:!0}}return m.prototype=y,a(k,"constructor",y),a(y,"constructor",m),m.displayName=a(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,a(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(C.prototype),a(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,o,i,r){void 0===r&&(r=Promise);var s=new C(c(t,n,o,i),r);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(k),a(k,l,"Generator"),a(k,r,(function(){return this})),a(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=w,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(o,i){return l.type="throw",l.arg=e,n.next=o,i&&(n.method="next",n.arg=t),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],l=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=o.call(s,"catchLoc"),c=o.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:w(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},3095:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,i=e[o];if(!(0<r(i,t)))break e;e[o]=t,e[n]=i,n=o}}function o(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,i=e.length,s=i>>>1;o<s;){var l=2*(o+1)-1,a=e[l],c=l+1,u=e[c];if(0>r(a,n))c<i&&0>r(u,a)?(e[o]=u,e[c]=n,o=c):(e[o]=a,e[l]=n,o=l);else{if(!(c<i&&0>r(u,n)))break e;e[o]=u,e[c]=n,o=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var c=[],u=[],p=1,h=null,d=3,f=!1,g=!1,_=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function T(e){for(var t=o(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=o(u)}}function E(e){if(_=!1,T(e),!g)if(null!==o(c))g=!0,N(k);else{var t=o(u);null!==t&&D(E,t.startTime-e)}}function k(e,n){g=!1,_&&(_=!1,y(I),I=-1),f=!0;var r=d;try{for(T(n),h=o(c);null!==h&&(!(h.expirationTime>n)||e&&!w());){var s=h.callback;if("function"===typeof s){h.callback=null,d=h.priorityLevel;var l=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?h.callback=l:h===o(c)&&i(c),T(n)}else i(c);h=o(c)}if(null!==h)var a=!0;else{var p=o(u);null!==p&&D(E,p.startTime-n),a=!1}return a}finally{h=null,d=r,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var b,C=!1,S=null,I=-1,R=5,O=-1;function w(){return!(t.unstable_now()-O<R)}function B(){if(null!==S){var e=t.unstable_now();O=e;var n=!0;try{n=S(!0,e)}finally{n?b():(C=!1,S=null)}}else C=!1}if("function"===typeof v)b=function(){v(B)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,x=A.port2;A.port1.onmessage=B,b=function(){x.postMessage(null)}}else b=function(){m(B,0)};function N(e){S=e,C||(C=!0,b())}function D(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,N(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return o(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,r){var s=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:p++,callback:i,priorityLevel:e,startTime:r,expirationTime:l=r+l,sortIndex:-1},r>s?(e.sortIndex=r,n(u,e),null===o(c)&&e===o(u)&&(_?(y(I),I=-1):_=!0,D(E,r-s))):(e.sortIndex=l,n(c,e),g||f||(g=!0,N(k))),e},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},2224:function(e,t,n){"use strict";e.exports=n(3095)},9767:function(e){e.exports=function(e,t,n,o){var i=n?n.call(o,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),a=0;a<r.length;a++){var c=r[a];if(!l(c))return!1;var u=e[c],p=t[c];if(!1===(i=n?n.call(o,u,p,c):void 0)||void 0===i&&u!==p)return!1}return!0}},3318:function(e,t,n){function o(e){var t;if(e.options.indentation||e.options.lineSeparator)for(e.content+=e.options.lineSeparator,t=0;t<e.level;t++)e.content+=e.options.indentation}function i(e,t){e.content+=t}function r(e,t,n){if("string"===typeof e.content)!function(e,t,n){n||(e.content=e.content.trim());e.content.length>0&&(!n&&t.content.length>0&&o(t),i(t,e.content))}(e,t,n);else if("Element"===e.type)!function(e,t,n){!n&&t.content.length>0&&o(t);if(i(t,"<"+e.name),s(t,e.attributes),null===e.children){var l=t.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";i(t,l)}else if(0===e.children.length)i(t,"></"+e.name+">");else{i(t,">"),t.level++;var a="preserve"===e.attributes["xml:space"];if(!a&&t.options.collapseContent){var c=!1,u=!1,p=!1;e.children.forEach((function(t,n){"Text"===t.type?(t.content.includes("\n")?(u=!0,t.content=t.content.trim()):0!==n&&n!==e.children.length-1||0===t.content.trim().length&&(t.content=""),t.content.length>0&&(c=!0)):"CDATA"===t.type?c=!0:p=!0})),!c||p&&u||(a=!0)}e.children.forEach((function(e){r(e,t,n||a,t.options)})),t.level--,n||a||o(t),i(t,"</"+e.name+">")}}(e,t,n);else{if("ProcessingInstruction"!==e.type)throw new Error("Unknown node type: "+e.type);l(e,t)}}function s(e,t){Object.keys(t).forEach((function(n){var o=t[n].replace(/"/g,"&quot;");i(e," "+n+'="'+o+'"')}))}function l(e,t){t.content.length>0&&o(t),i(t,"<?"+e.name),s(t,e.attributes),i(t,"?>")}e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.indentation="indentation"in t?t.indentation:"    ",t.collapseContent=!0===t.collapseContent,t.lineSeparator="lineSeparator"in t?t.lineSeparator:"\r\n",t.whiteSpaceAtEndOfSelfclosingTag=!!t.whiteSpaceAtEndOfSelfclosingTag;var o=n(1947),i=o(e,{filter:t.filter}),s={content:"",level:0,options:t};return i.declaration&&l(i.declaration,s),i.children.forEach((function(e){r(e,s,!1)})),s.content.replace(/\r\n/g,"\n").replace(/\n/g,t.lineSeparator)}},1947:function(e){e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(){return l()||p()||u()||c()}function o(){return f(/\s*/),l(!0)||u()||a()||s(!1)}function i(){for(var e,t=r(),n=[],i=o();i;){if("Element"===i.node.type){if(e)throw new Error("Found multiple root nodes");e=i.node}i.excluded||n.push(i.node),i=o()}if(!e)throw new Error("Failed to parse XML");return{declaration:t?t.node:null,root:e,children:n}}function r(){return s(!0)}function s(e){var n=f(e?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(n){for(var o={name:n[1],type:"ProcessingInstruction",attributes:{}};!g()&&!_("?>");){var i=h();if(!i)return o;o.attributes[i.name]=i.value}return f(/\?>/),{excluded:!e&&!1===t.filter(o),node:o}}}function l(e){var o=f(/^<([\w-:.]+)\s*/);if(o){for(var i={type:"Element",name:o[1],attributes:{},children:[]};!(g()||_(">")||_("?>")||_("/>"));){var r=h();if(!r)return i;i.attributes[r.name]=r.value}var s=!e&&!1===t.filter(i);if(f(/^\s*\/>/))return i.children=null,{excluded:s,node:i};if(f(/\??>/),!s)for(var l=n();l;)l.excluded||i.children.push(l.node),l=n();return f(/^<\/[\w-:.]+>/),{excluded:s,node:i}}}function a(){var e=f(/^<!DOCTYPE\s+[^>]*>/);if(e){var n={type:"DocumentType",content:e[0]};return{excluded:!1===t.filter(n),node:n}}}function c(){if(e.startsWith("<![CDATA[")){var n=e.indexOf("]]>");if(n>-1){var o=n+3,i={type:"CDATA",content:e.substring(0,o)};return e=e.slice(o),{excluded:!1===t.filter(i),node:i}}}}function u(){var e=f(/^<!--[\s\S]*?-->/);if(e){var n={type:"Comment",content:e[0]};return{excluded:!1===t.filter(n),node:n}}}function p(){var e=f(/^([^<]+)/);if(e){var n={type:"Text",content:e[1]};return{excluded:!1===t.filter(n),node:n}}}function h(){var e=f(/([\w-:.]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(e)return{name:e[1],value:d(e[2])}}function d(e){return e.replace(/^['"]|['"]$/g,"")}function f(t){var n=e.match(t);if(n)return e=e.slice(n[0].length),n}function g(){return 0===e.length}function _(t){return 0===e.indexOf(t)}return t.filter=t.filter||function(){return!0},e=e.trim(),i()}}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e=n(7313),t=n(1739);function o(e,t,n,o,i,r,s){try{var l=e[r](s),a=l.value}catch(c){return void n(c)}l.done?t(a):Promise.resolve(a).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function l(e){o(s,i,r,l,a,"next",e)}function a(e){o(s,i,r,l,a,"throw",e)}l(void 0)}))}}function r(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function l(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return r(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);s=!0);}catch(a){l=!0,i=a}finally{try{s||null==n.return||n.return()}finally{if(l)throw i}}return r}}(e,t)||l(e,t)||a()}var u=n(7757),p=n.n(u);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},h.apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function g(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=n(6123),v=n.n(y),T=n(6214);function E(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=[];return e.Children.forEach(t,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?o=o.concat(E(e)):(0,T.isFragment)(e)&&e.props?o=o.concat(E(e.props.children,n)):o.push(e))})),o}var k=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))};function b(t){var n=e.useRef(!1),o=c(e.useState(t),2),i=o[0],r=o[1];return e.useEffect((function(){return function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||r(e)}]}function C(t,n){var o=n||{},i=o.defaultValue,r=o.value,s=o.onChange,l=o.postState,a=c(b((function(){return void 0!==r?r:void 0!==i?"function"===typeof i?i():i:"function"===typeof t?t():t})),2),u=a[0],p=a[1],h=void 0!==r?r:u;l&&(h=l(h));var d=e.useRef(s);d.current=s;var f=e.useCallback((function(e,t){p(e,t),h!==e&&d.current&&d.current(e,h)}),[h,d]),g=e.useRef(!0);return e.useEffect((function(){g.current?g.current=!1:void 0===r&&p(r)}),[r]),[h,f]}function S(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function I(e){return function(e){if(Array.isArray(e))return s(e)}(e)||S(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=function(e){return+setTimeout(e,16)},O=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(R=function(e){return window.requestAnimationFrame(e)},O=function(e){return window.cancelAnimationFrame(e)});var w=0,B=new Map;function A(e){B.delete(e)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=w+=1;function o(t){if(0===t)A(n),e();else{var i=R((function(){o(t-1)}));B.set(n,i)}}return o(t),n}x.cancel=function(e){var t=B.get(e);return A(t),O(t)};var N={};function D(e,t){0}function M(e,t,n){t||N[n]||(e(!1,n),N[n]=!0)}var P=function(e,t){M(D,e,t)};function L(t,n,o){var i=e.useRef({});return"value"in i.current&&!o(i.current.condition,n)||(i.current.value=t(),i.current.condition=n),i.current.value}function F(e,t){"function"===typeof e?e(t):"object"===f(e)&&e&&"current"in e&&(e.current=t)}function $(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.filter((function(e){return e}));return o.length<=1?o[0]:function(e){t.forEach((function(t){F(t,e)}))}}function U(e){var t,n,o=(0,T.isMemo)(e)?e.type.type:e.type;return!("function"===typeof o&&!(null===(t=o.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}var H=n(1168);function V(e){return e instanceof HTMLElement?e:H.findDOMNode(e)}var G=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,o){return e[0]===t&&(n=o,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(t,n){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,o=e(n,t);~o&&n.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,o=this.__entries__;n<o.length;n++){var i=o[n];e.call(t,i[1],i[0])}},t}()}(),W="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,z="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),Y="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(z):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var j=["top","right","bottom","left","width","height","size","weight"],X="undefined"!==typeof MutationObserver,K=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,o=!1,i=0;function r(){n&&(n=!1,e()),o&&l()}function s(){Y(r)}function l(){var e=Date.now();if(n){if(e-i<2)return;o=!0}else n=!0,o=!1,setTimeout(s,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){W&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),X?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){W&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,o=j.some((function(e){return!!~n.indexOf(e)}));o&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),J=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var i=o[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},q=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||z},Z=ie(0,0,0,0);function Q(e){return parseFloat(e)||0}function ee(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Q(e["border-"+n+"-width"])}),0)}function te(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Z;var o=q(e).getComputedStyle(e),i=function(e){for(var t={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var i=o[n],r=e["padding-"+i];t[i]=Q(r)}return t}(o),r=i.left+i.right,s=i.top+i.bottom,l=Q(o.width),a=Q(o.height);if("border-box"===o.boxSizing&&(Math.round(l+r)!==t&&(l-=ee(o,"left","right")+r),Math.round(a+s)!==n&&(a-=ee(o,"top","bottom")+s)),!function(e){return e===q(e).document.documentElement}(e)){var c=Math.round(l+r)-t,u=Math.round(a+s)-n;1!==Math.abs(c)&&(l-=c),1!==Math.abs(u)&&(a-=u)}return ie(i.left,i.top,l,a)}var ne="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof q(e).SVGGraphicsElement}:function(e){return e instanceof q(e).SVGElement&&"function"===typeof e.getBBox};function oe(e){return W?ne(e)?function(e){var t=e.getBBox();return ie(0,0,t.width,t.height)}(e):te(e):Z}function ie(e,t,n,o){return{x:e,y:t,width:n,height:o}}var re=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ie(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=oe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),se=function(e,t){var n=function(e){var t=e.x,n=e.y,o=e.width,i=e.height,r="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(r.prototype);return J(s,{x:t,y:n,width:o,height:i,top:n,right:t+o,bottom:i+n,left:t}),s}(t);J(this,{target:e,contentRect:n})},le=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new G,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof q(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new re(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof q(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new se(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),ae="undefined"!==typeof WeakMap?new WeakMap:new G,ce=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=K.getInstance(),o=new le(t,n,this);ae.set(this,o)};["observe","unobserve","disconnect"].forEach((function(e){ce.prototype[e]=function(){var t;return(t=ae.get(this))[e].apply(t,arguments)}}));var ue="undefined"!==typeof z.ResizeObserver?z.ResizeObserver:ce,pe=new Map;var he=new ue((function(e){e.forEach((function(e){var t,n=e.target;null===(t=pe.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ge(e,t,n){return t&&fe(e.prototype,t),n&&fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _e(e,t){return _e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_e(e,t)}function me(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ve(e)}function Ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ye(e);if(t){var i=ye(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Te(this,n)}}var ke=function(e){me(n,e);var t=Ee(n);function n(){return de(this,n),t.apply(this,arguments)}return ge(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component),be=e.createContext(null);function Ce(t){var n=t.children,o=t.disabled,i=e.useRef(null),r=e.useRef(null),s=e.useContext(be),l="function"===typeof n,a=l?n(i):n,c=e.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!l&&e.isValidElement(a)&&U(a),p=u?a.ref:null,h=e.useMemo((function(){return $(p,i)}),[p,i]),d=e.useRef(t);d.current=t;var f=e.useCallback((function(e){var t=d.current,n=t.onResize,o=t.data,i=e.getBoundingClientRect(),r=i.width,l=i.height,a=e.offsetWidth,u=e.offsetHeight,p=Math.floor(r),h=Math.floor(l);if(c.current.width!==p||c.current.height!==h||c.current.offsetWidth!==a||c.current.offsetHeight!==u){var f={width:p,height:h,offsetWidth:a,offsetHeight:u};c.current=f;var g=a===Math.round(r)?r:a,_=u===Math.round(l)?l:u,y=m(m({},f),{},{offsetWidth:g,offsetHeight:_});null===s||void 0===s||s(y,e,o),n&&Promise.resolve().then((function(){n(y,e)}))}}),[]);return e.useEffect((function(){var e,t,n=V(i.current)||V(r.current);return n&&!o&&(e=n,t=f,pe.has(e)||(pe.set(e,new Set),he.observe(e)),pe.get(e).add(t)),function(){return function(e,t){pe.has(e)&&(pe.get(e).delete(t),pe.get(e).size||(he.unobserve(e),pe.delete(e)))}(n,f)}}),[i.current,o]),e.createElement(ke,{ref:r},u?e.cloneElement(a,{ref:h}):a)}function Se(t){var n=t.children;return("function"===typeof n?[n]:E(n)).map((function(n,o){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(o);return e.createElement(Ce,h({},t,{key:i}),n)}))}Se.Collection=function(t){var n=t.children,o=t.onBatchResize,i=e.useRef(0),r=e.useRef([]),s=e.useContext(be),l=e.useCallback((function(e,t,n){i.current+=1;var l=i.current;r.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){l===i.current&&(null===o||void 0===o||o(r.current),r.current=[])})),null===s||void 0===s||s(e,t,n)}),[o,s]);return e.createElement(be.Provider,{value:l},n)};var Ie=Se;function Re(t){var n=(0,e.useRef)(),o=(0,e.useRef)(!1);return(0,e.useEffect)((function(){return function(){o.current=!0,x.cancel(n.current)}}),[]),function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];o.current||(x.cancel(n.current),n.current=x((function(){t.apply(void 0,i)})))}}var Oe={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Oe.F1&&t<=Oe.F12)return!1;switch(t){case Oe.ALT:case Oe.CAPS_LOCK:case Oe.CONTEXT_MENU:case Oe.CTRL:case Oe.DOWN:case Oe.END:case Oe.ESC:case Oe.HOME:case Oe.INSERT:case Oe.LEFT:case Oe.MAC_FF_META:case Oe.META:case Oe.NUMLOCK:case Oe.NUM_CENTER:case Oe.PAGE_DOWN:case Oe.PAGE_UP:case Oe.PAUSE:case Oe.PRINT_SCREEN:case Oe.RIGHT:case Oe.SHIFT:case Oe.UP:case Oe.WIN_KEY:case Oe.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Oe.ZERO&&e<=Oe.NINE)return!0;if(e>=Oe.NUM_ZERO&&e<=Oe.NUM_MULTIPLY)return!0;if(e>=Oe.A&&e<=Oe.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Oe.SPACE:case Oe.QUESTION_MARK:case Oe.NUM_PLUS:case Oe.NUM_MINUS:case Oe.NUM_PERIOD:case Oe.NUM_DIVISION:case Oe.SEMICOLON:case Oe.DASH:case Oe.EQUALS:case Oe.COMMA:case Oe.PERIOD:case Oe.SLASH:case Oe.APOSTROPHE:case Oe.SINGLE_QUOTE:case Oe.OPEN_SQUARE_BRACKET:case Oe.BACKSLASH:case Oe.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},we=Oe;function Be(t,n){var o,i=t.prefixCls,r=t.id,s=t.active,l=t.tab,a=l.key,c=l.tab,u=l.disabled,p=l.closeIcon,h=t.closable,f=t.renderWrapper,g=t.removeAriaLabel,_=t.editable,m=t.onClick,y=t.onRemove,T=t.onFocus,E=t.style,k="".concat(i,"-tab");e.useEffect((function(){return y}),[]);var b=_&&!1!==h&&!u;function C(e){u||m(e)}var S=e.createElement("div",{key:a,ref:n,className:v()(k,(o={},d(o,"".concat(k,"-with-remove"),b),d(o,"".concat(k,"-active"),s),d(o,"".concat(k,"-disabled"),u),o)),style:E,onClick:C},e.createElement("div",{role:"tab","aria-selected":s,id:r&&"".concat(r,"-tab-").concat(a),className:"".concat(k,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(a),"aria-disabled":u,tabIndex:u?null:0,onClick:function(e){e.stopPropagation(),C(e)},onKeyDown:function(e){[we.SPACE,we.ENTER].includes(e.which)&&(e.preventDefault(),C(e))},onFocus:T},c),b&&e.createElement("button",{type:"button","aria-label":g||"remove",tabIndex:0,className:"".concat(k,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),_.onEdit("remove",{key:a,event:t})}},p||_.removeIcon||"\xd7"));return f?f(S):S}var Ae=e.forwardRef(Be),xe={width:0,height:0,left:0,top:0};var Ne={width:0,height:0,left:0,top:0,right:0};var De=n(9767),Me=n.n(De);function Pe(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var Le=Pe()?e.useLayoutEffect:e.useEffect,Fe=["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","className","style","children","display","order","component"],$e=void 0;function Ue(t,n){var o=t.prefixCls,i=t.invalidate,r=t.item,s=t.renderItem,l=t.responsive,a=t.registerSize,c=t.itemKey,u=t.className,p=t.style,d=t.children,f=t.display,_=t.order,y=t.component,T=void 0===y?"div":y,E=g(t,Fe),k=l&&!f;function b(e){a(c,e)}e.useEffect((function(){return function(){b(null)}}),[]);var C,S=s&&r!==$e?s(r):d;i||(C={opacity:k?0:1,height:k?0:$e,overflowY:k?"hidden":$e,order:l?_:$e,pointerEvents:k?"none":$e,position:k?"absolute":$e});var I={};k&&(I["aria-hidden"]=!0);var R=e.createElement(T,h({className:v()(!i&&o,u),style:m(m({},C),p)},I,E,{ref:n}),S);return l&&(R=e.createElement(Ie,{onResize:function(e){b(e.offsetWidth)}},R)),R}var He=e.forwardRef(Ue);He.displayName="Item";var Ve=He;var Ge=["component"],We=["className"],ze=["className"],Ye=function(t,n){var o=e.useContext(Je);if(!o){var i=t.component,r=void 0===i?"div":i,s=g(t,Ge);return e.createElement(r,h({},s,{ref:n}))}var l=o.className,a=g(o,We),c=t.className,u=g(t,ze);return e.createElement(Je.Provider,{value:null},e.createElement(Ve,h({ref:n,className:v()(l,c)},a,u)))},je=e.forwardRef(Ye);je.displayName="RawItem";var Xe=je,Ke=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Je=e.createContext(null),qe="responsive",Ze="invalidate";function Qe(e){return"+ ".concat(e.length," ...")}function et(t,n){var o=t.prefixCls,i=void 0===o?"rc-overflow":o,r=t.data,s=void 0===r?[]:r,l=t.renderItem,a=t.renderRawItem,u=t.itemKey,p=t.itemWidth,d=void 0===p?10:p,f=t.ssr,_=t.style,y=t.className,T=t.maxCount,E=t.renderRest,k=t.renderRawRest,C=t.suffix,S=t.component,I=void 0===S?"div":S,R=t.itemComponent,O=t.onVisibleChange,w=g(t,Ke),B=function(){var t=c(b({}),2)[1],n=(0,e.useRef)([]),o=0,i=0;return function(e){var r=o;return o+=1,n.current.length<r+1&&(n.current[r]=e),[n.current[r],function(e){n.current[r]="function"===typeof e?e(n.current[r]):e,x.cancel(i),i=x((function(){t({},!0)}))}]}}(),A="full"===f,N=c(B(null),2),D=N[0],M=N[1],P=D||0,L=c(B(new Map),2),F=L[0],$=L[1],U=c(B(0),2),H=U[0],V=U[1],G=c(B(0),2),W=G[0],z=G[1],Y=c(B(0),2),j=Y[0],X=Y[1],K=c((0,e.useState)(null),2),J=K[0],q=K[1],Z=c((0,e.useState)(null),2),Q=Z[0],ee=Z[1],te=e.useMemo((function(){return null===Q&&A?Number.MAX_SAFE_INTEGER:Q||0}),[Q,D]),ne=c((0,e.useState)(!1),2),oe=ne[0],ie=ne[1],re="".concat(i,"-item"),se=Math.max(H,W),le=s.length&&T===qe,ae=T===Ze,ce=le||"number"===typeof T&&s.length>T,ue=(0,e.useMemo)((function(){var e=s;return le?e=null===D&&A?s:s.slice(0,Math.min(s.length,P/d)):"number"===typeof T&&(e=s.slice(0,T)),e}),[s,d,D,T,le]),pe=(0,e.useMemo)((function(){return le?s.slice(te+1):s.slice(ue.length)}),[s,ue,le,te]),he=(0,e.useCallback)((function(e,t){var n;return"function"===typeof u?u(e):null!==(n=u&&(null===e||void 0===e?void 0:e[u]))&&void 0!==n?n:t}),[u]),de=(0,e.useCallback)(l||function(e){return e},[l]);function fe(e,t){ee(e),t||(ie(e<s.length-1),null===O||void 0===O||O(e))}function ge(e,t){$((function(n){var o=new Map(n);return null===t?o.delete(e):o.set(e,t),o}))}function _e(e){return F.get(he(ue[e],e))}Le((function(){if(P&&se&&ue){var e=j,t=ue.length,n=t-1;if(!t)return fe(0),void q(null);for(var o=0;o<t;o+=1){var i=_e(o);if(void 0===i){fe(o-1,!0);break}if(e+=i,0===n&&e<=P||o===n-1&&e+_e(n)<=P){fe(n),q(null);break}if(e+se>P){fe(o-1),q(e-i-j+W);break}}C&&_e(0)+j>P&&q(null)}}),[P,F,W,j,he,ue]);var me=oe&&!!pe.length,ye={};null!==J&&le&&(ye={position:"absolute",left:J,top:0});var ve,Te={prefixCls:re,responsive:le,component:R,invalidate:ae},Ee=a?function(t,n){var o=he(t,n);return e.createElement(Je.Provider,{key:o,value:m(m({},Te),{},{order:n,item:t,itemKey:o,registerSize:ge,display:n<=te})},a(t,n))}:function(t,n){var o=he(t,n);return e.createElement(Ve,h({},Te,{order:n,key:o,item:t,renderItem:de,itemKey:o,registerSize:ge,display:n<=te}))},ke={order:me?te:Number.MAX_SAFE_INTEGER,className:"".concat(re,"-rest"),registerSize:function(e,t){z(t),V(W)},display:me};if(k)k&&(ve=e.createElement(Je.Provider,{value:m(m({},Te),ke)},k(pe)));else{var be=E||Qe;ve=e.createElement(Ve,h({},Te,ke),"function"===typeof be?be(pe):be)}var Ce=e.createElement(I,h({className:v()(!ae&&i,y),style:_,ref:n},w),ue.map(Ee),ce?ve:null,C&&e.createElement(Ve,h({},Te,{order:te,className:"".concat(re,"-suffix"),registerSize:function(e,t){X(t)},display:!0,style:ye}),C));return le&&(Ce=e.createElement(Ie,{onResize:function(e,t){M(t.clientWidth)}},Ce)),Ce}var tt=e.forwardRef(et);tt.displayName="Overflow",tt.Item=Xe,tt.RESPONSIVE=qe,tt.INVALIDATE=Ze;var nt=tt;function ot(e,t){var n=m({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var it=["children","locked"],rt=e.createContext(null);function st(t){var n=t.children,o=t.locked,i=g(t,it),r=e.useContext(rt),s=L((function(){return function(e,t){var n=m({},e);return Object.keys(t).forEach((function(e){var o=t[e];void 0!==o&&(n[e]=o)})),n}(r,i)}),[r,i],(function(e,t){return!o&&(e[0]!==t[0]||!Me()(e[1],t[1]))}));return e.createElement(rt.Provider,{value:s},n)}function lt(t,n,o,i){var r=e.useContext(rt),s=r.activeKey,l=r.onActive,a=r.onInactive,c={active:s===t};return n||(c.onMouseEnter=function(e){null===o||void 0===o||o({key:t,domEvent:e}),l(t)},c.onMouseLeave=function(e){null===i||void 0===i||i({key:t,domEvent:e}),a(t)}),c}var at=["item"];function ct(e){var t=e.item,n=g(e,at);return Object.defineProperty(n,"item",{get:function(){return P(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function ut(t){var n=t.icon,o=t.props,i=t.children;return("function"===typeof n?e.createElement(n,m({},o)):n)||i||null}function pt(t){var n=e.useContext(rt),o=n.mode,i=n.rtl,r=n.inlineIndent;if("inline"!==o)return null;return i?{paddingRight:t*r}:{paddingLeft:t*r}}var ht=[],dt=e.createContext(null);function ft(){return e.useContext(dt)}var gt=e.createContext(ht);function _t(t){var n=e.useContext(gt);return e.useMemo((function(){return void 0!==t?[].concat(I(n),[t]):n}),[n,t])}var mt=e.createContext(null),yt=e.createContext(null);function vt(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Tt(t){return vt(e.useContext(yt),t)}var Et=e.createContext({}),kt=["title","attribute","elementRef"],bt=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Ct=["active"],St=function(t){me(o,t);var n=Ee(o);function o(){return de(this,o),n.apply(this,arguments)}return ge(o,[{key:"render",value:function(){var t=this.props,n=t.title,o=t.attribute,i=t.elementRef,r=ot(g(t,kt),["eventKey"]);return P(!o,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),e.createElement(nt.Item,h({},o,{title:"string"===typeof n?n:void 0},r,{ref:i}))}}]),o}(e.Component),It=function(t){var n,o=t.style,i=t.className,r=t.eventKey,s=(t.warnKey,t.disabled),l=t.itemIcon,a=t.children,c=t.role,u=t.onMouseEnter,p=t.onMouseLeave,f=t.onClick,_=t.onKeyDown,y=t.onFocus,T=g(t,bt),E=Tt(r),k=e.useContext(rt),b=k.prefixCls,C=k.onItemClick,S=k.disabled,R=k.overflowDisabled,O=k.itemIcon,w=k.selectedKeys,B=k.onActive,A=e.useContext(Et)._internalRenderMenuItem,x="".concat(b,"-item"),N=e.useRef(),D=e.useRef(),M=S||s,P=_t(r);var L=function(e){return{key:r,keyPath:I(P).reverse(),item:N.current,domEvent:e}},F=l||O,$=lt(r,M,u,p),U=$.active,H=g($,Ct),V=w.includes(r),G=pt(P.length),W={};"option"===t.role&&(W["aria-selected"]=V);var z=e.createElement(St,h({ref:N,elementRef:D,role:null===c?"none":c||"menuitem",tabIndex:s?null:-1,"data-menu-id":R&&E?null:E},T,H,W,{component:"li","aria-disabled":s,style:m(m({},G),o),className:v()(x,(n={},d(n,"".concat(x,"-active"),U),d(n,"".concat(x,"-selected"),V),d(n,"".concat(x,"-disabled"),M),n),i),onClick:function(e){if(!M){var t=L(e);null===f||void 0===f||f(ct(t)),C(t)}},onKeyDown:function(e){if(null===_||void 0===_||_(e),e.which===we.ENTER){var t=L(e);null===f||void 0===f||f(ct(t)),C(t)}},onFocus:function(e){B(r),null===y||void 0===y||y(e)}}),a,e.createElement(ut,{props:m(m({},t),{},{isSelected:V}),icon:F}));return A&&(z=A(z,t,{selected:V})),z};var Rt=function(t){var n=t.eventKey,o=ft(),i=_t(n);return e.useEffect((function(){if(o)return o.registerPath(n,i),function(){o.unregisterPath(n,i)}}),[i]),o?null:e.createElement(It,t)};function Ot(t,n){return E(t).map((function(t,o){if(e.isValidElement(t)){var i,r,s=t.key,l=null!==(i=null===(r=t.props)||void 0===r?void 0:r.eventKey)&&void 0!==i?i:s;(null===l||void 0===l)&&(l="tmp_key-".concat([].concat(I(n),[o]).join("-")));var a={key:l,eventKey:l};return e.cloneElement(t,a)}return t}))}function wt(t){var n=e.useRef(t);n.current=t;var o=e.useCallback((function(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(o))}),[]);return t?o:void 0}var Bt=["className","children"],At=function(t,n){var o=t.className,i=t.children,r=g(t,Bt),s=e.useContext(rt),l=s.prefixCls,a=s.mode,c=s.rtl;return e.createElement("ul",h({className:v()(l,c&&"".concat(l,"-rtl"),"".concat(l,"-sub"),"".concat(l,"-").concat("inline"===a?"inline":"vertical"),o)},r,{"data-menu-list":!0,ref:n}),i)},xt=e.forwardRef(At);xt.displayName="SubMenuList";var Nt=xt;function Dt(e,t){return!!e&&e.contains(t)}function Mt(e,t,n,o){var i=H.unstable_batchedUpdates?function(e){H.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,o),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i)}}}var Pt=(0,e.forwardRef)((function(t,n){var o=t.didUpdate,i=t.getContainer,r=t.children,s=(0,e.useRef)();(0,e.useImperativeHandle)(n,(function(){return{}}));var l=(0,e.useRef)(!1);return!l.current&&Pe()&&(s.current=i(),l.current=!0),(0,e.useEffect)((function(){null===o||void 0===o||o(t)})),(0,e.useEffect)((function(){return function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(s.current)}}),[]),s.current?H.createPortal(r,s.current):null})),Lt=Pt;function Ft(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function $t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Ut=function(e,t){var n={animationend:$t("Animation","AnimationEnd"),transitionend:$t("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Pe(),"undefined"!==typeof window?window:{}),Ht={};if(Pe()){var Vt=document.createElement("div");Ht=Vt.style}var Gt={};function Wt(e){if(Gt[e])return Gt[e];var t=Ut[e];if(t)for(var n=Object.keys(t),o=n.length,i=0;i<o;i+=1){var r=n[i];if(Object.prototype.hasOwnProperty.call(t,r)&&r in Ht)return Gt[e]=t[r],Gt[e]}return""}var zt=Wt("animationend"),Yt=Wt("transitionend"),jt=!(!zt||!Yt),Xt=zt||"animationend",Kt=Yt||"transitionend";function Jt(e,t){if(!e)return null;if("object"===f(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var qt="none",Zt="appear",Qt="enter",en="leave",tn="none",nn="prepare",on="start",rn="active",sn="end",ln=Pe()?e.useLayoutEffect:e.useEffect,an=[nn,on,rn,sn];function cn(e){return e===rn||e===sn}var un=function(t,n){var o=c(b(tn),2),i=o[0],r=o[1],s=function(){var t=e.useRef(null);function n(){x.cancel(t.current)}return e.useEffect((function(){return function(){n()}}),[]),[function e(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var r=x((function(){i<=1?o({isCanceled:function(){return r!==t.current}}):e(o,i-1)}));t.current=r},n]}(),l=c(s,2),a=l[0],u=l[1];return ln((function(){if(i!==tn&&i!==sn){var e=an.indexOf(i),t=an[e+1],o=n(i);false===o?r(t,!0):a((function(e){function n(){e.isCanceled()||r(t,!0)}!0===o?n():Promise.resolve(o).then(n)}))}}),[t,i]),e.useEffect((function(){return function(){u()}}),[]),[function(){r(nn,!0)},i]};function pn(t,n,o,i){var r=i.motionEnter,s=void 0===r||r,l=i.motionAppear,a=void 0===l||l,u=i.motionLeave,p=void 0===u||u,h=i.motionDeadline,f=i.motionLeaveImmediately,g=i.onAppearPrepare,_=i.onEnterPrepare,y=i.onLeavePrepare,v=i.onAppearStart,T=i.onEnterStart,E=i.onLeaveStart,k=i.onAppearActive,C=i.onEnterActive,S=i.onLeaveActive,I=i.onAppearEnd,R=i.onEnterEnd,O=i.onLeaveEnd,w=i.onVisibleChanged,B=c(b(),2),A=B[0],x=B[1],N=c(b(qt),2),D=N[0],M=N[1],P=c(b(null),2),L=P[0],F=P[1],$=(0,e.useRef)(!1),U=(0,e.useRef)(null),H=(0,e.useRef)(null);function V(){return o()||H.current}var G=(0,e.useRef)(!1);function W(e){var t,n=V();e&&!e.deadline&&e.target!==n||(D===Zt&&G.current?t=null===I||void 0===I?void 0:I(n,e):D===Qt&&G.current?t=null===R||void 0===R?void 0:R(n,e):D===en&&G.current&&(t=null===O||void 0===O?void 0:O(n,e)),!1!==t&&(M(qt,!0),F(null,!0)))}var z=function(t){var n=(0,e.useRef)(),o=(0,e.useRef)(t);o.current=t;var i=e.useCallback((function(e){o.current(e)}),[]);function r(e){e&&(e.removeEventListener(Kt,i),e.removeEventListener(Xt,i))}return e.useEffect((function(){return function(){r(n.current)}}),[]),[function(e){n.current&&n.current!==e&&r(n.current),e&&e!==n.current&&(e.addEventListener(Kt,i),e.addEventListener(Xt,i),n.current=e)},r]}(W),Y=c(z,1)[0],j=e.useMemo((function(){var e,t,n;switch(D){case Zt:return d(e={},nn,g),d(e,on,v),d(e,rn,k),e;case Qt:return d(t={},nn,_),d(t,on,T),d(t,rn,C),t;case en:return d(n={},nn,y),d(n,on,E),d(n,rn,S),n;default:return{}}}),[D]),X=c(un(D,(function(e){if(e===nn){var t=j.prepare;return!!t&&t(V())}var n;J in j&&F((null===(n=j[J])||void 0===n?void 0:n.call(j,V(),null))||null);return J===rn&&(Y(V()),h>0&&(clearTimeout(U.current),U.current=setTimeout((function(){W({deadline:!0})}),h))),true})),2),K=X[0],J=X[1],q=cn(J);G.current=q,ln((function(){x(n);var e,o=$.current;($.current=!0,t)&&(!o&&n&&a&&(e=Zt),o&&n&&s&&(e=Qt),(o&&!n&&p||!o&&f&&!n&&p)&&(e=en),e&&(M(e),K()))}),[n]),(0,e.useEffect)((function(){(D===Zt&&!a||D===Qt&&!s||D===en&&!p)&&M(qt)}),[a,s,p]),(0,e.useEffect)((function(){return function(){clearTimeout(U.current)}}),[]),(0,e.useEffect)((function(){void 0!==A&&D===qt&&(null===w||void 0===w||w(A))}),[A,D]);var Z=L;return j.prepare&&J===on&&(Z=m({transition:"none"},Z)),[D,J,Z,null!==A&&void 0!==A?A:n]}var hn=function(e){me(n,e);var t=Ee(n);function n(){return de(this,n),t.apply(this,arguments)}return ge(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component),dn=hn;var fn=function(t){var n=t;function o(e){return!(!e.motionName||!n)}"object"===f(t)&&(n=t.transitionSupport);var i=e.forwardRef((function(t,n){var i=t.visible,r=void 0===i||i,s=t.removeOnLeave,l=void 0===s||s,a=t.forceRender,u=t.children,p=t.motionName,h=t.leavedClassName,f=t.eventProps,g=o(t),_=(0,e.useRef)(),y=(0,e.useRef)();var T=c(pn(g,r,(function(){try{return _.current instanceof HTMLElement?_.current:V(y.current)}catch(e){return null}}),t),4),E=T[0],k=T[1],b=T[2],C=T[3],S=e.useRef(C);C&&(S.current=!0);var I,R=e.useCallback((function(e){_.current=e,F(n,e)}),[]),O=m(m({},f),{},{visible:r});if(u)if(E!==qt&&o(t)){var w,B;k===nn?B="prepare":cn(k)?B="active":k===on&&(B="start"),I=u(m(m({},O),{},{className:v()(Jt(p,E),(w={},d(w,Jt(p,"".concat(E,"-").concat(B)),B),d(w,p,"string"===typeof p),w)),style:b}),R)}else I=C?u(m({},O),R):!l&&S.current?u(m(m({},O),{},{className:h}),R):a?u(m(m({},O),{},{style:{display:"none"}}),R):null;else I=null;return e.createElement(dn,{ref:y},I)}));return i.displayName="CSSMotion",i}(jt),gn="add",_n="keep",mn="remove",yn="removed";function vn(e){var t;return m(m({},t=e&&"object"===f(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(vn)}function En(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],o=0,i=t.length,r=Tn(e),s=Tn(t);r.forEach((function(e){for(var t=!1,r=o;r<i;r+=1){var l=s[r];if(l.key===e.key){o<r&&(n=n.concat(s.slice(o,r).map((function(e){return m(m({},e),{},{status:gn})}))),o=r),n.push(m(m({},l),{},{status:_n})),o+=1,t=!0;break}}t||n.push(m(m({},e),{},{status:mn}))})),o<i&&(n=n.concat(s.slice(o).map((function(e){return m(m({},e),{},{status:gn})}))));var l={};n.forEach((function(e){var t=e.key;l[t]=(l[t]||0)+1}));var a=Object.keys(l).filter((function(e){return l[e]>1}));return a.forEach((function(e){n=n.filter((function(t){var n=t.key,o=t.status;return n!==e||o!==mn})),n.forEach((function(t){t.key===e&&(t.status=_n)}))})),n}var kn=["component","children","onVisibleChanged"],bn=["status"],Cn=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var Sn=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fn,o=function(t){me(i,t);var o=Ee(i);function i(){var e;de(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:m(m({},e),{},{status:yn})}))}}))},e}return ge(i,[{key:"render",value:function(){var t=this,o=this.state.keyEntities,i=this.props,r=i.component,s=i.children,l=i.onVisibleChanged,a=g(i,kn),c=r||e.Fragment,u={};return Cn.forEach((function(e){u[e]=a[e],delete a[e]})),delete a.keys,e.createElement(c,a,o.map((function(o){var i=o.status,r=g(o,bn),a=i===gn||i===_n;return e.createElement(n,h({},u,{key:r.key,visible:a,eventProps:r,onVisibleChanged:function(e){null===l||void 0===l||l(e,{key:r.key}),e||t.removeKey(r.key)}}),s)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,o=t.keyEntities,i=Tn(n);return{keyEntities:En(o,i).filter((function(e){var t=o.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==yn||e.status!==mn}))}}}]),i}(e.Component);return o.defaultProps={component:"div"},o}(jt),In=fn;function Rn(e){var t=e.prefixCls,n=e.motion,o=e.animation,i=e.transitionName;return n||(o?{motionName:"".concat(t,"-").concat(o)}:i?{motionName:i}:null)}function On(t){var n=t.prefixCls,o=t.visible,i=t.zIndex,r=t.mask,s=t.maskMotion,l=t.maskAnimation,a=t.maskTransitionName;if(!r)return null;var c={};return(s||a||l)&&(c=m({motionAppear:!0},Rn({motion:s,prefixCls:n,transitionName:a,animation:l}))),e.createElement(In,h({},c,{visible:o,removeOnLeave:!0}),(function(t){var o=t.className;return e.createElement("div",{style:{zIndex:i},className:v()("".concat(n,"-mask"),o)})}))}var wn,Bn=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e){return Nn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(e)}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Pn(){if(void 0!==wn)return wn;wn="";var e=document.createElement("p").style;for(var t in Mn)t+"Transform"in e&&(wn=t);return wn}function Ln(){return Pn()?"".concat(Pn(),"TransitionProperty"):"transitionProperty"}function Fn(){return Pn()?"".concat(Pn(),"Transform"):"transform"}function $n(e,t){var n=Ln();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function Un(e,t){var n=Fn();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var Hn,Vn=/matrix\((.*)\)/,Gn=/matrix3d\((.*)\)/;function Wn(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function zn(e,t,n){var o=n;if("object"!==Nn(t))return"undefined"!==typeof o?("number"===typeof o&&(o="".concat(o,"px")),void(e.style[t]=o)):Hn(e,t);for(var i in t)t.hasOwnProperty(i)&&zn(e,i,t[i])}function Yn(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[o])&&(n=i.body[o])}return n}function jn(e){return Yn(e)}function Xn(e){return Yn(e,!0)}function Kn(e){var t=function(e){var t,n,o,i=e.ownerDocument,r=i.body,s=i&&i.documentElement;return n=(t=e.getBoundingClientRect()).left,o=t.top,{left:n-=s.clientLeft||r.clientLeft||0,top:o-=s.clientTop||r.clientTop||0}}(e),n=e.ownerDocument,o=n.defaultView||n.parentWindow;return t.left+=jn(o),t.top+=Xn(o),t}function Jn(e){return null!==e&&void 0!==e&&e==e.window}function qn(e){return Jn(e)?e.document:9===e.nodeType?e:e.ownerDocument}var Zn=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Qn=/^(top|right|bottom|left)$/;function eo(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function to(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function no(e,t,n){"static"===zn(e,"position")&&(e.style.position="relative");var o=-999,i=-999,r=eo("left",n),s=eo("top",n),l=to(r),a=to(s);"left"!==r&&(o=999),"top"!==s&&(i=999);var c,u="",p=Kn(e);("left"in t||"top"in t)&&(u=(c=e).style.transitionProperty||c.style[Ln()]||"",$n(e,"none")),"left"in t&&(e.style[l]="",e.style[r]="".concat(o,"px")),"top"in t&&(e.style[a]="",e.style[s]="".concat(i,"px")),Wn(e);var h=Kn(e),d={};for(var f in t)if(t.hasOwnProperty(f)){var g=eo(f,n),_="left"===f?o:i,m=p[f]-h[f];d[g]=g===f?_+m:_-m}zn(e,d),Wn(e),("left"in t||"top"in t)&&$n(e,u);var y={};for(var v in t)if(t.hasOwnProperty(v)){var T=eo(v,n),E=t[v]-p[v];y[T]=v===T?d[T]+E:d[T]-E}zn(e,y)}function oo(e,t){var n=Kn(e),o=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(Fn());if(n&&"none"!==n){var o=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(o[12]||o[4],0),y:parseFloat(o[13]||o[5],0)}}return{x:0,y:0}}(e),i={x:o.x,y:o.y};"left"in t&&(i.x=o.x+t.left-n.left),"top"in t&&(i.y=o.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),o=n.getPropertyValue("transform")||n.getPropertyValue(Fn());if(o&&"none"!==o){var i,r=o.match(Vn);r?((i=(r=r[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,Un(e,"matrix(".concat(i.join(","),")"))):((i=o.match(Gn)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,Un(e,"matrix3d(".concat(i.join(","),")")))}else Un(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function io(e,t){for(var n=0;n<e.length;n++)t(e[n])}function ro(e){return"border-box"===Hn(e,"boxSizing")}"undefined"!==typeof window&&(Hn=window.getComputedStyle?function(e,t,n){var o=n,i="",r=qn(e);return(o=o||r.defaultView.getComputedStyle(e,null))&&(i=o.getPropertyValue(t)||o[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(Zn.test(n)&&!Qn.test(t)){var o=e.style,i=o.left,r=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,o.left="fontSize"===t?"1em":n||0,n=o.pixelLeft+"px",o.left=i,e.runtimeStyle.left=r}return""===n?"auto":n});var so=["margin","border","padding"];function lo(e,t,n){var o,i={},r=e.style;for(o in t)t.hasOwnProperty(o)&&(i[o]=r[o],r[o]=t[o]);for(o in n.call(e),t)t.hasOwnProperty(o)&&(r[o]=i[o])}function ao(e,t,n){var o,i,r,s=0;for(i=0;i<t.length;i++)if(o=t[i])for(r=0;r<n.length;r++){var l=void 0;l="border"===o?"".concat(o).concat(n[r],"Width"):o+n[r],s+=parseFloat(Hn(e,l))||0}return s}var co={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function uo(e,t,n){var o=n;if(Jn(e))return"width"===t?co.viewportWidth(e):co.viewportHeight(e);if(9===e.nodeType)return"width"===t?co.docWidth(e):co.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],r="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,s=ro(e),l=0;(null===r||void 0===r||r<=0)&&(r=void 0,(null===(l=Hn(e,t))||void 0===l||Number(l)<0)&&(l=e.style[t]||0),l=parseFloat(l)||0),void 0===o&&(o=s?1:-1);var a=void 0!==r||s,c=r||l;return-1===o?a?c-ao(e,["border","padding"],i):l:a?1===o?c:c+(2===o?-ao(e,["border"],i):ao(e,["margin"],i)):l+ao(e,so.slice(o),i)}io(["Width","Height"],(function(e){co["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],co["viewport".concat(e)](n))},co["viewport".concat(e)]=function(t){var n="client".concat(e),o=t.document,i=o.body,r=o.documentElement[n];return"CSS1Compat"===o.compatMode&&r||i&&i[n]||r}}));var po={position:"absolute",visibility:"hidden",display:"block"};function ho(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o,i=t[0];return 0!==i.offsetWidth?o=uo.apply(void 0,t):lo(i,po,(function(){o=uo.apply(void 0,t)})),o}function fo(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}io(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);co["outer".concat(t)]=function(t,n){return t&&ho(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];co[e]=function(t,o){var i=o;return void 0!==i?t?(ro(t)&&(i+=ao(t,["padding","border"],n)),zn(t,e,i)):void 0:t&&ho(t,e,-1)}}));var go={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:qn,offset:function(e,t,n){if("undefined"===typeof t)return Kn(e);!function(e,t,n){if(n.ignoreShake){var o=Kn(e),i=o.left.toFixed(0),r=o.top.toFixed(0),s=t.left.toFixed(0),l=t.top.toFixed(0);if(i===s&&r===l)return}n.useCssRight||n.useCssBottom?no(e,t,n):n.useCssTransform&&Fn()in document.body.style?oo(e,t):no(e,t,n)}(e,t,n||{})},isWindow:Jn,each:io,css:zn,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:fo,getWindowScrollLeft:function(e){return jn(e)},getWindowScrollTop:function(e){return Xn(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)go.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};fo(go,co);var _o=go.getParent;function mo(e){if(go.isWindow(e)||9===e.nodeType)return null;var t,n=go.getDocument(e).body,o=go.css(e,"position");if(!("fixed"===o||"absolute"===o))return"html"===e.nodeName.toLowerCase()?null:_o(e);for(t=_o(e);t&&t!==n&&9!==t.nodeType;t=_o(t))if("static"!==(o=go.css(t,"position")))return t;return null}var yo=go.getParent;function vo(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},o=mo(e),i=go.getDocument(e),r=i.defaultView||i.parentWindow,s=i.body,l=i.documentElement;o;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===o.clientWidth||o===s||o===l||"visible"===go.css(o,"overflow")){if(o===s||o===l)break}else{var a=go.offset(o);a.left+=o.clientLeft,a.top+=o.clientTop,n.top=Math.max(n.top,a.top),n.right=Math.min(n.right,a.left+o.clientWidth),n.bottom=Math.min(n.bottom,a.top+o.clientHeight),n.left=Math.max(n.left,a.left)}o=mo(o)}var c=null;go.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===go.css(e,"position")&&(e.style.position="fixed"));var u=go.getWindowScrollLeft(r),p=go.getWindowScrollTop(r),h=go.viewportWidth(r),d=go.viewportHeight(r),f=l.scrollWidth,g=l.scrollHeight,_=window.getComputedStyle(s);if("hidden"===_.overflowX&&(f=r.innerWidth),"hidden"===_.overflowY&&(g=r.innerHeight),e.style&&(e.style.position=c),t||function(e){if(go.isWindow(e)||9===e.nodeType)return!1;var t=go.getDocument(e),n=t.body,o=null;for(o=yo(e);o&&o!==n&&o!==t;o=yo(o))if("fixed"===go.css(o,"position"))return!0;return!1}(e))n.left=Math.max(n.left,u),n.top=Math.max(n.top,p),n.right=Math.min(n.right,u+h),n.bottom=Math.min(n.bottom,p+d);else{var m=Math.max(f,u+h);n.right=Math.min(n.right,m);var y=Math.max(g,p+d);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function To(e){var t,n,o;if(go.isWindow(e)||9===e.nodeType){var i=go.getWindow(e);t={left:go.getWindowScrollLeft(i),top:go.getWindowScrollTop(i)},n=go.viewportWidth(i),o=go.viewportHeight(i)}else t=go.offset(e),n=go.outerWidth(e),o=go.outerHeight(e);return t.width=n,t.height=o,t}function Eo(e,t){var n=t.charAt(0),o=t.charAt(1),i=e.width,r=e.height,s=e.left,l=e.top;return"c"===n?l+=r/2:"b"===n&&(l+=r),"c"===o?s+=i/2:"r"===o&&(s+=i),{left:s,top:l}}function ko(e,t,n,o,i){var r=Eo(t,n[1]),s=Eo(e,n[0]),l=[s.left-r.left,s.top-r.top];return{left:Math.round(e.left-l[0]+o[0]-i[0]),top:Math.round(e.top-l[1]+o[1]-i[1])}}function bo(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Co(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function So(e,t,n){var o=[];return go.each(e,(function(e){o.push(e.replace(t,(function(e){return n[e]})))})),o}function Io(e,t){return e[t]=-e[t],e}function Ro(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Oo(e,t){e[0]=Ro(e[0],t.width),e[1]=Ro(e[1],t.height)}function wo(e,t,n,o){var i=n.points,r=n.offset||[0,0],s=n.targetOffset||[0,0],l=n.overflow,a=n.source||e;r=[].concat(r),s=[].concat(s);var c={},u=0,p=vo(a,!(!(l=l||{})||!l.alwaysByViewport)),h=To(a);Oo(r,h),Oo(s,t);var d=ko(h,t,i,r,s),f=go.merge(h,d);if(p&&(l.adjustX||l.adjustY)&&o){if(l.adjustX&&bo(d,h,p)){var g=So(i,/[lr]/gi,{l:"r",r:"l"}),_=Io(r,0),m=Io(s,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(ko(h,t,g,_,m),h,p)||(u=1,i=g,r=_,s=m)}if(l.adjustY&&Co(d,h,p)){var y=So(i,/[tb]/gi,{t:"b",b:"t"}),v=Io(r,1),T=Io(s,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(ko(h,t,y,v,T),h,p)||(u=1,i=y,r=v,s=T)}u&&(d=ko(h,t,i,r,s),go.mix(f,d));var E=bo(d,h,p),k=Co(d,h,p);if(E||k){var b=i;E&&(b=So(i,/[lr]/gi,{l:"r",r:"l"})),k&&(b=So(i,/[tb]/gi,{t:"b",b:"t"})),i=b,r=n.offset||[0,0],s=n.targetOffset||[0,0]}c.adjustX=l.adjustX&&E,c.adjustY=l.adjustY&&k,(c.adjustX||c.adjustY)&&(f=function(e,t,n,o){var i=go.clone(e),r={width:t.width,height:t.height};return o.adjustX&&i.left<n.left&&(i.left=n.left),o.resizeWidth&&i.left>=n.left&&i.left+r.width>n.right&&(r.width-=i.left+r.width-n.right),o.adjustX&&i.left+r.width>n.right&&(i.left=Math.max(n.right-r.width,n.left)),o.adjustY&&i.top<n.top&&(i.top=n.top),o.resizeHeight&&i.top>=n.top&&i.top+r.height>n.bottom&&(r.height-=i.top+r.height-n.bottom),o.adjustY&&i.top+r.height>n.bottom&&(i.top=Math.max(n.bottom-r.height,n.top)),go.mix(i,r)}(d,h,p,c))}return f.width!==h.width&&go.css(a,"width",go.width(a)+f.width-h.width),f.height!==h.height&&go.css(a,"height",go.height(a)+f.height-h.height),go.offset(a,{left:f.left,top:f.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:r,targetOffset:s,overflow:c}}function Bo(e,t,n){var o=n.target||t,i=To(o),r=!function(e,t){var n=vo(e,t),o=To(e);return!n||o.left+o.width<=n.left||o.top+o.height<=n.top||o.left>=n.right||o.top>=n.bottom}(o,n.overflow&&n.overflow.alwaysByViewport);return wo(e,i,n,r)}Bo.__getOffsetParent=mo,Bo.__getVisibleRectForElement=vo;var Ao=n(1905),xo=n.n(Ao);function No(e,t){var n=null,o=null;var i=new ue((function(e){var i=c(e,1)[0].target;if(document.documentElement.contains(i)){var r=i.getBoundingClientRect(),s=r.width,l=r.height,a=Math.floor(s),u=Math.floor(l);n===a&&o===u||Promise.resolve().then((function(){t({width:a,height:u})})),n=a,o=u}}));return e&&i.observe(e),function(){i.disconnect()}}function Do(e){return"function"!==typeof e?null:e()}function Mo(e){return"object"===f(e)&&e?e:null}var Po=function(t,n){var o=t.children,i=t.disabled,r=t.target,s=t.align,l=t.onAlign,a=t.monitorWindowResize,u=t.monitorBufferTime,p=void 0===u?0:u,h=e.useRef({}),d=e.useRef(),f=e.Children.only(o),g=e.useRef({});g.current.disabled=i,g.current.target=r,g.current.align=s,g.current.onAlign=l;var _=function(t,n){var o=e.useRef(!1),i=e.useRef(null);function r(){window.clearTimeout(i.current)}return[function e(s){if(o.current&&!0!==s)r(),i.current=window.setTimeout((function(){o.current=!1,e()}),n);else{if(!1===t())return;o.current=!0,r(),i.current=window.setTimeout((function(){o.current=!1}),n)}},function(){o.current=!1,r()}]}((function(){var e=g.current,t=e.disabled,n=e.target,o=e.align,i=e.onAlign;if(!t&&n){var r,s=d.current,l=Do(n),a=Mo(n);h.current.element=l,h.current.point=a,h.current.align=o;var c=document.activeElement;return l&&Bn(l)?r=Bo(s,l,o):a&&(r=function(e,t,n){var o,i,r=go.getDocument(e),s=r.defaultView||r.parentWindow,l=go.getWindowScrollLeft(s),a=go.getWindowScrollTop(s),c=go.viewportWidth(s),u=go.viewportHeight(s),p={left:o="pageX"in t?t.pageX:l+t.clientX,top:i="pageY"in t?t.pageY:a+t.clientY,width:0,height:0},h=o>=0&&o<=l+c&&i>=0&&i<=a+u,d=[n.points[0],"cc"];return wo(e,p,xn(xn({},n),{},{points:d}),h)}(s,a,o)),function(e,t){e!==document.activeElement&&Dt(t,e)&&"function"===typeof e.focus&&e.focus()}(c,s),i&&r&&i(s,r),!0}return!1}),p),m=c(_,2),y=m[0],v=m[1],T=e.useRef({cancel:function(){}}),E=e.useRef({cancel:function(){}});e.useEffect((function(){var e,t,n=Do(r),o=Mo(r);d.current!==E.current.element&&(E.current.cancel(),E.current.element=d.current,E.current.cancel=No(d.current,y)),h.current.element===n&&((e=h.current.point)===(t=o)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&xo()(h.current.align,s)||(y(),T.current.element!==n&&(T.current.cancel(),T.current.element=n,T.current.cancel=No(n,y)))})),e.useEffect((function(){i?v():y()}),[i]);var k=e.useRef(null);return e.useEffect((function(){a?k.current||(k.current=Mt(window,"resize",y)):k.current&&(k.current.remove(),k.current=null)}),[a]),e.useEffect((function(){return function(){T.current.cancel(),E.current.cancel(),k.current&&k.current.remove(),v()}}),[]),e.useImperativeHandle(n,(function(){return{forceAlign:function(){return y(!0)}}})),e.isValidElement(f)&&(f=e.cloneElement(f,{ref:$(f.ref,d)})),f},Lo=e.forwardRef(Po);Lo.displayName="Align";var Fo=Lo,$o=["measure","align",null,"motion"],Uo=e.forwardRef((function(t,n){var o=t.visible,r=t.prefixCls,s=t.className,l=t.style,a=t.children,u=t.zIndex,d=t.stretch,f=t.destroyPopupOnHide,g=t.forceRender,_=t.align,y=t.point,T=t.getRootDomNode,E=t.getClassNameFromAlign,k=t.onAlign,C=t.onMouseEnter,S=t.onMouseLeave,I=t.onMouseDown,R=t.onTouchStart,O=(0,e.useRef)(),w=(0,e.useRef)(),B=c((0,e.useState)(),2),A=B[0],N=B[1],D=function(t){var n=c(e.useState({width:0,height:0}),2),o=n[0],i=n[1];return[e.useMemo((function(){var e={};if(t){var n=o.width,i=o.height;-1!==t.indexOf("height")&&i?e.height=i:-1!==t.indexOf("minHeight")&&i&&(e.minHeight=i),-1!==t.indexOf("width")&&n?e.width=n:-1!==t.indexOf("minWidth")&&n&&(e.minWidth=n)}return e}),[t,o]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(d),M=c(D,2),P=M[0],L=M[1];var F=function(t,n){var o=c(b(null),2),r=o[0],s=o[1],l=(0,e.useRef)();function a(e){s(e,!0)}function u(){x.cancel(l.current)}return(0,e.useEffect)((function(){a("measure")}),[t]),(0,e.useEffect)((function(){"measure"===r&&n(),r&&(l.current=x(i(p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=$o.indexOf(r),(n=$o[t+1])&&-1!==t&&a(n);case 3:case"end":return e.stop()}}),e)})))))}),[r]),(0,e.useEffect)((function(){return function(){u()}}),[]),[r,function(e){u(),l.current=x((function(){a((function(e){switch(r){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(o,(function(){d&&L(T())})),$=c(F,2),U=$[0],H=$[1],V=(0,e.useRef)();function G(){var e;null===(e=O.current)||void 0===e||e.forceAlign()}function W(e,t){var n=E(t);A!==n&&N(n),"align"===U&&(A!==n?Promise.resolve().then((function(){G()})):H((function(){var e;null===(e=V.current)||void 0===e||e.call(V)})),null===k||void 0===k||k(e,t))}var z=m({},Rn(t));function Y(){return new Promise((function(e){V.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=z[e];z[e]=function(e,n){return H(),null===t||void 0===t?void 0:t(e,n)}})),e.useEffect((function(){z.motionName||"motion"!==U||H()}),[z.motionName,U]),e.useImperativeHandle(n,(function(){return{forceAlign:G,getElement:function(){return w.current}}}));var j=m(m({},P),{},{zIndex:u,opacity:"motion"!==U&&"stable"!==U&&o?0:void 0,pointerEvents:"stable"===U?void 0:"none"},l),X=!0;!(null===_||void 0===_?void 0:_.points)||"align"!==U&&"stable"!==U||(X=!1);var K=a;return e.Children.count(a)>1&&(K=e.createElement("div",{className:"".concat(r,"-content")},a)),e.createElement(In,h({visible:o,ref:w,leavedClassName:"".concat(r,"-hidden")},z,{onAppearPrepare:Y,onEnterPrepare:Y,removeOnLeave:f,forceRender:g}),(function(t,n){var o=t.className,i=t.style,l=v()(r,s,A,o);return e.createElement(Fo,{target:y||T,key:"popup",ref:O,monitorWindowResize:!0,disabled:X,align:_,onAlign:W},e.createElement("div",{ref:n,className:l,onMouseEnter:C,onMouseLeave:S,onMouseDownCapture:I,onTouchStartCapture:R,style:m(m({},i),j)},K))}))}));Uo.displayName="PopupInner";var Ho=Uo,Vo=e.forwardRef((function(t,n){var o=t.prefixCls,i=t.visible,r=t.zIndex,s=t.children,l=t.mobile,a=(l=void 0===l?{}:l).popupClassName,c=l.popupStyle,u=l.popupMotion,p=void 0===u?{}:u,d=l.popupRender,f=e.useRef();e.useImperativeHandle(n,(function(){return{forceAlign:function(){},getElement:function(){return f.current}}}));var g=m({zIndex:r},c),_=s;return e.Children.count(s)>1&&(_=e.createElement("div",{className:"".concat(o,"-content")},s)),d&&(_=d(_)),e.createElement(In,h({visible:i,ref:f,removeOnLeave:!0},p),(function(t,n){var i=t.className,r=t.style,s=v()(o,a,i);return e.createElement("div",{ref:n,className:s,style:m(m({},r),g)},_)}))}));Vo.displayName="MobilePopupInner";var Go=Vo,Wo=["visible","mobile"],zo=e.forwardRef((function(t,n){var o=t.visible,i=t.mobile,r=g(t,Wo),s=c((0,e.useState)(o),2),l=s[0],a=s[1],u=c((0,e.useState)(!1),2),p=u[0],d=u[1],f=m(m({},r),{},{visible:l});(0,e.useEffect)((function(){a(o),o&&i&&d(k())}),[o,i]);var _=p?e.createElement(Go,h({},f,{mobile:i,ref:n})):e.createElement(Ho,h({},f,{ref:n}));return e.createElement("div",null,e.createElement(On,f),_)}));zo.displayName="Popup";var Yo=zo,jo=e.createContext(null);function Xo(){}function Ko(){return""}function Jo(e){return e?e.ownerDocument:window.document}var qo=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var Zo=function(t){var n=function(n){me(i,n);var o=Ee(i);function i(t){var n,r;return de(this,i),(n=o.call(this,t)).popupRef=e.createRef(),n.triggerRef=e.createRef(),n.attachId=void 0,n.clickOutsideHandler=void 0,n.touchOutsideHandler=void 0,n.contextMenuOutsideHandler1=void 0,n.contextMenuOutsideHandler2=void 0,n.mouseDownTimeout=void 0,n.focusTime=void 0,n.preClickTime=void 0,n.preTouchTime=void 0,n.delayTimer=void 0,n.hasPopupMouseDown=void 0,n.onMouseEnter=function(e){var t=n.props.mouseEnterDelay;n.fireEvents("onMouseEnter",e),n.delaySetPopupVisible(!0,t,t?null:e)},n.onMouseMove=function(e){n.fireEvents("onMouseMove",e),n.setPoint(e)},n.onMouseLeave=function(e){n.fireEvents("onMouseLeave",e),n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)},n.onPopupMouseEnter=function(){n.clearDelayTimer()},n.onPopupMouseLeave=function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&Dt(null===(t=n.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)},n.onFocus=function(e){n.fireEvents("onFocus",e),n.clearDelayTimer(),n.isFocusToShow()&&(n.focusTime=Date.now(),n.delaySetPopupVisible(!0,n.props.focusDelay))},n.onMouseDown=function(e){n.fireEvents("onMouseDown",e),n.preClickTime=Date.now()},n.onTouchStart=function(e){n.fireEvents("onTouchStart",e),n.preTouchTime=Date.now()},n.onBlur=function(e){n.fireEvents("onBlur",e),n.clearDelayTimer(),n.isBlurToHide()&&n.delaySetPopupVisible(!1,n.props.blurDelay)},n.onContextMenu=function(e){e.preventDefault(),n.fireEvents("onContextMenu",e),n.setPopupVisible(!0,e)},n.onContextMenuClose=function(){n.isContextMenuToShow()&&n.close()},n.onClick=function(e){if(n.fireEvents("onClick",e),n.focusTime){var t;if(n.preClickTime&&n.preTouchTime?t=Math.min(n.preClickTime,n.preTouchTime):n.preClickTime?t=n.preClickTime:n.preTouchTime&&(t=n.preTouchTime),Math.abs(t-n.focusTime)<20)return;n.focusTime=0}n.preClickTime=0,n.preTouchTime=0,n.isClickToShow()&&(n.isClickToHide()||n.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var o=!n.state.popupVisible;(n.isClickToHide()&&!o||o&&n.isClickToShow())&&n.setPopupVisible(!n.state.popupVisible,e)},n.onPopupMouseDown=function(){var e;(n.hasPopupMouseDown=!0,clearTimeout(n.mouseDownTimeout),n.mouseDownTimeout=window.setTimeout((function(){n.hasPopupMouseDown=!1}),0),n.context)&&(e=n.context).onPopupMouseDown.apply(e,arguments)},n.onDocumentClick=function(e){if(!n.props.mask||n.props.maskClosable){var t=e.target,o=n.getRootDomNode(),i=n.getPopupDomNode();Dt(o,t)&&!n.isContextMenuOnly()||Dt(i,t)||n.hasPopupMouseDown||n.close()}},n.getRootDomNode=function(){var e=n.props.getTriggerDOMNode;if(e)return e(n.triggerRef.current);try{var t=V(n.triggerRef.current);if(t)return t}catch(o){}return H.findDOMNode(ve(n))},n.getPopupClassNameFromAlign=function(e){var t=[],o=n.props,i=o.popupPlacement,r=o.builtinPlacements,s=o.prefixCls,l=o.alignPoint,a=o.getPopupClassNameFromAlign;return i&&r&&t.push(function(e,t,n,o){for(var i=n.points,r=Object.keys(e),s=0;s<r.length;s+=1){var l=r[s];if(Ft(e[l].points,i,o))return"".concat(t,"-placement-").concat(l)}return""}(r,s,e,l)),a&&t.push(a(e)),t.join(" ")},n.getComponent=function(){var t=n.props,o=t.prefixCls,i=t.destroyPopupOnHide,r=t.popupClassName,s=t.onPopupAlign,l=t.popupMotion,a=t.popupAnimation,c=t.popupTransitionName,u=t.popupStyle,p=t.mask,d=t.maskAnimation,f=t.maskTransitionName,g=t.maskMotion,_=t.zIndex,m=t.popup,y=t.stretch,v=t.alignPoint,T=t.mobile,E=t.forceRender,k=n.state,b=k.popupVisible,C=k.point,S=n.getPopupAlign(),I={};return n.isMouseEnterToShow()&&(I.onMouseEnter=n.onPopupMouseEnter),n.isMouseLeaveToHide()&&(I.onMouseLeave=n.onPopupMouseLeave),I.onMouseDown=n.onPopupMouseDown,I.onTouchStart=n.onPopupMouseDown,e.createElement(Yo,h({prefixCls:o,destroyPopupOnHide:i,visible:b,point:v&&C,className:r,align:S,onAlign:s,animation:a,getClassNameFromAlign:n.getPopupClassNameFromAlign},I,{stretch:y,getRootDomNode:n.getRootDomNode,style:u,mask:p,zIndex:_,transitionName:c,maskAnimation:d,maskTransitionName:f,maskMotion:g,ref:n.popupRef,motion:l,mobile:T,forceRender:E}),"function"===typeof m?m():m)},n.attachParent=function(e){x.cancel(n.attachId);var t,o=n.props,i=o.getPopupContainer,r=o.getDocument,s=n.getRootDomNode();i?(s||0===i.length)&&(t=i(s)):t=r(n.getRootDomNode()).body,t?t.appendChild(e):n.attachId=x((function(){n.attachParent(e)}))},n.getContainer=function(){var e=(0,n.props.getDocument)(n.getRootDomNode()).createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",n.attachParent(e),e},n.setPoint=function(e){n.props.alignPoint&&e&&n.setState({point:{pageX:e.pageX,pageY:e.pageY}})},n.handlePortalUpdate=function(){n.state.prevPopupVisible!==n.state.popupVisible&&n.props.afterPopupVisibleChange(n.state.popupVisible)},n.triggerContextValue={onPopupMouseDown:n.onPopupMouseDown},r="popupVisible"in t?!!t.popupVisible:!!t.defaultPopupVisible,n.state={prevPopupVisible:r,popupVisible:r},qo.forEach((function(e){n["fire".concat(e)]=function(t){n.fireEvents(e,t)}})),n}return ge(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Mt(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Mt(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Mt(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Mt(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),x.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,o=e.builtinPlacements;return t&&o?function(e,t,n){return m(m({},e[t]||{}),n)}(o,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,o=this.state.popupVisible;this.clearDelayTimer(),o!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:o}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var o=this,i=1e3*t;if(this.clearDelayTimer(),i){var r=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){o.setPopupVisible(e,r),o.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var o=this.props[e];o&&o(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var n=this.state.popupVisible,o=this.props,i=o.children,r=o.forceRender,s=o.alignPoint,l=o.className,a=o.autoDestroy,c=e.Children.only(i),u={key:"trigger"};this.isContextMenuToShow()?u.onContextMenu=this.onContextMenu:u.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(u.onClick=this.onClick,u.onMouseDown=this.onMouseDown,u.onTouchStart=this.onTouchStart):(u.onClick=this.createTwoChains("onClick"),u.onMouseDown=this.createTwoChains("onMouseDown"),u.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(u.onMouseEnter=this.onMouseEnter,s&&(u.onMouseMove=this.onMouseMove)):u.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?u.onMouseLeave=this.onMouseLeave:u.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(u.onFocus=this.onFocus,u.onBlur=this.onBlur):(u.onFocus=this.createTwoChains("onFocus"),u.onBlur=this.createTwoChains("onBlur"));var p=v()(c&&c.props&&c.props.className,l);p&&(u.className=p);var h=m({},u);U(c)&&(h.ref=$(this.triggerRef,c.ref));var d,f=e.cloneElement(c,h);return(n||this.popupRef.current||r)&&(d=e.createElement(t,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!n&&a&&(d=null),e.createElement(jo.Provider,{value:this.triggerContextValue},f,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,o={};return void 0!==n&&t.popupVisible!==n&&(o.popupVisible=n,o.prevPopupVisible=t.popupVisible),o}}]),i}(e.Component);return n.contextType=jo,n.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Ko,getDocument:Jo,onPopupVisibleChange:Xo,afterPopupVisibleChange:Xo,onPopupAlign:Xo,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},n}(Lt),Qo={adjustX:1,adjustY:1},ei={topLeft:{points:["bl","tl"],overflow:Qo,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Qo,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Qo,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Qo,offset:[4,0]}},ti={topLeft:{points:["bl","tl"],overflow:Qo,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Qo,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Qo,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Qo,offset:[4,0]}};function ni(e,t,n){return t||(n?n[e]||n.other:void 0)}var oi={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function ii(t){var n=t.prefixCls,o=t.visible,i=t.children,r=t.popup,s=t.popupClassName,l=t.popupOffset,a=t.disabled,u=t.mode,p=t.onVisibleChange,h=e.useContext(rt),f=h.getPopupContainer,g=h.rtl,_=h.subMenuOpenDelay,y=h.subMenuCloseDelay,T=h.builtinPlacements,E=h.triggerSubMenuAction,k=h.forceSubMenuRender,b=h.motion,C=h.defaultMotions,S=c(e.useState(!1),2),I=S[0],R=S[1],O=m(m({},g?ti:ei),T),w=oi[u],B=m(m({},ni(u,b,C)),{},{leavedClassName:"".concat(n,"-hidden"),removeOnLeave:!1,motionAppear:!0}),A=e.useRef();return e.useEffect((function(){return A.current=x((function(){R(o)})),function(){x.cancel(A.current)}}),[o]),e.createElement(Zo,{prefixCls:n,popupClassName:v()("".concat(n,"-popup"),d({},"".concat(n,"-rtl"),g),s),stretch:"horizontal"===u?"minWidth":null,getPopupContainer:f,builtinPlacements:O,popupPlacement:w,popupVisible:I,popup:r,popupAlign:l&&{offset:l},action:a?[]:[E],mouseEnterDelay:_,mouseLeaveDelay:y,onPopupVisibleChange:p,forceRender:k,popupMotion:B},i)}function ri(t){var n=t.id,o=t.open,i=t.keyPath,r=t.children,s="inline",l=e.useContext(rt),a=l.prefixCls,u=l.forceSubMenuRender,p=l.motion,d=l.defaultMotions,f=l.mode,g=e.useRef(!1);g.current=f===s;var _=c(e.useState(!g.current),2),y=_[0],v=_[1],T=!!g.current&&o;e.useEffect((function(){g.current&&v(!1)}),[f]);var E=m({},ni(s,p,d));i.length>1&&(E.motionAppear=!1);var k=E.onVisibleChanged;return E.onVisibleChanged=function(e){return g.current||e||v(!0),null===k||void 0===k?void 0:k(e)},y?null:e.createElement(st,{mode:s,locked:!g.current},e.createElement(In,h({visible:T},E,{forceRender:u,removeOnLeave:!1,leavedClassName:"".concat(a,"-hidden")}),(function(t){var o=t.className,i=t.style;return e.createElement(Nt,{id:n,className:o,style:i},r)})))}var si=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],li=["active"],ai=function(t){var n,o=t.style,i=t.className,r=t.title,s=t.eventKey,l=(t.warnKey,t.disabled),a=t.internalPopupClose,u=t.children,p=t.itemIcon,f=t.expandIcon,_=t.popupClassName,y=t.popupOffset,T=t.onClick,E=t.onMouseEnter,k=t.onMouseLeave,b=t.onTitleClick,C=t.onTitleMouseEnter,S=t.onTitleMouseLeave,I=g(t,si),R=Tt(s),O=e.useContext(rt),w=O.prefixCls,B=O.mode,A=O.openKeys,x=O.disabled,N=O.overflowDisabled,D=O.activeKey,M=O.selectedKeys,P=O.itemIcon,L=O.expandIcon,F=O.onItemClick,$=O.onOpenChange,U=O.onActive,H=e.useContext(Et)._internalRenderSubMenuItem,V=e.useContext(mt).isSubPathKey,G=_t(),W="".concat(w,"-submenu"),z=x||l,Y=e.useRef(),j=e.useRef();var X=p||P,K=f||L,J=A.includes(s),q=!N&&J,Z=V(M,s),Q=lt(s,z,C,S),ee=Q.active,te=g(Q,li),ne=c(e.useState(!1),2),oe=ne[0],ie=ne[1],re=function(e){z||ie(e)},se=e.useMemo((function(){return ee||"inline"!==B&&(oe||V([D],s))}),[B,ee,D,oe,s,V]),le=pt(G.length),ae=wt((function(e){null===T||void 0===T||T(ct(e)),F(e)})),ce=R&&"".concat(R,"-popup"),ue=e.createElement("div",h({role:"menuitem",style:le,className:"".concat(W,"-title"),tabIndex:z?null:-1,ref:Y,title:"string"===typeof r?r:null,"data-menu-id":N&&R?null:R,"aria-expanded":q,"aria-haspopup":!0,"aria-controls":ce,"aria-disabled":z,onClick:function(e){z||(null===b||void 0===b||b({key:s,domEvent:e}),"inline"===B&&$(s,!J))},onFocus:function(){U(s)}},te),r,e.createElement(ut,{icon:"horizontal"!==B?K:null,props:m(m({},t),{},{isOpen:q,isSubMenu:!0})},e.createElement("i",{className:"".concat(W,"-arrow")}))),pe=e.useRef(B);if("inline"!==B&&(pe.current=G.length>1?"vertical":B),!N){var he=pe.current;ue=e.createElement(ii,{mode:he,prefixCls:W,visible:!a&&q&&"inline"!==B,popupClassName:_,popupOffset:y,popup:e.createElement(st,{mode:"horizontal"===he?"vertical":he},e.createElement(Nt,{id:ce,ref:j},u)),disabled:z,onVisibleChange:function(e){"inline"!==B&&$(s,e)}},ue)}var de=e.createElement(nt.Item,h({role:"none"},I,{component:"li",style:o,className:v()(W,"".concat(W,"-").concat(B),i,(n={},d(n,"".concat(W,"-open"),q),d(n,"".concat(W,"-active"),se),d(n,"".concat(W,"-selected"),Z),d(n,"".concat(W,"-disabled"),z),n)),onMouseEnter:function(e){re(!0),null===E||void 0===E||E({key:s,domEvent:e})},onMouseLeave:function(e){re(!1),null===k||void 0===k||k({key:s,domEvent:e})}}),ue,!N&&e.createElement(ri,{id:ce,open:q,keyPath:G},u));return H&&(de=H(de,t,{selected:Z,active:se,open:q,disabled:z})),e.createElement(st,{onItemClick:ae,mode:"horizontal"===B?"vertical":B,itemIcon:X,expandIcon:K},de)};function ci(t){var n,o=t.eventKey,i=t.children,r=_t(o),s=Ot(i,r),l=ft();return e.useEffect((function(){if(l)return l.registerPath(o,r),function(){l.unregisterPath(o,r)}}),[r]),n=l?s:e.createElement(ai,t,s),e.createElement(gt.Provider,{value:r},n)}function ui(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Bn(e)){var n=e.nodeName.toLowerCase(),o=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),r=Number(i),s=null;return i&&!Number.isNaN(r)?s=r:o&&null===s&&(s=0),o&&e.disabled&&(s=null),null!==s&&(s>=0||t&&s<0)}return!1}function pi(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=I(e.querySelectorAll("*")).filter((function(e){return ui(e,t)}));return ui(e,t)&&n.unshift(e),n}var hi=we.LEFT,di=we.RIGHT,fi=we.UP,gi=we.DOWN,_i=we.ENTER,mi=we.ESC,yi=we.HOME,vi=we.END,Ti=[fi,gi,hi,di];function Ei(e,t){return pi(e,!0).filter((function(e){return t.has(e)}))}function ki(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Ei(e,t),r=i.length,s=i.findIndex((function(e){return n===e}));return o<0?-1===s?s=r-1:s-=1:o>0&&(s+=1),i[s=(s+r)%r]}function bi(t,n,o,i,r,s,l,a,c,u){var p=e.useRef(),h=e.useRef();h.current=n;var f=function(){x.cancel(p.current)};return e.useEffect((function(){return function(){f()}}),[]),function(e){var g=e.which;if([].concat(Ti,[_i,mi,yi,vi]).includes(g)){var _,m,y,v=function(){return _=new Set,m=new Map,y=new Map,s().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(vt(i,e),"']"));t&&(_.add(t),y.set(t,e),m.set(e,t))})),_};v();var T=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(m.get(n),_),E=y.get(T),k=function(e,t,n,o){var i,r,s,l,a="prev",c="next",u="children",p="parent";if("inline"===e&&o===_i)return{inlineTrigger:!0};var h=(d(i={},fi,a),d(i,gi,c),i),f=(d(r={},hi,n?c:a),d(r,di,n?a:c),d(r,gi,u),d(r,_i,u),r),g=(d(s={},fi,a),d(s,gi,c),d(s,_i,u),d(s,mi,p),d(s,hi,n?u:p),d(s,di,n?p:u),s);switch(null===(l={inline:h,horizontal:f,vertical:g,inlineSub:h,horizontalSub:g,verticalSub:g}["".concat(e).concat(t?"":"Sub")])||void 0===l?void 0:l[o]){case a:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case p:return{offset:-1,sibling:!1};case u:return{offset:1,sibling:!1};default:return null}}(t,1===l(E,!0).length,o,g);if(!k&&g!==yi&&g!==vi)return;(Ti.includes(g)||[yi,vi].includes(g))&&e.preventDefault();var b=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var o=y.get(e);a(o),f(),p.current=x((function(){h.current===o&&t.focus()}))}};if([yi,vi].includes(g)||k.sibling||!T){var C,S,I=Ei(C=T&&"inline"!==t?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(T):r.current,_);S=g===yi?I[0]:g===vi?I[I.length-1]:ki(C,_,T,k.offset),b(S)}else if(k.inlineTrigger)c(E);else if(k.offset>0)c(E,!0),f(),p.current=x((function(){v();var e=T.getAttribute("aria-controls"),t=ki(document.getElementById(e),_);b(t)}),5);else if(k.offset<0){var R=l(E,!0),O=R[R.length-2],w=m.get(O);c(O,!1),b(w)}}null===u||void 0===u||u(e)}}var Ci=Math.random().toFixed(5).toString().slice(2),Si=0;var Ii="__RC_UTIL_PATH_SPLIT__",Ri=function(e){return e.join(Ii)},Oi="rc-menu-more";function wi(){var t=c(e.useState({}),2)[1],n=(0,e.useRef)(new Map),o=(0,e.useRef)(new Map),i=c(e.useState([]),2),r=i[0],s=i[1],l=(0,e.useRef)(0),a=(0,e.useRef)(!1),u=(0,e.useCallback)((function(e,i){var r=Ri(i);o.current.set(r,e),n.current.set(e,r),l.current+=1;var s,c=l.current;s=function(){c===l.current&&(a.current||t({}))},Promise.resolve().then(s)}),[]),p=(0,e.useCallback)((function(e,t){var i=Ri(t);o.current.delete(i),n.current.delete(e)}),[]),h=(0,e.useCallback)((function(e){s(e)}),[]),d=(0,e.useCallback)((function(e,t){var o=n.current.get(e)||"",i=o.split(Ii);return t&&r.includes(i[0])&&i.unshift(Oi),i}),[r]),f=(0,e.useCallback)((function(e,t){return e.some((function(e){return d(e,!0).includes(t)}))}),[d]),g=(0,e.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(Ii),i=new Set;return I(o.current.keys()).forEach((function(e){e.startsWith(t)&&i.add(o.current.get(e))})),i}),[]);return e.useEffect((function(){return function(){a.current=!0}}),[]),{registerPath:u,unregisterPath:p,refreshOverflowKeys:h,isSubPathKey:f,getKeyPath:d,getKeys:function(){var e=I(n.current.keys());return r.length&&e.push(Oi),e},getSubPathKeys:g}}var Bi=["prefixCls","style","className","tabIndex","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Ai=[],xi=e.forwardRef((function(t,n){var o,i,r=t.prefixCls,s=void 0===r?"rc-menu":r,l=t.style,a=t.className,u=t.tabIndex,p=void 0===u?0:u,f=t.children,_=t.direction,y=t.id,T=t.mode,E=void 0===T?"vertical":T,k=t.inlineCollapsed,b=t.disabled,S=t.disabledOverflow,R=t.subMenuOpenDelay,O=void 0===R?.1:R,w=t.subMenuCloseDelay,B=void 0===w?.1:w,A=t.forceSubMenuRender,x=t.defaultOpenKeys,N=t.openKeys,D=t.activeKey,M=t.defaultActiveFirst,P=t.selectable,L=void 0===P||P,F=t.multiple,U=void 0!==F&&F,H=t.defaultSelectedKeys,V=t.selectedKeys,G=t.onSelect,W=t.onDeselect,z=t.inlineIndent,Y=void 0===z?24:z,j=t.motion,X=t.defaultMotions,K=t.triggerSubMenuAction,J=void 0===K?"hover":K,q=t.builtinPlacements,Z=t.itemIcon,Q=t.expandIcon,ee=t.overflowedIndicator,te=void 0===ee?"...":ee,ne=t.overflowedIndicatorPopupClassName,oe=t.getPopupContainer,ie=t.onClick,re=t.onOpenChange,se=t.onKeyDown,le=(t.openAnimation,t.openTransitionName,t._internalRenderMenuItem),ae=t._internalRenderSubMenuItem,ce=g(t,Bi),ue=Ot(f,Ai),pe=c(e.useState(!1),2),he=pe[0],de=pe[1],fe=e.useRef(),ge=$(fe,n),_e=function(t){var n=c(C(t,{value:t}),2),o=n[0],i=n[1];return e.useEffect((function(){Si+=1;var e="".concat(Ci,"-").concat(Si);i("rc-menu-uuid-".concat(e))}),[]),o}(y),me="rtl"===_;var ye=c(e.useMemo((function(){return"inline"!==E&&"vertical"!==E||!k?[E,!1]:["vertical",k]}),[E,k]),2),ve=ye[0],Te=ye[1],Ee=c(e.useState(0),2),ke=Ee[0],be=Ee[1],Ce=ke>=ue.length-1||"horizontal"!==ve||S,Se=c(C(x,{value:N,postState:function(e){return e||Ai}}),2),Ie=Se[0],Re=Se[1],Oe=function(e){Re(e),null===re||void 0===re||re(e)},we=c(e.useState(Ie),2),Be=we[0],Ae=we[1],xe="inline"===ve,Ne=e.useRef(!1);e.useEffect((function(){xe&&Ae(Ie)}),[Ie]),e.useEffect((function(){Ne.current?xe?Re(Be):Oe(Ai):Ne.current=!0}),[xe]);var De=wi(),Pe=De.registerPath,Le=De.unregisterPath,Fe=De.refreshOverflowKeys,$e=De.isSubPathKey,Ue=De.getKeyPath,He=De.getKeys,Ve=De.getSubPathKeys,Ge=e.useMemo((function(){return{registerPath:Pe,unregisterPath:Le}}),[Pe,Le]),We=e.useMemo((function(){return{isSubPathKey:$e}}),[$e]);e.useEffect((function(){Fe(Ce?Ai:ue.slice(ke+1).map((function(e){return e.key})))}),[ke,Ce]);var ze=c(C(D||M&&(null===(o=ue[0])||void 0===o?void 0:o.key),{value:D}),2),Ye=ze[0],je=ze[1],Xe=wt((function(e){je(e)})),Ke=wt((function(){je(void 0)})),Je=c(C(H||[],{value:V,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?Ai:[e]}}),2),qe=Je[0],Ze=Je[1],Qe=wt((function(e){null===ie||void 0===ie||ie(ct(e)),function(e){if(L){var t,n=e.key,o=qe.includes(n);t=U?o?qe.filter((function(e){return e!==n})):[].concat(I(qe),[n]):[n],Ze(t);var i=m(m({},e),{},{selectedKeys:t});o?null===W||void 0===W||W(i):null===G||void 0===G||G(i)}!U&&Ie.length&&"inline"!==ve&&Oe(Ai)}(e)})),et=wt((function(e,t){var n=Ie.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==ve){var o=Ve(e);n=n.filter((function(e){return!o.has(e)}))}Me()(Ie,n)||Oe(n)})),tt=wt(oe),ot=bi(ve,Ye,me,_e,fe,He,Ue,je,(function(e,t){var n=null!==t&&void 0!==t?t:!Ie.includes(e);et(e,n)}),se);e.useEffect((function(){de(!0)}),[]);var it=e.useMemo((function(){return{_internalRenderMenuItem:le,_internalRenderSubMenuItem:ae}}),[le,ae]),rt="horizontal"!==ve||S?ue:ue.map((function(t,n){return e.createElement(st,{key:t.key,overflowDisabled:n>ke},t)})),lt=e.createElement(nt,h({id:y,ref:ge,prefixCls:"".concat(s,"-overflow"),component:"ul",itemComponent:Rt,className:v()(s,"".concat(s,"-root"),"".concat(s,"-").concat(ve),a,(i={},d(i,"".concat(s,"-inline-collapsed"),Te),d(i,"".concat(s,"-rtl"),me),i)),dir:_,style:l,role:"menu",tabIndex:p,data:rt,renderRawItem:function(e){return e},renderRawRest:function(t){var n=t.length,o=n?ue.slice(-n):null;return e.createElement(ci,{eventKey:Oi,title:te,disabled:Ce,internalPopupClose:0===n,popupClassName:ne},o)},maxCount:"horizontal"!==ve||S?nt.INVALIDATE:nt.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){be(e)},onKeyDown:ot},ce));return e.createElement(Et.Provider,{value:it},e.createElement(yt.Provider,{value:_e},e.createElement(st,{prefixCls:s,mode:ve,openKeys:Ie,rtl:me,disabled:b,motion:he?j:null,defaultMotions:he?X:null,activeKey:Ye,onActive:Xe,onInactive:Ke,selectedKeys:qe,inlineIndent:Y,subMenuOpenDelay:O,subMenuCloseDelay:B,forceSubMenuRender:A,builtinPlacements:q,triggerSubMenuAction:J,getPopupContainer:tt,itemIcon:Z,expandIcon:Q,onItemClick:Qe,onOpenChange:et},e.createElement(mt.Provider,{value:We},lt),e.createElement("div",{style:{display:"none"},"aria-hidden":!0},e.createElement(dt.Provider,{value:Ge},ue)))))})),Ni=["className","title","eventKey","children"],Di=["children"],Mi=function(t){var n=t.className,o=t.title,i=(t.eventKey,t.children),r=g(t,Ni),s=e.useContext(rt).prefixCls,l="".concat(s,"-item-group");return e.createElement("li",h({},r,{onClick:function(e){return e.stopPropagation()},className:v()(l,n)}),e.createElement("div",{className:"".concat(l,"-title"),title:"string"===typeof o?o:void 0},o),e.createElement("ul",{className:"".concat(l,"-list")},i))};var Pi=xi;Pi.Item=Rt,Pi.SubMenu=ci,Pi.ItemGroup=function(t){var n=t.children,o=g(t,Di),i=Ot(n,_t(o.eventKey));return ft()?i:e.createElement(Mi,ot(o,["warnKey"]),i)},Pi.Divider=function(t){var n=t.className,o=t.style,i=e.useContext(rt).prefixCls;return ft()?null:e.createElement("li",{className:v()("".concat(i,"-item-divider"),n),style:o})};var Li=Pi,Fi={adjustX:1,adjustY:1},$i=[0,0],Ui={topLeft:{points:["bl","tl"],overflow:Fi,offset:[0,-4],targetOffset:$i},topCenter:{points:["bc","tc"],overflow:Fi,offset:[0,-4],targetOffset:$i},topRight:{points:["br","tr"],overflow:Fi,offset:[0,-4],targetOffset:$i},bottomLeft:{points:["tl","bl"],overflow:Fi,offset:[0,4],targetOffset:$i},bottomCenter:{points:["tc","bc"],overflow:Fi,offset:[0,4],targetOffset:$i},bottomRight:{points:["tr","br"],overflow:Fi,offset:[0,4],targetOffset:$i}},Hi=we.ESC,Vi=we.TAB;function Gi(t){var n=t.visible,o=t.setTriggerVisible,i=t.triggerRef,r=t.menuRef,s=t.onVisibleChange,l=function(){n&&i.current&&(i.current.triggerRef.current&&i.current.triggerRef.current.focus(),o(!1),"function"===typeof s&&s(!1))},a=function(e){switch(e.keyCode){case Hi:case Vi:l()}};e.useEffect((function(){return n?(setTimeout((function(){!function(){var e,t;null===(e=r.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e)}(),window.addEventListener("keydown",a)}),100),function(){window.removeEventListener("keydown",a)}):function(){return null}}),[n]);return{returnFocus:function(){n&&i.current&&i.current.triggerRef.current&&setTimeout((function(){var e,t,n;null===(e=i.current)||void 0===e||null===(t=e.triggerRef)||void 0===t||null===(n=t.current)||void 0===n||n.focus()}),100)}}}var Wi=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"];function zi(t,n){var o=t.arrow,i=void 0!==o&&o,r=t.prefixCls,s=void 0===r?"rc-dropdown":r,l=t.transitionName,a=t.animation,u=t.align,p=t.placement,h=void 0===p?"bottomLeft":p,f=t.placements,_=void 0===f?Ui:f,y=t.getPopupContainer,T=t.showAction,E=t.hideAction,k=t.overlayClassName,b=t.overlayStyle,C=t.visible,S=t.trigger,I=void 0===S?["hover"]:S,R=g(t,Wi),O=c(e.useState(),2),w=O[0],B=O[1],A="visible"in t?C:w,x=e.useRef(null);e.useImperativeHandle(n,(function(){return x.current}));var N=e.useRef(null),D="".concat(s,"-menu"),M=Gi({visible:A,setTriggerVisible:B,triggerRef:x,menuRef:N,onVisibleChange:t.onVisibleChange}).returnFocus,P=function(){var e=t.overlay;return"function"===typeof e?e():e},L=function(e){var n=t.onOverlayClick,o=P().props;B(!1),n&&n(e),o.onClick&&o.onClick(e),M()},F=function(){var t=P(),n=$(N,t.ref),o={prefixCls:D,onClick:L,ref:U(t)?n:void 0};return"string"===typeof t.type&&delete o.prefixCls,e.createElement(e.Fragment,null,i&&e.createElement("div",{className:"".concat(s,"-arrow")}),e.cloneElement(t,o))},H=E;return H||-1===I.indexOf("contextMenu")||(H=["click"]),e.createElement(Zo,m(m({builtinPlacements:_},R),{},{prefixCls:s,ref:x,popupClassName:v()(k,d({},"".concat(s,"-show-arrow"),i)),popupStyle:b,action:I,showAction:T,hideAction:H||[],popupPlacement:h,popupAlign:u,popupTransitionName:l,popupAnimation:a,popupVisible:A,stretch:function(){var e=t.minOverlayWidthMatchTrigger,n=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?e:!n}()?"minWidth":"",popup:"function"===typeof t.overlay?F:F(),onPopupVisibleChange:function(e){var n=t.onVisibleChange;B(e),"function"===typeof n&&n(e)},getPopupContainer:y}),function(){var n=t.children,o=n.props?n.props:{},i=v()(o.className,function(){var e=t.openClassName;return void 0!==e?e:"".concat(s,"-open")}());return A&&n?e.cloneElement(n,{className:i}):n}())}var Yi=e.forwardRef(zi);function ji(t,n){var o=t.prefixCls,i=t.editable,r=t.locale,s=t.style;return i&&!1!==i.showAdd?e.createElement("button",{ref:n,type:"button",className:"".concat(o,"-nav-add"),style:s,"aria-label":(null===r||void 0===r?void 0:r.addAriaLabel)||"Add tab",onClick:function(e){i.onEdit("add",{event:e})}},i.addIcon||"+"):null}var Xi=e.forwardRef(ji);function Ki(t,n){var o=t.prefixCls,i=t.id,r=t.tabs,s=t.locale,l=t.mobile,a=t.moreIcon,u=void 0===a?"More":a,p=t.moreTransitionName,h=t.style,f=t.className,g=t.editable,_=t.tabBarGutter,m=t.rtl,y=t.removeAriaLabel,T=t.onTabClick,E=c((0,e.useState)(!1),2),k=E[0],b=E[1],C=c((0,e.useState)(null),2),S=C[0],I=C[1],R="".concat(i,"-more-popup"),O="".concat(o,"-dropdown"),w=null!==S?"".concat(R,"-").concat(S):null,B=null===s||void 0===s?void 0:s.dropdownAriaLabel;var A=e.createElement(Li,{onClick:function(e){var t=e.key,n=e.domEvent;T(t,n),b(!1)},id:R,tabIndex:-1,role:"listbox","aria-activedescendant":w,selectedKeys:[S],"aria-label":void 0!==B?B:"expanded dropdown"},r.map((function(t){var n=g&&!1!==t.closable&&!t.disabled;return e.createElement(Rt,{key:t.key,id:"".concat(R,"-").concat(t.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(t.key),disabled:t.disabled},e.createElement("span",null,t.tab),n&&e.createElement("button",{type:"button","aria-label":y||"remove",tabIndex:0,className:"".concat(O,"-menu-item-remove"),onClick:function(e){e.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),g.onEdit("remove",{key:t,event:e})}(e,t.key)}},t.closeIcon||g.removeIcon||"\xd7"))})));function x(e){for(var t=r.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===S}))||0,o=t.length,i=0;i<o;i+=1){var s=t[n=(n+e+o)%o];if(!s.disabled)return void I(s.key)}}(0,e.useEffect)((function(){var e=document.getElementById(w);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[S]),(0,e.useEffect)((function(){k||I(null)}),[k]);var N=d({},m?"marginRight":"marginLeft",_);r.length||(N.visibility="hidden",N.order=1);var D=v()(d({},"".concat(O,"-rtl"),m)),M=l?null:e.createElement(Yi,{prefixCls:O,overlay:A,trigger:["hover"],visible:k,transitionName:p,onVisibleChange:b,overlayClassName:D,mouseEnterDelay:.1,mouseLeaveDelay:.1},e.createElement("button",{type:"button",className:"".concat(o,"-nav-more"),style:N,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":R,id:"".concat(i,"-more"),"aria-expanded":k,onKeyDown:function(e){var t=e.which;if(k)switch(t){case we.UP:x(-1),e.preventDefault();break;case we.DOWN:x(1),e.preventDefault();break;case we.ESC:b(!1);break;case we.SPACE:case we.ENTER:null!==S&&T(S,e)}else[we.DOWN,we.SPACE,we.ENTER].includes(t)&&(b(!0),e.preventDefault())}},u));return e.createElement("div",{className:v()("".concat(o,"-nav-operations"),f),style:h,ref:n},M,e.createElement(Xi,{prefixCls:o,locale:s,editable:g}))}var Ji=e.memo(e.forwardRef(Ki),(function(e,t){return t.tabMoving})),qi=(0,e.createContext)(null),Zi=Math.pow(.995,20);function Qi(t,n){var o=e.useRef(t),i=c(e.useState({}),2)[1];return[o.current,function(e){var t="function"===typeof e?e(o.current):e;t!==o.current&&n(t,o.current),o.current=t,i({})}]}var er=function(t){var n,o=t.position,i=t.prefixCls,r=t.extra;if(!r)return null;var s={};return r&&"object"===f(r)&&!e.isValidElement(r)?s=r:s.right=r,"right"===o&&(n=s.right),"left"===o&&(n=s.left),n?e.createElement("div",{className:"".concat(i,"-extra-content")},n):null};function tr(t,n){var o,i=e.useContext(qi),r=i.prefixCls,s=i.tabs,l=t.className,a=t.style,u=t.id,p=t.animated,f=t.activeKey,g=t.rtl,_=t.extra,y=t.editable,T=t.locale,E=t.tabPosition,k=t.tabBarGutter,b=t.children,C=t.onTabClick,S=t.onTabScroll,R=(0,e.useRef)(),O=(0,e.useRef)(),w=(0,e.useRef)(),B=(0,e.useRef)(),A=function(){var t=(0,e.useRef)(new Map);return[function(n){return t.current.has(n)||t.current.set(n,e.createRef()),t.current.get(n)},function(e){t.current.delete(e)}]}(),N=c(A,2),D=N[0],M=N[1],P="top"===E||"bottom"===E,L=c(Qi(0,(function(e,t){P&&S&&S({direction:e>t?"left":"right"})})),2),F=L[0],$=L[1],U=c(Qi(0,(function(e,t){!P&&S&&S({direction:e>t?"top":"bottom"})})),2),H=U[0],V=U[1],G=c((0,e.useState)(0),2),W=G[0],z=G[1],Y=c((0,e.useState)(0),2),j=Y[0],X=Y[1],K=c((0,e.useState)(null),2),J=K[0],q=K[1],Z=c((0,e.useState)(null),2),Q=Z[0],ee=Z[1],te=c((0,e.useState)(0),2),ne=te[0],oe=te[1],ie=c((0,e.useState)(0),2),re=ie[0],se=ie[1],le=function(t){var n=(0,e.useRef)([]),o=c((0,e.useState)({}),2)[1],i=(0,e.useRef)("function"===typeof t?t():t),r=Re((function(){var e=i.current;n.current.forEach((function(t){e=t(e)})),n.current=[],i.current=e,o({})}));return[i.current,function(e){n.current.push(e),r()}]}(new Map),ae=c(le,2),ce=ae[0],ue=ae[1],pe=function(t,n,o){return(0,e.useMemo)((function(){for(var e,o=new Map,i=n.get(null===(e=t[0])||void 0===e?void 0:e.key)||xe,r=i.left+i.width,s=0;s<t.length;s+=1){var l,a=t[s].key,c=n.get(a);c||(c=n.get(null===(l=t[s-1])||void 0===l?void 0:l.key)||xe);var u=o.get(a)||m({},c);u.right=r-u.left-u.width,o.set(a,u)}return o}),[t.map((function(e){return e.key})).join("_"),n,o])}(s,ce,W),he="".concat(r,"-nav-operations-hidden"),de=0,fe=0;function ge(e){return e<de?de:e>fe?fe:e}P?g?(de=0,fe=Math.max(0,W-J)):(de=Math.min(0,J-W),fe=0):(de=Math.min(0,Q-j),fe=0);var _e=(0,e.useRef)(),me=c((0,e.useState)(),2),ye=me[0],ve=me[1];function Te(){ve(Date.now())}function Ee(){window.clearTimeout(_e.current)}function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=pe.get(e)||{width:0,height:0,left:0,right:0,top:0};if(P){var n=F;g?t.right<F?n=t.right:t.right+t.width>F+J&&(n=t.right+t.width-J):t.left<-F?n=-t.left:t.left+t.width>-F+J&&(n=-(t.left+t.width-J)),V(0),$(ge(n))}else{var o=H;t.top<-H?o=-t.top:t.top+t.height>-H+Q&&(o=-(t.top+t.height-Q)),$(0),V(ge(o))}}!function(t,n){var o=c((0,e.useState)(),2),i=o[0],r=o[1],s=c((0,e.useState)(0),2),l=s[0],a=s[1],u=c((0,e.useState)(0),2),p=u[0],h=u[1],d=c((0,e.useState)(),2),f=d[0],g=d[1],_=(0,e.useRef)(),m=(0,e.useRef)(),y=(0,e.useRef)(null);y.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,o=t.screenY;r({x:n,y:o}),window.clearInterval(_.current)},onTouchMove:function(e){if(i){e.preventDefault();var t=e.touches[0],o=t.screenX,s=t.screenY;r({x:o,y:s});var c=o-i.x,u=s-i.y;n(c,u);var p=Date.now();a(p),h(p-l),g({x:c,y:u})}},onTouchEnd:function(){if(i&&(r(null),g(null),f)){var e=f.x/p,t=f.y/p,o=Math.abs(e),s=Math.abs(t);if(Math.max(o,s)<.1)return;var l=e,a=t;_.current=window.setInterval((function(){Math.abs(l)<.01&&Math.abs(a)<.01?window.clearInterval(_.current):n(20*(l*=Zi),20*(a*=Zi))}),20)}},onWheel:function(e){var t=e.deltaX,o=e.deltaY,i=0,r=Math.abs(t),s=Math.abs(o);r===s?i="x"===m.current?t:o:r>s?(i=t,m.current="x"):(i=o,m.current="y"),n(-i,-i)&&e.preventDefault()}},e.useEffect((function(){function e(e){y.current.onTouchMove(e)}function n(e){y.current.onTouchEnd(e)}return document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),t.current.addEventListener("touchstart",(function(e){y.current.onTouchStart(e)}),{passive:!1}),t.current.addEventListener("wheel",(function(e){y.current.onWheel(e)})),function(){document.removeEventListener("touchmove",e),document.removeEventListener("touchend",n)}}),[])}(R,(function(e,t){function n(e,t){e((function(e){return ge(e+t)}))}if(P){if(J>=W)return!1;n($,e)}else{if(Q>=j)return!1;n(V,t)}return Ee(),Te(),!0})),(0,e.useEffect)((function(){return Ee(),ye&&(_e.current=window.setTimeout((function(){ve(0)}),100)),Ee}),[ye]);var be=function(t,n,o,i,r){var s,l,a,c=r.tabs,u=r.tabPosition,p=r.rtl;["top","bottom"].includes(u)?(s="width",l=p?"right":"left",a=Math.abs(n.left)):(s="height",l="top",a=-n.top);var h=n[s],d=o[s],f=i[s],g=h;return d+f>h&&d<h&&(g=h-f),(0,e.useMemo)((function(){if(!c.length)return[0,0];for(var e=c.length,n=e,o=0;o<e;o+=1){var i=t.get(c[o].key)||Ne;if(i[l]+i[s]>a+g){n=o-1;break}}for(var r=0,u=e-1;u>=0;u-=1)if((t.get(c[u].key)||Ne)[l]<a){r=u+1;break}return[r,n]}),[t,a,g,u,c.map((function(e){return e.key})).join("_"),p])}(pe,{width:J,height:Q,left:F,top:H},{width:W,height:j},{width:ne,height:re},m(m({},t),{},{tabs:s})),Ce=c(be,2),Se=Ce[0],Oe=Ce[1],we={};"top"===E||"bottom"===E?we[g?"marginRight":"marginLeft"]=k:we.marginTop=k;var Be=s.map((function(t,n){var o=t.key;return e.createElement(Ae,{id:u,prefixCls:r,key:o,tab:t,style:0===n?void 0:we,closable:t.closable,editable:y,active:o===f,renderWrapper:b,removeAriaLabel:null===T||void 0===T?void 0:T.removeAriaLabel,ref:D(o),onClick:function(e){C(o,e)},onRemove:function(){M(o)},onFocus:function(){ke(o),Te(),R.current&&(g||(R.current.scrollLeft=0),R.current.scrollTop=0)}})})),De=Re((function(){var e,t,n,o,i,r,l=(null===(e=R.current)||void 0===e?void 0:e.offsetWidth)||0,a=(null===(t=R.current)||void 0===t?void 0:t.offsetHeight)||0,c=(null===(n=B.current)||void 0===n?void 0:n.offsetWidth)||0,u=(null===(o=B.current)||void 0===o?void 0:o.offsetHeight)||0;q(l),ee(a),oe(c),se(u);var p=((null===(i=O.current)||void 0===i?void 0:i.offsetWidth)||0)-c,h=((null===(r=O.current)||void 0===r?void 0:r.offsetHeight)||0)-u;z(p),X(h),ue((function(){var e=new Map;return s.forEach((function(t){var n=t.key,o=D(n).current;o&&e.set(n,{width:o.offsetWidth,height:o.offsetHeight,left:o.offsetLeft,top:o.offsetTop})})),e}))})),Me=s.slice(0,Se),Pe=s.slice(Oe+1),Le=[].concat(I(Me),I(Pe)),Fe=c((0,e.useState)(),2),$e=Fe[0],Ue=Fe[1],He=pe.get(f),Ve=(0,e.useRef)();function Ge(){x.cancel(Ve.current)}(0,e.useEffect)((function(){var e={};return He&&(P?(g?e.right=He.right:e.left=He.left,e.width=He.width):(e.top=He.top,e.height=He.height)),Ge(),Ve.current=x((function(){Ue(e)})),Ge}),[He,P,g]),(0,e.useEffect)((function(){ke()}),[f,He,pe,P]),(0,e.useEffect)((function(){De()}),[g,k,f,s.map((function(e){return e.key})).join("_")]);var We,ze,Ye,je,Xe=!!Le.length,Ke="".concat(r,"-nav-wrap");return P?g?(ze=F>0,We=F+J<W):(We=F<0,ze=-F+J<W):(Ye=H<0,je=-H+Q<j),e.createElement("div",{ref:n,role:"tablist",className:v()("".concat(r,"-nav"),l),style:a,onKeyDown:function(){Te()}},e.createElement(er,{position:"left",extra:_,prefixCls:r}),e.createElement(Ie,{onResize:De},e.createElement("div",{className:v()(Ke,(o={},d(o,"".concat(Ke,"-ping-left"),We),d(o,"".concat(Ke,"-ping-right"),ze),d(o,"".concat(Ke,"-ping-top"),Ye),d(o,"".concat(Ke,"-ping-bottom"),je),o)),ref:R},e.createElement(Ie,{onResize:De},e.createElement("div",{ref:O,className:"".concat(r,"-nav-list"),style:{transform:"translate(".concat(F,"px, ").concat(H,"px)"),transition:ye?"none":void 0}},Be,e.createElement(Xi,{ref:B,prefixCls:r,locale:T,editable:y,style:m(m({},0===Be.length?void 0:we),{},{visibility:Xe?"hidden":null})}),e.createElement("div",{className:v()("".concat(r,"-ink-bar"),d({},"".concat(r,"-ink-bar-animated"),p.inkBar)),style:$e}))))),e.createElement(Ji,h({},t,{removeAriaLabel:null===T||void 0===T?void 0:T.removeAriaLabel,ref:w,prefixCls:r,tabs:Le,className:!Xe&&he,tabMoving:!!ye})),e.createElement(er,{position:"right",extra:_,prefixCls:r}))}var nr=e.forwardRef(tr);function or(t){var n=t.id,o=t.activeKey,i=t.animated,r=t.tabPosition,s=t.rtl,l=t.destroyInactiveTabPane,a=e.useContext(qi),c=a.prefixCls,u=a.tabs,p=i.tabPane,h=u.findIndex((function(e){return e.key===o}));return e.createElement("div",{className:v()("".concat(c,"-content-holder"))},e.createElement("div",{className:v()("".concat(c,"-content"),"".concat(c,"-content-").concat(r),d({},"".concat(c,"-content-animated"),p)),style:h&&p?d({},s?"marginRight":"marginLeft","-".concat(h,"00%")):null},u.map((function(t){return e.cloneElement(t.node,{key:t.key,prefixCls:c,tabKey:t.key,id:n,animated:p,active:t.key===o,destroyInactiveTabPane:l})}))))}function ir(t){var n=t.prefixCls,o=t.forceRender,i=t.className,r=t.style,s=t.id,l=t.active,a=t.animated,u=t.destroyInactiveTabPane,p=t.tabKey,h=t.children,d=c(e.useState(o),2),f=d[0],g=d[1];e.useEffect((function(){l?g(!0):u&&g(!1)}),[l,u]);var _={};return l||(a?(_.visibility="hidden",_.height=0,_.overflowY="hidden"):_.display="none"),e.createElement("div",{id:s&&"".concat(s,"-panel-").concat(p),role:"tabpanel",tabIndex:l?0:-1,"aria-labelledby":s&&"".concat(s,"-tab-").concat(p),"aria-hidden":!l,style:m(m({},_),r),className:v()("".concat(n,"-tabpane"),l&&"".concat(n,"-tabpane-active"),i)},(l||f||o)&&h)}var rr=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"],sr=0;function lr(t,n){var o,i,r=t.id,s=t.prefixCls,l=void 0===s?"rc-tabs":s,a=t.className,u=t.children,p=t.direction,_=t.activeKey,y=t.defaultActiveKey,T=t.editable,b=t.animated,S=void 0===b?{inkBar:!0,tabPane:!1}:b,I=t.tabPosition,R=void 0===I?"top":I,O=t.tabBarGutter,w=t.tabBarStyle,B=t.tabBarExtraContent,A=t.locale,x=t.moreIcon,N=t.moreTransitionName,D=t.destroyInactiveTabPane,M=t.renderTabBar,P=t.onChange,L=t.onTabClick,F=t.onTabScroll,$=g(t,rr),U=function(t){return E(t).map((function(t){return e.isValidElement(t)?m(m({key:void 0!==t.key?String(t.key):void 0},t.props),{},{node:t}):null})).filter((function(e){return e}))}(u),H="rtl"===p;i=!1===S?{inkBar:!1,tabPane:!1}:!0===S?{inkBar:!0,tabPane:!0}:m({inkBar:!0,tabPane:!1},"object"===f(S)?S:{});var V=c((0,e.useState)(!1),2),G=V[0],W=V[1];(0,e.useEffect)((function(){W(k())}),[]);var z=c(C((function(){var e;return null===(e=U[0])||void 0===e?void 0:e.key}),{value:_,defaultValue:y}),2),Y=z[0],j=z[1],X=c((0,e.useState)((function(){return U.findIndex((function(e){return e.key===Y}))})),2),K=X[0],J=X[1];(0,e.useEffect)((function(){var e,t=U.findIndex((function(e){return e.key===Y}));-1===t&&(t=Math.max(0,Math.min(K,U.length-1)),j(null===(e=U[t])||void 0===e?void 0:e.key));J(t)}),[U.map((function(e){return e.key})).join("_"),Y,K]);var q=c(C(null,{value:r}),2),Z=q[0],Q=q[1],ee=R;G&&!["left","right"].includes(R)&&(ee="top"),(0,e.useEffect)((function(){r||(Q("rc-tabs-".concat(sr)),sr+=1)}),[]);var te,ne={id:Z,activeKey:Y,animated:i,tabPosition:ee,rtl:H,mobile:G},oe=m(m({},ne),{},{editable:T,locale:A,moreIcon:x,moreTransitionName:N,tabBarGutter:O,onTabClick:function(e,t){null===L||void 0===L||L(e,t);var n=e!==Y;j(e),n&&(null===P||void 0===P||P(e))},onTabScroll:F,extra:B,style:w,panes:u});return te=M?M(oe,nr):e.createElement(nr,oe),e.createElement(qi.Provider,{value:{tabs:U,prefixCls:l}},e.createElement("div",h({ref:n,id:r,className:v()(l,"".concat(l,"-").concat(ee),(o={},d(o,"".concat(l,"-mobile"),G),d(o,"".concat(l,"-editable"),T),d(o,"".concat(l,"-rtl"),H),o),a)},$),te,e.createElement(or,h({destroyInactiveTabPane:D},ne,{animated:i}))))}var ar=e.forwardRef(lr);ar.TabPane=ir;var cr=ar,ur={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},pr=(0,e.createContext)({});function hr(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function dr(e){return Math.min(1,Math.max(0,e))}function fr(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function gr(e){return e<=1?100*Number(e)+"%":e}function _r(e){return 1===e.length?"0"+e:String(e)}function mr(e,t,n){e=hr(e,255),t=hr(t,255),n=hr(n,255);var o=Math.max(e,t,n),i=Math.min(e,t,n),r=0,s=0,l=(o+i)/2;if(o===i)s=0,r=0;else{var a=o-i;switch(s=l>.5?a/(2-o-i):a/(o+i),o){case e:r=(t-n)/a+(t<n?6:0);break;case t:r=(n-e)/a+2;break;case n:r=(e-t)/a+4}r/=6}return{h:r,s:s,l:l}}function yr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function vr(e,t,n){e=hr(e,255),t=hr(t,255),n=hr(n,255);var o=Math.max(e,t,n),i=Math.min(e,t,n),r=0,s=o,l=o-i,a=0===o?0:l/o;if(o===i)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,v:s}}function Tr(e,t,n,o){var i=[_r(Math.round(e).toString(16)),_r(Math.round(t).toString(16)),_r(Math.round(n).toString(16))];return o&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Er(e){return Math.round(255*parseFloat(e)).toString(16)}function kr(e){return br(e)/255}function br(e){return parseInt(e,16)}var Cr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Sr(e){var t,n,o,i={r:0,g:0,b:0},r=1,s=null,l=null,a=null,c=!1,u=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Cr[e])e=Cr[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=wr.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=wr.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=wr.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=wr.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=wr.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=wr.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=wr.hex8.exec(e))return{r:br(n[1]),g:br(n[2]),b:br(n[3]),a:kr(n[4]),format:t?"name":"hex8"};if(n=wr.hex6.exec(e))return{r:br(n[1]),g:br(n[2]),b:br(n[3]),format:t?"name":"hex"};if(n=wr.hex4.exec(e))return{r:br(n[1]+n[1]),g:br(n[2]+n[2]),b:br(n[3]+n[3]),a:kr(n[4]+n[4]),format:t?"name":"hex8"};if(n=wr.hex3.exec(e))return{r:br(n[1]+n[1]),g:br(n[2]+n[2]),b:br(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Br(e.r)&&Br(e.g)&&Br(e.b)?(t=e.r,n=e.g,o=e.b,i={r:255*hr(t,255),g:255*hr(n,255),b:255*hr(o,255)},c=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):Br(e.h)&&Br(e.s)&&Br(e.v)?(s=gr(e.s),l=gr(e.v),i=function(e,t,n){e=6*hr(e,360),t=hr(t,100),n=hr(n,100);var o=Math.floor(e),i=e-o,r=n*(1-t),s=n*(1-i*t),l=n*(1-(1-i)*t),a=o%6;return{r:255*[n,s,r,r,l,n][a],g:255*[l,n,n,s,r,r][a],b:255*[r,r,l,n,n,s][a]}}(e.h,s,l),c=!0,u="hsv"):Br(e.h)&&Br(e.s)&&Br(e.l)&&(s=gr(e.s),a=gr(e.l),i=function(e,t,n){var o,i,r;if(e=hr(e,360),t=hr(t,100),n=hr(n,100),0===t)i=n,r=n,o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;o=yr(l,s,e+1/3),i=yr(l,s,e),r=yr(l,s,e-1/3)}return{r:255*o,g:255*i,b:255*r}}(e.h,s,a),c=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=fr(r),{ok:c,format:e.format||u,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:r}}var Ir="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",Rr="[\\s|\\(]+("+Ir+")[,|\\s]+("+Ir+")[,|\\s]+("+Ir+")\\s*\\)?",Or="[\\s|\\(]+("+Ir+")[,|\\s]+("+Ir+")[,|\\s]+("+Ir+")[,|\\s]+("+Ir+")\\s*\\)?",wr={CSS_UNIT:new RegExp(Ir),rgb:new RegExp("rgb"+Rr),rgba:new RegExp("rgba"+Or),hsl:new RegExp("hsl"+Rr),hsla:new RegExp("hsla"+Or),hsv:new RegExp("hsv"+Rr),hsva:new RegExp("hsva"+Or),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Br(e){return Boolean(wr.CSS_UNIT.exec(String(e)))}var Ar=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function xr(e){var t=vr(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Nr(e){var t=e.r,n=e.g,o=e.b;return"#".concat(Tr(t,n,o,!1))}function Dr(e,t,n){var o=n/100;return{r:(t.r-e.r)*o+e.r,g:(t.g-e.g)*o+e.g,b:(t.b-e.b)*o+e.b}}function Mr(e,t,n){var o;return(o=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?o+=360:o>=360&&(o-=360),o}function Pr(e,t,n){return 0===e.h&&0===e.s?e.s:((o=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(o=1),n&&5===t&&o>.1&&(o=.1),o<.06&&(o=.06),Number(o.toFixed(2)));var o}function Lr(e,t,n){var o;return(o=n?e.v+.05*t:e.v-.15*t)>1&&(o=1),Number(o.toFixed(2))}function Fr(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],o=Sr(e),i=5;i>0;i-=1){var r=xr(o),s=Nr(Sr({h:Mr(r,i,!0),s:Pr(r,i,!0),v:Lr(r,i,!0)}));n.push(s)}n.push(Nr(o));for(var l=1;l<=4;l+=1){var a=xr(o),c=Nr(Sr({h:Mr(a,l),s:Pr(a,l),v:Lr(a,l)}));n.push(c)}return"dark"===t.theme?Ar.map((function(e){var o=e.index,i=e.opacity;return Nr(Dr(Sr(t.backgroundColor||"#141414"),Sr(n[o]),100*i))})):n}var $r={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ur={},Hr={};Object.keys($r).forEach((function(e){Ur[e]=Fr($r[e]),Ur[e].primary=Ur[e][5],Hr[e]=Fr($r[e],{theme:"dark",backgroundColor:"#141414"}),Hr[e].primary=Hr[e][5]}));Ur.red,Ur.volcano,Ur.gold,Ur.orange,Ur.yellow,Ur.lime,Ur.green,Ur.cyan,Ur.blue,Ur.geekblue,Ur.purple,Ur.magenta,Ur.grey;var Vr="rc-util-key";function Gr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Vr}function Wr(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function zr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Pe())return null;var o,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(o=n.csp)||void 0===o?void 0:o.nonce);i.innerHTML=e;var r=Wr(n),s=r.firstChild;return n.prepend&&r.prepend?r.prepend(i):n.prepend&&s?r.insertBefore(i,s):r.appendChild(i),i}var Yr=new Map;function jr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Wr(t);return Array.from(Yr.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(Gr(t))===e}))}function Xr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Wr(n);if(!Yr.has(o)){var i=zr("",n),r=i.parentNode;Yr.set(o,r),r.removeChild(i)}var s=jr(t,n);if(s){var l,a,c;if((null===(l=n.csp)||void 0===l?void 0:l.nonce)&&s.nonce!==(null===(a=n.csp)||void 0===a?void 0:a.nonce))s.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return s.innerHTML!==e&&(s.innerHTML=e),s}var u=zr(e,n);return u.setAttribute(Gr(n),t),u}function Kr(e){return"object"===f(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===f(e.icon)||"function"===typeof e.icon)}function Jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var o=e[n];if("class"===n)t.className=o,delete t.class;else t[n]=o;return t}),{})}function qr(t,n,o){return o?e.createElement(t.tag,m(m({key:n},Jr(t.attrs)),o),(t.children||[]).map((function(e,o){return qr(e,"".concat(n,"-").concat(t.tag,"-").concat(o))}))):e.createElement(t.tag,m({key:n},Jr(t.attrs)),(t.children||[]).map((function(e,o){return qr(e,"".concat(n,"-").concat(t.tag,"-").concat(o))})))}function Zr(e){return Fr(e)[0]}function Qr(e){return e?Array.isArray(e)?e:[e]:[]}var es="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",ts=["icon","className","onClick","style","primaryColor","secondaryColor"],ns={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var os=function(t){var n=t.icon,o=t.className,i=t.onClick,r=t.style,s=t.primaryColor,l=t.secondaryColor,a=g(t,ts),c=ns;if(s&&(c={primaryColor:s,secondaryColor:l||Zr(s)}),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es,n=(0,e.useContext)(pr).csp;(0,e.useEffect)((function(){Xr(t,"@ant-design-icons",{prepend:!0,csp:n})}),[])}(),function(e,t){P(e,"[@ant-design/icons] ".concat(t))}(Kr(n),"icon should be icon definiton, but got ".concat(n)),!Kr(n))return null;var u=n;return u&&"function"===typeof u.icon&&(u=m(m({},u),{},{icon:u.icon(c.primaryColor,c.secondaryColor)})),qr(u.icon,"svg-".concat(u.name),m({className:o,onClick:i,style:r,"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},a))};os.displayName="IconReact",os.getTwoToneColors=function(){return m({},ns)},os.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;ns.primaryColor=t,ns.secondaryColor=n||Zr(t),ns.calculated=!!n};var is=os;function rs(e){var t=c(Qr(e),2),n=t[0],o=t[1];return is.setTwoToneColors({primaryColor:n,secondaryColor:o})}var ss=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];rs("#1890ff");var ls=e.forwardRef((function(t,n){var o,i=t.className,r=t.icon,s=t.spin,l=t.rotate,a=t.tabIndex,u=t.onClick,p=t.twoToneColor,h=g(t,ss),f=e.useContext(pr).prefixCls,_=void 0===f?"anticon":f,y=v()(_,(d(o={},"".concat(_,"-").concat(r.name),!!r.name),d(o,"".concat(_,"-spin"),!!s||"loading"===r.name),o),i),T=a;void 0===T&&u&&(T=-1);var E=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,k=c(Qr(p),2),b=k[0],C=k[1];return e.createElement("span",m(m({role:"img","aria-label":r.name},h),{},{ref:n,tabIndex:T,onClick:u,className:y}),e.createElement(is,{icon:r,primaryColor:b,secondaryColor:C,style:E}))}));ls.displayName="AntdIcon",ls.getTwoToneColor=function(){var e=is.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},ls.setTwoToneColor=rs;var as=ls,cs=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:ur}))};cs.displayName="EllipsisOutlined";var us=e.forwardRef(cs),ps={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},hs=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:ps}))};hs.displayName="PlusOutlined";var ds=e.forwardRef(hs),fs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},gs=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:fs}))};gs.displayName="CloseOutlined";var _s=e.forwardRef(gs),ms=function(e,t,n){P(e,"[antd: ".concat(t,"] ").concat(n))},ys={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},vs={lang:h({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:h({},ys)},Ts="${label} is not a valid ${type}",Es={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:vs,TimePicker:ys,Calendar:vs,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Ts,method:Ts,array:Ts,object:Ts,number:Ts,date:Ts,boolean:Ts,integer:Ts,float:Ts,regexp:Ts,email:Ts,url:Ts,hex:Ts},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},ks=Es,bs=(0,e.createContext)(void 0),Cs=function(e){me(n,e);var t=Ee(n);function n(){return de(this,n),t.apply(this,arguments)}return ge(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||ks[null!==t&&void 0!==t?t:"global"],o=this.context,i=t&&o?o[t]:{};return h(h({},n instanceof Function?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?ks.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(e.Component);Cs.defaultProps={componentName:"global"},Cs.contextType=bs;var Ss=function(){var t=(0,e.useContext(Ns).getPrefixCls)("empty-img-default");return e.createElement("svg",{className:t,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{transform:"translate(24 31.67)"},e.createElement("ellipse",{className:"".concat(t,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),e.createElement("path",{className:"".concat(t,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),e.createElement("path",{className:"".concat(t,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),e.createElement("path",{className:"".concat(t,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),e.createElement("path",{className:"".concat(t,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),e.createElement("path",{className:"".concat(t,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),e.createElement("g",{className:"".concat(t,"-g"),transform:"translate(149.65 15.383)"},e.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),e.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Is=function(){var t=(0,e.useContext(Ns).getPrefixCls)("empty-img-simple");return e.createElement("svg",{className:t,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},e.createElement("ellipse",{className:"".concat(t,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),e.createElement("g",{className:"".concat(t,"-g"),fillRule:"nonzero"},e.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),e.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(t,"-path")}))))},Rs=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},Os=e.createElement(Ss,null),ws=e.createElement(Is,null),Bs=function(t){var n=t.className,o=t.prefixCls,i=t.image,r=void 0===i?Os:i,s=t.description,l=t.children,a=t.imageStyle,c=Rs(t,["className","prefixCls","image","description","children","imageStyle"]),u=e.useContext(Ns),p=u.getPrefixCls,f=u.direction;return e.createElement(Cs,{componentName:"Empty"},(function(t){var i,u=p("empty",o),g="undefined"!==typeof s?s:t.description,_="string"===typeof g?g:"empty",m=null;return m="string"===typeof r?e.createElement("img",{alt:_,src:r}):r,e.createElement("div",h({className:v()(u,(i={},d(i,"".concat(u,"-normal"),r===ws),d(i,"".concat(u,"-rtl"),"rtl"===f),i),n)},c),e.createElement("div",{className:"".concat(u,"-image"),style:a},m),g&&e.createElement("div",{className:"".concat(u,"-description")},g),l&&e.createElement("div",{className:"".concat(u,"-footer")},l))}))};Bs.PRESENTED_IMAGE_DEFAULT=Os,Bs.PRESENTED_IMAGE_SIMPLE=ws;var As=Bs,xs=function(t){return e.createElement(Ds,null,(function(n){var o=(0,n.getPrefixCls)("empty");switch(t){case"Table":case"List":return e.createElement(As,{image:As.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return e.createElement(As,{image:As.PRESENTED_IMAGE_SIMPLE,className:"".concat(o,"-small")});default:return e.createElement(As,null)}}))},Ns=e.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:xs}),Ds=Ns.Consumer;var Ms=e.createContext(void 0),Ps=function(t){var n=t.children,o=t.size;return e.createElement(Ms.Consumer,null,(function(t){return e.createElement(Ms.Provider,{value:o||t},n)}))},Ls=Ms,Fs=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};function $s(t){var n,o=t.type,i=t.className,r=t.size,s=t.onEdit,l=t.hideAdd,a=t.centered,c=t.addIcon,u=Fs(t,["type","className","size","onEdit","hideAdd","centered","addIcon"]),p=u.prefixCls,f=u.moreIcon,g=void 0===f?e.createElement(us,null):f,_=e.useContext(Ns),m=_.getPrefixCls,y=_.direction,T=m("tabs",p);"editable-card"===o&&(n={onEdit:function(e,t){var n=t.key,o=t.event;null===s||void 0===s||s("add"===e?o:n,e)},removeIcon:e.createElement(_s,null),addIcon:c||e.createElement(ds,null),showAdd:!0!==l});var E=m();return ms(!("onPrevClick"in u)&&!("onNextClick"in u),"Tabs","`onPrevClick` and `onNextClick` has been removed. Please use `onTabScroll` instead."),e.createElement(Ls.Consumer,null,(function(t){var s,l=void 0!==r?r:t;return e.createElement(cr,h({direction:y,moreTransitionName:"".concat(E,"-slide-up")},u,{className:v()((s={},d(s,"".concat(T,"-").concat(l),l),d(s,"".concat(T,"-card"),["card","editable-card"].includes(o)),d(s,"".concat(T,"-editable-card"),"editable-card"===o),d(s,"".concat(T,"-centered"),a),s),i),editable:n,moreIcon:g,prefixCls:T}))}))}$s.TabPane=ir;var Us=$s,Hs="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),Vs="aria-",Gs="data-";function Ws(e,t){return 0===e.indexOf(t)}function zs(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(n){return t}}function Ys(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).forEach((function(t){var o=e.data[t];Array.isArray(o)?o.forEach((function(e){n.append("".concat(t,"[]"),e)})):n.append(t,o)})),e.file instanceof Blob?n.append(e.filename,e.file,e.file.name):n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){return t.status<200||t.status>=300?e.onError(function(e,t){var n="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),o=new Error(n);return o.status=t.status,o.method=e.method,o.url=e.action,o}(e,t),zs(t)):e.onSuccess(zs(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var o=e.headers||{};return null!==o["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(o).forEach((function(e){null!==o[e]&&t.setRequestHeader(e,o[e])})),t.send(n),{abort:function(){t.abort()}}}var js=+new Date,Xs=0;function Ks(){return"rc-upload-".concat(js,"-").concat(++Xs)}var Js=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),o=e.name||"",i=e.type||"",r=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();if(/^\*(\/\*)?$/.test(e))return!0;if("."===t.charAt(0)){var n=o.toLowerCase(),s=t.toLowerCase(),l=[s];return".jpg"!==s&&".jpeg"!==s||(l=[".jpg",".jpeg"]),l.some((function(e){return n.endsWith(e)}))}return/\/\*$/.test(t)?r===t.replace(/\/.*$/,""):i===t||!!/^\w+$/.test(t)&&(P(!1,"Upload takes an invalidate 'accept' type '".concat(t,"'.Skip for check.")),!0)}))}return!0};var qs=function(e,t,n){var o=function e(o,i){o.path=i||"",o.isFile?o.file((function(e){n(e)&&(o.fullPath&&!e.webkitRelativePath&&(Object.defineProperties(e,{webkitRelativePath:{writable:!0}}),e.webkitRelativePath=o.fullPath.replace(/^\//,""),Object.defineProperties(e,{webkitRelativePath:{writable:!1}})),t([e]))})):o.isDirectory&&function(e,t){var n=e.createReader(),o=[];!function e(){n.readEntries((function(n){var i=Array.prototype.slice.apply(n);o=o.concat(i),i.length?e():t(o)}))}()}(o,(function(t){t.forEach((function(t){e(t,"".concat(i).concat(o.name,"/"))}))}))};e.forEach((function(e){o(e.webkitGetAsEntry())}))},Zs=["component","prefixCls","className","disabled","id","style","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave"],Qs=function(t){me(o,t);var n=Ee(o);function o(){var e;de(this,o);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(e=n.call.apply(n,[this].concat(r))).state={uid:Ks()},e.reqs={},e.fileInput=void 0,e._isMounted=void 0,e.onChange=function(t){var n=e.props,o=n.accept,i=n.directory,r=I(t.target.files).filter((function(e){return!i||Js(e,o)}));e.uploadFiles(r),e.reset()},e.onClick=function(t){var n=e.fileInput;if(n){var o=e.props,i=o.children,r=o.onClick;if(i&&"button"===i.type){var s=n.parentNode;s.focus(),s.querySelector("button").blur()}n.click(),r&&r(t)}},e.onKeyDown=function(t){"Enter"===t.key&&e.onClick(t)},e.onFileDrop=function(t){var n=e.props.multiple;if(t.preventDefault(),"dragover"!==t.type)if(e.props.directory)qs(Array.prototype.slice.call(t.dataTransfer.items),e.uploadFiles,(function(t){return Js(t,e.props.accept)}));else{var o=I(t.dataTransfer.files).filter((function(t){return Js(t,e.props.accept)}));!1===n&&(o=o.slice(0,1)),e.uploadFiles(o)}},e.uploadFiles=function(t){var n=I(t),o=n.map((function(t){return t.uid=Ks(),e.processFile(t,n)}));Promise.all(o).then((function(t){var n=e.props.onBatchStart;null===n||void 0===n||n(t.map((function(e){return{file:e.origin,parsedFile:e.parsedFile}}))),t.filter((function(e){return null!==e.parsedFile})).forEach((function(t){e.post(t)}))}))},e.processFile=function(){var t=i(p().mark((function t(n,o){var i,r,s,l,a,c,u,h,d;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.props.beforeUpload,r=n,!i){t.next=14;break}return t.prev=3,t.next=6,i(n,o);case 6:r=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),r=!1;case 12:if(!1!==r){t.next=14;break}return t.abrupt("return",{origin:n,parsedFile:null,action:null,data:null});case 14:if("function"!==typeof(s=e.props.action)){t.next=21;break}return t.next=18,s(n);case 18:l=t.sent,t.next=22;break;case 21:l=s;case 22:if("function"!==typeof(a=e.props.data)){t.next=29;break}return t.next=26,a(n);case 26:c=t.sent,t.next=30;break;case 29:c=a;case 30:return u="object"!==f(r)&&"string"!==typeof r||!r?n:r,h=u instanceof File?u:new File([u],n.name,{type:n.type}),(d=h).uid=n.uid,t.abrupt("return",{origin:n,data:c,parsedFile:d,action:l});case 35:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.saveFileInput=function(t){e.fileInput=t},e}return ge(o,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(e){var t=this,n=e.data,o=e.origin,i=e.action,r=e.parsedFile;if(this._isMounted){var s=this.props,l=s.onStart,a=s.customRequest,c=s.name,u=s.headers,p=s.withCredentials,h=s.method,d=o.uid,f=a||Ys,g={action:i,filename:c,data:n,file:r,headers:u,withCredentials:p,method:h||"post",onProgress:function(e){var n=t.props.onProgress;null===n||void 0===n||n(e,r)},onSuccess:function(e,n){var o=t.props.onSuccess;null===o||void 0===o||o(e,r,n),delete t.reqs[d]},onError:function(e,n){var o=t.props.onError;null===o||void 0===o||o(e,n,r),delete t.reqs[d]}};l(o),this.reqs[d]=f(g)}}},{key:"reset",value:function(){this.setState({uid:Ks()})}},{key:"abort",value:function(e){var t=this.reqs;if(e){var n=e.uid?e.uid:e;t[n]&&t[n].abort&&t[n].abort(),delete t[n]}else Object.keys(t).forEach((function(e){t[e]&&t[e].abort&&t[e].abort(),delete t[e]}))}},{key:"render",value:function(){var t,n=this.props,o=n.component,i=n.prefixCls,r=n.className,s=n.disabled,l=n.id,a=n.style,c=n.multiple,u=n.accept,p=n.capture,f=n.children,_=n.directory,y=n.openFileDialogOnClick,T=n.onMouseEnter,E=n.onMouseLeave,k=g(n,Zs),b=v()((d(t={},i,!0),d(t,"".concat(i,"-disabled"),s),d(t,r,r),t)),C=_?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},S=s?{}:{onClick:y?this.onClick:function(){},onKeyDown:y?this.onKeyDown:function(){},onMouseEnter:T,onMouseLeave:E,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return e.createElement(o,h({},S,{className:b,role:"button",style:a}),e.createElement("input",h({},function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:m({},n);var o={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||Ws(n,Vs))||t.data&&Ws(n,Gs)||t.attr&&Hs.includes(n))&&(o[n]=e[n])})),o}(k,{aria:!0,data:!0}),{id:l,type:"file",ref:this.saveFileInput,onClick:function(e){return e.stopPropagation()},key:this.state.uid,style:{display:"none"},accept:u},C,{multiple:c,onChange:this.onChange},null!=p?{capture:p}:{})),f)}}]),o}(e.Component),el=Qs;function tl(){}var nl=function(t){me(o,t);var n=Ee(o);function o(){var e;de(this,o);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).uploader=void 0,e.saveUploader=function(t){e.uploader=t},e}return ge(o,[{key:"abort",value:function(e){this.uploader.abort(e)}},{key:"render",value:function(){return e.createElement(el,h({},this.props,{ref:this.saveUploader}))}}]),o}(e.Component);nl.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:tl,onError:tl,onSuccess:tl,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0};var ol=nl,il=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},rl=function(t,n){var o=t.style,i=t.height,r=il(t,["style","height"]);return e.createElement(_c,h({ref:n},r,{type:"drag",style:h(h({},o),{height:i})}))},sl=e.forwardRef(rl);sl.displayName="Dragger";var ll=sl,al={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},cl=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:al}))};cl.displayName="LoadingOutlined";var ul=e.forwardRef(cl),pl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},hl=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:pl}))};hl.displayName="PaperClipOutlined";var dl=e.forwardRef(hl),fl={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"},gl=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:fl}))};gl.displayName="PictureTwoTone";var _l=e.forwardRef(gl),ml={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"},yl=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:ml}))};yl.displayName="FileTwoTone";var vl=e.forwardRef(yl),Tl=e.isValidElement;function El(t,n){return function(t,n,o){return Tl(t)?e.cloneElement(t,"function"===typeof o?o(t.props||{}):o):n}(t,t,n)}function kl(e){return h(h({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function bl(e,t){var n=I(t),o=n.findIndex((function(t){return t.uid===e.uid}));return-1===o?n.push(e):n[o]=e,n}function Cl(e,t){var n=void 0!==e.uid?"uid":"name";return t.filter((function(t){return t[n]===e[n]}))[0]}var Sl=function(e){return 0===e.indexOf("image/")},Il=200;var Rl,Ol=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},wl=function(){return{height:0,opacity:0}},Bl=function(e){return{height:e.scrollHeight,opacity:1}},Al=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},xl={motionName:"ant-motion-collapse",onAppearStart:wl,onEnterStart:wl,onAppearActive:Bl,onEnterActive:Bl,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:wl,onAppearEnd:Al,onEnterEnd:Al,onLeaveEnd:Al,motionDeadline:500},Nl=(Ol("bottomLeft","bottomRight","topLeft","topRight"),function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)}),Dl=xl,Ml=ge((function e(t){de(this,e),this.error=new Error("unreachable case: ".concat(JSON.stringify(t)))})),Pl=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},Ll=function(t){return e.createElement(Ds,null,(function(n){var o,i=n.getPrefixCls,r=n.direction,s=t.prefixCls,l=t.size,a=t.className,c=Pl(t,["prefixCls","size","className"]),u=i("btn-group",s),p="";switch(l){case"large":p="lg";break;case"small":p="sm";break;case"middle":case void 0:break;default:console.warn(new Ml(l).error)}var f=v()(u,(d(o={},"".concat(u,"-").concat(p),p),d(o,"".concat(u,"-rtl"),"rtl"===r),o),a);return e.createElement("div",h({},c,{className:f}))}))},Fl=0,$l={};function Ul(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Fl++,o=t;function i(){(o-=1)<=0?(e(),delete $l[n]):$l[n]=x(i)}return $l[n]=x(i),n}function Hl(e){return!e||null===e.offsetParent||e.hidden}function Vl(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}Ul.cancel=function(e){void 0!==e&&(x.cancel($l[e]),delete $l[e])},Ul.ids=$l;var Gl=function(t){me(o,t);var n=Ee(o);function o(){var t;return de(this,o),(t=n.apply(this,arguments)).containerRef=e.createRef(),t.animationStart=!1,t.destroyed=!1,t.onClick=function(e,n){var o,i,r=t.props,s=r.insertExtraNode;if(!(r.disabled||!e||Hl(e)||e.className.indexOf("-leave")>=0)){t.extraNode=document.createElement("div");var l=ve(t).extraNode,a=t.context.getPrefixCls;l.className="".concat(a(""),"-click-animating-node");var c=t.getAttributeName();if(e.setAttribute(c,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&Vl(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){l.style.borderColor=n;var u=(null===(o=e.getRootNode)||void 0===o?void 0:o.call(e))||e.ownerDocument,p=u instanceof Document?u.body:null!==(i=u.firstChild)&&void 0!==i?i:u;Rl=Xr("\n      [".concat(a(""),"-click-animating-without-extra-node='true']::after, .").concat(a(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:t.csp,attachTo:p})}s&&e.appendChild(l),["transition","animation"].forEach((function(n){e.addEventListener("".concat(n,"start"),t.onTransitionStart),e.addEventListener("".concat(n,"end"),t.onTransitionEnd)}))}},t.onTransitionStart=function(e){if(!t.destroyed){var n=t.containerRef.current;e&&e.target===n&&!t.animationStart&&t.resetEffect(n)}},t.onTransitionEnd=function(e){e&&"fadeEffect"===e.animationName&&t.resetEffect(e.target)},t.bindAnimationEvent=function(e){if(e&&e.getAttribute&&!e.getAttribute("disabled")&&!(e.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!Hl(n.target)){t.resetEffect(e);var o=getComputedStyle(e).getPropertyValue("border-top-color")||getComputedStyle(e).getPropertyValue("border-color")||getComputedStyle(e).getPropertyValue("background-color");t.clickWaveTimeoutId=window.setTimeout((function(){return t.onClick(e,o)}),0),Ul.cancel(t.animationStartId),t.animationStart=!0,t.animationStartId=Ul((function(){t.animationStart=!1}),10)}};return e.addEventListener("click",n,!0),{cancel:function(){e.removeEventListener("click",n,!0)}}}},t.renderWave=function(n){var o=n.csp,i=t.props.children;if(t.csp=o,!e.isValidElement(i))return i;var r=t.containerRef;return U(i)&&(r=$(i.ref,t.containerRef)),El(i,{ref:r})},t}return ge(o,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,o=this.getAttributeName();e.setAttribute(o,"false"),Rl&&(Rl.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return e.createElement(Ds,null,this.renderWave)}}]),o}(e.Component);Gl.contextType=Ns;var Wl=function(){return{width:0,opacity:0,transform:"scale(0)"}},zl=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},Yl=function(t){var n=t.prefixCls,o=!!t.loading;return t.existIcon?e.createElement("span",{className:"".concat(n,"-loading-icon")},e.createElement(ul,null)):e.createElement(In,{visible:o,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Wl,onAppearActive:zl,onEnterStart:Wl,onEnterActive:zl,onLeaveStart:zl,onLeaveActive:Wl},(function(t,o){var i=t.className,r=t.style;return e.createElement("span",{className:"".concat(n,"-loading-icon"),style:r,ref:o},e.createElement(ul,{className:i}))}))},jl=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},Xl=/^[\u4e00-\u9fa5]{2}$/,Kl=Xl.test.bind(Xl);function Jl(e){return"text"===e||"link"===e}function ql(t,n){if(null!=t){var o,i=n?" ":"";return"string"!==typeof t&&"number"!==typeof t&&"string"===typeof t.type&&Kl(t.props.children)?El(t,{children:t.props.children.split("").join(i)}):"string"===typeof t?Kl(t)?e.createElement("span",null,t.split("").join(i)):e.createElement("span",null,t):(o=t,e.isValidElement(o)&&o.type===e.Fragment?e.createElement("span",null,t):t)}}Ol("default","primary","ghost","dashed","link","text"),Ol("default","circle","round"),Ol("submit","button","reset");var Zl=function(t,n){var o,i=t.loading,r=void 0!==i&&i,s=t.prefixCls,l=t.type,a=void 0===l?"default":l,u=t.danger,p=t.shape,g=void 0===p?"default":p,_=t.size,m=t.className,y=t.children,T=t.icon,E=t.ghost,k=void 0!==E&&E,b=t.block,C=void 0!==b&&b,S=t.htmlType,I=void 0===S?"button":S,R=jl(t,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),O=e.useContext(Ls),w=c(e.useState(!!r),2),B=w[0],A=w[1],x=c(e.useState(!1),2),N=x[0],D=x[1],M=e.useContext(Ns),P=M.getPrefixCls,L=M.autoInsertSpaceInButton,F=M.direction,$=n||e.createRef(),U=function(){return 1===e.Children.count(y)&&!T&&!Jl(a)},H="object"===f(r)&&r.delay?r.delay||!0:!!r;e.useEffect((function(){var e=null;return"number"===typeof H?e=window.setTimeout((function(){e=null,A(H)}),H):A(H),function(){e&&(window.clearTimeout(e),e=null)}}),[H]),e.useEffect((function(){if($&&$.current&&!1!==L){var e=$.current.textContent;U()&&Kl(e)?N||D(!0):N&&D(!1)}}),[$]);var V=function(e){var n=t.onClick,o=t.disabled;B||o?e.preventDefault():null===n||void 0===n||n(e)};ms(!("string"===typeof T&&T.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(T,"` at https://ant.design/components/icon")),ms(!(k&&Jl(a)),"Button","`link` or `text` button can't be a `ghost` button.");var G=P("btn",s),W=!1!==L,z=_||O,Y=z&&{large:"lg",small:"sm",middle:void 0}[z]||"",j=B?"loading":T,X=v()(G,(d(o={},"".concat(G,"-").concat(g),"default"!==g&&g),d(o,"".concat(G,"-").concat(a),a),d(o,"".concat(G,"-").concat(Y),Y),d(o,"".concat(G,"-icon-only"),!y&&0!==y&&!!j),d(o,"".concat(G,"-background-ghost"),k&&!Jl(a)),d(o,"".concat(G,"-loading"),B),d(o,"".concat(G,"-two-chinese-chars"),N&&W),d(o,"".concat(G,"-block"),C),d(o,"".concat(G,"-dangerous"),!!u),d(o,"".concat(G,"-rtl"),"rtl"===F),o),m),K=T&&!B?T:e.createElement(Yl,{existIcon:!!T,prefixCls:G,loading:!!B}),J=y||0===y?function(t,n){var o=!1,i=[];return e.Children.forEach(t,(function(e){var t=f(e),n="string"===t||"number"===t;if(o&&n){var r=i.length-1,s=i[r];i[r]="".concat(s).concat(e)}else i.push(e);o=n})),e.Children.map(i,(function(e){return ql(e,n)}))}(y,U()&&W):null,q=ot(R,["navigate"]);if(void 0!==q.href)return e.createElement("a",h({},q,{className:X,onClick:V,ref:$}),K,J);var Z=e.createElement("button",h({},R,{type:I,className:X,onClick:V,ref:$}),K,J);return Jl(a)?Z:e.createElement(Gl,{disabled:!!B},Z)},Ql=e.forwardRef(Zl);Ql.displayName="Button",Ql.Group=Ll,Ql.__ANT_BUTTON=!0;var ea=Ql;var ta={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},na=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:ta}))};na.displayName="EyeOutlined";var oa=e.forwardRef(na),ia={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},ra=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:ia}))};ra.displayName="DeleteOutlined";var sa=e.forwardRef(ra),la={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},aa=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:la}))};aa.displayName="DownloadOutlined";var ca=e.forwardRef(aa),ua={adjustX:1,adjustY:1},pa=[0,0],ha={left:{points:["cr","cl"],overflow:ua,offset:[-4,0],targetOffset:pa},right:{points:["cl","cr"],overflow:ua,offset:[4,0],targetOffset:pa},top:{points:["bc","tc"],overflow:ua,offset:[0,-4],targetOffset:pa},bottom:{points:["tc","bc"],overflow:ua,offset:[0,4],targetOffset:pa},topLeft:{points:["bl","tl"],overflow:ua,offset:[0,-4],targetOffset:pa},leftTop:{points:["tr","tl"],overflow:ua,offset:[-4,0],targetOffset:pa},topRight:{points:["br","tr"],overflow:ua,offset:[0,-4],targetOffset:pa},rightTop:{points:["tl","tr"],overflow:ua,offset:[4,0],targetOffset:pa},bottomRight:{points:["tr","br"],overflow:ua,offset:[0,4],targetOffset:pa},rightBottom:{points:["bl","br"],overflow:ua,offset:[4,0],targetOffset:pa},bottomLeft:{points:["tl","bl"],overflow:ua,offset:[0,4],targetOffset:pa},leftBottom:{points:["br","bl"],overflow:ua,offset:[-4,0],targetOffset:pa}},da=function(t){var n=t.overlay,o=t.prefixCls,i=t.id,r=t.overlayInnerStyle;return e.createElement("div",{className:"".concat(o,"-inner"),id:i,role:"tooltip",style:r},"function"===typeof n?n():n)},fa=function(t,n){var o=t.overlayClassName,i=t.trigger,r=void 0===i?["hover"]:i,s=t.mouseEnterDelay,l=void 0===s?0:s,a=t.mouseLeaveDelay,c=void 0===a?.1:a,u=t.overlayStyle,p=t.prefixCls,d=void 0===p?"rc-tooltip":p,_=t.children,y=t.onVisibleChange,v=t.afterVisibleChange,T=t.transitionName,E=t.animation,k=t.motion,b=t.placement,C=void 0===b?"right":b,S=t.align,I=void 0===S?{}:S,R=t.destroyTooltipOnHide,O=void 0!==R&&R,w=t.defaultVisible,B=t.getTooltipContainer,A=t.overlayInnerStyle,x=g(t,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),N=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return N.current}));var D=m({},x);"visible"in t&&(D.popupVisible=t.visible);var M=!1,P=!1;if("boolean"===typeof O)M=O;else if(O&&"object"===f(O)){var L=O.keepParent;M=!0===L,P=!1===L}return e.createElement(Zo,h({popupClassName:o,prefixCls:d,popup:function(){var n=t.arrowContent,o=void 0===n?null:n,i=t.overlay,r=t.id;return[e.createElement("div",{className:"".concat(d,"-arrow"),key:"arrow"},o),e.createElement(da,{key:"content",prefixCls:d,id:r,overlay:i,overlayInnerStyle:A})]},action:r,builtinPlacements:ha,popupPlacement:C,ref:N,popupAlign:I,getPopupContainer:B,onPopupVisibleChange:y,afterPopupVisibleChange:v,popupTransitionName:T,popupAnimation:E,popupMotion:k,defaultPopupVisible:w,destroyPopupOnHide:M,autoDestroy:P,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:l},D),_)},ga=(0,e.forwardRef)(fa),_a={adjustX:1,adjustY:1},ma={adjustX:0,adjustY:0},ya=[0,0];function va(e){return"boolean"===typeof e?e?_a:ma:h(h({},ma),e)}Ol("success","processing","error","default","warning");var Ta=Ol("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),Ea=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},ka=new RegExp("^(".concat(Ta.join("|"),")(-inverse)?$"));function ba(t,n){var o=t.type;if((!0===o.__ANT_BUTTON||"button"===t.type)&&t.props.disabled||!0===o.__ANT_SWITCH&&(t.props.disabled||t.props.loading)){var i=function(e,t){var n={},o=h({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete o[t])})),{picked:n,omitted:o}}(t.props.style,["position","left","right","top","bottom","float","display","zIndex"]),r=i.picked,s=i.omitted,l=h(h({display:"inline-block"},r),{cursor:"not-allowed",width:t.props.block?"100%":null}),a=El(t,{style:h(h({},s),{pointerEvents:"none"}),className:null});return e.createElement("span",{style:l,className:v()(t.props.className,"".concat(n,"-disabled-compatible-wrapper"))},a)}return t}var Ca=e.forwardRef((function(t,n){var o,i=e.useContext(Ns),r=i.getPopupContainer,s=i.getPrefixCls,l=i.direction,a=c(C(!1,{value:t.visible,defaultValue:t.defaultVisible}),2),u=a[0],p=a[1],f=function(){var e=t.title,n=t.overlay;return!e&&!n&&0!==e},g=function(){var e=t.builtinPlacements,n=t.arrowPointAtCenter,o=t.autoAdjustOverflow;return e||function(e){var t=e.arrowWidth,n=void 0===t?4:t,o=e.horizontalArrowShift,i=void 0===o?16:o,r=e.verticalArrowShift,s=void 0===r?8:r,l=e.autoAdjustOverflow,a=e.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(s+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(s+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,s+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,s+n]}};return Object.keys(c).forEach((function(e){c[e]=a?h(h({},c[e]),{overflow:va(l),targetOffset:ya}):h(h({},ha[e]),{overflow:va(l)}),c[e].ignoreShake=!0})),c}({arrowPointAtCenter:n,autoAdjustOverflow:o})},_=t.getPopupContainer,m=Ea(t,["getPopupContainer"]),y=t.prefixCls,T=t.openClassName,E=t.getTooltipContainer,k=t.overlayClassName,b=t.color,S=t.overlayInnerStyle,I=t.children,R=s("tooltip",y),O=s(),w=u;!("visible"in t)&&f()&&(w=!1);var B,A=ba(Tl(I)?I:e.createElement("span",null,I),R),x=A.props,N=v()(x.className,d({},T||"".concat(R,"-open"),!0)),D=v()(k,(d(o={},"".concat(R,"-rtl"),"rtl"===l),d(o,"".concat(R,"-").concat(b),b&&ka.test(b)),o)),M=S;return b&&!ka.test(b)&&(M=h(h({},S),{background:b}),B={"--antd-arrow-background-color":b}),e.createElement(ga,h({},m,{prefixCls:R,overlayClassName:D,getTooltipContainer:_||E||r,ref:n,builtinPlacements:g(),overlay:function(){var e=t.title,n=t.overlay;return 0===e?e:n||e||""}(),visible:w,onVisibleChange:function(e){var n;p(!f()&&e),f()||null===(n=t.onVisibleChange)||void 0===n||n.call(t,e)},onPopupAlign:function(e,t){var n=g(),o=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(o){var i=e.getBoundingClientRect(),r={top:"50%",left:"50%"};o.indexOf("top")>=0||o.indexOf("Bottom")>=0?r.top="".concat(i.height-t.offset[1],"px"):(o.indexOf("Top")>=0||o.indexOf("bottom")>=0)&&(r.top="".concat(-t.offset[1],"px")),o.indexOf("left")>=0||o.indexOf("Right")>=0?r.left="".concat(i.width-t.offset[0],"px"):(o.indexOf("right")>=0||o.indexOf("Left")>=0)&&(r.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(r.left," ").concat(r.top)}},overlayInnerStyle:M,arrowContent:e.createElement("span",{className:"".concat(R,"-arrow-content"),style:B}),motion:{motionName:Nl(O,"zoom-big-fast",t.transitionName),motionDeadline:1e3}}),w?El(A,{className:N}):A)}));Ca.displayName="Tooltip",Ca.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var Sa=Ca,Ia={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Ra=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:Ia}))};Ra.displayName="CheckOutlined";var Oa=e.forwardRef(Ra),wa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},Ba=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:wa}))};Ba.displayName="CheckCircleFilled";var Aa=e.forwardRef(Ba),xa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},Na=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:xa}))};Na.displayName="CloseCircleFilled";var Da=e.forwardRef(Na);function Ma(e){return!e||e<0?0:e>100?100:e}function Pa(e){var t=e.success,n=e.successPercent;return t&&"progress"in t&&(ms(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),n=t.progress),t&&"percent"in t&&(n=t.percent),n}var La=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},Fa=function(e,t){var n=e.from,o=void 0===n?$r.blue:n,i=e.to,r=void 0===i?$r.blue:i,s=e.direction,l=void 0===s?"rtl"===t?"to left":"to right":s,a=La(e,["from","to","direction"]);if(0!==Object.keys(a).length){var c=function(e){var t=[];return Object.keys(e).forEach((function(n){var o=parseFloat(n.replace(/%/g,""));isNaN(o)||t.push({key:o,value:e[n]})})),(t=t.sort((function(e,t){return e.key-t.key}))).map((function(e){var t=e.key,n=e.value;return"".concat(n," ").concat(t,"%")})).join(", ")}(a);return{backgroundImage:"linear-gradient(".concat(l,", ").concat(c,")")}}return{backgroundImage:"linear-gradient(".concat(l,", ").concat(o,", ").concat(r,")")}},$a=function(t){var n=t.prefixCls,o=t.direction,i=t.percent,r=t.strokeWidth,s=t.size,l=t.strokeColor,a=t.strokeLinecap,c=t.children,u=t.trailColor,p=t.success,d=l&&"string"!==typeof l?Fa(l,o):{background:l},f=u?{backgroundColor:u}:void 0,g=h({width:"".concat(Ma(i),"%"),height:r||("small"===s?6:8),borderRadius:"square"===a?0:""},d),_=Pa(t),m={width:"".concat(Ma(_),"%"),height:r||("small"===s?6:8),borderRadius:"square"===a?0:"",backgroundColor:null===p||void 0===p?void 0:p.strokeColor},y=void 0!==_?e.createElement("div",{className:"".concat(n,"-success-bg"),style:m}):null;return e.createElement(e.Fragment,null,e.createElement("div",{className:"".concat(n,"-outer")},e.createElement("div",{className:"".concat(n,"-inner"),style:f},e.createElement("div",{className:"".concat(n,"-bg"),style:g}),y)),c)},Ua={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1},Ha=function(t){var n=t.map((function(){return(0,e.useRef)()})),o=(0,e.useRef)(null);return(0,e.useEffect)((function(){var e=Date.now(),t=!1;Object.keys(n).forEach((function(i){var r=n[i].current;if(r){t=!0;var s=r.style;s.transitionDuration=".3s, .3s, .3s, .06s",o.current&&e-o.current<100&&(s.transitionDuration="0s, 0s")}})),t&&(o.current=Date.now())})),[n]},Va=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],Ga=function(t){var n=t.className,o=t.percent,i=t.prefixCls,r=t.strokeColor,s=t.strokeLinecap,l=t.strokeWidth,a=t.style,u=t.trailColor,p=t.trailWidth,d=t.transition,f=g(t,Va);delete f.gapPosition;var _=Array.isArray(o)?o:[o],m=Array.isArray(r)?r:[r],y=c(Ha(_),1)[0],T=l/2,E=100-l/2,k="M ".concat("round"===s?T:0,",").concat(T,"\n         L ").concat("round"===s?E:100,",").concat(T),b="0 0 100 ".concat(l),C=0;return e.createElement("svg",h({className:v()("".concat(i,"-line"),n),viewBox:b,preserveAspectRatio:"none",style:a},f),e.createElement("path",{className:"".concat(i,"-line-trail"),d:k,strokeLinecap:s,stroke:u,strokeWidth:p||l,fillOpacity:"0"}),_.map((function(t,n){var o=1;switch(s){case"round":o=1-l/100;break;case"square":o=1-l/2/100;break;default:o=1}var r={strokeDasharray:"".concat(t*o,"px, 100px"),strokeDashoffset:"-".concat(C,"px"),transition:d||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},a=m[n]||m[m.length-1];return C+=t,e.createElement("path",{key:n,className:"".concat(i,"-line-path"),d:k,strokeLinecap:s,stroke:a,strokeWidth:l,fillOpacity:"0",ref:y[n],style:r})})))};Ga.defaultProps=Ua,Ga.displayName="Line";var Wa=0,za=Pe();var Ya=function(t){var n=c(e.useState(),2),o=n[0],i=n[1];return e.useEffect((function(){i("rc_progress_".concat(function(){var e;return za?(e=Wa,Wa+=1):e="TEST_OR_SSR",e}()))}),[]),t||o},ja=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Xa(e){return+e.replace("%","")}function Ka(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}function Ja(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5?arguments[5]:void 0,s=50-o/2,l=0,a=-s,c=0,u=-2*s;switch(r){case"left":l=-s,a=0,c=2*s,u=0;break;case"right":l=s,a=0,c=-2*s,u=0;break;case"bottom":a=s,u=2*s}var p="M 50,50 m ".concat(l,",").concat(a,"\n   a ").concat(s,",").concat(s," 0 1 1 ").concat(c,",").concat(-u,"\n   a ").concat(s,",").concat(s," 0 1 1 ").concat(-c,",").concat(u),h=2*Math.PI*s,d={stroke:"string"===typeof n?n:void 0,strokeDasharray:"".concat(t/100*(h-i),"px ").concat(h,"px"),strokeDashoffset:"-".concat(i/2+e/100*(h-i),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:p,pathStyle:d}}var qa=function(t){var n=t.id,o=t.prefixCls,i=t.strokeWidth,r=t.trailWidth,s=t.gapDegree,l=t.gapPosition,a=t.trailColor,u=t.strokeLinecap,p=t.style,d=t.className,_=t.strokeColor,m=t.percent,y=g(t,ja),T=Ya(n),E="".concat(T,"-gradient"),k=Ja(0,100,a,i,s,l),b=k.pathString,C=k.pathStyle,S=Ka(m),I=Ka(_),R=I.find((function(e){return e&&"object"===f(e)})),O=c(Ha(S),1)[0];return e.createElement("svg",h({className:v()("".concat(o,"-circle"),d),viewBox:"0 0 100 100",style:p,id:n},y),R&&e.createElement("defs",null,e.createElement("linearGradient",{id:E,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(R).sort((function(e,t){return Xa(e)-Xa(t)})).map((function(t,n){return e.createElement("stop",{key:n,offset:t,stopColor:R[t]})})))),e.createElement("path",{className:"".concat(o,"-circle-trail"),d:b,stroke:a,strokeLinecap:u,strokeWidth:r||i,fillOpacity:"0",style:C}),function(){var t=0;return S.map((function(n,r){var a=I[r]||I[I.length-1],c=a&&"object"===f(a)?"url(#".concat(E,")"):"",p=Ja(t,n,a,i,s,l);return t+=n,e.createElement("path",{key:r,className:"".concat(o,"-circle-path"),d:p.pathString,stroke:c,strokeLinecap:u,strokeWidth:i,opacity:0===n?0:1,fillOpacity:"0",style:p.pathStyle,ref:O[r]})}))}().reverse())};qa.defaultProps=Ua,qa.displayName="Circle";var Za=qa;function Qa(e){var t=e.percent,n=Ma(Pa({success:e.success,successPercent:e.successPercent}));return[n,Ma(Ma(t)-n)]}var ec=function(t){var n=t.prefixCls,o=t.width,i=t.strokeWidth,r=t.trailColor,s=t.strokeLinecap,l=t.gapPosition,a=t.gapDegree,c=t.type,u=t.children,p=t.success,h=o||120,f={width:h,height:h,fontSize:.15*h+6},g=i||6,_=l||"dashboard"===c&&"bottom"||"top",m="[object Object]"===Object.prototype.toString.call(t.strokeColor),y=function(e){var t=e.success,n=void 0===t?{}:t,o=e.strokeColor;return[n.strokeColor||$r.green,o||null]}({success:p,strokeColor:t.strokeColor}),T=v()("".concat(n,"-inner"),d({},"".concat(n,"-circle-gradient"),m));return e.createElement("div",{className:T,style:f},e.createElement(Za,{percent:Qa(t),strokeWidth:g,trailWidth:g,strokeColor:y,strokeLinecap:s,trailColor:r,prefixCls:n,gapDegree:a||0===a?a:"dashboard"===c?75:void 0,gapPosition:_}),u)},tc=function(t){for(var n=t.size,o=t.steps,i=t.percent,r=void 0===i?0:i,s=t.strokeWidth,l=void 0===s?8:s,a=t.strokeColor,c=t.trailColor,u=t.prefixCls,p=t.children,h=Math.round(o*(r/100)),f="small"===n?2:14,g=[],_=0;_<o;_+=1)g.push(e.createElement("div",{key:_,className:v()("".concat(u,"-steps-item"),d({},"".concat(u,"-steps-item-active"),_<=h-1)),style:{backgroundColor:_<=h-1?a:c,width:f,height:l}}));return e.createElement("div",{className:"".concat(u,"-steps-outer")},g,p)},nc=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},oc=(Ol("line","circle","dashboard"),Ol("normal","exception","active","success")),ic=function(t){me(o,t);var n=Ee(o);function o(){var t;return de(this,o),(t=n.apply(this,arguments)).renderProgress=function(n){var o,i,r=n.getPrefixCls,s=n.direction,l=ve(t).props,a=l.prefixCls,c=l.className,u=l.size,p=l.type,f=l.steps,g=l.showInfo,_=l.strokeColor,m=nc(l,["prefixCls","className","size","type","steps","showInfo","strokeColor"]),y=r("progress",a),T=t.getProgressStatus(),E=t.renderProcessInfo(y,T);ms(!("successPercent"in l),"Progress","`successPercent` is deprecated. Please use `success.percent` instead."),"line"===p?i=f?e.createElement(tc,h({},t.props,{strokeColor:"string"===typeof _?_:void 0,prefixCls:y,steps:f}),E):e.createElement($a,h({},t.props,{prefixCls:y,direction:s}),E):"circle"!==p&&"dashboard"!==p||(i=e.createElement(ec,h({},t.props,{prefixCls:y,progressStatus:T}),E));var k=v()(y,(d(o={},"".concat(y,"-").concat(("dashboard"===p?"circle":f&&"steps")||p),!0),d(o,"".concat(y,"-status-").concat(T),!0),d(o,"".concat(y,"-show-info"),g),d(o,"".concat(y,"-").concat(u),u),d(o,"".concat(y,"-rtl"),"rtl"===s),o),c);return e.createElement("div",h({},ot(m,["status","format","trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","percent","success","successPercent"]),{className:k}),i)},t}return ge(o,[{key:"getPercentNumber",value:function(){var e=this.props.percent,t=void 0===e?0:e,n=Pa(this.props);return parseInt(void 0!==n?n.toString():t.toString(),10)}},{key:"getProgressStatus",value:function(){var e=this.props.status;return oc.indexOf(e)<0&&this.getPercentNumber()>=100?"success":e||"normal"}},{key:"renderProcessInfo",value:function(t,n){var o,i=this.props,r=i.showInfo,s=i.format,l=i.type,a=i.percent,c=Pa(this.props);if(!r)return null;var u="line"===l;return s||"exception"!==n&&"success"!==n?o=(s||function(e){return"".concat(e,"%")})(Ma(a),Ma(c)):"exception"===n?o=u?e.createElement(Da,null):e.createElement(_s,null):"success"===n&&(o=u?e.createElement(Aa,null):e.createElement(Oa,null)),e.createElement("span",{className:"".concat(t,"-text"),title:"string"===typeof o?o:void 0},o)}},{key:"render",value:function(){return e.createElement(Ds,null,this.renderProgress)}}]),o}(e.Component);ic.defaultProps={type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",gapDegree:void 0,strokeLinecap:"round"};var rc=ic,sc=e.forwardRef((function(t,n){var o,i,r,s=t.prefixCls,l=t.className,a=t.style,u=t.locale,p=t.listType,f=t.file,g=t.items,_=t.progress,m=t.iconRender,y=t.actionIconRender,T=t.itemRender,E=t.isImgUrl,k=t.showPreviewIcon,b=t.showRemoveIcon,C=t.showDownloadIcon,S=t.previewIcon,I=t.removeIcon,R=t.downloadIcon,O=t.onPreview,w=t.onDownload,B=t.onClose,A=c(e.useState(!1),2),x=A[0],N=A[1],D=e.useRef();e.useEffect((function(){return D.current=setTimeout((function(){N(!0)}),300),function(){window.clearTimeout(D.current)}}),[]);var M="".concat(s,"-span"),P=m(f),L=e.createElement("div",{className:"".concat(s,"-text-icon")},P);if("picture"===p||"picture-card"===p)if("uploading"===f.status||!f.thumbUrl&&!f.url){var F,$=v()((d(F={},"".concat(s,"-list-item-thumbnail"),!0),d(F,"".concat(s,"-list-item-file"),"uploading"!==f.status),F));L=e.createElement("div",{className:$},P)}else{var U,H=(null===E||void 0===E?void 0:E(f))?e.createElement("img",{src:f.thumbUrl||f.url,alt:f.name,className:"".concat(s,"-list-item-image")}):P,V=v()((d(U={},"".concat(s,"-list-item-thumbnail"),!0),d(U,"".concat(s,"-list-item-file"),E&&!E(f)),U));L=e.createElement("a",{className:V,onClick:function(e){return O(f,e)},href:f.url||f.thumbUrl,target:"_blank",rel:"noopener noreferrer"},H)}var G,W=v()((d(o={},"".concat(s,"-list-item"),!0),d(o,"".concat(s,"-list-item-").concat(f.status),!0),d(o,"".concat(s,"-list-item-list-type-").concat(p),!0),o)),z="string"===typeof f.linkProps?JSON.parse(f.linkProps):f.linkProps,Y=b?y(("function"===typeof I?I(f):I)||e.createElement(sa,null),(function(){return B(f)}),s,u.removeFile):null,j=C&&"done"===f.status?y(("function"===typeof R?R(f):R)||e.createElement(ca,null),(function(){return w(f)}),s,u.downloadFile):null,X="picture-card"!==p&&e.createElement("span",{key:"download-delete",className:v()("".concat(s,"-list-item-card-actions"),{picture:"picture"===p})},j,Y),K=v()("".concat(s,"-list-item-name")),J=f.url?[e.createElement("a",h({key:"view",target:"_blank",rel:"noopener noreferrer",className:K,title:f.name},z,{href:f.url,onClick:function(e){return O(f,e)}}),f.name),X]:[e.createElement("span",{key:"view",className:K,onClick:function(e){return O(f,e)},title:f.name},f.name),X],q=k?e.createElement("a",{href:f.url||f.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:f.url||f.thumbUrl?void 0:{pointerEvents:"none",opacity:.5},onClick:function(e){return O(f,e)},title:u.previewFile},"function"===typeof S?S(f):S||e.createElement(oa,null)):null,Z="picture-card"===p&&"uploading"!==f.status&&e.createElement("span",{className:"".concat(s,"-list-item-actions")},q,"done"===f.status&&j,Y);G=f.response&&"string"===typeof f.response?f.response:(null===(i=f.error)||void 0===i?void 0:i.statusText)||(null===(r=f.error)||void 0===r?void 0:r.message)||u.uploadError;var Q=e.createElement("span",{className:M},L,J),ee=(0,e.useContext(Ns).getPrefixCls)(),te=e.createElement("div",{className:W},e.createElement("div",{className:"".concat(s,"-list-item-info")},Q),Z,x&&e.createElement(In,{motionName:"".concat(ee,"-fade"),visible:"uploading"===f.status,motionDeadline:2e3},(function(t){var n=t.className,o="percent"in f?e.createElement(rc,h({},_,{type:"line",percent:f.percent})):null;return e.createElement("div",{className:v()("".concat(s,"-list-item-progress"),n)},o)}))),ne=v()("".concat(s,"-list-").concat(p,"-container"),l),oe="error"===f.status?e.createElement(Sa,{title:G,getPopupContainer:function(e){return e.parentNode}},te):te;return e.createElement("div",{className:ne,style:a,ref:n},T?T(oe,f,g,{download:w.bind(null,f),preview:O.bind(null,f),remove:B.bind(null,f)}):oe)})),lc=sc,ac=h({},Dl);delete ac.onAppearEnd,delete ac.onEnterEnd,delete ac.onLeaveEnd;var cc=function(t,n){var o,i=t.listType,r=t.previewFile,s=t.onPreview,l=t.onDownload,a=t.onRemove,u=t.locale,p=t.iconRender,f=t.isImageUrl,g=t.prefixCls,_=t.items,m=void 0===_?[]:_,y=t.showPreviewIcon,T=t.showRemoveIcon,E=t.showDownloadIcon,k=t.removeIcon,b=t.previewIcon,C=t.downloadIcon,S=t.progress,R=t.appendAction,O=t.appendActionVisible,w=t.itemRender,B=c(e.useReducer((function(e){return e+1}),0),2)[1],A=c(e.useState(!1),2),x=A[0],N=A[1];e.useEffect((function(){"picture"!==i&&"picture-card"!==i||(m||[]).forEach((function(e){"undefined"!==typeof document&&"undefined"!==typeof window&&window.FileReader&&window.File&&(e.originFileObj instanceof File||e.originFileObj instanceof Blob)&&void 0===e.thumbUrl&&(e.thumbUrl="",r&&r(e.originFileObj).then((function(t){e.thumbUrl=t||"",B()})))}))}),[i,m,r]),e.useEffect((function(){N(!0)}),[]);var D=function(e,t){if(s)return null===t||void 0===t||t.preventDefault(),s(e)},M=function(e){"function"===typeof l?l(e):e.url&&window.open(e.url)},P=function(e){null===a||void 0===a||a(e)},L=function(t){if(p)return p(t,i);var n="uploading"===t.status,o=f&&f(t)?e.createElement(_l,null):e.createElement(vl,null),r=n?e.createElement(ul,null):e.createElement(dl,null);return"picture"===i?r=n?e.createElement(ul,null):o:"picture-card"===i&&(r=n?u.uploading:o),r},F=function(t,n,o,i){var r={type:"text",size:"small",title:i,onClick:function(e){n(),Tl(t)&&t.props.onClick&&t.props.onClick(e)},className:"".concat(o,"-list-item-card-actions-btn")};if(Tl(t)){var s=El(t,h(h({},t.props),{onClick:function(){}}));return e.createElement(ea,h({},r,{icon:s}))}return e.createElement(ea,r,e.createElement("span",null,t))};e.useImperativeHandle(n,(function(){return{handlePreview:D,handleDownload:M}}));var $=e.useContext(Ns),U=$.getPrefixCls,H=$.direction,V=U("upload",g),G=v()((d(o={},"".concat(V,"-list"),!0),d(o,"".concat(V,"-list-").concat(i),!0),d(o,"".concat(V,"-list-rtl"),"rtl"===H),o)),W=I(m.map((function(e){return{key:e.uid,file:e}}))),z="picture-card"===i?"animate-inline":"animate",Y={motionDeadline:2e3,motionName:"".concat(V,"-").concat(z),keys:W,motionAppear:x};return"picture-card"!==i&&(Y=h(h({},ac),Y)),e.createElement("div",{className:G},e.createElement(Sn,h({},Y,{component:!1}),(function(t){var n=t.key,o=t.file,r=t.className,s=t.style;return e.createElement(lc,{key:n,locale:u,prefixCls:V,className:r,style:s,file:o,items:m,progress:S,listType:i,isImgUrl:f,showPreviewIcon:y,showRemoveIcon:T,showDownloadIcon:E,removeIcon:k,previewIcon:b,downloadIcon:C,iconRender:L,actionIconRender:F,itemRender:w,onPreview:D,onDownload:M,onClose:P})})),R&&e.createElement(In,h({},Y,{visible:O,forceRender:!0}),(function(e){var t=e.className,n=e.style;return El(R,(function(e){return{className:v()(e.className,t),style:h(h(h({},n),{pointerEvents:t?"none":void 0}),e.style)}}))})))},uc=e.forwardRef(cc);uc.displayName="UploadList",uc.defaultProps={listType:"text",progress:{strokeWidth:2,showInfo:!1},showRemoveIcon:!0,showDownloadIcon:!1,showPreviewIcon:!0,appendActionVisible:!0,previewFile:function(e){return new Promise((function(t){if(e.type&&Sl(e.type)){var n=document.createElement("canvas");n.width=Il,n.height=Il,n.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(Il,"px; height: ").concat(Il,"px; z-index: 9999; display: none;"),document.body.appendChild(n);var o=n.getContext("2d"),i=new Image;i.onload=function(){var e=i.width,r=i.height,s=Il,l=Il,a=0,c=0;e>r?c=-((l=r*(Il/e))-s)/2:a=-((s=e*(Il/r))-l)/2,o.drawImage(i,a,c,s,l);var u=n.toDataURL();document.body.removeChild(n),t(u)},i.src=window.URL.createObjectURL(e)}else t("")}))},isImageUrl:function(e){if(e.type&&!e.thumbUrl)return Sl(e.type);var t=e.thumbUrl||e.url||"",n=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/"),t=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(t)||[""])[0]}(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(n))||!/^data:/.test(t)&&!n}};var pc=uc,hc=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{a(o.next(e))}catch(t){r(t)}}function l(e){try{a(o.throw(e))}catch(t){r(t)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}a((o=o.apply(e,t||[])).next())}))},dc="__LIST_IGNORE_".concat(Date.now(),"__"),fc=function(t,n){var o,i=t.fileList,r=t.defaultFileList,s=t.onRemove,l=t.showUploadList,a=t.listType,u=t.onPreview,g=t.onDownload,_=t.onChange,m=t.onDrop,y=t.previewFile,T=t.disabled,E=t.locale,k=t.iconRender,b=t.isImageUrl,S=t.progress,R=t.prefixCls,O=t.className,w=t.type,B=t.children,A=t.style,x=t.itemRender,N=t.maxCount,D=c(C(r||[],{value:i,postState:function(e){return null!==e&&void 0!==e?e:[]}}),2),M=D[0],P=D[1],L=c(e.useState("drop"),2),F=L[0],$=L[1],U=e.useRef();e.useEffect((function(){ms("fileList"in t||!("value"in t),"Upload","`value` is not a valid prop, do you mean `fileList`?"),ms(!("transformFile"in t),"Upload","`transformFile` is deprecated. Please use `beforeUpload` directly.")}),[]),e.useMemo((function(){var e=Date.now();(i||[]).forEach((function(t,n){t.uid||Object.isFrozen(t)||(t.uid="__AUTO__".concat(e,"_").concat(n,"__"))}))}),[i]);var H=function(e,t,n){var o=I(t);1===N?o=o.slice(-1):N&&(o=o.slice(0,N)),P(o);var i={file:e,fileList:o};n&&(i.event=n),null===_||void 0===_||_(i)},V=function(e){var t=e.filter((function(e){return!e.file[dc]}));if(t.length){var n=t.map((function(e){return kl(e.file)})),o=I(M);n.forEach((function(e){o=bl(e,o)})),n.forEach((function(e,n){var i=e;if(t[n].parsedFile)e.status="uploading";else{var r,s=e.originFileObj;try{r=new File([s],s.name,{type:s.type})}catch(l){(r=new Blob([s],{type:s.type})).name=s.name,r.lastModifiedDate=new Date,r.lastModified=(new Date).getTime()}r.uid=e.uid,i=r}H(i,o)}))}},G=function(e,t,n){try{"string"===typeof e&&(e=JSON.parse(e))}catch(r){}if(Cl(t,M)){var o=kl(t);o.status="done",o.percent=100,o.response=e,o.xhr=n;var i=bl(o,M);H(o,i)}},W=function(e,t){if(Cl(t,M)){var n=kl(t);n.status="uploading",n.percent=e.percent;var o=bl(n,M);H(n,o,e)}},z=function(e,t,n){if(Cl(n,M)){var o=kl(n);o.error=e,o.response=t,o.status="error";var i=bl(o,M);H(o,i)}},Y=function(e){var t;Promise.resolve("function"===typeof s?s(e):s).then((function(n){var o;if(!1!==n){var i=function(e,t){var n=void 0!==e.uid?"uid":"name",o=t.filter((function(t){return t[n]!==e[n]}));return o.length===t.length?null:o}(e,M);i&&(t=h(h({},e),{status:"removed"}),null===M||void 0===M||M.forEach((function(e){var n=void 0!==t.uid?"uid":"name";e[n]!==t[n]||Object.isFrozen(e)||(e.status="removed")})),null===(o=U.current)||void 0===o||o.abort(t),H(t,i))}}))},j=function(e){$(e.type),"drop"===e.type&&(null===m||void 0===m||m(e))};e.useImperativeHandle(n,(function(){return{onBatchStart:V,onSuccess:G,onProgress:W,onError:z,fileList:M,upload:U.current}}));var X=e.useContext(Ns),K=X.getPrefixCls,J=X.direction,q=K("upload",R),Z=h(h({onBatchStart:V,onError:z,onProgress:W,onSuccess:G},t),{prefixCls:q,beforeUpload:function(e,n){return hc(void 0,void 0,void 0,p().mark((function o(){var i,r,s,l;return p().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i=t.beforeUpload,r=t.transformFile,s=e,!i){o.next=13;break}return o.next=5,i(e,n);case 5:if(!1!==(l=o.sent)){o.next=8;break}return o.abrupt("return",!1);case 8:if(delete e[dc],l!==dc){o.next=12;break}return Object.defineProperty(e,dc,{value:!0,configurable:!0}),o.abrupt("return",!1);case 12:"object"===f(l)&&l&&(s=l);case 13:if(!r){o.next=17;break}return o.next=16,r(s);case 16:s=o.sent;case 17:return o.abrupt("return",s);case 18:case"end":return o.stop()}}),o)})))},onChange:void 0});delete Z.className,delete Z.style,B&&!T||delete Z.id;var Q=function(t,n){return l?e.createElement(Cs,{componentName:"Upload",defaultLocale:Es.Upload},(function(o){var i="boolean"===typeof l?{}:l,r=i.showRemoveIcon,s=i.showPreviewIcon,c=i.showDownloadIcon,p=i.removeIcon,d=i.previewIcon,f=i.downloadIcon;return e.createElement(pc,{listType:a,items:M,previewFile:y,onPreview:u,onDownload:g,onRemove:Y,showRemoveIcon:!T&&r,showPreviewIcon:s,showDownloadIcon:c,removeIcon:p,previewIcon:d,downloadIcon:f,iconRender:k,locale:h(h({},o),E),isImageUrl:b,progress:S,appendAction:t,appendActionVisible:n,itemRender:x})})):t};if("drag"===w){var ee,te=v()(q,(d(ee={},"".concat(q,"-drag"),!0),d(ee,"".concat(q,"-drag-uploading"),M.some((function(e){return"uploading"===e.status}))),d(ee,"".concat(q,"-drag-hover"),"dragover"===F),d(ee,"".concat(q,"-disabled"),T),d(ee,"".concat(q,"-rtl"),"rtl"===J),ee),O);return e.createElement("span",null,e.createElement("div",{className:te,onDrop:j,onDragOver:j,onDragLeave:j,style:A},e.createElement(ol,h({},Z,{ref:U,className:"".concat(q,"-btn")}),e.createElement("div",{className:"".concat(q,"-drag-container")},B))),Q())}var ne=v()(q,(d(o={},"".concat(q,"-select"),!0),d(o,"".concat(q,"-select-").concat(a),!0),d(o,"".concat(q,"-disabled"),T),d(o,"".concat(q,"-rtl"),"rtl"===J),o)),oe=function(t){return e.createElement("div",{className:ne,style:t},e.createElement(ol,h({},Z,{ref:U})))};return"picture-card"===a?e.createElement("span",{className:v()("".concat(q,"-picture-card-wrapper"),O)},Q(oe(),!!B)):e.createElement("span",{className:O},oe(B?void 0:{display:"none"}),Q())},gc=e.forwardRef(fc);gc.Dragger=ll,gc.LIST_IGNORE=dc,gc.displayName="Upload",gc.defaultProps={type:"select",multiple:!1,action:"",data:{},accept:"",showUploadList:!0,listType:"text",className:"",disabled:!1,supportServerRender:!0};var _c=gc;_c.Dragger=ll;var mc=_c,yc=n(7496),vc=n.n(yc);vc().Msg=Object.assign(vc().Msg,{title:"Code",blocks:"Blocks",linkTooltip:"Save and link to blocks.",runTooltip:"Run the program defined by the blocks in the workspace.",badCode:"Program error:\n%1",timeout:"Maximum execution iterations exceeded.",trashTooltip:"Discard all blocks.",catLogic:"Logic",catLoops:"Loops",catMath:"Math",catText:"Text",catLists:"Lists",catColour:"Colour",catVariables:"Variables",catFunctions:"Functions",listVariable:"list",textVariable:"text",httpRequestError:"There was a problem with the request.",linkAlert:"Share your blocks with this link:\n\n%1",hashError:"Sorry, '%1' doesn't correspond with any saved program.",xmlError:"Could not load your saved file. Perhaps it was created with a different version of Blockly?",badXml:"Error parsing XML:\n%1\n\nSelect 'OK' to abandon your changes or 'Cancel' to further edit the XML."}),vc().Blocks.instantiate={init:function(){this.appendValueInput("NAME").setCheck(null).appendField("Instatiate Object"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(290),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.start={init:function(){this.appendDummyInput().appendField("Start Block"),this.setNextStatement(!0,null),this.setColour(65),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.commentwidget={init:function(){this.appendValueInput("NAME").setCheck("String").appendField("Comment"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.echowidget={init:function(){this.appendValueInput("NAME").setCheck("String").appendField("Echo"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(160),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.sendmessage={init:function(){this.appendValueInput("PLAYER").appendField("SendMessage ").appendField(new(vc().FieldTextInput)('"Hello"'),"MESSAGE").appendField("To Player"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(160),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.loop={init:function(){this.appendDummyInput().appendField("void loop() {"),this.appendStatementInput("NAME").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.statement={init:function(){this.appendValueInput("statementValue").setCheck("String").appendField("statement"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.update={init:function(){this.appendStatementInput("NAME").setCheck(null).appendField("update objects:"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.flashcolor={init:function(){this.appendDummyInput().appendField("Flash LED color").appendField(new(vc().FieldDropdown)([["Green","GREEN"],["Red","RED"],["Blue","BLUE"]]),"COLOR"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.loadobjects={init:function(){this.appendDummyInput().appendField("Load Objects Here"),this.appendStatementInput("NAME").setCheck(null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.timer={init:function(){this.appendDummyInput().appendField("Timer"),this.appendValueInput("NAME").setCheck("String").appendField("Unique Name"),this.appendValueInput("TIMEOUT").setCheck("Number").appendField("Timer Length (ms)"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.potionname={init:function(){this.appendDummyInput().appendField("Potion Name"),this.setOutput(!0,"String"),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.tostring={init:function(){this.appendValueInput("VARIABLE").appendField("convert to string, Variable:"),this.setPreviousStatement(!1,null),this.setNextStatement(!1,null),this.setOutput(!0,"String"),this.setColour(160),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.structures={init:function(){this.appendDummyInput().appendField("Spawn"),this.appendDummyInput().appendField("Structure").appendField(new(vc().FieldDropdown)([["Farm","farm"],["Castle","castle"],["Cottage","cottage"],["Cottage Road","cottage_road"]]),"STRUCTURE"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.createdrone={init:function(){this.appendDummyInput().appendField("Create Drone"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.buildbox={init:function(){this.appendDummyInput().appendField("Build Box"),this.appendDummyInput().appendField("Block Type").appendField(new(vc().FieldDropdown)([["Slime","slime"],["Oak","oak"]]),"BLOCKTYPE"),this.appendValueInput("LENGTH").appendField("Length"),this.appendValueInput("WIDTH").appendField("WIDTH"),this.appendValueInput("HEIGHT").appendField("Height"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.changeBlock={init:function(){this.appendValueInput("BLOCK").appendField("Change Block"),this.appendValueInput("TYPEOFBLOCK").appendField("Type of Block"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.sign={init:function(){this.appendDummyInput().appendField("Create a standing sign"),this.appendValueInput("LOCATION").appendField("Location"),this.appendValueInput("LINE1").appendField("Line 1"),this.appendValueInput("LINE2").appendField("Line 2"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.wallsign={init:function(){this.appendDummyInput().appendField("Create a wall sign"),this.appendValueInput("LINE1").appendField("Line 1"),this.appendValueInput("LINE2").appendField("Line 2"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.consolelog={init:function(){this.appendValueInput("NAME").setCheck("String").appendField("server console"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(160),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.eventlistener={init:function(){this.appendDummyInput().appendField("Listener Event").appendField(new(vc().FieldDropdown)([["A player moved","playerMove"],["Player Mouse Click","playerInteract"],["Player dropped an item","playerDropItem"],["Area Effect Cloud Apply","areaEffectCloudApply"],["An inventory item was selected","inventoryClick"],["An inventory got an item","inventoryPickupItem"],["An item was crafted","craftItem"],["An entity moved an inventory item","inventoryMoveItem"],["Player entered a command","playerCommandPreprocess"],["A player died","playerDeath"],["A player joined the server","playerJoin"],["World save event","worldSave"],["An item was hung","hangingPlace"],["Player entered a portal","playerPortal"],["Bow was fired","entityShootBow"],["Projectile Hit Something","projectileHit"],["Projectile Launched","projectileLaunch"],["Player Respawn","playerRespawn"],["Item Despawn","itemDespawn"],["Player disconnected","playerQuit"],["A potion was splashed","potionSplash"],["A player consumed an item","playerItemConsume"],["A plant grew on a block","blockGrow"],["A block was broken","blockBreak"],["A block was exploded","blockExplode"],["A player threw an egg","playerEggThrow"],["An entity was damaged","entityDamage"],["An entity died","entityDeath"],["An entity was spawned","entitySpawn"],["A creature was spawned","creatureSpawn"],["An entity targets another entity","entityTarget"],["An entity was damaged by entity","entityDamageByEntity"],["An entity exploded","entityExplode"],["A player, monster or animal was damaged","entityDamage"],["A server command was executed","serverCommand"],["A server reload has completed","serverLoad"],["A vehicle moved","vehicleMove"],["A vehicle collided with a block","vehicleBlockCollision"],["A vehicle was entered","vehicleEnter"],["A vehicle was exited","vehicleExit"],["World unload event","worldUnload"]]),"LISTENERTYPE"),this.appendStatementInput("LISTENERCODE").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(40),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.forlistdo={init:function(){this.appendValueInput("LIST").appendField("Using loop variable: ").appendField(new(vc().FieldTextInput)("_i"),"INDEX").appendField("For loop for list: "),this.appendStatementInput("FORCODE").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.explosion={init:function(){this.appendValueInput("LOCATION").appendField("Explosion Size").appendField(new(vc().FieldDropdown)([["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"],["12","12"],["13","13"],["14","14"],["15","15"],["16","16"],["17","17"],["18","18"],["19","19"],["20","20"]]),"SIZE").appendField("Location:"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.eventplayer={init:function(){this.appendDummyInput().appendField("For Which Player?").appendField(new(vc().FieldDropdown)([["calling function","self"],["causing event","event.player"],["event entity","event.entity"],["shooter","event.entity.shooter"],["All affected entities","event.getAffectedEntities()"],["Attacker","event.damager"]]),"PLAYER"),this.setPreviousStatement(!1,null),this.setNextStatement(!1,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,"String")}},vc().Blocks.armorset={init:function(){this.appendValueInput("COLOR").appendField("Leather Armor in Color"),this.appendValueInput("PLAYER").appendField("For Player/Entity"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.repairarmor={init:function(){this.appendDummyInput().appendField("RepairArmor"),this.appendValueInput("PLAYER").setCheck("String").appendField("Which Player"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.placebanner={init:function(){this.appendDummyInput().appendField("Place Banner"),this.appendDummyInput().appendField("Banner Type").appendField(new(vc().FieldDropdown)([["Standing Banner","LEGACY_STANDING_BANNER"]]),"BANNER"),this.appendValueInput("LOCATION").setCheck("String").appendField("Location"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.spawnblock={init:function(){this.appendValueInput("TYPE").appendField("Spawn Block "),this.appendValueInput("LOCATION").appendField("At Location "),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.signtext={init:function(){this.appendValueInput("LOCATION").appendField("Set sign text for sign at location: "),this.appendValueInput("LINE1").appendField("Line 1"),this.appendValueInput("LINE2").appendField("Line 2"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.playerlocation={init:function(){this.appendDummyInput().appendField("self.location"),this.setPreviousStatement(!1,null),this.setNextStatement(!1,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,"String")}},vc().Blocks.teleport={init:function(){this.appendValueInput("ENTITY").appendField("Delayed Teleport Entity"),this.appendValueInput("LOCATION").appendField("Location"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.instantteleport={init:function(){this.appendValueInput("ENTITY").appendField("Teleport Entity"),this.appendValueInput("LOCATION").appendField("Location"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.moveto={init:function(){this.appendValueInput("ENTITY").appendField("Move Entity"),this.appendValueInput("LOCATION").appendField("Location"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.sound={init:function(){this.appendDummyInput().appendField("Make Sound"),this.appendValueInput("ANIMAL").appendField("Entity Type"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.fireworks={init:function(){this.appendDummyInput().appendField("Fireworks"),this.appendValueInput("LOCATION").setCheck("String").appendField("Location"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.lightning={init:function(){this.appendValueInput("LOCATION").appendField("Lightning strike at"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.eventcancel={init:function(){this.appendDummyInput().appendField("Cancel the Event"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(40),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.spawnarea={init:function(){this.appendDummyInput().appendField("Set Spawn (20x20) Area"),this.appendValueInput("LOCATION").appendField("Location"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.ability={init:function(){this.appendDummyInput().appendField("Give "),this.appendDummyInput().appendField("The ability ").appendField(new(vc().FieldDropdown)([["To Fly","FLY"],["Invunlerability","INVULNERABLE"],["Super Speed","SPEED"]]),"ABILITY"),this.appendValueInput("ENTITY").appendField("To Player/Entity"),this.appendValueInput("DURATION").setCheck("Number").appendField("For how many seconds?"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.abilityactive={init:function(){this.appendDummyInput().appendField("Ability is Active"),this.appendDummyInput().appendField("For Which Player?").appendField(new(vc().FieldDropdown)([["calling function","self"],["causing event","event.player"],["event entity","event.entity"],["shooter","event.entity.shooter"],["All affected entities","event.getAffectedEntities()"],["Attacker","event.damager"]]),"PLAYER"),this.appendDummyInput().appendField("Which ability ").appendField(new(vc().FieldDropdown)([["To Fly","FLY"],["Invunlerability","INVULNERABLE"],["Super Speed","SPEED"]]),"ABILITY"),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,null)}},vc().Blocks.addpotion={init:function(){this.appendValueInput("NAME").appendField("Add ").appendField(new(vc().FieldTextInput)("1"),"COUNT").appendField(" ").appendField(new(vc().FieldDropdown)([["Drinkable Potion","POTION"],["Splash Potion","SPLASH_POTION"],["Create a bat cart","BATCART"],["Increase health of entity","ABSORPTION"],["Oof Bad Omen","BAD_OMEN"],["Blindness","BLINDNESS"],["Confusion","CONFUSION"],["Decrease Damage Received","DAMAGE_RESISTANCE"],["Glow","GLOWING"],["Hurt an entity","HARM"],["Heal an entity","HEAL"],["Increase damage dealt","INCREASE_DAMAGE"],["Invisibility","INVISIBILITY"],["Increase jump height","JUMP"],["Cause entity to float","LEVITATION"],["Loot table luck","LUCK"],["Night Vision","NIGHT_VISION"],["Poison an entity","POISION"],["Regenerate Health","REGENERATION"],["Decrease Movement Speed","SLOW"],["Increase Movement Speed","SPEED"],["Allow breathing underwater","WATER_BREATHING"],["Decrease damage dealt by entity","WEAKNESS"],["Suck health from entity","WITHER"]]),"POTION").appendField(" to inventory. Potion Name:"),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},vc().Blocks.modifyEntity={init:function(){this.appendDummyInput().appendField("Spawn and modify an entity"),this.appendValueInput("ENTITY").appendField("Type of creature"),this.appendValueInput("LOCATION").setCheck("String").appendField("Location"),this.appendStatementInput("MODIFICATIONS").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(80),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.modifystack={init:function(){this.appendDummyInput().appendField("Create a stack of items"),this.appendValueInput("ITEM").appendField("Basic Stack of Items"),this.appendStatementInput("MODIFICATIONS").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.buildstructure={init:function(){this.appendDummyInput().appendField("Build a structure"),this.appendDummyInput().appendField("Name of Structure").appendField(new(vc().FieldTextInput)("building"),"NAME"),this.appendValueInput("LOCATION").setCheck("String").appendField("Location"),this.appendStatementInput("STEPS").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setpassenger={init:function(){this.appendDummyInput().appendField("Add Passenger"),this.appendValueInput("ENTITY").appendField("Type of creature"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(80),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.offai={init:function(){this.appendDummyInput().appendField("Turn Off AI"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(80),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setName={init:function(){this.appendDummyInput().appendField("Set Entity Name").appendField(new(vc().FieldTextInput)("name"),"NAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(80),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.nameentity={init:function(){this.appendValueInput("ENTITY").appendField("Set Custom Name of "),this.appendDummyInput().appendField("to").appendField(new(vc().FieldTextInput)('"NAME"'),"NAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.entityname={init:function(){this.appendValueInput("ENTITY").appendField("Get Name of entity:"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.entityArmor={init:function(){this.appendDummyInput().appendField("Armor"),this.appendDummyInput().appendField("Color").appendField(new(vc().FieldDropdown)([["Black","BLACK"],["Red","RED"],["Blue","BLUE"],["Green","GREEN"]]),"COLOR"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(80),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.entityProfession={init:function(){this.appendDummyInput().appendField("Set Profession"),this.appendDummyInput().appendField("Profession").appendField(new(vc().FieldDropdown)([["Blacksmith","BLACKSMITH"],["Butcher","BUTCHER"],["Farmer","FARMER"],["Husk","HUSK"],["Librarian","LIBRARIAN"],["Nitwit","NITWIT"],["Normal","NORMAL"],["Priest","PRIEST"]]),"PROFESSION"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(80),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.baby={init:function(){this.appendDummyInput().appendField("Change to Baby"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(80),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.absolutelocation={init:function(){this.appendDummyInput().appendField("Absolute Location").appendField("X").appendField(new(vc().FieldTextInput)("100"),"X").appendField("Y").appendField(new(vc().FieldTextInput)("100"),"Y").appendField("Z").appendField(new(vc().FieldTextInput)("100"),"Z"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.entity={init:function(){this.appendDummyInput().appendField("Monster or Object").appendField(new(vc().FieldDropdown)([["entity","entity"],["event entity","event.entity"],["shooter","event.entity.shooter"],["All affected entities","event.getAffectedEntities()"],["Attacker","event.damager"]]),"ENTITY"),this.setOutput(!0,null),this.setColour(80),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.whichplayer={init:function(){this.appendDummyInput().appendField("Event Entity").appendField(new(vc().FieldDropdown)([["Player calling function","self"],["Player causing event","event.player"],["event entity","event.entity"],["event vehicle","event.vehicle"],["shooter","event.entity.shooter"],["All affected entities","event.getAffectedEntities()"],["Potion that was splashed","event.getPotion()"],["Attacker","event.damager"],["All Players","server.getOnlinePlayers()"]]),"ENTITY"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.entityType={init:function(){this.appendDummyInput().appendField("Creature Type").appendField(new(vc().FieldDropdown)([["Arrow","ARROW"],["Area Effect Cloud","AREA_EFFECT_CLOUD"],["Bat","BAT"],["Bat Cart","BATCART"],["Cave Spider","CAVE_SPIDER"],["Cat","CAT"],["Chicken","CHICKEN"],["Cow","COW"],["Creeper","CREEPER"],["Ender Dragon","ENDER_DRAGON"],["Enderman","ENDERMAN"],["Endermite","ENDERMITE"],["Evoker","EVOKER"],["Evoker Fangs","EVOKER_FANGS"],["Fireball","FIREBALL"],["Firework","FIREWORK"],["Horse","HORSE"],["Iron Golem","IRON_GOLEM"],["Lingering Potion","LINGERING_POTION"],["Minecart","MINECART"],["Ocelot","OCELOT"],["Pig","PIG"],["Primed TNT","PRIMED_TNT"],["Rabbit","RABBIT"],["Ravager","RAVAGER"],["Sheep","SHEEP"],["Splash Potion","SPLASH_POTION"],["Shulker","SHULKER"],["Shulker Bullet","SHULKER_BULLET"],["Skeleton","SKELETON"],["Skeleton Horse","SKELETON_HORSE"],["Thrown Potion","THROWN_POTION"],["Tipped Arrow","TIPPED_ARROW"],["Trident","TRIDENT"],["Villager","VILLAGER"],["Wandering Trader","WANDERING_TRADER"],["Wolf","WOLF"],["Witch","WITCH"],["Wither","WITHER"],["Wither Skull","WITHER_SKULL"],["Zombie","ZOMBIE"]]),"ENTITY"),this.setOutput(!0,null),this.setColour(80),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.materialtype={init:function(){var e=[["Acacia Door","ACACIA_DOOR"],["Acacia Planks","ACACIA_PLANKS"],["Air","AIR"],["Arrow","ARROW"],["Birch Door","BIRCH_DOOR"],["Birch Planks","BIRCH_PLANKS"],["Bow","BOW"],["Baked Potato","BAKED_POTATO"],["Blaze Rod","BLAZE_ROD"],["Bone Meal","BONE_MEAL"],["Cake","CAKE"],["Chainmail Boots","CHAINMAIL_BOOTS"],["Chainmail ChestPlate","CHAINMAIL_CHESTPLATE"],["Chainmail Helmet","CHAINMAIL_HELMET"],["Chainmail Leggings","CHAINMAIL_LEGGINGS"],["Compass","COMPASS"],["Cookie","COOKIE"],["Crossbow","CROSSBOW"],["Dark Oak Door","DARK_OAK_DOOR"],["Dark Oak Planks","DARK_OAK_PLANKS"],["Diamond","DIAMOND"],["Diamond Boots","DIAMOND_BOOTS"],["Diamond ChestPlate","DIAMOND_CHESTPLATE"],["Diamond Helmet","DIAMOND_HELMET"],["Diamond Leggings","DIAMOND_LEGGINGS"],["Diamond Pick","DIAMOND_PICKAXE"],["Diamond Shovel","DIAMOND_SHOVEL"],["Diamond Sword","DIAMOND_SWORD"],["Drinkable Potion","POTION"],["Elytra (Glider)","LEGACY_ELYTRA"],["Emerald","EMERALD"],["Ender Pearl","ENDER_PEARL"],["Firework","FIREWORK_ROCKET"],["Heart of the Sea","HEART_OF_THE_SEA"],["Gold Ingot","GOLD_INGOT"],["Golden Apple","GOLDEN_APPLE"],["Golden Apple (Enchanted)","ENCHANTED_GOLDEN_APPLE"],["Golden Boots","GOLDEN_BOOTS"],["Golden ChestPlate","GOLDEN_CHESTPLATE"],["Golden Helmet","GOLDEN_HELMET"],["Golden Leggings","GOLDEN_LEGGINGS"],["Iron Boots","IRON_BOOTS"],["Iron Door","IRON_DOOR"],["Iron Ingot","IRON_INGOT"],["Iron Sword","IRON_SWORD"],["Jungle Door","JUNGLE_DOOR"],["Jungle Planks","JUNGLE_PLANKS"],["Leather Boots","LEATHER_BOOTS"],["Leather ChestPlate","LEATHER_CHESTPLATE"],["Leather Helmet","LEATHER_HELMET"],["Leather Leggings","LEATHER_LEGGINGS"],["Lingering Potion","LINGERING_POTION"],["Oak Door","OAK_DOOR"],["Oak Planks","OAK_PLANKS"],["Oak Sign Post","OAK_SIGN"],["Paper","PAPER"],["Redstone Dust","REDSTONE"],["Redsone Ore","REDSTONE_ORE"],["Shield","SHIELD"],["SnowBall","SNOWBALL"],["Stick","STICK"],["Snow Block","SNOW_BLOCK"],["Splash Potion","SPLASH_POTION"],["Spruce Door","SPRUCE_DOOR"],["Spruce Planks","SPRUCE_PLANKS"],["Tipped Arrow","TIPPED_ARROW"],["TripWire Hook","TRIPWIRE_HOOK"],["Totem of Undying","TOTEM_OF_UNDYING"],["White Wool","WHITE_WOOL"],["Wolf Egg","WOLF_SPAWN_EGG"],["Wheat Seeds","WHEAT_SEEDS"]];e.sort((function(e,t){return e[0].localeCompare(t[0])})),this.appendDummyInput().appendField("Material").appendField(new(vc().FieldDropdown)(e),"MATERIAL"),this.setOutput(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.projectileentity={init:function(){this.appendDummyInput().appendField("Projectile").appendField(new(vc().FieldDropdown)([["Arrow","ARROW"],["Dragon Fireball","DRAGON_FIREBALL"],["Fireball","FIREBALL"],["Firework","FIREWORK"],["Shulker Bullet","SHULKER_BULLET"],["SnowBall","SNOWBALL"],["Tipped Arrow","TIPPED_ARROW"],["Trident","TRIDENT"],["Wither Skull","WITHER_SKULL"]]),"PROJECTILE"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.eggtype={init:function(){this.appendDummyInput().appendField("EGG").appendField(new(vc().FieldDropdown)([["Blaze","BLAZE_SPAWN_EGG"],["Cave Spider","CAVE_SPIDER_SPAWN_EGG"],["Creeper","CREEPER_SPAWN_EGG"],["Endermite","ENDERMITE_SPAWN_EGG"],["Enderman","ENDERMAN_SPAWN_EGG"],["Guardian","GUARDIAN_SPAWN_EGG"],["Ghast","GHAST_SPAWN_EGG"],["Husk","HUSK_SPAWN_EGG"],["Llama","LLAMA_SPAWN_EGG"],["Magma Cube","MAGMA_CUBE_SPAWN_EGG"],["Pillager","PILLAGER_SPAWN_EGG"],["Polar Bear","POLAR_BEAR_SPAWN_EGG"],["Shulker","SHULKER_SPAWN_EGG"],["Ravager","RAVAGER_SPAWN_EGG"],["Skeleton","SKELETON_SPAWN_EGG"],["Skeleton Horse","SKELETON_HORSE_SPAWN_EGG"],["Wolf","WOLF_SPAWN_EGG"],["Vex","VEX_SPAWN_EGG"],["Vindicator","VINDICATOR_SPAWN_EGG"],["Zombie Pigman","ZOMBIE_PIGMAN_SPAWN_EGG"],["Zombie Villager","ZOMBIE_VILLAGER_SPAWN_EGG"],["Zombie","ZOMBIE_SPAWN_EGG"]]),"MATERIAL"),this.setOutput(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.blocktype={init:function(){this.appendDummyInput().appendField("Block Type").appendField(new(vc().FieldDropdown)([["Air","AIR"],["Beacon","BEACON"],["Bed","LEGACY_BED_BLOCK"],["Blue Concrete","BLUE_CONCRETE"],["Blue Stained Glass","BLUE_STAINED_GLASS"],["Button (Oak)","OAK_BUTTON"],["Cake","CAKE"],["Chest","CHEST"],["Cobblestone","COBBLESTONE"],["Cobweb","COBWEB"],["Command Block (Chain)","CHAIN_COMMAND_BLOCK"],["Command Block (Impulse)","COMMAND_BLOCK"],["Command Block (Repeating)","REPEATING_COMMAND_BLOCK"],["Command Block Minecart","COMMAND_BLOCK_MINECART"],["Composter","COMPOSTER"],["Diamond Block","DIAMOND_BLOCK"],["Door","LEGACY_WOODEN_DOOR"],["Farm Land","FARMLAND"],["Fence","OAK_FENCE"],["Gold Block","GOLD_BLOCK"],["Hopper","HOPPER"],["Ice","ICE"],["Iron Block","IRON_BLOCK"],["Fire","FIRE"],["Gate (Oak)","OAK_FENCE_GATE"],["Item Frame","ITEM_FRAME"],["Lava","LAVA"],["Lever","LEVER"],["Oak","OAK_WOOD"],["Oak Tree Log","OAK_LOG"],["Observer Block","OBSERVER"],["Piston","PISTON"],["Portal","LEGACY_PORTAL"],["Pressure Plate (Oak)","OAK_PRESSURE_PLATE"],["Rail","RAIL"],["Rail Powered","POWERED_RAIL"],["Red Bed","RED_BED"],["Red Concrete","RED_CONCRETE"],["Red Stained Glass","RED_STAINED_GLASS"],["Redstone Block","REDSTONE_BLOCK"],["Redstone Torch","REDSTONE_TORCH"],["Sand","SAND"],["Sign on Wall","OAK_WALL_SIGN"],["Sign Post (Oak)","OAK_SIGN"],["Snow Block","SNOW_BLOCK"],["Sticky Piston","STICKY_PISTON"],["Slime Block","SLIME_BLOCK"],["TNT","TNT"],["Water","WATER"],["Wheat","WHEAT"],["White Banner","WHITE_BANNER"],["Window Pane","LEGACY_GLASS"]]),"BLOCKTYPE"),this.setOutput(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.creatureTypeString={init:function(){this.appendValueInput("ENTITYTYPE").setCheck("String").appendField("Creature Type String"),this.setOutput(!0,null),this.setColour(80),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setride={init:function(){this.appendValueInput("VEHICLE").appendField("Set passenger on vehicle"),this.appendValueInput("PASSENGER").appendField("Passenger"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.updatelocation={init:function(){this.appendDummyInput().appendField("Update Location Axis").appendField(new(vc().FieldDropdown)([["x","X"],["y","Y"],["z","Z"]]),"AXIS").appendField(new(vc().FieldTextInput)("1"),"OFFSET"),this.setColour(0),this.setTooltip(""),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.decrementlocation={init:function(){this.appendDummyInput().appendField("Decrement Location Axis").appendField(new(vc().FieldDropdown)([["x","X"],["y","Y"],["z","Z"]]),"AXIS"),this.setColour(0),this.setTooltip(""),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.clickedBlock={init:function(){this.appendDummyInput().appendField("Block that was clicked on"),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,"String")}},vc().Blocks.getBlock={init:function(){this.appendValueInput("LOCATION").appendField("Get Block at Location"),this.setInputsInline(!0),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,"String")}},vc().Blocks.typeString={init:function(){this.appendValueInput("TYPESTRING").appendField("Object Type String"),this.setOutput(!0,"String"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.leverUp={init:function(){this.appendDummyInput().appendField("Lever is up"),this.appendValueInput("BLOCK").appendField("Lever Block"),this.setOutput(!0,"Boolean"),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.sendUdpMessage={init:function(){this.appendDummyInput().appendField("Send UDP"),this.appendValueInput("MESSAGE").setCheck("String").appendField("Message"),this.appendValueInput("PORT").appendField("Port"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(160),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.varname={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(330),this.appendDummyInput().appendField("variable:").appendField(new(vc().FieldTextInput)("value"),"VARNAME"),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setvariable={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(330),this.appendDummyInput().appendField("Set ").appendField(new(vc().FieldTextInput)("name"),"VARNAME").appendField("=").appendField(new(vc().FieldTextInput)("expression"),"EXPRESSION"),this.setTooltip(""),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setvariablevalue={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(330),this.appendValueInput("EXPRESSION").appendField("Set ").appendField(new(vc().FieldTextInput)("name"),"VARNAME").appendField("="),this.setTooltip(""),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.scriptcraftexpression={init:function(){this.appendDummyInput().appendField("Setup Code"),this.appendStatementInput("EXPRESSIONCODE").setCheck(null),this.setPreviousStatement(!1,null),this.setNextStatement(!1,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.returnVariable={init:function(){this.appendDummyInput().appendField("Return ").appendField(new(vc().FieldTextInput)("name"),"RETURNVARIABLE"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.snaplocation={init:function(){this.appendDummyInput().appendField("Snap Location to block ").appendField(new(vc().FieldTextInput)("location"),"NAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.createVariable={init:function(){this.appendDummyInput().appendField("create ").appendField(new(vc().FieldTextInput)("name"),"NAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.functionCall={init:function(){this.appendDummyInput().appendField("Call Function").appendField(new(vc().FieldTextInput)("test"),"FUNCTIONNAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.mapRenderer={init:function(){this.appendDummyInput().appendField("New Map Renderer").appendField(new(vc().FieldTextInput)("render"),"RENDERER"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.fileExists={init:function(){this.appendDummyInput().appendField("File Exists").appendField(new(vc().FieldTextInput)("filename.jpg"),"NAME"),this.setOutput(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com")}},vc().Blocks.drawImage={init:function(){this.appendDummyInput().appendField("Draw Image").appendField(new(vc().FieldTextInput)("1.jpg"),"FILENAME"),this.appendDummyInput().appendField("scale the image").appendField(new(vc().FieldCheckbox)("FALSE",null,null),"SCALE"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.drawText={init:function(){this.appendDummyInput().appendField("Draw Text").appendField(new(vc().FieldTextInput)("Hello World"),"TEXT"),this.appendDummyInput().appendField("in color").appendField(new(vc().FieldDropdown)([["Black","0"],["Brown","106"],["Cyan","126"],["Dark Grey","86"],["Green","76"],["Light Blue","22"],["Light Grey","56"],["Light Purple","66"],["Purple","96"]]),"COLOR"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.copyFile={init:function(){this.appendDummyInput().appendField("Copy File").appendField(new(vc().FieldTextInput)("source"),"SOURCE").appendField(new(vc().FieldTextInput)("destination"),"DESTINATION"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.killplayer={init:function(){this.appendValueInput("PLAYER").appendField("Kill Player"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setplayerdata={init:function(){this.appendValueInput("VALUE").appendField("Set Data").appendField(new(vc().FieldTextInput)("Key"),"KEY").appendField(" = "),this.appendValueInput("PLAYER").appendField("For entity"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setallplayersdata={init:function(){this.appendValueInput("VALUE").appendField("Set Data").appendField(new(vc().FieldTextInput)("Key"),"KEY").appendField(" = "),this.appendDummyInput().appendField("for all players"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.removeplayerdata={init:function(){this.appendDummyInput().appendField("Delete Data").appendField(new(vc().FieldTextInput)("Key"),"KEY"),this.appendValueInput("PLAYER").appendField("For Entity"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getplayerdata={init:function(){this.appendDummyInput().appendField("Get Data").appendField(new(vc().FieldTextInput)("Key"),"KEY"),this.appendValueInput("PLAYER").appendField("For Entity"),this.setColour(0),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.playerdataeq={init:function(){this.appendDummyInput().appendField("Player Data Equal").appendField(new(vc().FieldTextInput)("Key"),"KEY"),this.appendValueInput("PLAYER1").appendField("Player1"),this.appendValueInput("PLAYER2").appendField("Player2"),this.setColour(0),this.setOutput(!0,null),this.setInputsInline(!0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.blocksradius={init:function(){this.appendValueInput("BLOCKTYPE").appendField("List of"),this.appendValueInput("RADIUS").appendField("within"),this.appendValueInput("LOCATION").appendField("blocks of location:"),this.setColour(200),this.setOutput(!0,null),this.setInputsInline(!0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.activeteams={init:function(){this.appendDummyInput().appendField("Active Team List"),this.appendValueInput("PLAYER").appendField("Ignoring player: "),this.setColour(0),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getplayerdata2={init:function(){this.appendValueInput("PLAYER").appendField("Get Data").appendField(new(vc().FieldTextInput)("Key"),"KEY").appendField("For entity "),this.setColour(0),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.existsplayerdata={init:function(){this.appendValueInput("PLAYER").appendField("Data Exists?").appendField(new(vc().FieldTextInput)("Key"),"KEY").appendField("For entity"),this.setColour(0),this.setTooltip(""),this.setOutput(!0,"Boolean"),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.delayedexecution={init:function(){this.appendDummyInput().appendField("Delayed Execution").appendField("TIMEOUT (ms)").appendField(new(vc().FieldTextInput)("500"),"TIMEOUT"),this.appendStatementInput("DELAYEDCODE"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.scriptcraftfunction={init:function(){this.appendDummyInput().appendField("Function").appendField(new(vc().FieldTextInput)("test"),"nameOfFunction"),this.appendStatementInput("FUNCTIONCODE").setCheck(null),this.setPreviousStatement(!1,null),this.setNextStatement(!1,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.dataexpression={init:function(){this.appendDummyInput().appendField("Dictionary Structure"),this.appendStatementInput("EXPRESSION").setCheck(null),this.setPreviousStatement(!1,null),this.setNextStatement(!1,null),this.setOutput(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.datavalue={init:function(){this.appendDummyInput().appendField("Data Value").appendField(new(vc().FieldTextInput)("header"),"HEADER"),this.appendStatementInput("EXPRESSION").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.namevalue={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(330),this.appendDummyInput().appendField("Data Name").appendField(new(vc().FieldTextInput)("name"),"VARNAME").appendField("Value").appendField(new(vc().FieldTextInput)("expression"),"EXPRESSION"),this.setTooltip(""),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.settime={init:function(){this.appendDummyInput().appendField("Set Time of Day").appendField(new(vc().FieldTextInput)("11000"),"TIME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.gettime={init:function(){this.appendDummyInput().appendField("Get Time of Day"),this.setPreviousStatement(!1,null),this.setNextStatement(!1,null),this.setColour(120),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setstorm={init:function(){this.appendDummyInput().appendField("Set Storm").appendField(new(vc().FieldDropdown)([["on","true"],["off","false"]]),"STORM"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.iteminhandis={init:function(){this.appendValueInput("PLAYER").appendField("Stack in hand of Player"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.repeatexecution={init:function(){this.appendDummyInput().appendField("Repeat Execution Name:").appendField(new(vc().FieldTextInput)("test"),"NAME").appendField("How Often (ms)").appendField(new(vc().FieldTextInput)("500"),"TIMEOUT"),this.appendDummyInput().appendField("Continue execution while").appendField(new(vc().FieldTextInput)("i > 0"),"CONTINUE"),this.appendStatementInput("CODE"),this.setColour(0),this.setTooltip(""),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setgamemode={init:function(){this.appendDummyInput().appendField("Set Game Mode").appendField(new(vc().FieldDropdown)([["Adventure - Need correct tools to break blocks","ADVENTURE"],["Creative - Can fly, build, invulnerable, and create items free","CREATIVE"],["Spectator - cannot interact with world and is invisible","SPECTATOR"],["Survival - Normal game mode, no special features","SURVIVAL"]]),"GAMEMODE"),this.appendValueInput("PLAYER").appendField("for player"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.recipe={init:function(){this.appendDummyInput().appendField("Recipe"),this.appendValueInput("RESULT").appendField("Result Stack"),this.appendValueInput("INGREDIENTS").appendField("Ingredient List"),this.appendDummyInput().appendField("Line1").appendField(new(vc().FieldTextInput)("D"),"CH1").appendField(new(vc().FieldTextInput)(" "),"CH2").appendField(new(vc().FieldTextInput)("D"),"CH3"),this.appendDummyInput().appendField("Line2").appendField(new(vc().FieldTextInput)("X"),"CH4").appendField(new(vc().FieldTextInput)("Y"),"CH5").appendField(new(vc().FieldTextInput)("Z"),"CH6"),this.appendDummyInput().appendField("Line3").appendField(new(vc().FieldTextInput)("Q"),"CH7").appendField(new(vc().FieldTextInput)("H"),"CH8").appendField(new(vc().FieldTextInput)("Q"),"CH9"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.addingredient={init:function(){this.appendDummyInput().appendField("Add Ingredient Character:").appendField(new(vc().FieldTextInput)("%"),"CHARACTER"),this.appendValueInput("INGREDIENT").appendField("For Material"),this.setColour(320),this.setOutput(!0,null),this.setInputsInline(!0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.itemstack={init:function(){this.appendValueInput("ITEM").appendField("Stack of").appendField(new(vc().FieldTextInput)("1"),"COUNT"),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,null)}},vc().Blocks.instanceof={init:function(){this.appendDummyInput().appendField("Instance of"),this.appendValueInput("ENTITY").appendField("Player/Entity"),this.appendDummyInput().appendField(" = "),this.appendValueInput("TYPE"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,null)}},vc().Blocks.bordercenter={init:function(){this.appendValueInput("LOCATION").appendField("Set World Border Center Location:"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.bordersize={init:function(){this.appendDummyInput().appendField("Set World Border Radius:").appendField(new(vc().FieldTextInput)("100"),"SIZE"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.equipmentname={init:function(){this.appendDummyInput().appendField("Set Equipment Name").appendField(new(vc().FieldTextInput)("name"),"NAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.updateinventory={init:function(){this.appendValueInput("ITEMSTACK").appendField("Add stack:"),this.appendValueInput("PLAYER").appendField("to inventory for player:"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getequipmentname={init:function(){this.appendValueInput("PLAYER").appendField("Item in hand for Player: "),this.setOutput(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.playerhas={init:function(){this.appendValueInput("PLAYER").appendField("Player"),this.appendValueInput("MATERIAL").appendField("Has the item with name").appendField(new(vc().FieldTextInput)("name"),"NAME"),this.setOutput(!0,null),this.setInputsInline(!0),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.servercommand={init:function(){this.appendDummyInput().appendField("Execute server command").appendField(new(vc().FieldTextInput)('"weather clear"'),"COMMAND"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.blockatlocation={init:function(){this.appendValueInput("LOCATION").appendField("Block at Location"),this.setOutput(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.pushlist={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(330),this.appendDummyInput().appendField("Add to list ").appendField(new(vc().FieldTextInput)("name"),"VARNAME").appendField("Value").appendField(new(vc().FieldTextInput)("expression"),"EXPRESSION"),this.setTooltip(""),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getblocktype={init:function(){this.appendValueInput("BLOCK").appendField("Get Type of Block:"),this.setOutput(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getsignline={init:function(){this.appendDummyInput().appendField("Get Sign's Line"),this.appendValueInput("BLOCK").appendField("For Block"),this.appendDummyInput().appendField("Line: ").appendField(new(vc().FieldDropdown)([["1","1"],["2","2"],["3","3"]]),"LINE"),this.setOutput(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.whichblock={init:function(){this.appendDummyInput().appendField("Which Block").appendField(new(vc().FieldDropdown)([["The events block","event.block"],["Block that was clicked on","event.getClickedBlock()"]]),"BLOCK"),this.setOutput(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.allplayers={init:function(){this.appendDummyInput().appendField("All Players"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.allentities={init:function(){this.appendDummyInput().appendField("All Entities"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.blockfacing={init:function(){this.appendValueInput("FACE").appendField("Set Block Facing Direction"),this.appendValueInput("LOCATION").appendField("At Location "),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setblockface={init:function(){this.appendValueInput("FACE").appendField("Set Block Face"),this.appendValueInput("LOCATION").appendField("At Location "),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.blockfacingdirection={init:function(){this.appendDummyInput().appendField("Block Facing Direction").appendField(new(vc().FieldDropdown)([["DOWN","DOWN"],["EAST (Positive X)","EAST"],["EAST_NORTH_EAST","EAST_NORTH_EAST"],["EAST_SOUTH_EAST","EAST_SOUTH_EAST"],["NORTH (Negative Z)","NORTH"],["NORTH_EAST","NORTH_EAST"],["NORTH_NORTH_EAST","NORTH_NORTH_EAST"],["NORTH_NORTH_WEST","NORTH_NORTH_WEST"],["NORTH_WEST","NORTH_WEST"],["SOUTH (Positive Z)","SOUTH"],["SOUTH_EAST","SOUTH_EAST"],["SOUTH_SOUTH_EAST","SOUTH_SOUTH_EAST"],["SOUTH_SOUTH_WEST","SOUTH_SOUTH_WEST"],["SOUTH_WEST","SOUTH_WEST"],["UP","UP"],["WEST (Negative X)","WEST"],["WEST_NORTH_WEST","WEST_NORTH_WEST"],["WEST_SOUTH_WEST","WEST_SOUTH_WEST"]]),"DIRECTION"),this.setOutput(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.reverseface={init:function(){this.appendValueInput("DIRECTION").appendField("Reverse Block Direction"),this.setOutput(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.signfacing={init:function(){this.appendDummyInput().appendField("Set Sign Facing Direction").appendField(new(vc().FieldDropdown)([["DOWN","DOWN"],["EAST","EAST"],["EAST_NORTH_EAST","EAST_NORTH_EAST"],["EAST_SOUTH_EAST","EAST_SOUTH_EAST"],["NORTH","NORTH"],["NORTH_EAST","NORTH_EAST"],["NORTH_NORTH_EAST","NORTH_NORTH_EAST"],["NORTH_NORTH_WEST","NORTH_NORTH_WEST"],["NORTH_WEST","NORTH_WEST"],["SOUTH","SOUTH"],["SOUTH_EAST","SOUTH_EAST"],["SOUTH_SOUTH_EAST","SOUTH_SOUTH_EAST"],["SOUTH_SOUTH_WEST","SOUTH_SOUTH_WEST"],["SOUTH_WEST","SOUTH_WEST"],["UP","UP"],["WEST","WEST"],["WEST_NORTH_WEST","WEST_NORTH_WEST"],["WEST_SOUTH_WEST","WEST_SOUTH_WEST"]]),"FACE"),this.appendValueInput("LOCATION").appendField("At Location "),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getcolor={init:function(){this.appendDummyInput().appendField("Color ").appendField(new(vc().FieldDropdown)([["AQUA","AQUA"],["BLACK","BLACK"],["BLUE","BLUE"],["FUCHSIA","FUCHSIA"],["GRAY","GRAY"],["GREEN","GREEN"],["LIME","LIME"],["MAROON","MAROON"],["NAVY","NAVY"],["OLIVE","OLIVE"],["ORANGE","ORANGE"],["PURPLE","PURPLE"],["RED","RED"],["SILVER","SILVER"],["TEAL","TEAL"],["WHITE","WHITE"],["YELLOW","YELLOW"]]),"COLOR"),this.setOutput(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setblockcommand={init:function(){this.appendDummyInput().appendField("Set command block command").appendField(new(vc().FieldTextInput)('say "Hello"'),"COMMAND"),this.appendValueInput("LOCATION").appendField("At Location "),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.runexpression={init:function(){this.appendDummyInput().appendField("Expression").appendField(new(vc().FieldTextInput)("expression"),"EXPRESSION"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setconditional={init:function(){this.appendDummyInput().appendField("Set Command Block Conditional").appendField(new(vc().FieldDropdown)([["True","true"],["False","false"]]),"CONDITIONAL"),this.appendValueInput("LOCATION").appendField("Block Location "),this.setNextStatement(!0,null),this.setPreviousStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setblockdata={init:function(){this.appendDummyInput().appendField("Set Block Data").appendField(new(vc().FieldTextInput)("Key"),"KEY"),this.appendValueInput("VALUE").appendField("Value"),this.appendValueInput("LOCATION").appendField("Block Location"),this.setPreviousStatement(!0,null),this.setInputsInline(!0),this.setNextStatement(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getblockdata={init:function(){this.appendDummyInput().appendField("Get Block Data").appendField(new(vc().FieldTextInput)("Key"),"KEY"),this.appendValueInput("LOCATION").appendField("Block Location"),this.setInputsInline(!0),this.setColour(200),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.existsblockdata={init:function(){this.appendDummyInput().appendField("Block Data Exists?").appendField(new(vc().FieldTextInput)("Key"),"KEY"),this.appendValueInput("LOCATION").appendField("Block Location"),this.setInputsInline(!0),this.setColour(200),this.setTooltip(""),this.setOutput(!0,"Boolean"),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.potionSplashed={init:function(){this.appendValueInput("POTION").appendField("Custom Name of Stack:"),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,"String")}},vc().Blocks.dropitem={init:function(){this.appendValueInput("ITEMSTACK").appendField("Drop Stack of Items: "),this.appendValueInput("LOCATION").appendField("At Location:"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setInputsInline(!0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.findentitybyname={init:function(){this.appendDummyInput().appendField("var entity = findEntityByName ").appendField(new(vc().FieldTextInput)("name"),"NAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.findentitybycustomname={init:function(){this.appendDummyInput().appendField("var entity = findEntityByCustomName ").appendField(new(vc().FieldTextInput)("name"),"NAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.whicheffect={init:function(){this.appendDummyInput().appendField("Effect").appendField(new(vc().FieldDropdown)([["Make player faster","speed"],["Make player slower","slowness"],["Speed up block breaking","fast_digging"],["Slow you down when breaking blocks","slow_digging"],["Increase damage dealt to others","increase_damage"],["Give health to player or living mob","heal"],["Damage player or living mob","harm"],["Higher Jumping","jump"],["Twist and warp the screen","confusion"],["Continually restore health","regeneration"],["Reduce damage received","damage_resistance"],["Immunity to fire","fire_resistance"],["Breathe under water","water_breathing"],["Invisibility","invisibility"],["Create a thick black fog","blindness"],["Night Vision","night_vision"],["Cause food bar to deplete","hunger"],["Decrease damage dealt to others","weakness"],["Continually damager health","poison"],["Damage health every 2 seconds","wither"],["Increase max health","health_boost"],["Add health to health bar","absorption"],["Replenish food supply","saturation"],["Display halo around player","glowing"],["Involuntary floating","levitation"],["Increase chance of finding loot","luck"],["Decrease probability of finding loot","unluck"],["Slow falling","slow_falling"],["Improve visibility and water mining speed","conduit_power"],["Increase swimming speed ","dolphins_grace"],["Get attacked by mobs in a village","bad_omen"],["Allow discount trading","hero_of_the_village"]]),"EFFECT"),this.setOutput(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.createvector={init:function(){this.appendDummyInput().appendField("Vector").appendField("X").appendField(new(vc().FieldTextInput)(".5"),"X").appendField("Y").appendField(new(vc().FieldTextInput)(".5"),"Y").appendField("Z").appendField(new(vc().FieldTextInput)(".5"),"Z"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.vector2points={init:function(){this.appendValueInput("LOCATION1").appendField("Vector between 2 locations From "),this.appendValueInput("LOCATION2").appendField("To"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.multiplyvector={init:function(){this.appendValueInput("VECTOR").appendField("Multiply vector "),this.appendDummyInput().appendField("By ").appendField(new(vc().FieldTextInput)("1.5"),"SCALAR"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getvectorvelocity={init:function(){this.appendValueInput("ENTITY").appendField("Get vector velocity from entity:"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setvectorvelocity={init:function(){this.appendValueInput("ENTITY").appendField("Set vector velocity for entity:"),this.appendValueInput("VECTOR").appendField("Vector:"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.findentitybylocation={init:function(){this.appendValueInput("LOCATION").appendField("var entity = entity within ").appendField(new(vc().FieldTextInput)("5"),"RADIUS").appendField("blocks of location:"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.distancebetweenlocations={init:function(){this.appendValueInput("LOCATION1").appendField("Distance between locations location1:"),this.appendValueInput("LOCATION2").appendField("location2:"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.direction={init:function(){this.appendDummyInput().appendField("Item Direction").appendField(new(vc().FieldDropdown)([["DOWN","DOWN"],["EAST (Positive X)","EAST"],["EAST_NORTH_EAST","EAST_NORTH_EAST"],["EAST_SOUTH_EAST","EAST_SOUTH_EAST"],["NORTH (Negative Z)","NORTH"],["NORTH_EAST","NORTH_EAST"],["NORTH_NORTH_EAST","NORTH_NORTH_EAST"],["NORTH_NORTH_WEST","NORTH_NORTH_WEST"],["NORTH_WEST","NORTH_WEST"],["SOUTH (Positive Z)","SOUTH"],["SOUTH_EAST","SOUTH_EAST"],["SOUTH_SOUTH_EAST","SOUTH_SOUTH_EAST"],["SOUTH_SOUTH_WEST","SOUTH_SOUTH_WEST"],["SOUTH_WEST","SOUTH_WEST"],["UP","UP"],["WEST (Negative X)","WEST"],["WEST_NORTH_WEST","WEST_NORTH_WEST"],["WEST_SOUTH_WEST","WEST_SOUTH_WEST"]]),"DIRECTION"),this.setOutput(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.blockface={init:function(){this.appendDummyInput().appendField("Block Face").appendField(new(vc().FieldDropdown)([["Ceiling","CEILING"],["Floor","FLOOR"],["Wall","WALL"]]),"FACE"),this.setOutput(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.lookingdirection={init:function(){this.appendValueInput("PLAYER").appendField("Get direction looking for Player"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.millis={init:function(){this.appendDummyInput().appendField("Current Milliseconds"),this.setOutput(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getentitytype={init:function(){this.appendValueInput("ENTITY").appendField("Get Type of entity:"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.randomnumber={init:function(){this.appendValueInput("LOW").appendField("Random Number between"),this.appendValueInput("HIGH").appendField("And High"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.isplayer={init:function(){this.appendValueInput("PLAYER").appendField("Is a player"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.islivingentity={init:function(){this.appendValueInput("ENTITY").appendField("Is a living type, entity:"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.isarrow={init:function(){this.appendValueInput("ENTITY").appendField("Is an arrow"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.issnowball={init:function(){this.appendValueInput("ENTITY").appendField("Is a snowball"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.addpotioneffect={init:function(){this.appendValueInput("EFFECT").appendField("Give potion effect:"),this.appendValueInput("PLAYER").appendField("To Entity"),this.appendValueInput("DURATION").appendField("Duration (seconds)"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.spawnentity={init:function(){this.appendValueInput("ENTITY").appendField("Spawn creature"),this.appendValueInput("LOCATION").appendField("At Location"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setInputsInline(!0),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.nameastack={init:function(){this.appendValueInput("STACK").appendField("var stack = ").appendField(new(vc().FieldTextInput)("Custom Name"),"NAME").appendField(" named stack of "),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.additem={init:function(){this.appendValueInput("ITEMTYPE").appendField("Give potion effect:"),this.appendValueInput("PLAYER").appendField("To Player"),this.appendValueInput("COUNT").appendField("Duration (seconds)"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.nameofitem={init:function(){this.appendValueInput("ITEM").appendField("Custom Name of Item:"),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,"String")}},vc().Blocks.lookingat={init:function(){this.appendValueInput("PLAYER").appendField("Block looked at by player"),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,null)}},vc().Blocks.playerinventory={init:function(){this.appendValueInput("PLAYER").appendField("Inventory for player:"),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,null)}},vc().Blocks.clearinventory={init:function(){this.appendValueInput("PLAYER").appendField("Clear inventory for player:"),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},vc().Blocks.vectortoyaw={init:function(){this.appendValueInput("VECTOR").appendField("Get yaw for vector:"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,null)}},vc().Blocks.boundingbox={init:function(){this.appendValueInput("LOCATION").appendField("Get Bounding Box, with center location:"),this.appendValueInput("RADIUS").appendField("Radius:"),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,null)}},vc().Blocks.nearbyentities={init:function(){this.appendValueInput("LOCATION").appendField("Entities within ").appendField(new(vc().FieldTextInput)("5"),"RADIUS").appendField("blocks of location:"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,null)}},vc().Blocks.tocreature={init:function(){this.appendValueInput("CREATURE").appendField("Convert to creature type"),this.setColour(80),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,null)}},vc().Blocks.hasfunction={init:function(){this.appendValueInput("OBJECT").appendField("Function ").appendField(new(vc().FieldTextInput)("functionName"),"NAME").appendField(" is callable from object"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,null)}},vc().Blocks.actiontype={init:function(){this.appendDummyInput().appendField("Mouse Click Type").appendField(new(vc().FieldDropdown)([["Left click in air","LEFT_CLICK_AIR"],["Left click on a block","LEFT_CLICK_BLOCK"],["Right click in the air","RIGHT_CLICK_AIR"],["Right click on a block","RIGHT_CLICK_BLOCK"]]),"ACTION"),this.setOutput(!0,null),this.setColour(40),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.launchprojectile={init:function(){this.appendValueInput("ENTITY").appendField("Launch projectile from entity:"),this.appendValueInput("PROJECTILE").appendField("projectile:"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},vc().Blocks.nameofstack={init:function(){this.appendValueInput("STACK").appendField("Custom Name of Stack:"),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,"String")}},vc().Blocks.playerinventory={init:function(){this.appendValueInput("PLAYER").appendField("Inventory for player: "),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,"String")}},vc().Blocks.chestplate={init:function(){this.appendValueInput("INVENTORY").appendField("Chestplate in inventory: "),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,"String")}},vc().Blocks.materialdata={init:function(){this.appendValueInput("STACK").appendField("Material type in stack: "),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,"String")}},vc().Blocks.sethotbar={init:function(){this.appendValueInput("PLAYER").appendField("Set hotbar slot").appendField(new(vc().FieldDropdown)([["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"]]),"SLOT").appendField("for player: "),this.appendValueInput("STACK").appendField("To a stack of:"),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},vc().Blocks.tameentity={init:function(){this.appendValueInput("ENTITY").appendField("Tame (if possible) entity:"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},vc().Blocks.attackentity={init:function(){this.appendValueInput("ATTACKER").appendField("Attack! Attacker: "),this.appendValueInput("TARGET").appendField("Target: "),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},vc().Blocks.namethestack={init:function(){this.appendValueInput("STACK").appendField("Set custom name to: ").appendField(new(vc().FieldTextInput)("Custom Name"),"NAME").appendField(" for the stack:"),this.setOutput(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.locationadd={init:function(){this.appendValueInput("LOCATION").appendField("Modify location").appendField("X").appendField(new(vc().FieldTextInput)("0"),"X").appendField("Y").appendField(new(vc().FieldTextInput)("100"),"Y").appendField("Z").appendField(new(vc().FieldTextInput)("0"),"Z").appendField("Location:"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.modplayerlocation={init:function(){this.appendValueInput("PLAYER").appendField("Modify location").appendField("X").appendField(new(vc().FieldTextInput)("0"),"X").appendField("Y").appendField(new(vc().FieldTextInput)("100"),"Y").appendField("Z").appendField(new(vc().FieldTextInput)("0"),"Z").appendField("for player:"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.changelocation={init:function(){this.appendValueInput("LOCATION").appendField("Change Location"),this.appendValueInput("DIRECTION").appendField("By Direction:"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.entitydead={init:function(){this.appendValueInput("ENTITY").appendField("Is dead, entity:"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.isspectator={init:function(){this.appendValueInput("PLAYER").appendField("Is spectator, player:"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.eventinfo={init:function(){this.appendDummyInput().appendField("Event information").appendField(new(vc().FieldDropdown)([["Get action","getAction"],["Get all affected entities","getAffectedEntities"],["Get attacker","getDamager"],["Get block that was clicked on","getClickedBlock"],["Get block that was hit","getHitBlock"],["Get bow that was fired","getBow"],["Get the crafted item","getRecipe().getResult()"],["Get the ItemStack currently in the clicked clot","getCurrentItem"],["Get entity","getEntity"],["Get face of block that was clicked on","getBlockFace"],["Get the block","getBlock"],["Get the entity doing the damage","getDamager"],["Get inventory","getInventory"],["Get item","getItem"],["Get item dropped","getItemDrop"],["Get location player moved from","getFrom"],["Get location player moved to","getTo"],["Get message","getMessage"],["Get player","getPlayer"],["Get projectile","getProjectile"],["Get shooter","getEntity().getShooter"],["Get target","getTarget"],["Get the player who performed the click","getWhoClicked"],["Get which hand triggered the event","getHand"]]),"INFORMATION"),this.setOutput(!0,null),this.setColour(40),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.removeplayersdata={init:function(){this.appendDummyInput().appendField("Delete All Players Data with Key: ").appendField(new(vc().FieldTextInput)("Key"),"KEY"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.diamondarmor={init:function(){this.appendValueInput("PLAYER").appendField("Give diamond armor to player/entity:"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.diamondhelmet={init:function(){this.appendValueInput("PLAYER").appendField("Give diamond helmet to player/entity:"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.goldboots={init:function(){this.appendValueInput("PLAYER").appendField("Give gold boots to player/entity:"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.removeplayersgear={init:function(){this.appendDummyInput().appendField("Remove Gear from All Players"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setplayerhealth={init:function(){this.appendValueInput("HEALTH").appendField("Set Health to: "),this.appendValueInput("PLAYER").appendField("for player:"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.createexplosion={init:function(){this.appendValueInput("LOCATION").appendField("Explosion Size").appendField(new(vc().FieldDropdown)([["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"],["12","12"],["13","13"],["14","14"],["15","15"],["16","16"],["17","17"],["18","18"],["19","19"],["20","20"]]),"SIZE").appendField("Set Fire").appendField(new(vc().FieldDropdown)([["true","true"],["false","false"]]),"FIRE").appendField("Destroy Blocks").appendField(new(vc().FieldDropdown)([["true","true"],["false","false"]]),"DESTROY").appendField("Location:"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.countcondition={init:function(){this.appendValueInput("LIST").appendField("Count condition ").appendField(new(vc().FieldTextInput)("x == y"),"CONDITION").appendField(" in list "),this.setOutput(!0,null),this.setColour(260),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.healthofplayer={init:function(){this.appendValueInput("PLAYER").appendField("Health of Player"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setprojectilespeed={init:function(){this.appendValueInput("SPEED").appendField("Set Speed"),this.appendValueInput("PROJECTILE").appendField("For Projectile:"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getshooter={init:function(){this.appendValueInput("PROJECTILE").appendField("Shooter of Projectile:"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getnewboard={init:function(){this.appendDummyInput().appendField("Get new scoreboard"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.registernewteam={init:function(){this.appendValueInput("NAME").appendField("Create team with name:"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.addteamplayer={init:function(){this.appendValueInput("TEAM").appendField("Modify team:"),this.appendValueInput("PLAYER").appendField("Add player: "),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.friendlyfire={init:function(){this.appendValueInput("TEAM").appendField("Set Friendly Fire:").appendField(new(vc().FieldDropdown)([["true","true"],["false","false"]]),"ALLOWED").appendField("For Team:"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.createscoreboard={init:function(){this.appendValueInput("NAME").appendField("Scoreboard name"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.scoreboardtitle={init:function(){this.appendValueInput("TITLE").appendField("Set Scoreboard Title"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setscore={init:function(){this.appendValueInput("PLAYER").appendField("Set score for player: "),this.appendValueInput("VALUE").appendField(" = "),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.increment={init:function(){this.appendValueInput("VARIABLE").appendField("Increment variable:"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.incrementdecrement={init:function(){this.appendDummyInput().appendField("").appendField(new(vc().FieldDropdown)([["increment","INCREMENT"],["decrement","DECREMENT"]]),"INCREMENTDECREMENT"),this.appendValueInput("VARIABLE").appendField(" variable:"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.allplayerssetscore={init:function(){this.appendValueInput("SCORE").appendField("For all players set score ="),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.allplayersmessage={init:function(){this.appendValueInput("MESSAGE").appendField("To all players, send message:"),this.appendDummyInput().appendField("after 500ms delay").appendField(new(vc().FieldCheckbox)("FALSE",null,null),"DELAY"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.valueinlist={init:function(){this.appendValueInput("VALUE").appendField("Value"),this.appendValueInput("LIST").appendField("In List"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(260),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.deletefromlist={init:function(){this.appendValueInput("LIST").appendField("Delete element ").appendField(new(vc().FieldTextInput)("0"),"INDEX").appendField("from list"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(260),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.forchinstring={init:function(){this.appendValueInput("LIST").appendField("For _ch in string: "),this.appendStatementInput("FORCODE").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.breakoutofloop={init:function(){this.appendDummyInput().appendField("Break out of loop"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.blockinradius={init:function(){this.appendDummyInput().appendField("Found"),this.appendValueInput("BLOCKTYPE").appendField("a"),this.appendValueInput("RADIUS").appendField("block, within"),this.appendValueInput("LOCATION").appendField("blocks of location"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.cancelfriendlydamage={init:function(){this.appendDummyInput().appendField("Cancel friendly damage"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(40),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.friendlynearby={init:function(){this.appendValueInput("TEAM").appendField("Found team "),this.appendValueInput("RADIUS").appendField("player within"),this.appendValueInput("LOCATION").appendField("blocks of location"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.randomizechests={init:function(){this.appendValueInput("GOODIES").appendField("Randomize chest contents from list"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.m1garand={init:function(){this.appendDummyInput().appendField("M1-Garand(for player click and projectile launch)"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.minigun={init:function(){this.appendDummyInput().appendField("Minigun(call from player click event)"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.dealcard={init:function(){this.appendDummyInput().appendField("Deal a card from the deck"),this.setColour(160),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,null)}},vc().Blocks.createdeck={init:function(){this.appendDummyInput().appendField("Create a deck"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(160),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.sumcards={init:function(){this.appendValueInput("PLAYER").appendField("Sum cards in inventory for player"),this.setColour(160),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setOutput(!0,null)}},vc().Blocks.starttimer={init:function(){this.appendValueInput("PLAYER").appendField("Create/Reset Timer named ").appendField(new(vc().FieldTextInput)('"timerName"'),"TIMERNAME").appendField("For Player"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.elapsedtime={init:function(){this.appendDummyInput().appendField("Elapsed time for timer").appendField(new(vc().FieldTextInput)('"timerName"'),"TIMERNAME"),this.appendValueInput("PLAYER").appendField("assigned to player"),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setInputsInline(!0),this.setOutput(!0,null)}},vc().Blocks.countBet={init:function(){this.appendDummyInput().appendField("Count player's bet"),this.appendValueInput("PLAYER").appendField("assigned to player"),this.setOutput(!0,null),this.setInputsInline(!0),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.clearhotbar={init:function(){this.appendValueInput("PLAYER").appendField("Clear hotbar for player: "),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.blackjackdealer={init:function(){this.appendValueInput("FIRSTCARD").appendField("Get Blackjack dealer's hand. First Card:"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(160),this.setTooltip(""),this.setOutput(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.assigndamage={init:function(){this.appendValueInput("DAMAGE").appendField("Assign "),this.appendValueInput("ENTITY").appendField("damage to entity"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.foreachloop={init:function(){this.appendValueInput("LIST").appendField("For Each: ").appendField(new(vc().FieldTextInput)("element"),"ELEMENT").appendField(" in list: "),this.appendStatementInput("FORCODE").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.isjumping={init:function(){this.appendValueInput("PLAYER").appendField("Is jumping, player:"),this.setColour(40),this.setTooltip(""),this.setOutput(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getboots={init:function(){this.appendValueInput("PLAYER").appendField("Get boots worn by player:"),this.setColour(320),this.setTooltip(""),this.setOutput(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.randompotioneffect={init:function(){this.appendDummyInput().appendField("Random Potion Effect"),this.setOutput(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.effectid={init:function(){this.appendValueInput("POTION").appendField("Get Effect Id For Potion: "),this.setOutput(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.giverandompotion={init:function(){this.appendValueInput("PLAYER").appendField("Give Random Potion to player: "),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.addeffecttopotion={init:function(){this.appendValueInput("EFFECT").appendField("Add Potion Effect: "),this.appendValueInput("POTION").appendField("To Potion: "),this.appendValueInput("DURATION").appendField("Lasting: "),this.appendDummyInput().appendField("Seconds"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.updateplayersinventory={init:function(){this.appendValueInput("ITEMSTACK").appendField("Add stack:"),this.appendValueInput("PLAYER").appendField("to inventory for player:"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setstackname={init:function(){this.appendValueInput("STACK").appendField("Modify stack:"),this.appendValueInput("NAME").appendField("set custom name:"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.findcustomname={init:function(){this.appendDummyInput().appendField("Find entity with custom name: ").appendField(new(vc().FieldTextInput)("name"),"NAME"),this.setColour(0),this.setTooltip(""),this.setOutput(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.isnull={init:function(){this.appendValueInput("VARIABLE").appendField("Is null:"),this.setColour(210),this.setTooltip(""),this.setOutput(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.addcustomeffect={init:function(){this.appendValueInput("EFFECT").appendField("Add Custom Effect: "),this.appendValueInput("CLOUD").appendField("For Cloud: "),this.appendValueInput("DURATION").appendField("Lasting: "),this.appendDummyInput().appendField("Seconds"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setduration={init:function(){this.appendValueInput("DURATION").appendField("Set duration: "),this.appendDummyInput().appendField("Seconds"),this.appendValueInput("CLOUD").appendField("for area effect cloud: "),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setcloudradius={init:function(){this.appendValueInput("RADIUS").appendField("Set radius to "),this.appendDummyInput().appendField("blocks"),this.appendValueInput("CLOUD").appendField("for area effect cloud: "),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getplayerarmor={init:function(){this.appendDummyInput().appendField("Get").appendField(new(vc().FieldDropdown)([["Boots","Boots"],["Chest Plate","Chestplate"],["Helmet","Helmet"],["Leggings","Leggings"]]),"ARMOR"),this.appendValueInput("PLAYER").appendField("worn by player:"),this.setInputsInline(!0),this.setColour(320),this.setTooltip(""),this.setOutput(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.givearmor={init:function(){this.appendDummyInput().appendField("Give").appendField(new(vc().FieldDropdown)([["Chainmail","chainmail"],["Diamond","diamond"],["Gold","golden"],["Iron","iron"],["Leather","leather"]]),"STYLE"),this.appendDummyInput().appendField(" ").appendField(new(vc().FieldDropdown)([["Boots","boots"],["Chest Plate","chestplate"],["Helmet","helmet"],["Leggings","leggings"]]),"ARMOR"),this.appendValueInput("PLAYER").appendField("To entity or player"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.isopen={init:function(){this.appendValueInput("BLOCK").appendField("Door block:"),this.appendDummyInput().appendField("is open"),this.setOutput(!0,null),this.setInputsInline(!0),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.entityeffect={init:function(){this.appendDummyInput().appendField("Effect Type").appendField(new(vc().FieldDropdown)([["Armor stand is hit","ARMOR_STAND_HIT"],["Colored particles from a tipped arrow","ARROW_PARTICLES"],["Silverfish entering block, spawner spawning","ENTITY_POOF"],["When a firework explodes","FIREWORK_EXPLODE"],["Guardian sets laser target","GUARDIAN_TARGET"],["When mobs get hurt","HURT"],["Entity hurt due to drowning damage","HURT_DROWN"],["Entity hurt due to explosion damage","HURT_EXPLOSION"],["When an Iron Golem gives a rose","IRON_GOLEM_ROSE"],["Iron golem puts away rose","IRON_GOLEM_SHEATH"],["Hearts from a breeding entity","LOVE_HEARTS"],["Rabbit jumping","RABBIT_JUMP"],["Shield blocks attack","SHIELD_BLOCK"],["Shield breaks","SHIELD_BREAK"],["Resets squid rotation","SQUID_ROTATE"],["Entity hurt by thorns attack","THORNS_HURT"],["Totem prevents entity death","TOTEM_RESURRECT"],["When a villager is angry","VILLAGER_ANGRY"],["Happy particles from a villager","VILLAGER_HAPPY"],["Hearts from a villager","VILLAGER_HEART"],["Magic particles from a witch","WITCH_MAGIC"],["The hearts when taming a wolf succeeds","WOLF_HEARTS"],["When a wolf shakes (after being wet)","WOLF_SHAKE"],["The smoke when taming a wolf fails","WOLF_SMOKE"],["When a zombie transforms into a villager by shaking violently","ZOMBIE_TRANSFORM"]]),"EFFECT"),this.setOutput(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.playeffect={init:function(){this.appendValueInput("EFFECT").appendField("Play Effect:"),this.appendValueInput("ENTITY").appendField("on entity: "),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.soundeffect={init:function(){this.appendDummyInput().appendField("Sound Effect").appendField(new(vc().FieldDropdown)([["Anvil Fall","BLOCK_ANVIL_FALL"],["Arrow Shoot","ENTITY_ARROW_SHOOT"],["Bat","ENTITY_BAT_AMBIENT"],["Bat Takeoff","ENTITY_BAT_TAKEOFF"],["Beacon","BLOCK_BEACON_AMBIENT"],["Bell Resonate","BLOCK_BELL_RESONATE"],["Bell Use","BLOCK_BELL_USE"],["Blast Furnace Fire Crackle","BLOCK_BLASTFURNACE_FIRE_CRACKLE"],["Blaze","ENTITY_BLAZE_AMBIENT"],["Blaze Burn","ENTITY_BLASE_BURN"],["Brewing Stand Brew","BLOCK_BREWING_STAND_BREW"],["Bubble Column Bubble Pop","BLOCK_BUBBLE_COLUMN_BUBBLE_POP"],["Campfire Crackle","BLOCK_CAMPFIRE_CRACKLE"],["Cave","AMBIENT_CAVE"],["Chest Close","BLOCK_CHEST_CLOSE"],["Chest Locked","BLOCK_CHEST_LOCKED"],["Chest Open","BLOCK_CHEST_OPEN"],["Composter Ready","BLOCK_COMPOSTER_READY"],["Conduit Activate","BLOCK_CONDUIT_ACTIVATE"],["Ender Chest Close","BLOCK_ENDER_CHEST_CLOSE"],["Ender Chest Open","BLOCK_ENDER_CHEST_OPEN"],["Enderman","ENTITY_ENDERMAN_AMBIENT"],["Enderman Scream","ENTITY_ENDERMAN_SCREAM"],["Enderman Stare","ENTITY_ENDERMAN_STARE"],["Enderman Teleport","ENTITY_ENDERMAN_TELEPORT"],["Event Raid Horn","EVENT_RAID_HORN"],["Evoker","ENTITY_EVOKER_AMBIENT"],["Evoker Celebrate","ENTITY_EVOKER_CELEBRATE"],["Evoker Fangs Attack","ENTITY_EVOKER_FANGS_ATTACK"],["Fence Gate Close","BLOCK_FENCE_GATE_CLOSE"],["Fence Gate Open","BLOCK_FENCE_GATE_OPEN"],["Fire","BLOCK_FIRE_AMBIENT"],["Fire Extinguish","BLOCK_FIRE_EXTINGUISH"],["Firework Rocket Blast","ENTITY_FIREWORK_ROCKET_BLAST"],["Firework Rocket Launch","ENTITY_FIREWORK_ROCKET_LAUNCH"],["Firework Rocket Shoot","ENTITY_FIREWORK_ROCKET_SHOOT"],["Fox","ENTITY_FOX_AMBIENT"],["Fox Screech","ENTITY_FOX_SCREECH"],["Furnace Fire Crackle","BLOCK_FURNANCE_FIRE_CRACKLE"],["Ghast","ENTITY_GHAST_AMBIENT"],["Ghast Scream","ENTITY_GHAST_SCREAM"],["Ghast Warn","ENTITY_GHAST_WARN"],["Glass Break","BLOCK_GLASS_BREAK"],["Glass Step","BLOCK_GLASS_STEP"],["Gravel Break","BLOCK_GRAVEL_BREAK"],["Grave Step","BLOCK_GRAVEL_STEP"],["Horse","ENTITY_HORSE_AMBIENT"],["Horse Gallup","ENTITY_HORSE_GALLUP"],["Iron Door Close","BLOCK_IRON_DOOR_CLOSE"],["Iron Door Open","BLOCK_IRON_DOOR_OPEN"],["Ladder Break","BLOCK_LADDER_BREAK"],["Ladder Fall","BLOCK_LADDER_FALL"],["Ladder Step","BLOCK_LADDER_STEP"],["Lava Pop","BLOCK_LAVA_POP"],["Lightning Bolt Impact","ENTITY_LIGHTNING_BOLT_IMPACT"],["Lightning Bolt Thunder","ENTITY_LIGHTNING_BOLT_THUNDER"],["Metal Pressure Plate Click Off","BLOCK_METAL_PRESSURE_PLATE_CLICK_OFF"],["Metal Pressure Plate Click On","BLOCK_METAL_PRESSURE_PLATE_CLICK_ON"],["Minecart Inside","ENTITY_MINECART_INSIDE"],["Minecart Riding","ENTITY_MINECART_RIDING"],["Music Disk 11","MUSIC_DISC_11"],["Music Disk 13","MUSIC_DISC_13"],["Music End","MUSIC_END"],["Music Game","MUSIC_GAME"],["Note Banjo","BLOCK_NOTE_BLOCK_BANJO"],["Note Base Drum","BLOCK_NOTE_BLOCK_BASEDRUM"],["Note Bell","BLOCK_NOTE_BLOCK_BASS"],["Note CowBell","BLOCK_NOTE_BLOCK_COW_BELL"],["Note Didgeridoo","BLOCK_NOTE_BLOCK_DIDGERIDOO"],["Note Guitar","BLOCK_NOTE_BLOCK_GUITAR"],["Note Harp","BLOCK_NOTE_BLOCK_HARP"],["Note Iron Xylophone","BLOCK_NOTE_BLOCK_IRON_XYLOPHONE"],["Note Pling","BLOCK_NOTE_BLOCK_PLING"],["Note Snare","BLOCK_NOTE_BLOCK_SNARE"],["Note Xylophone","BLOCK_NOTE_BLOCK_XYLOPHONE"],["Panda","ENTITY_PANDA_AMBIENT"],["Panda Pre Sneeze","ENTITY_PANDA_PRE_SNEEZE"],["Panda Sneeze","ENTITY_PANDA_SNEEZE"],["Phantom","ENTITY_PHANTOM_AMBIENGT"],["Phantom Swoop","ENTITY_PHANTOM_SWOOP"],["Pillager","ENTITY_PILLAGER_AMBIENT"],["Pillager Celebrate","ENTITY_PILLAGER_CELEBRATE"],["Piston Contract","BLOCK_PISTON_CONTRACT"],["Piston Extend","BLOCK_PISTON_EXTEND"],["Player Death","ENTITY_PLAYER_DEATH"],["Player Burp","ENTITY_PLAYER_BURP"],["Polar Bear","ENTITY_POLAR_BEAR_AMBIENT"],["Portal","BLOCK_PORTAL_AMBIENT"],["Portal Travel","BLOCK_PORTAL_TRAVEL"],["Portal Trigger","BLOCK_PORTAL_TRIGGER"],["Pumpkin Carve","BLOCK_PUMPKIN_CARVE"],["Ravager","ENTITY_RAVAGER_AMBIENT"],["Ravager Attack","ENTITY_RAVAGER_ATTACK"],["Ravager Celebrate","ENTITY_RAVAGER_CELEBRATE"],["Shulker Box Close","BLOCK_SHULKER_BOX_CLOSE"],["Shulker Box Open","BLOCK_SHULKER_BOX_OPEN"],["Snowball Throw","ENTITY_SNOWBALL_THROW"],["Tripwire Click Off ","BLOCK_TRIPWIRE_CLICK_OFF"],["Tripwire Click On","BLOCK_TRIPEWIRE_CLOCK_ON"],["Button Click","UI_BUTTON_CLICK"],["Villager Yes","ENTITY_VILLAGER_YES"],["Vindicator","ENTITY_VINDICATOR_AMBIENT"],["Vindicator Celebrate","ENTITY_VINDICATOR_CELEBRATE"],["Water","BLOCK_WATER_AMBIENT"],["Wet Grass Step","BLOCK_WET_GRASS_STEP"],["Wandering Trader","ENTITY_WANDERING_TRADER_AMBIENT"],["Wandering Trader No","ENTITY_WANDERING_TRADER_NO"],["Wandering Trader Yes","ENTITY_WANDERING_TRADER_YES"],["Weather Rain","WEATHER_RAIN"],["Weather Rain Above","WEATHER_RAIN_ABOVE"],["Witch","ENTITY_WITCH_AMBIENT"],["Witch Celebrate","ENTITY_WITCH_CELEBRATE"],["Wood Step","BLOCK_WOOD_STEP"],["Wolf","ENTITY_WOLF_AMBIENT"],["Wolf Growl","ENTITY_WOLF_GROWL"],["Wolf Whine","ENTITY_WOLF_WHINE"],["Wooden Trapdoor Open","BLOCK_WOODEN_TRAPDOOR_OPEN"],["Wooden Trapdoor Close","BLOCK_WOODEN_TRAPDOOR_CLOSE"]]),"EFFECT"),this.setOutput(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.playsound={init:function(){this.appendValueInput("EFFECT").appendField("Play Sound:"),this.appendDummyInput().appendField("at volume ").appendField(new(vc().FieldTextInput)("10"),"VOLUME"),this.appendValueInput("PLAYER").appendField("for player: "),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.islocation={init:function(){this.appendValueInput("LOCATION").appendField("Location"),this.appendDummyInput().appendField("= [ X").appendField(new(vc().FieldTextInput)("0"),"X").appendField("Y").appendField(new(vc().FieldTextInput)("0"),"Y").appendField("Z").appendField(new(vc().FieldTextInput)("0"),"Z").appendField(" ]"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.counthotbar={init:function(){this.appendValueInput("MATERIAL").appendField("Count number of Material"),this.appendValueInput("PLAYER").appendField("in hotbar for player: "),this.setOutput(!0,null),this.setInputsInline(!0),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setglobal={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(330),this.appendValueInput("EXPRESSION").appendField("Set Global ").appendField(new(vc().FieldTextInput)("name"),"VARNAME").appendField("="),this.setTooltip(""),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.globalvariable={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(330),this.appendDummyInput().appendField("Global variable:").appendField(new(vc().FieldTextInput)("value"),"VARNAME"),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.removeitemhotbar={init:function(){this.appendValueInput("MATERIAL").appendField("Remove ").appendField(new(vc().FieldTextInput)("1"),"COUNT").appendField(" Material: "),this.appendValueInput("PLAYER").appendField("from hotbar for player: "),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},vc().Blocks.locationof={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(0),this.appendValueInput("OBJECT").appendField("Location of "),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setdoor={init:function(){this.appendDummyInput().appendField(new(vc().FieldDropdown)([["Open","OPEN"],["Close","CLOSE"]]),"EFFECT"),this.appendValueInput("LOCATION").appendField("door at location: "),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},vc().Blocks.fill={init:function(){this.appendValueInput("MATERIAL").appendField("Fill Block Type: "),this.appendValueInput("LOCATION").appendField("From start location: "),this.appendValueInput("X").appendField("X offset "),this.appendValueInput("Y").appendField("Y offset "),this.appendValueInput("Z").appendField("Z offset "),this.setColour(200),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},vc().Blocks.invincibility={init:function(){this.appendValueInput("PLAYER").appendField("Set invincibility for player "),this.appendValueInput("TICKS").appendField("for"),this.appendDummyInput().appendField(" ticks "),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},vc().Blocks.removearmor={init:function(){this.appendDummyInput().appendField("Remove ").appendField(new(vc().FieldDropdown)([["Boots","Boots"],["Chest Plate","Chestplate"],["Helmet","Helmet"],["Leggings","Leggings"]]),"ARMOR"),this.appendValueInput("PLAYER").appendField("worn by player:"),this.setInputsInline(!0),this.setColour(320),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.playernearby={init:function(){this.appendValueInput("PLAYER").appendField("Found player "),this.appendValueInput("RADIUS").appendField("within"),this.appendValueInput("LOCATION").appendField("blocks of location"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.removeallarmor={init:function(){this.appendValueInput("PLAYER").appendField("Remove all armor worn by player:"),this.setInputsInline(!0),this.setColour(320),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.basicrenderfunction={init:function(){this.appendDummyInput().appendField("Basic Map Render Function"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.title={init:function(){this.appendDummyInput().appendField("Send ").appendField(new(vc().FieldDropdown)([["actionbar","actionbar"],["subtitle","subtitle"],["title","title"]]),"MESSAGETYPE"),this.appendValueInput("PLAYER").appendField("message ").appendField(new(vc().FieldTextInput)("Hello"),"MESSAGE").appendField("To Player"),this.appendDummyInput().appendField("in color ").appendField(new(vc().FieldDropdown)([["aqua","aqua"],["black","black"],["blue","blue"],["dark_aqua","dark_aqua"],["dark_blue","dark_blue"],["dark_gray","dark_gray"],["dark_purple","dark_purple"],["dark_red","dark_red"],["gold","gold"],["gray","gray"],["green","green"],["light_purple","light_purple"],["red","red"],["white","white"],["yellow","yellow"]]),"COLOR"),this.appendDummyInput().appendField("in bold").appendField(new(vc().FieldCheckbox)("FALSE",null,null),"BOLD"),this.appendDummyInput().appendField("in italic").appendField(new(vc().FieldCheckbox)("FALSE",null,null),"ITALIC"),this.setInputsInline(!0),this.setColour(320),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.playerinbox={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(0),this.appendValueInput("PLAYER").appendField("Player "),this.appendValueInput("LOCATION1").appendField("is within area bounded by Location1  "),this.appendValueInput("LOCATION2").appendField("and Location2 "),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.playerpointed={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(0),this.appendDummyInput().appendField("Get ").appendField(new(vc().FieldDropdown)([["pitch","Pitch"],["yaw","Yaw"]]),"PITCHYAW"),this.appendValueInput("PLAYER").appendField("for player "),this.setInputsInline(!0),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setinhand={init:function(){this.appendValueInput("ITEM").appendField("Set stack inhand to "),this.appendValueInput("PLAYER").appendField("for player "),this.setInputsInline(!0),this.setColour(320),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.playerinsphere={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(0),this.appendValueInput("PLAYER").appendField("Player/Entity "),this.appendValueInput("LOCATION").appendField("is within sphere with center at location  "),this.appendValueInput("RADIUS").appendField("and radius "),this.setInputsInline(!0),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.customizefirework={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(0),this.appendValueInput("FIREWORK").appendField("Customize firework: "),this.appendDummyInput().appendField("add color ").appendField(new(vc().FieldDropdown)([["Aqua","AQUA"],["Black","BLACK"],["Blue","BLUE"],["Fuchsia","FUCHSIA"],["Gray","GRAY"],["Green","GREEN"],["Lime","LIME"],["Maroon","MAROON"],["Navy","NAVY"],["Olive","OLIVE"],["Orange","ORANGE"],["Purple","PURPLE"],["Red","RED"],["Silver","SILVER"],["Teal","TEAL"],["White","WHITE"],["Yellow","YELLOW"]]),"COLOR"),this.appendDummyInput().appendField("with fade color ").appendField(new(vc().FieldDropdown)([["Aqua","AQUA"],["Black","BLACK"],["Blue","BLUE"],["Fuchsia","FUCHSIA"],["Gray","GRAY"],["Green","GREEN"],["Lime","LIME"],["Maroon","MAROON"],["Navy","NAVY"],["Olive","OLIVE"],["Orange","ORANGE"],["Purple","PURPLE"],["Red","RED"],["Silver","SILVER"],["Teal","TEAL"],["White","WHITE"],["Yellow","YELLOW"]]),"FADE"),this.appendDummyInput().appendField("with effect ").appendField(new(vc().FieldDropdown)([["Ball","BALL"],["Large Ball","BALL_LARGE"],["Burst","BURST"],["Creeper","CREEPER"],["Star","STAR"]]),"EFFECT"),this.appendDummyInput().appendField("flicker").appendField(new(vc().FieldCheckbox)("FALSE",null,null),"FLICKER"),this.setInputsInline(!0),this.setTooltip(""),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.locationtovector={init:function(){this.appendValueInput("LOCATION").appendField("Get vector from location:"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.spawnarrow={init:function(){this.appendValueInput("LOCATION").appendField("Spawn arrow at location"),this.appendValueInput("VECTOR").appendField("with vector"),this.appendDummyInput().appendField("spread").appendField(new(vc().FieldTextInput)("12"),"SPREAD"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setInputsInline(!0),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.equipmentslot={init:function(){this.appendDummyInput().appendField("Equipment Slot: ").appendField(new(vc().FieldDropdown)([["Chest","Chest"],["Feet","FEET"],["Hand","HAND"],["Head","HEAD"],["Legs","LEGS"],["Off Hand","OFF_HAND"]]),"SLOT"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.normalizevector={init:function(){this.appendValueInput("VECTOR").appendField("Normalize vector: "),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.playeronground={init:function(){this.appendValueInput("PLAYER").appendField("Player"),this.appendDummyInput().appendField("is on the ground"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getdurability={init:function(){this.appendValueInput("ITEM").appendField("Get durability of item"),this.setOutput(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.stackinoffhand={init:function(){this.appendValueInput("PLAYER").appendField("Stack in offhand of Player"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.stacklength={init:function(){this.appendValueInput("STACK").appendField("Length of stack"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.decrementstack={init:function(){this.appendValueInput("STACK").appendField("Decrement stack: "),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.randomlistitem={init:function(){this.appendValueInput("LIST").appendField("Get a random item from list: "),this.setOutput(!0,null),this.setColour(260),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.cakeslicesremaining={init:function(){this.appendValueInput("BLOCK").appendField("Number of cake slices remaining for cake block:"),this.setOutput(!0,null),this.setColour(260),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.getnamestructure={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(330),this.appendDummyInput().appendField("Data Name").appendField(new(vc().FieldTextInput)("name"),"ELEMENT"),this.appendValueInput("STRUCTURE").appendField("in structure"),this.setInputsInline(!0),this.setTooltip(""),this.setOutput(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.namevaluevariable={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(330),this.appendDummyInput().appendField("Data Name").appendField(new(vc().FieldTextInput)("name"),"VARNAME"),this.appendValueInput("VALUE").appendField("Value"),this.setTooltip(""),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.namevaluestructure={init:function(){this.setHelpUrl(vc().Msg.TEXT_TEXT_HELPURL),this.setColour(330),this.appendDummyInput().appendField("Set Data Name").appendField(new(vc().FieldTextInput)("name"),"NAME"),this.appendValueInput("VALUE").appendField("="),this.appendValueInput("STRUCTURE").appendField("in Structure:"),this.setTooltip(""),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.functioncallreturn={init:function(){this.appendDummyInput().appendField("Call Function").appendField(new(vc().FieldTextInput)("test"),"FUNCTIONNAME"),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},vc().Blocks.setdurability={init:function(){this.appendValueInput("ITEM").appendField("Set durability of item"),this.appendValueInput("VALUE").appendField("to "),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(320),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}};n(5702),n(4173);var Tc=[];function Ec(e){var t=e;if(e.length>1){var n=e.substring(0,1),o=e.substring(e.length-1);t='"'===n&&'"'===o?e:"("===n&&")"===o?e.substring(1,e.length-1):""===Oc(e,'"','"')?e:Oc(e,'"','"')}else alert("ERR extractStr, value.length ==="+e.length);return t}function kc(e){var t=!1;if(e.indexOf("exports.")>-1)t=!0;else for(var n=0;n<Tc.length;n++)if(Tc[n]===e){t=!0;break}t||Tc.push(e)}function bc(e){var t=wc(e,"|",1)+1,n=wc(e,"|",2);return e.substring(t,n)}function Cc(e){var t=wc(e,"|",2)+1,n=wc(e,"|",3),o=e.substring(t,n);return-1!==o.indexOf('"')&&(o=o.substring(1,o.length-1)),o}function Sc(e){var t=wc(e,"|",3)+1,n=wc(e,"|",4);return e.substring(t,n)}function Ic(e,t){return e.slice(0,t)+e.slice(t+1,e.length)}function Rc(e){if(void 0===e)return"";if(null===e)return"";var t=e.indexOf("("),n=e.length,o=0,i="";if(-1===t)i=e;else if((n=e.lastIndexOf(")"))>-1)e=Ic(e,n),i=e=Ic(e,t);else{for(n=t+1,o=1;n<e.length-1;){if(n===e.length-1?e.substring(n):e.substring(n,n+1),")"===e.substring(n,n+1)){if(0===(o-=1))break}else"("===e.substring(n,n+1)&&(o+=1);n+=1}t+=1,i=e.substring(t,n)}return i}function Oc(e,t,n){var o=e.indexOf(t)+1,i=e.indexOf(n,o);return e.substring(o,i)}function wc(e,t,n){for(var o,i=-1,r=0;r<n;r++)i=o=e.indexOf(t,i+1);return o}function Bc(e,t){for(var n,o=!0,i=0;i<Tc.length;i++)n=!1,t.length>0&&t.indexOf(Tc[i])>-1&&(n=!0),n||(o&&(e+="  //Instantiations;\n",o=!1),e=Tc[i].indexOf("function")>-1?e+"  "+Tc[i]+";\n":e+"  var "+Tc[i]+";\n");return e}console.log(11),vc().Python.setcolor=function(e){var t=e.getFieldValue("COLOR");return Oc(vc().Python.valueToCode(e,"OBJECT",vc().Python.ORDER_ATOMIC),'"','"')+".setColor ("+t+");\n"},vc().Python.flashcolor=function(e){return"led.setColor("+e.getFieldValue("COLOR")+",1000);\n"},vc().Python.statement=function(e){return Oc(vc().Python.valueToCode(e,"statementValue",vc().Python.ORDER_ATOMIC),'"','"')+"\n"},vc().Python.start=function(e){return"//Start of blockly generated code!\n"},vc().Python.commentwidget=function(e){return"//"+Oc(vc().Python.valueToCode(e,"NAME",vc().Python.ORDER_ATOMIC),'"','"')+"\n"},vc().Python.echowidget=function(e){return'echo ("'+Oc(vc().Python.valueToCode(e,"NAME",vc().Python.ORDER_ATOMIC),'"','"')+'");\n'},vc().Python.controls_if=function(e){for(var t,n=0,o="";'"'===(t=vc().Python.valueToCode(e,"IF"+n,vc().Python.ORDER_NONE)||"false")[0]&&'"'===t[t.length-1]&&(t=t.substring(1,t.length-1)),o+=(0===n?"if (":"else if (")+t+"){\n"+(vc().Python.statementToCode(e,"DO"+n)||vc().Python.PASS)+"}\n",++n,e.getInput("IF"+n););return e.getInput("ELSE")&&(o+="else {\n"+(vc().Python.statementToCode(e,"ELSE")||vc().Python.PASS)+"}\n"),o},vc().Python.text_print=function(e){var t=vc().Python.valueToCode(e,"TEXT",vc().Python.ORDER_NONE)||"''";return t.indexOf('"')>-1&&(t='"'+Oc(t,'"','"')+'"'),"Serial.print ("+t+");\n"},vc().Python.loadobjects=function(e){for(var t,n=vc().Python.statementToCode(e,"NAME"),o="",i=0,r=n.indexOf("\n"),s="";-1!==r;){var l=n.substring(i,r-1);t=bc(l),-1===s.indexOf(t)&&("IRPipboy"===t&&(s+="#include &ltIR.h&gt\n#include &ltTimerOne.h&gt\n"),s=s+"#include &lt"+t+".h&gt\n"),o=o+t+" "+Cc(l)+" = "+t+"("+Sc(l)+");\n",i=r+1,r=n.indexOf("\n",i)}return s+o+"\n"},vc().Python.variables_set=function(e){var t=vc().Python.valueToCode(e,"VALUE",vc().Python.ORDER_NONE)||"0";return vc().Python.variableDB_.getName(e.getFieldValue("VAR"),vc().Variables.NAME_TYPE)+" = "+t+";\n"},vc().Python.resettimer=function(e){return Oc(vc().Python.valueToCode(e,"NAME",vc().Python.ORDER_ATOMIC),'"','"')+" = 0;\n"},vc().Python.timerisactive=function(e){var t=Oc(vc().Python.valueToCode(e,"OBJECT",vc().Python.ORDER_ATOMIC),'"','"');return["("+t+" > 0 ) && (millis() < "+t+")",vc().Python.ORDER_NONE]},vc().Python.createfirepulse=function(e){var t=vc().Python.valueToCode(e,"VALUE1",vc().Python.ORDER_ATOMIC),n=vc().Python.valueToCode(e,"VALUE2",vc().Python.ORDER_ATOMIC),o=vc().Python.valueToCode(e,"VALUE3",vc().Python.ORDER_ATOMIC),i=vc().Python.valueToCode(e,"VALUE4",vc().Python.ORDER_ATOMIC);return"irTx.createFirePulse("+(t=Oc(t,"(",")"))+"),"+(n=Oc(n,"(",")"))+"),"+(o=Oc(o,"(",")"))+"),"+(i=Oc(i,"(",")"))+"));\n"},vc().Python.writepin=function(e){var t=vc().Python.valueToCode(e,"WHICHPIN",vc().Python.ORDER_ATOMIC),n=e.getFieldValue("PINVALUE"),o=Rc(t);return"pinMode ("+o+",OUTPUT);\ndigitalWrite("+o+","+n+");\n"},vc().Python.readpin=function(e){return["digitalRead("+Rc(vc().Python.valueToCode(e,"WHICHPIN",vc().Python.ORDER_ATOMIC))+")",vc().Python.ORDER_NONE]},vc().Python.define=function(e){var t=vc().Python.valueToCode(e,"VALUE",vc().Python.ORDER_ATOMIC);return"#define "+vc().Python.valueToCode(e,"NAME",vc().Python.ORDER_ATOMIC)+" "+t+"\n"},vc().Python.definename=function(e){return[vc().Python.valueToCode(e,"NAME",vc().Python.ORDER_ATOMIC),vc().Python.ORDER_NONE]},vc().Python.tostring=function(e){var t=vc().Python.valueToCode(e,"VARIABLE",vc().Python.ORDER_ATOMIC);return["("+(t=Rc(t))+'===null)?"":('+t+'.toString===null)?"":'+t+".toString()",vc().Python.ORDER_NONE]},vc().JavaScript.scriptcraftexpression=function(e){return e.getFieldValue("EXPRESSION")+"\n"},vc().Python.spawn=function(e){var t,n,o=e.getFieldValue("ENTITY"),i=vc().Python.valueToCode(e,"COUNT",vc().Python.ORDER_ATOMIC);t=64,n=i;var r="// Spawn "+o+"\n";return""===(i=parseInt(n)>t?t:parseInt(n))||i<=1?r=r+"self.world.spawnEntity(self.location,"+o+");\n":(r=(r=r+"for (var i=0; i<"+i+"; i++) {\n")+"  self.world.spawnEntity(self.location,"+o+");\n",r+="}\n"),r},vc().Python.structures=function(e){var t=e.getFieldValue("STRUCTURE");return"farm"===t?"function changeBlock (location, xOffset,yOffset,zOffset, material, repeat) {\n  var x,y,z,block;\n  for (var i=0; i<repeat; i++) {\n     x = parseInt (location.x) + xOffset;\n     y = parseInt (location.y) + yOffset;\n     z = parseInt (location.z) + zOffset;\n     location = new org.bukkit.Location(server.worlds[0],x,y,z);\n     block = server.worlds[0].getBlockAt (location);\n     block.setType (material);\n  }\n  return location;\n}\nlocation = changeBlock (self.location,0,-1,0,org.bukkit.Material.COMPOSTER,1);\nlocation = changeBlock (location,0,0,1,org.bukkit.Material.FARMLAND,6);\nlocation = changeBlock (location,-2,0,1,org.bukkit.Material.FARMLAND,1);\nlocation = changeBlock (location,0,0,-1,org.bukkit.Material.FARMLAND,6);\nlocation = changeBlock (location,1,0,0,org.bukkit.Material.WHEAT,1);\nlocation = changeBlock (location,0,0,1,org.bukkit.Material.WATER,6);\nlocation = changeBlock (location,-5,1,0,org.bukkit.Material.OAK_FENCE,1);\nlocation = changeBlock (location,0,0,-1,org.bukkit.Material.OAK_FENCE,10);\nlocation = changeBlock (location,1,0,0,org.bukkit.Material.OAK_FENCE,8);\nlocation = changeBlock (location,0,0,1,org.bukkit.Material.OAK_FENCE,12);\nlocation = changeBlock (location,-1,0,0,org.bukkit.Material.OAK_FENCE,4);\nlocation = changeBlock (location,-1,0,0,org.bukkit.Material.OAK_FENCE_GATE,1);\nlocation = changeBlock (location,-1,0,0,org.bukkit.Material.OAK_FENCE,3);\nlocation = changeBlock (location,0,0,-1,org.bukkit.Material.OAK_FENCE,3);\nvar entity = server.worlds[0].spawnEntity(self.location, org.bukkit.entity.EntityType.VILLAGER);\nnewItems = require('items').wheatSeeds(16);\nentity.inventory.addItem(newItems);\nentity.setProfession (org.bukkit.entity.Villager.Profession.FARMER);\n":"// Spawn "+t+"\n"+t.toLowerCase()+"();\n"},vc().Python.createdrone=function(e){return"drone = new Drone(self); // create a drone\n"},vc().Python.buildbox=function(e){var t=e.getFieldValue("BLOCKTYPE"),n=vc().Python.valueToCode(e,"LENGTH",vc().Python.ORDER_ATOMIC),o=vc().Python.valueToCode(e,"WIDTH",vc().Python.ORDER_ATOMIC);return"//Build a box out of "+t+"\ndrone.box(blocks."+t+", "+n+", "+vc().Python.valueToCode(e,"HEIGHT",vc().Python.ORDER_ATOMIC)+", "+o+"); // length, height, width\n"},vc().Python.changeBlock=function(e){var t=vc().Python.valueToCode(e,"BLOCK",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"TYPEOFBLOCK",vc().Python.ORDER_ATOMIC);return t+".setType("+(n=Rc(n))+");\n"},vc().Python.sign=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"LINE1",vc().Python.ORDER_ATOMIC),o=vc().Python.valueToCode(e,"LINE2",vc().Python.ORDER_ATOMIC);return""===n&&(n='""'),""===o&&(o='""'),"drone = new Drone(self); // create a drone\nvar line1 = "+n+"\nvar line2 = "+o+"\ndrone.signpost([line1,line2]);\n"},vc().Python.wallsign=function(e){var t=vc().Python.valueToCode(e,"LINE1",vc().Python.ORDER_ATOMIC),n=vc().Python.valueToCode(e,"LINE2",vc().Python.ORDER_ATOMIC);return""===t&&(t='""'),""===n&&(n='""'),"drone = new Drone(self); // create a drone\nvar line1 = "+t+"\nvar line2 = "+n+"\ndrone.sign([line1,line2], blocks.sign);\n"},vc().Python.consolelog=function(e){var t=vc().Python.valueToCode(e,"NAME",vc().Python.ORDER_ADDITIVE);return"console.log ("+(t=Ec(t))+");\n"},vc().Python.eventlistener=function(e){return"events."+e.getFieldValue("LISTENERTYPE")+"( function (event) { \n"+vc().Python.statementToCode(e,"LISTENERCODE")+"});\n"},vc().Python.forlistdo=function(e){var t=vc().Python.valueToCode(e,"LIST",vc().Python.ORDER_ADDITIVE);t=Rc(t);var n=e.getFieldValue("INDEX");return n.indexOf('"')>-1&&(n=Oc(n,'"','"')),"for (var "+n+"=0; "+n+"<"+t+".length;"+n+"++) {\n"+vc().Python.statementToCode(e,"FORCODE")+"};\n"},vc().Python.explosion=function(e){var t=parseFloat(e.getFieldValue("SIZE"));t>10&&(t=10);var n=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return"server.worlds[0].createExplosion ("+(n=Rc(n))+","+t+");\n"},vc().Python.evententitylocation=function(e){return["event.entity.location",vc().Python.ORDER_NONE]},vc().Python.evententityshooter=function(e){return["event.entity.shooter",vc().Python.ORDER_NONE]},vc().Python.eventplayer=function(e){return[e.getFieldValue("PLAYER"),vc().Python.ORDER_NONE]},vc().Python.sendmessage=function(e){var t,n=e.getFieldValue("MESSAGE"),o=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return"event.getAffectedEntities()"===(o=Rc(o))?t="var entities = event.getAffectedEntities();\nfor (var i=0; i<entities.length; i++) {\n  entities[i].sendMessage ("+n+");\n}\n":"server.getOnlinePlayers()"===o?-1===n.indexOf('"')?t='org.bukkit.Bukkit.dispatchCommand(org.bukkit.Bukkit.getConsoleSender(), "tellraw @a [\\"" + '+n+' + "\\"]");\n':(n=n.substring(0,n.length-1),t='org.bukkit.Bukkit.dispatchCommand(org.bukkit.Bukkit.getConsoleSender(), "tellraw @a [\\'+(n+='\\"')+']");\n'):t="(function() { \n  if ("+o+" != null ) { \n     "+o+".sendMessage ("+n+");\n  }\n })();\n",t},vc().Python.armorset=function(e){var t=vc().Python.valueToCode(e,"COLOR",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);n=""===n?"self":Rc(n),kc("color");var o=t;return o=-1===t.indexOf("org.bukkit.Color.")?'eval ( "color = org.bukkit.Color." + '+t+");\n":"color = "+o+";\n",kc("_player"),o+"_player = "+n+";\nvar items = require ('items');\nvar helmet = items.leatherHelmet(1);\nvar helmetMeta = helmet.itemMeta;\nhelmetMeta.color = color;\nhelmet.itemMeta = helmetMeta;\n_player.equipment.helmet = helmet;\nvar boots = items.leatherBoots(1);\nvar bootsMeta = boots.itemMeta;\nbootsMeta.color = color;\nboots.itemMeta = bootsMeta;\n_player.equipment.boots = boots;\nvar chest = items.leatherChestplate(1);\nvar chestMeta = chest.itemMeta;\nchestMeta.color = color;\nchest.itemMeta = chestMeta;\n_player.equipment.chestplate = chest;\nvar legs = items.leatherLeggings(1);\nvar legsMeta = legs.itemMeta;\nlegsMeta.color = color;\nlegs.itemMeta = legsMeta;\n_player.equipment.leggings = legs;\n"},vc().Python.killplayer=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return"setTimeout (function () {\n  "+(t=Rc(t))+".setHealth(0);\n},500);\n"},vc().Python.setplayerdata=function(e){var t=e.getFieldValue("KEY");t="_"+(t=t.toLowerCase())+"_";var n=vc().Python.valueToCode(e,"VALUE",vc().Python.ORDER_ATOMIC);n=Rc(n);var o=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return"fd = new org.bukkit.metadata.FixedMetadataValue (__plugin,"+n+");\nif ("+(o=""===o?"self":Rc(o))+" != null) { \n  if ("+o+".setMetadata != null ) { \n    "+o+'.setMetadata ("'+t+'", fd );\n  }\n}\n'},vc().Python.setallplayersdata=function(e){var t=e.getFieldValue("KEY");t="_"+(t=t.toLowerCase())+"_";var n=vc().Python.valueToCode(e,"VALUE",vc().Python.ORDER_ATOMIC);return"fd = new org.bukkit.metadata.FixedMetadataValue (__plugin,"+(n=Rc(n))+');\nvar players = server.getOnlinePlayers();\nvar _player;\nfor (var playersIndex=0; playersIndex<players.length; playersIndex++) {\n  _player = players[playersIndex];\n  if ( _player != null) { \n    if (_player.setMetadata != null ) { \n      _player.setMetadata ("'+t+'", fd );\n    }\n  }\n}\n'},vc().Python.removeplayerdata=function(e){var t=e.getFieldValue("KEY");t="_"+(t=t.toLowerCase())+"_";var n=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return""===(n=Rc(n))?n="self":"server.getOnlinePlayers()"===n?alert("Use a repeat loop instead of all players"):n=Rc(n),n+'.removeMetadata ("'+t+'", __plugin );\n'},vc().Python.getplayerdata=function(e){var t=e.getFieldValue("KEY");t="_"+(t=t.toLowerCase())+"_";var n=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return[(n=""===n?"self":Rc(n))+'.getMetadata("'+t+'")[0].value()',vc().Python.ORDER_NONE]},vc().Python.getplayerdata2=function(e){var t=e.getFieldValue("KEY");t="_"+(t=t.toLowerCase())+"_";var n=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return["("+(n=""===n?"self":Rc(n))+"=== null)? null : ("+n+".getMetadata === null)?null:("+n+'.getMetadata("'+t+'").length === 0)?null:'+n+'.getMetadata("'+t+'")[0].value()',vc().Python.ORDER_NONE]},vc().Python.playerdataeq=function(e){var t=e.getFieldValue("KEY");t="_"+(t=t.toLowerCase())+"_";var n=vc().Python.valueToCode(e,"PLAYER1",vc().Python.ORDER_ATOMIC);n=Rc(n);var o=vc().Python.valueToCode(e,"PLAYER2",vc().Python.ORDER_ATOMIC);return["(function() {   var value1 = ("+n+"=== null)? null : ("+n+".getMetadata === null)?null:("+n+'.getMetadata("'+t+'").length === 0)?null:'+n+'.getMetadata("'+t+'")[0].value();  var value2 = ('+(o=Rc(o))+"=== null)? null : ("+o+".getMetadata === null)?null:("+o+'.getMetadata("'+t+'").length === 0)?null:'+o+'.getMetadata("'+t+'")[0].value();  var s = (value1 === value2);  return s; })()',vc().Python.ORDER_NONE]},vc().Python.blocksradius=function(e){var t=vc().Python.valueToCode(e,"RADIUS",vc().Python.ORDER_ATOMIC),n=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return["(function() {   var _blocks = [];\n  var _blockType;\n  var _loc;\n  for (var _x="+n+".x-"+t+";_x<="+n+".x+"+t+";_x++) {    for (var _y="+n+".y-"+t+";_y<="+n+".y+"+t+";_y++) {      for (var _z="+n+".z-"+t+";_z<="+n+".z+"+t+";_z++) {         _loc = new org.bukkit.Location(server.worlds[0], _x,_y,_z);         _blockType =  server.worlds[0].getBlockAt(_loc).getType();\n         if (_blockType === "+vc().Python.valueToCode(e,"BLOCKTYPE",vc().Python.ORDER_ATOMIC)+') { _blocks.push (server.worlds[0].getBlockAt(_loc)); } \n  }}}\n  if (_blocks.length > 0) { \n     console.log ( "found" + _blocks.length + " blocks " );\n  }\n  return _blocks;\n })()',vc().Python.ORDER_NONE]},vc().Python.activeteams=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return""===t&&(t="undefined"),["(function() {    var _players=server.getOnlinePlayers();var _teams=[];var _teamColor;\n   console.log ( 'Number of players: ' + _players.length );\n   for (var i=0; i<_players.length;i++) {\n      if ("+t+' != _players[i] ) {\n         _teamColor=(_players[i]=== null)? null : (_players[i].getMetadata === null)?null:(_players[i].getMetadata("_team_").length === 0)?null:_players[i].getMetadata("_team_")[0].value();\n         if (_teamColor != null) { \n            if (_teams.indexOf (_teamColor) === -1){\n               if (_players[i].getGameMode().toString() != "SPECTATOR"){\n                 _teams.push (_teamColor);\n               }\n            }\n         }\n      }\n   }\n   console.log ( "Active teams: " + _teams );\n   return _teams;\n })()',vc().Python.ORDER_NONE]},vc().Python.repairarmor=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return"var player = "+(t=""===t?"self":Rc(t))+";\nplayer.equipment.helmet.durability = 0;\nplayer.equipment.chestplate.durability = 0;\nplayer.equipment.leggings.durability = 0;\nplayer.equipment.boots.durability = 0; \n"},vc().Python.placebanner=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return"self.location"===(t=Rc(t))&&"self.world","server.worlds[0].getBlockAt("+t+").type = org.bukkit.Material."+e.getFieldValue("BANNER")+";\n"},vc().Python.playerlocation=function(e){return["self.location",vc().Python.ORDER_NONE]},vc().Python.moveto=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);return n=Rc(n),kc("handle"),kc("path"),kc("entity"),"handle = entity.getHandle();\npath = handle.getNavigation().a("+t+".getX(),"+t+".getY(),"+t+".getZ());\n"+n+".getNavigation().a(path,1.0);\n"},vc().Python.teleport=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);return"setTimeout (function () {\n  "+(n=Rc(n))+".teleport("+t+", org.bukkit.event.player.PlayerTeleportEvent.TeleportCause.PLUGIN);\n},2000);\n"},vc().Python.instantteleport=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);return"(function () { var _pitch; var _yaw; var _velocity;\n  _pitch    = "+(n=Rc(n))+".location.getPitch();\n  _yaw      = "+n+".location.getYaw();\n  _velocity = "+n+".getVelocity();\n  "+t+".setPitch (_pitch);\n  "+t+".setYaw   (_yaw);\n  "+n+".teleport("+t+", org.bukkit.event.player.PlayerTeleportEvent.TeleportCause.PLUGIN);\n  "+n+".setVelocity(_velocity);\n})();\n"},vc().Python.sound=function(e){return"require('sounds').play(org.bukkit.Sound.ENTITY_"+e.getFieldValue("ANIMAL")+"_AMBIENT,self.location);\n"},vc().Python.fireworks=function(e){var t="var fireworks = require ('fireworks');\n",n=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return t=t+"fireworks.firework ("+(n=Rc(n))+");\n"},vc().Python.eventcancel=function(e){return"event.cancelled = true;\n"},vc().Python.spawnarea=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return"server.worlds[0].setSpawnLocation("+(t=Rc(t))+");\n"},vc().Python.ability=function(e){var t=e.getFieldValue("ABILITY"),n=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);n=Rc(n);var o="// Give the player an ability\n",i=vc().Python.valueToCode(e,"DURATION",vc().Python.ORDER_ATOMIC);return kc("player"),o=o+"player = "+n+";\n","FLY"===t?o+="player.allowFlight = true; // Player can fly\n":"SPEED"===t?o+="player.walkSpeed = 1.0; // Super speed\n":"INVULNERABLE"===t&&(o+="player.invulnerable = true;\n"),o+="function stopAbility() {\n","FLY"===t?o+="  player.allowFlight = false;\n":"SPEED"===t?o+="  player.walkSpeed = 0.2; // Normal speed\n":"INVULNERABLE"===t&&(o+="  player.invulnerable = false;\n"),o=(o+="}\n")+"setTimeout (stopAbility, "+i+"000);\n"},vc().Python.abilityactive=function(e){var t=e.getFieldValue("ABILITY"),n=e.getFieldValue("PLAYER"),o="// Give the player an ability\n";return"FLY"===t?o=n+".allowFlight":"SPEED"===t?o=n+".walkSpeed === 1.0":"INVULNERABLE"===t&&(o=n+".invulnerable"),[o,vc().Python.ORDER_NONE]},vc().Python.modifyEntity=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);n=Rc(n);var o=vc().Python.statementToCode(e,"MODIFICATIONS"),i="";return i=(i=Bc(i,[]))+"// spawn "+t+"\nvar location = "+n+";\nvar entity = server.worlds[0].spawnEntity(location,"+t+");\n","HORSE"!==t&&"SKELETON_HORSE"!==t||(i+="var saddle = require('items').saddle(1);\nentity.getInventory().setSaddle(saddle);\nentity.tamed = true;\n"),i+=o},vc().Python.spawnblock=function(e){var t=vc().Python.valueToCode(e,"TYPE",vc().Python.ORDER_ATOMIC),n=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);n=Rc(n);return kc("location"),kc("block"),kc("data"),kc("loc"),kc("sign"),kc("data"),"org.bukkit.Material.LEGACY_WOODEN_DOOR"===(t=Rc(t))?"_loc = new org.bukkit.Location (server.worlds[0], parseInt("+n+".x), parseInt("+n+".y)+1, parseInt("+n+".z));\nserver.worlds[0].getBlockAt (_loc).setType (org.bukkit.Material.OAK_DOOR);\nblock = server.worlds[0].getBlockAt (_loc);\ndata = org.bukkit.Material.OAK_DOOR.createBlockData();\ndata.setHalf(org.bukkit.block.data.Bisected.Half.TOP); // TOP or BOTTOM\n//data.setFacing (org.bukkit.block.BlockFace.NORTH); // Facing\nblock.setBlockData (data);\n_loc = new org.bukkit.Location (server.worlds[0], parseInt(_loc.x), parseInt(_loc.y)-1, parseInt(_loc.z));\nblock = server.worlds[0].getBlockAt (_loc);\nblock.setType (org.bukkit.Material.OAK_DOOR);\ndata.setHalf(org.bukkit.block.data.Bisected.Half.BOTTOM); // TOP or BOTTOM\n//data.setFacing(org.bukkit.block.BlockFace.NORTH); // Facing\nblock.setBlockData (data);\n":"org.bukkit.Material.LEGACY_BED_BLOCK"===t?'console.log ( "Spawn a legacy bed yo");\n_loc = new org.bukkit.Location (server.worlds[0], parseInt('+n+".x), parseInt("+n+".y), parseInt("+n+".z));\nblock = server.worlds[0].getBlockAt (_loc);\nblock.setType (org.bukkit.Material.LEGACY_BED_BLOCK);\ndata = org.bukkit.Material.LEGACY_BED_BLOCK.createBlockData();\ndata.setPart (org.bukkit.block.data.type.Bed.Part.HEAD);\nblock.setBlockData (data);\n_loc = new org.bukkit.Location (server.worlds[0], parseInt(_loc.x), parseInt(_loc.y), parseInt(_loc.z)+1);\nblock = server.worlds[0].getBlockAt (_loc);\nblock.setType (org.bukkit.Material.LEGACY_BED_BLOCK);\ndata = org.bukkit.Material.LEGACY_BED_BLOCK.createBlockData();\ndata.setPart (org.bukkit.block.data.type.Bed.Part.FOOT);\nblock.setBlockData (data);\n":"org.bukkit.Material.OAK_SIGN"===t?"_loc = new org.bukkit.Location (server.worlds[0], parseInt("+n+".x), parseInt("+n+".y), parseInt("+n+".z));\nblock = server.worlds[0].getBlockAt(_loc);\nblock.setType (org.bukkit.Material.OAK_SIGN);\nsign = block.getState();\ndata = new org.bukkit.Material.Sign (org.bukkit.Material.OAK_SIGN);\ndata.setFacingDirection (org.bukkit.block.BlockFace.SOUTH);\nsign.setData (data);\nsign.update();\n":"// Spawn "+t+" at: "+n+"\nif ("+n+" instanceof org.bukkit.Location ){ \n  server.worlds[0].getBlockAt ("+n+").setType ("+t+");\n} else { \n  console.log ( '\\n***ERR! Cannot spawn block.  Invalid location specified!');\n}\n"},vc().Python.signtext=function(e){var t=vc().Python.valueToCode(e,"LINE1",vc().Python.ORDER_ATOMIC);t=Ec(t);var n=vc().Python.valueToCode(e,"LINE2",vc().Python.ORDER_ATOMIC);n=Ec(n);var o=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return"var sign = server.worlds[0].getBlockAt ("+(o=Rc(o))+").getState();\nsign.setLine (0,"+t+");\nsign.setLine (1,"+n+");\nsign.update();\n"},vc().Python.updatelocation=function(e){var t,n=e.getFieldValue("AXIS"),o=e.getFieldValue("OFFSET");return kc("location"),"X"===n?t="location = new org.bukkit.Location (server.worlds[0], parseInt(location.x)+"+o+", parseInt(location.y), parseInt(location.z));\n":"Y"===n?t="location = new org.bukkit.Location (server.worlds[0], parseInt(location.x), parseInt(location.y)+"+o+", parseInt(location.z));\n":"Z"===n&&(t="location = new org.bukkit.Location (server.worlds[0], parseInt(location.x), parseInt(location.y), parseInt(location.z)+"+o+");\n"),t},vc().Python.buildstructure=function(e){var t=e.getFieldValue("NAME"),n=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC),o="// Build a "+t+"\nvar location = "+(n=Rc(n))+";\n";return o+=vc().Python.statementToCode(e,"STEPS")},vc().Python.setpassenger=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);return"var passenger = server.worlds[0].spawnEntity(location,"+(t=Rc(t))+");\nentity.setPassenger(passenger);\n"},vc().Python.offai=function(e){return"entity.setAI(false);\n"},vc().Python.setName=function(e){return"entity.setCustomName ("+e.getFieldValue("NAME")+");\n"},vc().Python.entityArmor=function(e){return"var color = org.bukkit.Color."+e.getFieldValue("COLOR")+"\nvar helmet = require('items').leatherHelmet(1);\nvar helmetMeta = helmet.itemMeta;\nhelmetMeta.color = color;\nhelmet.itemMeta = helmetMeta;\nentity.equipment.helmet = helmet;\nvar boots = require('items').leatherBoots(1);\nvar bootsMeta = boots.itemMeta;\nbootsMeta.color = color;\nboots.itemMeta = bootsMeta;\nentity.equipment.boots = boots;\nvar chest = require('items').leatherChestplate(1);\nvar chestMeta = chest.itemMeta;\nchestMeta.color = color;\nchest.itemMeta = chestMeta;\nentity.equipment.chestplate = chest;\nvar legs = require('items').leatherLeggings(1);\nvar legsMeta = legs.itemMeta;\nlegsMeta.color = color;\nlegs.itemMeta = legsMeta;\nentity.equipment.leggings = legs;\n"},vc().Python.location=function(e){return[e.getFieldValue("LOCATIONTYPE"),vc().Python.ORDER_NONE]},vc().Python.absolutelocation=function(e){return["new org.bukkit.Location(server.worlds[0], "+e.getFieldValue("X")+", "+e.getFieldValue("Y")+", "+e.getFieldValue("Z")+")",vc().Python.ORDER_NONE]},vc().Python.baby=function(e){return"entity.baby = true;\n"},vc().Python.entity=function(e){return[e.getFieldValue("ENTITY"),vc().Python.ORDER_NONE]},vc().Python.whichplayer=function(e){return[e.getFieldValue("ENTITY"),vc().Python.ORDER_NONE]},vc().Python.entityType=function(e){return["org.bukkit.entity.EntityType."+e.getFieldValue("ENTITY"),vc().Python.ORDER_NONE]},vc().Python.blocktype=function(e){var t=e.getFieldValue("BLOCKTYPE");return[t="org.bukkit.Material."+Rc(t),vc().Python.ORDER_NONE]},vc().Python.blockfacingdirection=function(e){var t=e.getFieldValue("DIRECTION");return[t="org.bukkit.block.BlockFace."+Rc(t),vc().Python.ORDER_NONE]},vc().Python.reverseface=function(e){var t=vc().Python.valueToCode(e,"DIRECTION",vc().Python.ORDER_ATOMIC);return["("+(t=Rc(t))+"=== org.bukkit.block.BlockFace.NORTH)? org.bukkit.block.BlockFace.SOUTH : ("+t+"=== org.bukkit.block.BlockFace.SOUTH)? org.bukkit.block.BlockFace.NORTH : ("+t+"=== org.bukkit.block.BlockFace.EAST)? org.bukkit.block.BlockFace.WEST : ("+t+"=== org.bukkit.block.BlockFace.WEST)? org.bukkit.block.BlockFace.EAST : ("+t+"=== org.bukkit.block.BlockFace.UP)? org.bukkit.block.BlockFace.DOWN : ("+t+"=== org.bukkit.block.BlockFace.DOWN)? org.bukkit.block.BlockFace.UP : null",vc().Python.ORDER_NONE]},vc().Python.materialtype=function(e){var t=e.getFieldValue("MATERIAL");return[t="org.bukkit.Material."+Rc(t),vc().Python.ORDER_NONE]},vc().Python.eggtype=function(e){var t=e.getFieldValue("MATERIAL");return[t="org.bukkit.Material."+Rc(t),vc().Python.ORDER_NONE]},vc().Python.creatureTypeString=function(e){var t=vc().Python.valueToCode(e,"ENTITYTYPE",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+".toString()",vc().Python.ORDER_NONE]},vc().Python.setride=function(e){var t=vc().Python.valueToCode(e,"VEHICLE",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"PASSENGER",vc().Python.ORDER_ATOMIC);return t+".setPassenger("+(n=Rc(n))+");\n"},vc().Python.functionCall=function(e){var t=e.getFieldValue("FUNCTIONNAME");return-1===t.indexOf("(")?t+="()":-1===t.indexOf(")")&&(t+=")"),t+";\n"},vc().Python.clickedBlock=function(e){return["event.getClickedBlock()",vc().Python.ORDER_NONE]},vc().Python.typeString=function(e){return[vc().Python.valueToCode(e,"TYPESTRING",vc().Python.ORDER_ATOMIC)+".type.toString()",vc().Python.ORDER_NONE]},vc().Python.leverUp=function(e){return["("+(e=vc().Python.valueToCode(e,"BLOCK",vc().Python.ORDER_ATOMIC))+".toString().indexOf ('powered=true')>-1)",vc().Python.ORDER_NONE]},vc().Python.potionname=function(e){return["event.getPotion().getItem().getItemMeta().getDisplayName()",vc().Python.ORDER_NONE]},vc().Python.sendUdpMessage=function(e){var t=vc().Python.valueToCode(e,"PORT",vc().Python.ORDER_ATOMIC),n=vc().Python.valueToCode(e,"MESSAGE",vc().Python.ORDER_ATOMIC);return"var clientSocket = new java.net.DatagramSocket();\nclientSocket.setBroadcast(true);\nvar socketAddress = new java.net.InetSocketAddress ( '192.168.4.255', "+t+" );\nvar msg = '"+(n=Oc(n,'"','"'))+"';\nvar sendPacket = new java.net.DatagramPacket (msg.getBytes(), msg.length, socketAddress );\nclientSocket.send(sendPacket);\nclientSocket.close();\nconsole.log ( 'Sent ' + msg + ' to: 192.168.4.255:' + "+t+");\n"},vc().Python.entityProfession=function(e){return"entity.setProfession (org.bukkit.entity.Villager.Profession."+e.getFieldValue("PROFESSION")+");\n"},vc().Python.addpotion=function(e){var t=vc().Python.valueToCode(e,"NAME",vc().Python.ORDER_ATOMIC);return t=Oc(t,'"','"'),"var newItems = new org.bukkit.inventory.ItemStack (org.bukkit.Material."+e.getFieldValue("POTION")+","+e.getFieldValue("COUNT")+");\nvar meta = newItems.getItemMeta();\nmeta.setDisplayName('"+t+"');\nnewItems.setItemMeta(meta);\ninventory.addItem(newItems);\n"},vc().Python.varname=function(e){return[e.getFieldValue("VARNAME"),vc().Python.ORDER_NONE]},vc().Python.setvariable=function(e){var t=e.getFieldValue("VARNAME"),n=e.getFieldValue("EXPRESSION");return-1===t.indexOf(".")&&kc(t),t+"="+n+";\n"},vc().Python.setvariablevalue=function(e){var t=e.getFieldValue("VARNAME"),n=vc().Python.valueToCode(e,"EXPRESSION",vc().Python.ORDER_ATOMIC);return n=Rc(n),kc(t),t+"="+n+";\n"},vc().Python.expression=function(e){var t=e.getFieldValue("EXPRESSION");return alert("expression: "+t),[t,vc().Python.ORDER_NONE]},vc().Python.returnVariable=function(e){var t=e.getFieldValue("RETURNVARIABLE");return t.indexOf('"')>-1?t=Oc(t,'"','"'):t.indexOf("(")>-1&&(t=Rc(t)),"return "+t+";\n"},vc().Python.snaplocation=function(e){var t=e.getFieldValue("NAME");return t+" = new org.bukkit.Location (server.worlds[0], parseInt("+t+".x), parseInt("+t+".y), parseInt ("+t+".z));\n"},vc().Python.createVariable=function(e){return"var "+e.getFieldValue("NAME")+";\n"},vc().Python.mapRenderer=function(e){e.getFieldValue("RENDERER");return"// Change renderer for all maps\nvar renderers;\nvar mapView;\nvar count = 1;\nwhile (true) {\n  mapView = server.getMap (count);\n  if (mapView === undefined) {\n    console.log ( 'Aborting at mapId=' + count );\n    break;\n  } else {\n    renderers = mapView.getRenderers ();\n    for (var j=0; j<renderers.length; j++ ){\n      mapView.removeRenderer (renderers[j]);\n    }\n    mapView.addRenderer (render);\n  }\n  count = count + 1;\n}\n"},vc().Python.fileExists=function(e){return["new java.io.File ("+e.getFieldValue("NAME")+").exists()",vc().Python.ORDER_NONE]},vc().Python.drawImage=function(e){var t=e.getFieldValue("FILENAME"),n=e.getFieldValue("SCALE");return(n="TRUE"===n?"true":"false")?"mapCanvas.drawImage (0,0,org.bukkit.map.MapPalette.resizeImage (new javax.swing.ImageIcon("+t+").getImage()) );\n":"mapCanvas.drawImage (0,0,new javax.swing.ImageIcon("+t+").getImage());\n"},vc().Python.drawText=function(e){var t=e.getFieldValue("TEXT");return'mapCanvas.drawText ( 10,10,org.bukkit.map.MinecraftFont.Font,String.fromCharCode(167) + "'+e.getFieldValue("COLOR")+';" + '+t+");"+"\n"},vc().Python.copyFile=function(e){return'java.lang.Runtime.getRuntime.exec ("cmd.exe /c copy '+e.getFieldValue("SOURCE")+" "+e.getFieldValue("DESTINATION")+'");\n'},vc().Python.existsplayerdata=function(e){var t=e.getFieldValue("KEY");t="_"+(t=t.toLowerCase())+"_";var n=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return[(n=""===n?"self":Rc(n))+'.getMetadata("'+t+'").length > 0',vc().Python.ORDER_NONE]},vc().Python.delayedexecution=function(e){return"setTimeout (function () {\n"+vc().Python.statementToCode(e,"DELAYEDCODE")+"},"+e.getFieldValue("TIMEOUT")+");\n"},vc().JavaScript.scriptcraftexpression=function(e){return vc().Python.statementToCode(e,"EXPRESSIONCODE")+"\n"},vc().JavaScript.scriptcraftfunction=function(e){Tc=[];var t,n=e.getFieldValue("nameOfFunction"),o="()";n.indexOf("(")>-1&&(t=n.indexOf("("),-1===(o=n.substring(t)).indexOf(")")&&(o+=")"),n=n.substring(0,t));var i=vc().Python.statementToCode(e,"FUNCTIONCODE"),r="function "+n+" "+o+" {\n";return r=Bc(r,o),r="".concat(r=r+i+"};\n"," exports.").concat(n," = ").concat(n,";\n")},vc().Python.dataexpression=function(e){var t=vc().Python.statementToCode(e,"EXPRESSION");return","===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),["{"+t+"}",vc().Python.ORDER_NONE]},vc().Python.datavalue=function(e){var t=e.getFieldValue("HEADER"),n=vc().Python.statementToCode(e,"EXPRESSION");","===n.charAt(n.length-1)&&(n=n.substring(0,n.length-1));var o=n.indexOf(";");return o>-1&&(n=n.substring(0,o)+","+n.substring(o+1)),(o=n.indexOf("\n"))>-1&&(n=n.substring(0,o)+n.substring(o+1)),(o=n.indexOf("\r"))>-1&&(n=n.substring(0,o)+n.substring(o+1)),(o=n.indexOf("="))>-1&&(n=n.substring(0,o)+":"+n.substring(o+1)),'"'+t+'":{'+n+"},"},vc().Python.namevalue=function(e){return e.getFieldValue("VARNAME")+":"+e.getFieldValue("EXPRESSION")+","},vc().Python.settime=function(e){return"server.worlds[0].setTime("+e.getFieldValue("TIME")+");\n"},vc().Python.gettime=function(e){return["server.worlds[0].getTime()",vc().Python.ORDER_NONE]},vc().Python.setstorm=function(e){return"server.worlds[0].setStorm("+e.getFieldValue("STORM")+");\n"},vc().Python.iteminhandis=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return["("+(t=Rc(t))+"=== null) ? null : ( "+t+".getItemInHand === null) ? null : "+t+".getItemInHand()",vc().Python.ORDER_NONE]},vc().Python.repeatexecution=function(e){var t=vc().Python.statementToCode(e,"CODE"),n=e.getFieldValue("NAME"),o=e.getFieldValue("TIMEOUT");return"var "+n+"= setInterval (function () {\n"+t+"  if (!("+e.getFieldValue("CONTINUE")+")) {\n    clearInterval ("+n+");\n  }\n}, "+o+");\n"},vc().Python.setgamemode=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return(t=Rc(t))+".setGameMode(org.bukkit.GameMode."+e.getFieldValue("GAMEMODE")+");\n"},vc().Python.recipe=function(e){var t="result";t=Rc(t=vc().Python.valueToCode(e,"RESULT",vc().Python.ORDER_ATOMIC));var n=e.getFieldValue("CH1"),o=e.getFieldValue("CH2"),i=e.getFieldValue("CH3"),r=e.getFieldValue("CH4"),s=e.getFieldValue("CH5"),l=e.getFieldValue("CH6"),a=e.getFieldValue("CH7"),c=e.getFieldValue("CH8"),u=e.getFieldValue("CH9");""===n&&(n=" "),""===o&&(o=" "),""===i&&(i=" "),""===r&&(r=" "),""===s&&(s=" "),""===l&&(l=" "),""===a&&(a=" "),""===c&&(c=" "),""===u&&(u=" ");for(var p=n+o+i,h=r+s+l,d=a+c+u,f=vc().Python.valueToCode(e,"INGREDIENTS",vc().Python.ORDER_ATOMIC),g="var result = "+t+';\nvar recipe = new org.bukkit.inventory.ShapedRecipe(result);\nrecipe.shape("'+p+'","'+h+'","'+d+'");\n',_=(f=function(e){var t=e.indexOf("["),n=e.lastIndexOf("]");return e=Ic(e,n),Ic(e,t)}(f=Rc(f))).split("\n"),m=0;m<_.length;m++)if(""!==_[m]){var y=_[m].trim();","===y.charAt(y.length-1)&&(y=y.substring(0,y.length-1)),g=g+"recipe.setIngredient("+y+");\n"}return g+="server.addRecipe(recipe);\n"},vc().Python.addingredient=function(e){var t=vc().Python.valueToCode(e,"INGREDIENT",vc().Python.ORDER_ATOMIC);t=Rc(t);var n="'"+e.getFieldValue("CHARACTER")+"',"+t;return console.log("returning ingredient: ["+n+"]"),[n,vc().Python.ORDER_NONE]},vc().Python.itemstack=function(e){var t=vc().Python.valueToCode(e,"ITEM",vc().Python.ORDER_ATOMIC);return["new org.bukkit.inventory.ItemStack ("+(t=Rc(t))+","+e.getFieldValue("COUNT")+")",vc().Python.ORDER_NONE]},vc().Python.instanceof=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"TYPE",vc().Python.ORDER_ATOMIC);return[t+" instanceof  org.bukkit.entity."+(n=Rc(n)),vc().Python.ORDER_NONE]},vc().Python.bordercenter=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return"server.worlds[0].getWorldBorder().setCenter ("+(t=Rc(t))+");\n"},vc().Python.bordersize=function(e){return"server.worlds[0].getWorldBorder().setSize ("+e.getFieldValue("SIZE")+");\n"},vc().Python.lightning=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return"server.worlds[0].strikeLightning("+(t=Rc(t))+");\n"},vc().Python.modifystack=function(e){var t=vc().Python.valueToCode(e,"ITEM",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.statementToCode(e,"MODIFICATIONS"),o="";return o=(o=Bc(o,[]))+"var itemStack = "+t+";\n",o+=n},vc().Python.equipmentname=function(e){var t=e.getFieldValue("NAME");return kc("meta"),"meta = itemStack.getItemMeta();\nmeta.setDisplayName("+t+");\nitemStack.setItemMeta (meta);\n"},vc().Python.updateinventory=function(e){var t=vc().Python.valueToCode(e,"ITEMSTACK",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return"if ("+(n=Rc(n))+" != null) { "+n+".getInventory().addItem ("+t+"); }\n"},vc().Python.getequipmentname=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+".getItemInHand().getItemMeta().getDisplayName().toUpperCase()",vc().Python.ORDER_NONE]},vc().Python.playerhas=function(e){kc(' hack;\n  function stackIt ( material, name ) {\n  var itemStack = new org.bukkit.inventory.ItemStack (material,1);\n  var meta;\n  if (name != "") {\n     meta = itemStack.getItemMeta();\n     meta.setDisplayName(name);\n     itemStack.setItemMeta (meta);\n  }\n  return itemStack;\n}\n');var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=e.getFieldValue("NAME"),o=vc().Python.valueToCode(e,"MATERIAL",vc().Python.ORDER_ATOMIC);return[t+".getInventory().containsAtLeast (stackIt (org.bukkit.Material."+(o=Rc(o))+","+n+"),1)",vc().Python.ORDER_NONE]},vc().Python.servercommand=function(e){var t=e.getFieldValue("COMMAND"),n="";return-1===t.indexOf('"')&&-1===t.indexOf("'")&&(t.indexOf(" ")>-1?t='"'+t+'"':n="console.log ( "+t+");\n"),n=n+"org.bukkit.Bukkit.dispatchCommand(org.bukkit.Bukkit.getConsoleSender(), "+t+");\n"},vc().Python.pushlist=function(e){var t=e.getFieldValue("VARNAME"),n=e.getFieldValue("EXPRESSION");return kc(t),t+".push("+n+");\n"},vc().Python.getblocktype=function(e){var t=Rc(vc().Python.valueToCode(e,"BLOCK",vc().Python.ORDER_ATOMIC));return["("+t+"===null)?null:"+t+".getType()",vc().Python.ORDER_NONE]},vc().Python.getsignline=function(e){var t=vc().Python.valueToCode(e,"BLOCK",vc().Python.ORDER_ATOMIC);return["("+(t=Rc(t))+"===null)?null: ("+t+".state.getLine === null)?null:"+t+".state.getLine("+(parseInt(e.getFieldValue("LINE"))-1)+")",vc().Python.ORDER_NONE]},vc().Python.whichblock=function(e){return[e.getFieldValue("BLOCK"),vc().Python.ORDER_NONE]},vc().Python.getBlock=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return["server.worlds[0].getBlockAt ("+(t=Rc(t))+")",vc().Python.ORDER_NONE]},vc().Python.blockatlocation=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return["server.worlds[0].getBlockAt ("+(t=Rc(t))+")",vc().Python.ORDER_NONE]},vc().Python.allplayers=function(e){return["server.getOnlinePlayers()",vc().Python.ORDER_NONE]},vc().Python.allentities=function(e){return["server.worlds[0].getEntities()",vc().Python.ORDER_NONE]},vc().Python.blockfacing=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"FACE",vc().Python.ORDER_ATOMIC);return n=Rc(n),kc("_data"),kc("_block"),"_block = server.worlds[0].getBlockAt ("+t+")\n_data = _block.getBlockData();\n_data.setFacing("+n+")\n_block.setBlockData(_data)\n"},vc().Python.setblockface=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"FACE",vc().Python.ORDER_ATOMIC);return n=Rc(n),kc("_data"),kc("_block"),"_block = server.worlds[0].getBlockAt ("+t+")\n_data = _block.getBlockData();\n_data.setFace("+n+")\n_block.setBlockData(_data)\n"},vc().Python.signfacing=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=e.getFieldValue("FACE");return kc("data"),kc("block"),kc("sign"),"block = server.worlds[0].getBlockAt ("+t+")\nsign = block.getState();\ndata = new org.bukkit.Material.Sign (org.bukkit.Material.OAK_SIGN);\ndata.setFacingDirection ("+n+");\nsign.setData (data);\nsign.update();\n"},vc().Python.getcolor=function(e){return["org.bukkit.Color."+e.getFieldValue("COLOR"),vc().Python.ORDER_NONE]},vc().Python.setblockcommand=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=e.getFieldValue("COMMAND");return(n.indexOf('"')>-1||n.indexOf("'")>-1)&&(n=function(e){for(var t,n="",o=0;o<e.length;o++)n+='"'===(t=e.substring(o,o+1))?'\\"':"\\"===t?"\\\\":t;return n}(n),n='"'+n+'"'),kc("state"),kc("block"),"block = server.worlds[0].getBlockAt ("+t+");\nstate = block.getState();\nstate.setCommand("+n+");\nstate.update();\n"},vc().Python.setconditional=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=e.getFieldValue("CONDITIONAL");return kc("data"),kc("block"),"block = server.worlds[0].getBlockAt ("+t+");\ndata = block.getBlockData();\ndata.setConditional("+n+");\nblock.setBlockData(data);\n"},vc().Python.runexpression=function(e){return e.getFieldValue("EXPRESSION")+"\n"},vc().Python.setblockdata=function(e){kc("fd");var t=e.getFieldValue("KEY");t="_"+(t=t.toLowerCase())+"_";var n=vc().Python.valueToCode(e,"VALUE",vc().Python.ORDER_ATOMIC);n=Rc(n);var o=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return"fd = new org.bukkit.metadata.FixedMetadataValue (__plugin,"+n+");\nserver.worlds[0].getBlockAt("+(o=Rc(o))+').setMetadata ("'+t+'", fd );\n'},vc().Python.getblockdata=function(e){var t=e.getFieldValue("KEY");t="_"+(t=t.toLowerCase())+"_";var n=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return["server.worlds[0].getBlockAt("+(n=Rc(n))+').getMetadata("'+t+'")[0].value()',vc().Python.ORDER_NONE]},vc().Python.existsblockdata=function(e){var t=e.getFieldValue("KEY");t="_"+(t=t.toLowerCase())+"_";var n=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return["server.worlds[0].getBlockAt("+(n=Rc(n))+').getMetadata("'+t+'").length > 0',vc().Python.ORDER_NONE]},vc().Python.potionSplashed=function(e){var t=vc().Python.valueToCode(e,"POTION",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+".getItemMeta().getDisplayName()",vc().Python.ORDER_NONE]},vc().Python.dropitem=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC),n=vc().Python.valueToCode(e,"ITEMSTACK",vc().Python.ORDER_ATOMIC);return n=Rc(n),"server.worlds[0].dropItem ("+(t=Rc(t))+","+n+");\n"},vc().Python.findentitybyname=function(e){var t=e.getFieldValue("NAME");return kc("entity"),kc("entities"),"entity = null;\nentities = server.worlds[0].getEntities();\nfor (var i = 0; i<entities.length; i++) { \n  if (entities[i].name === "+t+") {\n     entity = entities[i];\n     break;\n  }\n}\n"},vc().Python.findentitybycustomname=function(e){var t=e.getFieldValue("NAME");return kc("entity"),kc("entities"),"entity = null;\nentities = server.worlds[0].getEntities();\nfor (var i = 0; i<entities.length; i++) { \n   if (entities[i].getCustomName != null) { \n      if (entities[i].getCustomName() === "+t+") {\n         entity = entities[i];\n         break;\n      }\n   }\n}\n"},vc().Python.whicheffect=function(e){return["org.bukkit.potion.PotionEffectType."+e.getFieldValue("EFFECT").toUpperCase(),vc().Python.ORDER_NONE]},vc().Python.createvector=function(e){var t=e.getFieldValue("X"),n=e.getFieldValue("Y"),o=e.getFieldValue("Z");return-1===t.indexOf(".")&&(t+=".0"),-1===n.indexOf(".")&&(n+=".0"),-1===o.indexOf(".")&&(o+=".0"),["new org.bukkit.util.Vector("+t+","+n+","+o+")",vc().Python.ORDER_NONE]},vc().Python.vector2points=function(e){var t=vc().Python.valueToCode(e,"LOCATION1",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"LOCATION2",vc().Python.ORDER_ATOMIC);return[(n=Rc(n))+".toVector().subtract("+t+".toVector())",vc().Python.ORDER_NONE]},vc().Python.multiplyvector=function(e){var t=vc().Python.valueToCode(e,"VECTOR",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+".multiply ("+e.getFieldValue("SCALAR")+")",vc().Python.ORDER_NONE]},vc().Python.getvectorvelocity=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+".getVelocity()",vc().Python.ORDER_NONE]},vc().Python.setvectorvelocity=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"VECTOR",vc().Python.ORDER_ATOMIC);return t+".setVelocity("+(n=Rc(n))+");\n"},vc().Python.findentitybylocation=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=e.getFieldValue("RADIUS");return kc("entity"),kc("entities"),"entity = null;\nentities = server.worlds[0].getEntities();\nfor (var i = 0; i<entities.length; i++) { \n  if (entities[i].location.distance ("+t+") < "+n+") {\n     entity = entities[i];\n     break;\n  }\n}\n"},vc().Python.distancebetweenlocations=function(e){var t=vc().Python.valueToCode(e,"LOCATION1",vc().Python.ORDER_ATOMIC),n=vc().Python.valueToCode(e,"LOCATION2",vc().Python.ORDER_ATOMIC);return["(function() {   var _value = 0.0;\n  if ("+(t=Rc(t))+" instanceof org.bukkit.Location ){ \n     if ("+(n=Rc(n))+" instanceof org.bukkit.Location ) { \n        _value = "+t+".distance("+n+");\n     } else { \n        console.log ( '\\n***ERR! Distance between locations cannot determine distance...location2 is not a location!');\n     } \n  } else { \n     console.log ( '\\n***ERR! Distance between locations cannot determine distance...location1 is not a location!');\n  }\n  return _value; })()",vc().Python.ORDER_NONE]},vc().Python.direction=function(e){return["org.bukkit.block.BlockFace."+e.getFieldValue("DIRECTION"),vc().Python.ORDER_NONE]},vc().Python.blockface=function(e){return["org.bukkit.block.data.type.Switch.Face."+e.getFieldValue("FACE"),vc().Python.ORDER_NONE]},vc().Python.lookingdirection=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return kc("directions = [org.bukkit.block.BlockFace.SOUTH,org.bukkit.block.BlockFace.SOUTH_SOUTH_WEST,org.bukkit.block.BlockFace.SOUTH_WEST,org.bukkit.block.BlockFace.WEST_SOUTH_WEST,org.bukkit.block.BlockFace.WEST,org.bukkit.block.BlockFace.WEST_NORTH_WEST,org.bukkit.block.BlockFace.NORTH_WEST,org.bukkit.block.BlockFace.NORTH_NORTH_WEST,org.bukkit.block.BlockFace.NORTH,org.bukkit.block.BlockFace.NORTH_NORTH_EAST,org.bukkit.block.BlockFace.NORTH_EAST,org.bukkit.block.BlockFace.EAST_NORTH_EAST,org.bukkit.block.BlockFace.EAST,org.bukkit.block.BlockFace.EAST_SOUTH_EAST,org.bukkit.block.BlockFace.SOUTH_EAST,org.bukkit.block.BlockFace.SOUTH_SOUTH_EAST]"),["directions[parseInt(("+t+".getLocation().getYaw() + 368.0 ) / 22.5) % 16]",vc().Python.ORDER_NONE]},vc().Python.millis=function(e){return["new Date().getTime()",vc().Python.ORDER_NONE]},vc().Python.getentitytype=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+".getType()",vc().Python.ORDER_NONE]},vc().Python.randomnumber=function(e){var t=vc().Python.valueToCode(e,"LOW",vc().Python.ORDER_ATOMIC);return["parseInt (Math.random () * ("+vc().Python.valueToCode(e,"HIGH",vc().Python.ORDER_ATOMIC)+"-"+t+")) + "+t,vc().Python.ORDER_NONE]},vc().Python.isplayer=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+" instanceof org.bukkit.entity.Player",vc().Python.ORDER_NONE]},vc().Python.islivingentity=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+" instanceof org.bukkit.entity.LivingEntity",vc().Python.ORDER_NONE]},vc().Python.addpotioneffect=function(e){var t=vc().Python.valueToCode(e,"EFFECT",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);n=Rc(n);var o=vc().Python.valueToCode(e,"DURATION",vc().Python.ORDER_ATOMIC);return n+".addPotionEffect(new org.bukkit.potion.PotionEffect ("+t+","+(o=20*parseInt(Rc(o)))+", 1));\n"},vc().Python.spawnentity=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return["server.worlds[0].spawnEntity("+(n=Rc(n))+","+t+")",vc().Python.ORDER_NONE]},vc().Python.nameastack=function(e){var t=vc().Python.valueToCode(e,"STACK",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=e.getFieldValue("NAME");return kc("meta"),kc("stack"),"stack = "+t+";\nmeta = stack.getItemMeta()\nmeta.setDisplayName ("+n+");\nstack.setItemMeta(meta);\n"},vc().Python.nameofitem=function(e){var t=vc().Python.valueToCode(e,"ITEM",vc().Python.ORDER_ATOMIC),n=(t=Rc(t)).indexOf("()");return["("+(n>-1?t.substring(0,n):t)+'=== null) ? "" : ('+t+'.getItemMeta === null ) ? "" : ('+t+'.getItemMeta() === null ) ? "" : ('+t+'.getItemMeta().getDisplayName === null ) ? "" : '+t+".getItemMeta().getDisplayName()",vc().Python.ORDER_NONE]},vc().Python.playerinventory=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+".getInventory()",vc().Python.ORDER_NONE]},vc().Python.clearinventory=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return(t=Rc(t))+".getInventory().clear();\n"},vc().Python.lookingat=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+".getTargetBlock(null,200)",vc().Python.ORDER_NONE]},vc().Python.vectortoyaw=function(e){var t=vc().Python.valueToCode(e,"VECTOR",vc().Python.ORDER_ATOMIC);return t=Rc(t),kc("function finalVecAdjust (v){return (v<-180) ? v+360 : (v>180 ) ? v-360 : v; }"),["finalVecAdjust(("+t+".getX===null) ? 0 : ("+t+".getZ===null) ? 0 : (("+t+".getX()!= 0) ? (("+t+".getX()<0) ? 1.5*Math.PI : 0.5*Math.PI) - Math.atan("+t+".getZ()/"+t+".getX()) : ("+t+".getZ()<0) ? Math.PI : 0) * (-1*180/Math.PI))",vc().Python.ORDER_NONE]},vc().Python.boundingbox=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"RADIUS",vc().Python.ORDER_ATOMIC);return["org.bukkit.util.BoundingBox ("+t+".x-"+(n=Rc(n))+","+t+".y-"+n+","+t+".z-"+n+","+t+".x+"+n+","+t+".y+"+n+","+t+".z+"+n+")",vc().Python.ORDER_NONE]},vc().Python.nearbyentities=function(e){var t=Rc(vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC)),n=e.getFieldValue("RADIUS");return["server.worlds[0].getNearbyEntities ("+t+","+n+","+n+","+n+")",vc().Python.ORDER_NONE]},vc().Python.tocreature=function(e){var t=vc().Python.valueToCode(e,"CREATURE",vc().Python.ORDER_ATOMIC);return['eval ("org.bukkit.entity.EntityType." + '+(t=Rc(t))+".toUpperCase())",vc().Python.ORDER_NONE]},vc().Python.hasfunction=function(e){var t=vc().Python.valueToCode(e,"OBJECT",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+"."+e.getFieldValue("NAME")+" != null",vc().Python.ORDER_NONE]},vc().Python.isarrow=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+" instanceof org.bukkit.entity.Arrow",vc().Python.ORDER_NONE]},vc().Python.issnowball=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+" instanceof org.bukkit.entity.Snowball",vc().Python.ORDER_NONE]},vc().Python.actiontype=function(e){var t=e.getFieldValue("ACTION");return["org.bukkit.event.block.Action."+(t=Rc(t)),vc().Python.ORDER_NONE]},vc().Python.projectileentity=function(e){var t=e.getFieldValue("PROJECTILE");return[t="org.bukkit.entity.EntityType."+Rc(t),vc().Python.ORDER_NONE]},vc().Python.launchprojectile=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC),n=vc().Python.valueToCode(e,"PROJECTILE",vc().Python.ORDER_ATOMIC);return t=Rc(t),n=Rc(n),kc("projectile"),"projectile=server.worlds[0].spawnEntity("+t+".location,"+n+");\n"+t+".launchProjectile(projectile.getClass());\n"},vc().Python.nameofstack=function(e){var t=vc().Python.valueToCode(e,"STACK",vc().Python.ORDER_ATOMIC),n="("+(t=Rc(t))+"=== null) ? null : ("+t+".getItemMeta === null) ? null : ("+t+".getItemMeta() === null)?null:"+t+".getItemMeta().getDisplayName()";return[n="(function() {   var _value = "+n+";\n  console.log ( 'Custom name: [' + _value + ']');\n  return _value; })()",vc().Python.ORDER_NONE]},vc().Python.playerinventory=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+".getInventory()",vc().Python.ORDER_NONE]},vc().Python.chestplate=function(e){var t=vc().Python.valueToCode(e,"INVENTORY",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+".getChestplate()",vc().Python.ORDER_NONE]},vc().Python.materialdata=function(e){var t=vc().Python.valueToCode(e,"STACK",vc().Python.ORDER_ATOMIC);return["("+(t=Rc(t))+" === null ) ? null : ("+t+".getType === null) ? null : "+t+".getType()",vc().Python.ORDER_NONE]},vc().Python.sethotbar=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC),n=e.getFieldValue("SLOT"),o=vc().Python.valueToCode(e,"STACK",vc().Python.ORDER_ATOMIC);return o=Rc(o),t=Rc(t),((n=parseInt(n))<1||n>9)&&(alert("Range of slot for player gear is 1..9"),n=1),t+".getInventory().setItem ("+(n-1)+","+o+" );\n"},vc().Python.tameentity=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);return"if ("+(t=Rc(t))+".setTamed != null) {\n  "+t+".setTamed (true);\n}\n"},vc().Python.attackentity=function(e){var t=vc().Python.valueToCode(e,"ATTACKER",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"TARGET",vc().Python.ORDER_ATOMIC);return t+".setTarget ("+(n=Rc(n))+")\n"},vc().Python.namethestack=function(e){var t=vc().Python.valueToCode(e,"STACK",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=e.getFieldValue("NAME");return n.indexOf(" ")>-1&&-1===n.indexOf('"')&&-1===n.indexOf("'")&&(n='"'+n+'"'),kc("meta"),kc("stack"),["(function() {   var s = "+t+";  var m = s.getItemMeta();  m.setDisplayName ("+n+");  s.setItemMeta(m);  return s; })()",vc().Python.ORDER_NONE]},vc().Python.locationadd=function(e){var t=e.getFieldValue("X"),n=e.getFieldValue("Y"),o=e.getFieldValue("Z"),i=Rc(vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC));return["(function() { var _x = "+i+".x + "+t+";var _y = "+i+".y + "+n+";var _z = "+i+".z + "+o+";var _loc = new org.bukkit.Location(server.worlds[0],_x,_y,_z);return _loc; })()",vc().Python.ORDER_NONE]},vc().Python.entitydead=function(e){var t=Rc(vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC));return["("+t+" === null ) ? false : "+t+".isDead()",vc().Python.ORDER_NONE]},vc().Python.isspectator=function(e){var t=Rc(vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC));return["("+t+" === null ) ? false : ("+t+'.getGameMode().toString() === "SPECTATOR")',vc().Python.ORDER_NONE]},vc().Python.eventinfo=function(e){var t=e.getFieldValue("INFORMATION");return["getRecipe().getResult()"===t?"(event.getRecipe === null)? null : event.getRecipe().getResult()":"(event."+t+"=== null) ? null : event."+t+"()",vc().Python.ORDER_NONE]},vc().Python.removeplayersdata=function(e){var t=e.getFieldValue("KEY");return t="_"+(t=t.toLowerCase())+"_",kc("players"),'players = server.getOnlinePlayers();\nfor (var playersIndex=0; playersIndex<players.length; playersIndex++) {\n  players[playersIndex].removeMetadata ("'+t+'", __plugin );\n}\n'},vc().Python.diamondarmor=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return"var player = "+(t=Rc(t))+";\nvar items = require ('items');\nplayer.equipment.helmet = items.diamondHelmet(1);\nplayer.equipment.boots = items.diamondBoots(1);\nplayer.equipment.chestplate = items.diamondChestplate(1);\nplayer.equipment.leggings = items.diamondLeggings(1);\n"},vc().Python.removeplayersgear=function(e){return"players = server.getOnlinePlayers();\nfor (var playersIndex=0; playersIndex<players.length; playersIndex++) {\n  players[playersIndex].getInventory().clear();\n}\n"},vc().Python.setplayerhealth=function(e){var t=Rc(vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC));return"(function() {   var h="+Rc(vc().Python.valueToCode(e,"HEALTH",vc().Python.ORDER_ATOMIC))+";\n  if ("+t+".setHealth != null) {\n    if (h<0) {\n       h = 0;\n    }\n    "+t+".setHealth(h);  }\n })();\n"},vc().Python.createexplosion=function(e){var t=parseFloat(e.getFieldValue("SIZE")),n=e.getFieldValue("FIRE"),o=e.getFieldValue("DESTROY"),i=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return"server.worlds[0].createExplosion ("+(i=Rc(i))+","+t+","+n+","+o+");\n"},vc().Python.countcondition=function(e){var t=Rc(vc().Python.valueToCode(e,"LIST",vc().Python.ORDER_ATOMIC));return["(function() { \n  var count = 0;\n  for (var i=0; i<"+t+".length; i++) {\n     if ("+t+"[i] === "+e.getFieldValue("CONDITION")+") {\n        count = count + 1;\n     }\n  }\n  return count; })()",vc().Python.ORDER_NONE]},vc().Python.healthofplayer=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+".getHealth()",vc().Python.ORDER_NONE]},vc().Python.setprojectilespeed=function(e){var t=parseInt(Rc(vc().Python.valueToCode(e,"SPEED",vc().Python.ORDER_ATOMIC)));t>7?t="7":t<1&&(t=.5);var n=Rc(vc().Python.valueToCode(e,"PROJECTILE",vc().Python.ORDER_ATOMIC));return"(function() { \n  var vector = "+n+".getVelocity().normalize().multiply("+t+");\n  if (!isNaN(vector.x)) {\n     "+n+".setVelocity (vector);\n  }\n })();\n"},vc().Python.getshooter=function(e){var t=Rc(vc().Python.valueToCode(e,"PROJECTILE",vc().Python.ORDER_ATOMIC));return["("+t+" === null) ? null : ("+t+".getShooter === null) ? null : "+t+".getShooter()",vc().Python.ORDER_NONE]},vc().Python.getnewboard=function(e){return'var manager = org.bukkit.Bukkit.getScoreboardManager();\nexports.board = manager.getNewScoreboard();\nvar objective = exports.board.registerNewObjective("objective1", "HEALTH", "Scoreboard");\nobjective.setDisplaySlot(org.bukkit.scoreboard.DisplaySlot.SIDEBAR);\n'},vc().Python.registernewteam=function(e){return["exports.board.registerNewTeam("+Rc(vc().Python.valueToCode(e,"NAME",vc().Python.ORDER_ATOMIC))+")",vc().Python.ORDER_NONE]},vc().Python.addteamplayer=function(e){return Rc(vc().Python.valueToCode(e,"TEAM",vc().Python.ORDER_ATOMIC))+".addPlayer ("+Rc(vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC))+");\n"},vc().Python.friendlyfire=function(e){return Rc(vc().Python.valueToCode(e,"TEAM",vc().Python.ORDER_ATOMIC))+".setAllowFriendlyFire ("+e.getFieldValue("ALLOWED")+");\n"},vc().Python.setscore=function(e){var t=Rc(vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC)),n=Rc(vc().Python.valueToCode(e,"VALUE",vc().Python.ORDER_ATOMIC));return kc("objective"),"if (player != null) {\n  objective = exports.board.getObjective (org.bukkit.scoreboard.DisplaySlot.SIDEBAR);\n  objective.getScore("+t+").setScore("+n+");\n  "+t+".setScoreboard (exports.board);\n}\n"},vc().Python.scoreboardtitle=function(e){var t=Rc(vc().Python.valueToCode(e,"TITLE",vc().Python.ORDER_ATOMIC));return kc("objective"),kc("players"),"objective = exports.board.getObjective (org.bukkit.scoreboard.DisplaySlot.SIDEBAR);\nobjective.setDisplayName("+t+');\n// Update scoreboard for all players\nplayers=server.getOnlinePlayers();\nfor (var playerIndex=0; playerIndex<players.length;playerIndex++) {\n  score=(players[playerIndex]=== null)? null : (players[playerIndex].getMetadata === null)?null:(players[playerIndex].getMetadata("_score_").length === 0)?null:players[playerIndex].getMetadata("_score_")[0].value();\n  objective = exports.board.getObjective (org.bukkit.scoreboard.DisplaySlot.SIDEBAR);\n  objective.getScore(players[playerIndex]).setScore(score);\n  players[playerIndex].setScoreboard (exports.board);\n}; \n'},vc().Python.increment=function(e){var t=Rc(vc().Python.valueToCode(e,"VARIABLE",vc().Python.ORDER_ATOMIC)),n="(function () {\n  var value = ( "+t+"===null)?0:"+t+";\n";return n=n+"  "+t+"= value+1;\n",n+="})();\n"},vc().Python.incrementdecrement=function(e){var t=Rc(vc().Python.valueToCode(e,"VARIABLE",vc().Python.ORDER_ATOMIC)),n="(function () {\n  var _val_ = ( "+t+"===null)?0:"+t+";\n";return n+="INCREMENT"===e.getFieldValue("INCREMENTDECREMENT")?"  _val_ = _val_+1;\n":"  _val_ = _val_-1;\n",n+="  return _val_;\n",[n+="})()",vc().Python.ORDER_NONE]},vc().Python.allplayerssetscore=function(e){var t=Rc(vc().Python.valueToCode(e,"SCORE",vc().Python.ORDER_ATOMIC));return kc("objective"),kc("players"),"objective = exports.board.getObjective (org.bukkit.scoreboard.DisplaySlot.SIDEBAR);\nplayers = server.getOnlinePlayers();\nfor (var playersIndex=0; playersIndex<players.length; playersIndex++) {\n  objective.getScore(players[playersIndex]).setScore("+t+");\n  players[playersIndex].setScoreboard (exports.board);\n}\n"},vc().Python.allplayersmessage=function(e){var t=Rc(vc().Python.valueToCode(e,"MESSAGE",vc().Python.ORDER_ATOMIC)),n=e.getFieldValue("DELAY");return(n="TRUE"===n)?'setTimeout (function () {\n  org.bukkit.Bukkit.dispatchCommand(org.bukkit.Bukkit.getConsoleSender(), "say @a " + '+t+");\n},500);\n":'org.bukkit.Bukkit.dispatchCommand(org.bukkit.Bukkit.getConsoleSender(), "say @a " + '+t+");\n"},vc().Python.diamondhelmet=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return t=Rc(t),kc("_player"),kc("items"),"_player = "+t+";\nitems = require ('items');\n_player.equipment.helmet = items.diamondHelmet(1);\n"},vc().Python.goldboots=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return t=Rc(t),kc("player"),kc("items"),"player = "+t+";\nitems = require ('items');\nplayer.equipment.boots = items.goldenBoots(1);\n"},vc().Python.changelocation=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"DIRECTION",vc().Python.ORDER_ATOMIC);return["(function() { \n  var _location = new org.bukkit.Location(server.worlds[0], "+t+".x, "+t+".y, "+t+".z);\n _location = ("+(n=Rc(n))+" === org.bukkit.block.BlockFace.NORTH ) ? _location.add (0,0,-1) : ("+n+" === org.bukkit.block.BlockFace.SOUTH ) ? _location.add (0,0,1) : ("+n+" === org.bukkit.block.BlockFace.EAST )   ? _location.add (1,0,0) : ("+n+" === org.bukkit.block.BlockFace.WEST )   ? _location.add (-1,0,0) : ("+n+" === org.bukkit.block.BlockFace.UP )     ? _location.add (0,1,0) : ("+n+" === org.bukkit.block.BlockFace.DOWN )   ? _location.add (0,-1,0):null;\n  return _location;\n })()",vc().Python.ORDER_NONE]},vc().Python.valueinlist=function(e){var t=vc().Python.valueToCode(e,"VALUE",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"LIST",vc().Python.ORDER_ATOMIC);return["("+(n=Rc(n))+".indexOf ( "+t+") >= 0)",vc().Python.ORDER_NONE]},vc().Python.deletefromlist=function(e){var t=e.getFieldValue("INDEX"),n=vc().Python.valueToCode(e,"LIST",vc().Python.ORDER_ATOMIC);return(n=Rc(n))+".splice ("+t+",1);\n"},vc().Python.forchinstring=function(e){var t=vc().Python.valueToCode(e,"LIST",vc().Python.ORDER_ADDITIVE);t=Rc(t);var n=vc().Python.statementToCode(e,"FORCODE");return kc("_ch"),"for (var _ch_i=0; _ch_i<"+t+".length;_ch_i++) {\n  _ch = "+t+".charAt(_ch_i);\n"+n+"};\n"},vc().Python.breakoutofloop=function(e){return"break;\n"},vc().Python.blockinradius=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"RADIUS",vc().Python.ORDER_ATOMIC);n=Rc(n);var o=vc().Python.valueToCode(e,"BLOCKTYPE",vc().Python.ORDER_ATOMIC);return["function(){var _found;var _block;var _loc;_found=false;\nfor (var x=-"+n+"; x<parseInt("+n+"*2); x++){for (var y=-"+n+"; y<parseInt("+n+"*2); y++) {for (var z=-"+n+"; z<parseInt("+n+"*2); z++) {\n_loc=(function() { var _x = "+t+".x + x;var _y = "+t+".y + y;var _z = "+t+".z + z;var _locBlockInRadius = new org.bukkit.Location(server.worlds[0],_x,_y,_z);return _locBlockInRadius; })();\n_block=server.worlds[0].getBlockAt (_loc);\nif ((((_block===null)?null:_block.getType()) === ("+(o=Rc(o))+"))){\n_found=true;break;}}if (_found){break;}}if (_found){break;}}\nreturn _found;}()\n",vc().Python.ORDER_NONE]},vc().Python.cancelfriendlydamage=function(e){return'(function () {var _target;var _team1;var _attacker;var _team2;var _owner;var _fd;\n_target=(event.getEntity=== null) ? null : event.getEntity();\n_team1=(_target=== null)? null : (_target.getMetadata === null)?null:(_target.getMetadata("_team_").length === 0)?null:_target.getMetadata("_team_")[0].value();\n_attacker=(event.getDamager=== null) ? null : event.getDamager();\n_team2=(_attacker=== null)? null : (_attacker.getMetadata === null)?null:(_attacker.getMetadata("_team_").length === 0)?null:_attacker.getMetadata("_team_")[0].value();\n_owner=(_attacker=== null)? null : (_attacker.getMetadata === null)?null:(_attacker.getMetadata("_owner_").length === 0)?null:_attacker.getMetadata("_owner_")[0].value();\nif ((_team1 != null) && (_team2 != null)){if (_team1 === _team2){if (_attacker != null ) {_attacker.sendMessage ("Ouch! we are on the same team yo");}\nif (_owner != null ) {_owner.sendMessage ("Stop! we are friends yo");}\nevent.cancelled = true;\n} else {\n_fd = new org.bukkit.metadata.FixedMetadataValue (__plugin,_attacker);\nif (_target != null) {if (_target.setMetadata != null ) {_target.setMetadata ("_attacker_", _fd );}}\n}}}());\n'},vc().Python.friendlynearby=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"RADIUS",vc().Python.ORDER_ATOMIC);n=Rc(n);var o=vc().Python.valueToCode(e,"TEAM",vc().Python.ORDER_ATOMIC);return["function () { var _near;var _players;var _distance;_near=false;\n_players=server.getOnlinePlayers();\nfor (var _i=0; _i<_players.length;_i++) {\n_distance="+t+".distance(_players[_i].location);\nif(_distance <= "+n+"){if (("+(o=Rc(o))+'=== ((_players[_i]=== null)? null : (_players[_i].getMetadata === null)?null:(_players[_i].getMetadata("_team_").length === 0)?null:_players[_i].getMetadata("_team_")[0].value()))){_near=true;break;}}}\nreturn _near;}()',vc().Python.ORDER_NONE]},vc().Python.randomizechests=function(e){var t=vc().Python.valueToCode(e,"GOODIES",vc().Python.ORDER_ATOMIC);return'(function () {var _world;var _chunks;var _chunk;var _blocks;var _blockType;var _inventory;\n_world=server.worlds[0];_chunks=_world.getLoadedChunks();\nfor (var _chunkIndex=0; _chunkIndex<_chunks.length;_chunkIndex++) {_chunk=_chunks[_chunkIndex];_blocks=_chunk.getTileEntities();for (var _blockIndex=0; _blockIndex<_blocks.length;_blockIndex++) {\n_blockType=(_blocks[_blockIndex]===null)?null:_blocks[_blockIndex].getType();\nif (_blockType === org.bukkit.Material.CHEST){\n_inventory=_blocks[_blockIndex].getBlockInventory();_inventory.clear();\nconsole.log ( "add goodies");\nfor (var _goodieIndex=0;_goodieIndex<'+(t=Rc(t))+".length;_goodieIndex++) {\nif ((parseInt (Math.random () * (100-1)) + 1) > 50){_inventory.addItem ("+t+"[_goodieIndex]);\n}}}}}})();\n"},vc().Python.m1garand=function(e){return'(function () {var _player;var _inhand;var _stack;var _fireAgain;var _projectile;var _shooter;var _team;var _fd;\nif (event instanceof org.bukkit.event.player.PlayerInteractEvent){\n_player=(event.getPlayer=== null) ? null : event.getPlayer();\n_inhand=(_player=== null) ? null :(_player.getItemInHand === null)?null:_player.getItemInHand();\n_stack=(_inhand=== null) ? null : (_inhand.getItemMeta === null) ? null : (_inhand.getItemMeta() === null)?null:_inhand.getItemMeta().getDisplayName();\nif (_stack === "M1-Garand"){\n_fireAgain=(_player=== null)? null : (_player.getMetadata === null)?null:(_player.getMetadata("_fireagain_").length === 0)?null:_player.getMetadata("_fireagain_")[0].value();\nif ((new Date().getTime()) > _fireAgain){\n_projectile=server.worlds[0].spawnEntity(_player.location,org.bukkit.entity.EntityType.ARROW);_player.launchProjectile(_projectile.getClass());_fd = new org.bukkit.metadata.FixedMetadataValue (__plugin,(new Date().getTime()) + 1000);\nif (_player != null) {\nif (_player.setMetadata != null ) {\n_player.setMetadata ("_fireagain_", _fd );\n}}}}\n}else if (event instanceof org.bukkit.event.entity.ProjectileLaunchEvent){\n_projectile=(event.getEntity=== null) ? null : event.getEntity();_shooter=(_projectile === null) ? null : (_projectile.getShooter === null) ? null : _projectile.getShooter();_team=(_shooter=== null)? null :(_shooter.getMetadata === null)?null:(_shooter.getMetadata("_team_").length === 0)?null:_shooter.getMetadata("_team_")[0].value();_fd = new org.bukkit.metadata.FixedMetadataValue (__plugin,_team);\nif (_projectile != null) {if (_projectile.setMetadata != null ) {_projectile.setMetadata ("_team_", _fd );\n}}_fd = new org.bukkit.metadata.FixedMetadataValue (__plugin,_shooter);if (_projectile != null) {if (_projectile.setMetadata != null ) {_projectile.setMetadata ("_owner_", _fd );}}\n_inhand=(_shooter=== null) ? null : ( _shooter.getItemInHand === null) ? null : _shooter.getItemInHand();_stack=(_inhand=== null) ? null : (_inhand.getItemMeta === null) ? null : (_inhand.getItemMeta() === null)?null:_inhand.getItemMeta().getDisplayName();\nif (stack === "M1-Garand"){(function() {var _vector = _projectile.getVelocity().normalize().multiply(7);if (!isNaN(_vector.x)){_projectile.setVelocity(_vector);}})();\n}}}());'},vc().Python.minigun=function(e){return'(function () {var _player;var _inhand;var _name;var _i;var _projectile;\nif (event instanceof org.bukkit.event.player.PlayerInteractEvent){\n_player=(event.getPlayer=== null) ? null : event.getPlayer();\n_inhand=(_player=== null)?null:( _player.getItemInHand === null) ? null : _player.getItemInHand();\n_name=(_inhand=== null)?null:(_inhand.getItemMeta===null)?null:(_inhand.getItemMeta()===null)?null:_inhand.getItemMeta().getDisplayName();\nif (_name === "minigun"){\n_i=0;var _test= setInterval (function () {\n_i=_i+1;\n_projectile=server.worlds[0].spawnEntity(_player.location,org.bukkit.entity.EntityType.ARROW);\n_player.launchProjectile(_projectile.getClass());\nif (!(_i<10)) {\nclearInterval (_test);\n}\n}, 200);\n}\n}\n}());'},vc().Python.dealcard=function(e){return["(function () {var _length = exports.cardDeck.length;\n   var _index = parseInt (Math.random () * _length );\n   var _card = exports.cardDeck.splice (_index,1);\n   console.log ( 'dealt a: ' + _card);\n   return _card;\n}());",vc().Python.ORDER_NONE]},vc().Python.createdeck=function(e){return"exports.cardDeck = ['clubs-a', 'clubs-2', 'clubs-3', 'clubs-4','clubs-5', 'clubs-6', 'clubs-7', 'clubs-8','clubs-9', 'clubs-10', 'clubs-j', 'clubs-q','clubs-k','hearts-a', 'hearts-2', 'hearts-3', 'hearts-4','hearts-5', 'hearts-6', 'hearts-7', 'hearts-8','hearts-9', 'hearts-10', 'hearts-j', 'hearts-q','hearts-k','spades-a', 'spades-2', 'spades-3', 'spades-4','spades-5', 'spades-6', 'spades-7', 'spades-8','spades-9', 'spades-10', 'spades-j', 'spades-q','spades-k','diamonds-a', 'diamonds-2', 'diamonds-3', 'diamonds-4','diamonds-5', 'diamonds-6', 'diamonds-7', 'diamonds-8','diamonds-9', 'diamonds-10', 'diamonds-j', 'diamonds-q','diamonds-k'];\n"},vc().Python.sumcards=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return["(function () {\n   var _inventory = "+(t=Rc(t))+".getInventory();\n   var _sum=0;\n   var _name;\n   var _index;\n   var _ch;\n   var _ch2;\n   var _values = {'':0, '0':0, '1':10, '2':2, '3':3, '4':4, '5':5, '6':6, '7':7, '8':8, '9':9, 'j':10, 'q':10, 'k':10, 'a':1};\n   for (var _i=0; _i<9; _i++) { \n     _name=("+t+".getInventory().getItem(_i)=== null) ? null : ("+t+".getInventory().getItem(_i).getItemMeta === null) ? null : ("+t+".getInventory().getItem(_i).getItemMeta() === null)?null:"+t+".getInventory().getItem(_i).getItemMeta().getDisplayName();\n     if (_name != null) { \n        _index = _name.indexOf ( '-'); \n        _ch  = _name.charAt (_index+1);\n        _ch2 = _name.charAt (_index+2);\n        //console.log ( '_ch,_ch2: [' + _ch + ',' + _ch2 + ']');\n        _sum = _sum  + _values[_ch] + _values[_ch2];\n        //console.log ( '_sum: ' + _sum );\n     }\n   }\n   if ((_ch === 'a') && (_sum <= 11)) { \n      _sum = _sum + 10;\n   }\n   console.log ( 'Got a sum of: ' + _sum );\n   return _sum;\n}());",vc().Python.ORDER_NONE]},vc().Python.starttimer=function(e){var t=e.getFieldValue("TIMERNAME"),n=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return"(function () {\n  fd = new org.bukkit.metadata.FixedMetadataValue (__plugin,new Date().getTime());\n  if ("+(n=Rc(n))+" != null) {\n    if ("+n+".setMetadata != null ) {\n       "+n+".setMetadata ("+t+", fd );\n    }\n  }\n}());\n"},vc().Python.elapsedtime=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=e.getFieldValue("TIMERNAME");return["(function () {\n   var _startTime = ("+t+"=== null)? 0 : ("+t+".getMetadata === null)?0:("+t+".getMetadata("+n+").length === 0)?0:"+t+".getMetadata("+n+")[0].value();\n   var _elapsedTime = (new Date().getTime()) - _startTime;\n   console.log ( 'Elapsed Time: ' + _elapsedTime + ' ms');\n   return _elapsedTime;\n}())",vc().Python.ORDER_NONE]},vc().Python.countBet=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return["(function () {\n   var _sum=0;\n   var _index;\n   var _stack;\n   var _stackType;\n   var _inventory = "+(t=Rc(t))+'.getInventory().getContents();\n   var _count = 0;\n   for (var _i=0; _i<_inventory.length; _i++)  {\n      _stack = _inventory[_i];\n      _stackType = (_stack === null ) ? null : (_stack.getType === null) ? null : _stack.getType();\n      // console.log ( _i + "): " + _stackType );\n      if (_stackType === org.bukkit.Material.EMERALD ){ \n         _count = _count + _stack.getAmount();\n      }\n      if (_i === 8) { break; }\n   }\n   console.log ( "Got a bet of:" + _count + " emeralds." );\n   return _count;})()',vc().Python.ORDER_NONE]},vc().Python.clearhotbar=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return"for (var _hotbarIndex=0; _hotbarIndex<9; _hotbarIndex++)  {\n  "+(t=Rc(t))+".getInventory().setItem (_hotbarIndex,new org.bukkit.inventory.ItemStack (org.bukkit.Material.AIR,1) );\n}\n"},vc().Python.blackjackdealer=function(e){var t=vc().Python.valueToCode(e,"FIRSTCARD",vc().Python.ORDER_ATOMIC);return["(function () {\n   var _count = 0;\n   var _sum = 0;\n   var _length;\n   var _index;\n   var _card;\n   var _name;\n   var _ch;\n   var _ch2;\n   var _values = {'':0, '0':0, '1':10, '2':2, '3':3, '4':4, '5':5, '6':6, '7':7, '8':8, '9':9, 'j':10, 'q':10, 'k':10, 'a':1};\n   console.log ( \"Got a first card of: \" + "+(t=Rc(t))+");\n   var _cards = [exports.dealerCard];\n   while (_sum < 17) {\n      _sum = 0;\n      // Dealer gets a random card\n      _length = exports.cardDeck.length;\n      _index = parseInt (Math.random () * _length );\n      _card = exports.cardDeck.splice (_index,1);\n      console.log ( 'dealt dealer a: ' + _card);\n      _cards.push ( _card );\n      // sum _cards\n      for (var _i=0; _i<_cards.length; _i++) { \n        //console.log ( '_cards[_i]: [' + _cards[_i] + ']');\n        _name = _cards[_i].toString();\n        _index = _name.indexOf ('-'); \n        //console.log ( '_name: [' + _name + '], _index:' + _index);\n        _ch  = _name.charAt (_index+1);\n        _ch2 = _name.charAt (_index+2);\n        //console.log ( '_ch,_ch2: [' + _ch + ',' + _ch2 + ']');\n        _sum = _sum  + _values[_ch] + _values[_ch2];\n        //console.log ( 'dealer _sum: ' + _sum );\n      }\n      if ((_ch === 'a') && (_sum <= 11)) { \n         _sum = _sum + 10;\n      }\n      console.log ( 'Got a dealer sum of: ' + _sum );\n   }\n   return _sum;})()",vc().Python.ORDER_NONE]},vc().Python.assigndamage=function(e){var t=vc().Python.valueToCode(e,"DAMAGE",vc().Python.ORDER_ATOMIC),n=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);return"if("+(n=Rc(n))+".damage != null) {"+n+".damage("+t+")};\n"},vc().Python.foreachloop=function(e){var t=vc().Python.valueToCode(e,"LIST",vc().Python.ORDER_ADDITIVE);t=Rc(t);var n=e.getFieldValue("ELEMENT");return n.indexOf('"')>-1&&(n=Oc(n,'"','"')),"for (var _elementIndex=0; _elementIndex <"+t+".length;_elementIndex++) {\n  "+n+" = "+t+"[_elementIndex];\n"+vc().Python.statementToCode(e,"FORCODE")+"};\n"},vc().Python.isjumping=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return["(function () {\n   var _isJumping = false;\n   var _velocity="+(t=Rc(t))+".getVelocity().getY();\n   var _block;\n   if (((Math.abs(_velocity-0.42)) < (0.01))){\n      if (!"+t+".isOnGround()) { \n         _isJumping = true;\n      }\n   }\n   return _isJumping;})()",vc().Python.ORDER_NONE]},vc().Python.getboots=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return["("+(t=Rc(t))+".getInventory().getBoots()=== null) ? null : "+t+".getInventory().getBoots()",vc().Python.ORDER_NONE]},vc().Python.nameentity=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);return"if ("+(t=Rc(t))+".setCustomName != null) { \n  "+t+".setCustomName ("+e.getFieldValue("NAME")+");\n}\n"},vc().Python.entityname=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);return["("+(t=Rc(t))+'.getCustomName === null) ? "" : '+t+".getCustomName()",vc().Python.ORDER_NONE]},vc().Python.randompotioneffect=function(e){return['(function () {\n   var _effects = [org.bukkit.potion.PotionEffectType.SPEED,org.bukkit.potion.PotionEffectType.SLOW,org.bukkit.potion.PotionEffectType.FAST_DIGGING,org.bukkit.potion.PotionEffectType.SLOW_DIGGING,org.bukkit.potion.PotionEffectType.INCREASE_DAMAGE,org.bukkit.potion.PotionEffectType.HEAL,org.bukkit.potion.PotionEffectType.HARM,\n                   org.bukkit.potion.PotionEffectType.JUMP,org.bukkit.potion.PotionEffectType.CONFUSION,org.bukkit.potion.PotionEffectType.REGENERATION,org.bukkit.potion.PotionEffectType.DAMAGE_RESISTANCE,org.bukkit.potion.PotionEffectType.FIRE_RESISTANCE,org.bukkit.potion.PotionEffectType.WATER_BREATHING,\n                   org.bukkit.potion.PotionEffectType.INVISIBILITY,org.bukkit.potion.PotionEffectType.BLINDNESS,org.bukkit.potion.PotionEffectType.NIGHT_VISION,org.bukkit.potion.PotionEffectType.HUNGER,org.bukkit.potion.PotionEffectType.WEAKNESS,org.bukkit.potion.PotionEffectType.POISON, \n                   org.bukkit.potion.PotionEffectType.WITHER,org.bukkit.potion.PotionEffectType.HEALTH_BOOST,org.bukkit.potion.PotionEffectType.ABSORPTION,org.bukkit.potion.PotionEffectType.SATURATION,org.bukkit.potion.PotionEffectType.GLOWING,org.bukkit.potion.PotionEffectType.LEVITATION,\n                   org.bukkit.potion.PotionEffectType.LUCK,org.bukkit.potion.PotionEffectType.UNLUCK,org.bukkit.potion.PotionEffectType.SLOW_FALLING,org.bukkit.potion.PotionEffectType.CONDUIT_POWER,org.bukkit.potion.PotionEffectType.DOLPHINS_GRACE,org.bukkit.potion.PotionEffectType.BAD_OMEN,\n                   org.bukkit.potion.PotionEffectType.HERO_OF_THE_VILLAGE];\n   var _index = parseInt (Math.random () * (_effects.length) );\n   console.log ( "Effect:" + _index );\n   return _effects[_index];})()',vc().Python.ORDER_NONE]},vc().Python.effectid=function(e){var t=vc().Python.valueToCode(e,"POTION",vc().Python.ORDER_ATOMIC);return['(function () {\n   var _id=null;\n   var _potions = ["SPEED","SLOW","FAST_DIGGING","SLOW_DIGGING","INCREASE_DAMAGE","HEAL","HARM","JUMP","CONFUSION","REGENERATION","DAMAGE_RESISTANCE","FIRE_RESISTANCE", "WATER_BREATHING", "INVISIBILITY", "BLINDNESS", "NIGHT_VISION", "HUNGER", "WEAKNESS", "POISON", "WITHER", "HEALTH_BOOST", "ABSORPTION", "SATURATION", "GLOWING", "LEVITATION", "LUCK", "UNLUCK", "SLOW_FALLING", "CONDUIT_POWER", "DOLPHINS_GRACE", "BAD_OMEN", "HERO_OF_THE_VILLAGE"];\n   for (var _i=0; _i<_potions.length; _i++) {\n      if (_potions[_i]==='+(t=Rc(t))+"){\n         _id = _i + 1;\n         break;\n      }\n   }\n   return _id;})()",vc().Python.ORDER_NONE]},vc().Python.giverandompotion=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);t=Rc(t);e.getFieldValue("NAME");return'(function () {\n   var _potions = ["SPEED","SLOW","FAST_DIGGING","SLOW_DIGGING","INCREASE_DAMAGE","HEAL","HARM","JUMP","CONFUSION","REGENERATION","RESISTANCE","FIRE_RESISTANCE", "WATER_BREATHING", "INVISIBILITY", "BLINDNESS", "NIGHT_VISION", "HUNGER", "WEAKNESS", "POISON", "WITHER", "HEALTH_BOOST", "ABSORPTION", "SATURATION", "GLOWING", "LEVITATION", "LUCK", "UNLUCK", "SLOW_FALLING", "CONDUIT_POWER", "DOLPHINS_GRACE", "BAD_OMEN", "HERO_OF_THE_VILLAGE"];\n   var _index = parseInt (Math.random () * (_potions.length) );\n   var _potion = _potions[_index];\n   var _cmd="give " + player.name + " splash_potion{CustomPotionEffects:[{Id:"+_index+",Duration:1200}],display:{Name:\\"\\\\\\"" + _potion + "\\\\\\"\\"}}";\n   console.log ( _cmd);\n   org.bukkit.Bukkit.dispatchCommand(org.bukkit.Bukkit.getConsoleSender(), _cmd);\n})();\n'},vc().Python.addeffecttopotion=function(e){var t=vc().Python.valueToCode(e,"EFFECT",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"POTION",vc().Python.ORDER_ATOMIC);n=Rc(n);var o=vc().Python.valueToCode(e,"DURATION",vc().Python.ORDER_ATOMIC);return o=20*parseFloat(Rc(o)),kc("_meta"),"if ("+n+".getItemMeta != null) { \n  _meta = "+n+".getItemMeta();\n  if (_meta.addCustomEffect != null) { \n    _meta.addCustomEffect (new org.bukkit.potion.PotionEffect("+t+"    ,"+parseInt(o)+",2), true);\n    "+n+".setItemMeta (_meta);\n  }\n}\n"},vc().Python.updateplayersinventory=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"ITEMSTACK",vc().Python.ORDER_ATOMIC);return t+".getInventory().addItem ("+(n=Rc(n))+");\n"},vc().Python.setstackname=function(e){var t=vc().Python.valueToCode(e,"STACK",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"NAME",vc().Python.ORDER_ATOMIC);return n=Rc(n),kc("_meta"),"_meta = "+t+".getItemMeta();\n_meta.setDisplayName("+n+");\n"+t+".setItemMeta (_meta);\n"},vc().Python.findcustomname=function(e){var t=e.getFieldValue("NAME");return kc("_entity"),kc("_entities"),["(function () {\n   _entity = null;\n   _entities = server.worlds[0].getEntities();\n   for (var _i = 0; _i<_entities.length; _i++) { \n      if (_entities[_i].getCustomName != null) { \n         if (_entities[_i].getCustomName() === "+t+") {\n            _entity = _entities[_i];\n            break;\n         }\n      }\n   }\n   return _entity;})()",vc().Python.ORDER_NONE]},vc().Python.isnull=function(e){var t=vc().Python.valueToCode(e,"VARIABLE",vc().Python.ORDER_ATOMIC);return["("+(t=Rc(t))+" === null)",vc().Python.ORDER_NONE]},vc().Python.addcustomeffect=function(e){var t=vc().Python.valueToCode(e,"EFFECT",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"CLOUD",vc().Python.ORDER_ATOMIC);n=Rc(n);var o=vc().Python.valueToCode(e,"DURATION",vc().Python.ORDER_ATOMIC);return o=20*parseFloat(Rc(o)),"if ("+n+".addCustomEffect != null) { \n    "+n+".addCustomEffect (new org.bukkit.potion.PotionEffect("+t+","+parseInt(o)+",2), true);\n}\n"},vc().Python.setduration=function(e){var t=vc().Python.valueToCode(e,"CLOUD",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"DURATION",vc().Python.ORDER_ATOMIC);return n=20*parseFloat(Rc(n)),"if ("+t+".setDuration != null) { \n    "+t+".setDuration ("+parseInt(n)+");\n}\n"},vc().Python.setcloudradius=function(e){var t=vc().Python.valueToCode(e,"CLOUD",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"RADIUS",vc().Python.ORDER_ATOMIC);return n=parseInt(Rc(n)),"if ("+t+".setRadius != null) { \n    "+t+".setRadius ("+parseInt(n)+");\n}\n"},vc().Python.getplayerarmor=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=e.getFieldValue("ARMOR");return["("+t+"===null)?null:("+t+".getInventory === null)?null:("+t+".getInventory().get"+n+"=== null) ? null : "+t+".getInventory().get"+n+"()",vc().Python.ORDER_NONE]},vc().Python.givearmor=function(e){var t=e.getFieldValue("ARMOR"),n=t.charAt(0).toUpperCase()+t.substring(1),o=e.getFieldValue("STYLE"),i=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return"var items = require ('items');\n"+(i=Rc(i))+".equipment."+t+" = items."+o+n+"(1);\n"},vc().Python.isopen=function(e){return["("+(e=Rc(e=vc().Python.valueToCode(e,"BLOCK",vc().Python.ORDER_ATOMIC)))+".getState === null) ? false : ("+e+".getState().getData === null) ? false : ("+e+".getState().getData().isOpen === null) ? false: "+e+".getState().getData().isOpen()",vc().Python.ORDER_NONE]},vc().Python.entityeffect=function(e){return["org.bukkit.EntityEffect."+e.getFieldValue("EFFECT"),vc().Python.ORDER_NONE]},vc().Python.playeffect=function(e){var t=vc().Python.valueToCode(e,"ENTITY",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"EFFECT",vc().Python.ORDER_ATOMIC);return t+".playEffect ("+(n=Rc(n))+");\n"},vc().Python.soundeffect=function(e){return["org.bukkit.Sound."+e.getFieldValue("EFFECT"),vc().Python.ORDER_NONE]},vc().Python.playsound=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"EFFECT",vc().Python.ORDER_ATOMIC);return"server.worlds[0].playSound ("+t+".getLocation(), "+(n=Rc(n))+", "+e.getFieldValue("VOLUME")+", 1);\n"},vc().Python.modplayerlocation=function(e){var t=e.getFieldValue("X"),n=e.getFieldValue("Y"),o=e.getFieldValue("Z"),i=Rc(vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC)),r=i+".location";return["(function() { var _x = "+r+".x + "+t+";var _y = "+r+".y + "+n+";var _z = "+r+".z + "+o+";var _loc = new org.bukkit.Location(server.worlds[0],_x,_y,_z);return _loc; })()",vc().Python.ORDER_NONE]},vc().Python.islocation=function(e){var t=e.getFieldValue("X"),n=e.getFieldValue("Y"),o=e.getFieldValue("Z"),i=Rc(vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC));return["( parseInt("+i+".x) !="+t+") ? false :( parseInt("+i+".y) !="+n+") ? false :( parseInt("+i+".z) !="+o+") ? false : true",vc().Python.ORDER_NONE]},vc().Python.counthotbar=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=Rc(vc().Python.valueToCode(e,"MATERIAL",vc().Python.ORDER_ATOMIC));return["(function () {\n   var _sum=0;\n   var _index;\n   var _stack;\n   var _stackType;\n   var _inventory = "+t+'.getInventory().getContents();\n   var _count = 0;\n   for (var _i=0; _i<_inventory.length; _i++)  {\n      _stack = _inventory[_i];\n      _stackType = (_stack === null ) ? null : (_stack.getType === null) ? null : _stack.getType();\n      // console.log ( _i + "): " + _stackType );\n      if (_stackType === '+n+' ){ \n         _count = _count + _stack.getAmount();\n      }\n      if (_i === 8) { break; }\n   }\n   console.log ( "Got a hotbar quantity of:" + _count + " '+n+'" );\n   return _count;})()',vc().Python.ORDER_NONE]},vc().Python.setglobal=function(e){var t=e.getFieldValue("VARNAME"),n=vc().Python.valueToCode(e,"EXPRESSION",vc().Python.ORDER_ATOMIC);return"exports."+t+"="+(n=Rc(n))+";\n"},vc().Python.globalvariable=function(e){return["exports."+e.getFieldValue("VARNAME"),vc().Python.ORDER_NONE]},vc().Python.removeitemhotbar=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=Rc(vc().Python.valueToCode(e,"MATERIAL",vc().Python.ORDER_ATOMIC));return"(function () {\n   var _sum=0;\n   var _index;\n   var _stack;\n   var _stackType;\n   var _inventory = "+t+".getInventory().getContents();\n   var _remaining = "+e.getFieldValue("COUNT")+";\n   var _count;\n   var _newStack;\n   for (var _i=0; _i<8; _i++)  {\n      _stack = _inventory[_i];\n      _stackType = (_stack === null ) ? null : (_stack.getType === null) ? null : _stack.getType();\n      if (_stackType === "+n+" ){ \n         if (_remaining === 0) break;\n         _count = _stack.getAmount();\n         if (_count >= _remaining) { \n            _count = _count - _remaining;\n            _remaining = 0;\n         } else { \n            _remaining = _remaining - _count; \n            _count = 0;\n         }\n         _newStack = new org.bukkit.inventory.ItemStack ("+n+",_count);\n         "+t+".getInventory().setItem (_i,_newStack);\n      }\n   }\n})();\n"},vc().Python.locationof=function(e){var t=vc().Python.valueToCode(e,"OBJECT",vc().Python.ORDER_ATOMIC);return["("+(t=Rc(t))+"=== null)?null:"+t+".location",vc().Python.ORDER_NONE]},vc().Python.setdoor=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC),n="(function () {\n   if ("+(t=Rc(t))+"!= null) { \n     var _block=server.worlds[0].getBlockAt("+t+');\n     var _myString = _block.toString();\n     var _isTop = _myString.indexOf ( "half=upper") > -1;\n     console.log ( "closedoor Is top: " + _isTop ); \n     if (_isTop) {\n        var _loc=(function() { var _x = '+t+".x;var _y = "+t+".y+-1;var _z = "+t+".z;var __loc = new org.bukkit.Location(server.worlds[0],_x,_y,_z);return __loc; })();\n        _block = server.worlds[0].getBlockAt ( _loc ); \n     }\n     var _state = _block.getState();\n     var _info  = _state.getData();\n";return n+="OPEN"===e.getFieldValue("EFFECT")?"     _info.setOpen (true);\n":"     _info.setOpen (false);\n",n+="     _state.setData (_info);\n     _state.update();\n   }\n})();\n"},vc().Python.fill=function(e){var t=Rc(vc().Python.valueToCode(e,"MATERIAL",vc().Python.ORDER_ATOMIC)),n=Rc(vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC));return"for (var _x = 0; _x<"+Rc(vc().Python.valueToCode(e,"X",vc().Python.ORDER_ATOMIC))+";_x++) { \n  for (var _y = 0; _y<"+Rc(vc().Python.valueToCode(e,"Y",vc().Python.ORDER_ATOMIC))+";_y++) { \n    for (var _z = 0; _z<"+Rc(vc().Python.valueToCode(e,"Z",vc().Python.ORDER_ATOMIC))+";_z++) { \n       var _loc = new org.bukkit.Location(server.worlds[0], parseInt("+n+".x+_x), parseInt("+n+".y+_y), parseInt("+n+".z+_z));\n       server.worlds[0].getBlockAt (_loc).setType ("+t+");\n    }\n  }\n}\n"},vc().Python.invincibility=function(e){return Rc(vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC))+".setNoDamageTicks ("+Rc(vc().Python.valueToCode(e,"TICKS",vc().Python.ORDER_ATOMIC))+");\n"},vc().Python.removearmor=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=e.getFieldValue("ARMOR");return t+".getInventory().set"+n+"(null);\nconsole.log ( '"+n+" removed for player: ' + "+t+".name );\n"},vc().Python.playernearby=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);t=Rc(t);var n=vc().Python.valueToCode(e,"RADIUS",vc().Python.ORDER_ATOMIC);return["function () { var _near;var _players;var _distance;_near=false;\n_players=server.getOnlinePlayers();\nfor (var _i=0; _i<_players.length;_i++) {\n_distance="+t+".distance(_players[_i].location);\nif(_distance <= "+(n=Rc(n))+"){if ("+Rc(vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC))+"=== _players[_i]){\n_near=true;break;}}}\nreturn _near;}()",vc().Python.ORDER_NONE]},vc().Python.removeallarmor=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return(t=Rc(t))+".getInventory().setHelmet(null);\n"+t+".getInventory().setLeggings(null);\n"+t+".getInventory().setChestplate(null);\n"+t+".getInventory().setBoots(null);\nconsole.log ( 'All armor removed for player: ' + "+t+".name );\n"},vc().Python.basicrenderfunction=function(e){return"exports.render  = function (mapView, mapCanvas, player) {\n  var _mapId;\n  var _filename;\n  var _title;\n  _mapId=mapView.getId();\n  _filename='scriptcraft/plugins/images/' + _mapId + '.jpg';\n  if (new java.io.File (_filename).exists()){\n    mapCanvas.drawImage (0,0,org.bukkit.map.MapPalette.resizeImage (new javax.swing.ImageIcon(_filename).getImage()) );\n  } else {\n    _title='scriptcraft/plugins/\\nimages/' + _mapId + '.jpg\\n\\nDoes not exist yet';\n    mapCanvas.drawText ( 10,10,org.bukkit.map.MinecraftFont.Font, _title);\n  }\n};\n"},vc().Python.title=function(e){var t=Rc(vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC)),n=e.getFieldValue("MESSAGETYPE"),o=e.getFieldValue("MESSAGE"),i=e.getFieldValue("COLOR"),r=e.getFieldValue("BOLD");r="TRUE"===r?"true":"false";var s=e.getFieldValue("ITALIC");return"org.bukkit.Bukkit.dispatchCommand(org.bukkit.Bukkit.getConsoleSender(), "+('"title " + '+t+'.name + " '+n+' {\\"text\\":\\"'+o+'\\",\\"italic\\":'+(s="TRUE"===s?"true":"false")+',\\"bold\\":'+r+',\\"color\\":\\"'+i+'\\"}"')+");\n"},vc().Python.playerinbox=function(e){var t=Rc(vc().Python.valueToCode(e,"LOCATION1",vc().Python.ORDER_ATOMIC)),n=Rc(vc().Python.valueToCode(e,"LOCATION2",vc().Python.ORDER_ATOMIC)),o=Rc(vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC));return["function () { var _x1; var _x2; var _y1; var _y2; var _z1; var _z2; var _inBox=false;\n  _x1 = Math.min (parseInt ("+t+".x), parseInt ("+n+".x));\n  _y1 = Math.min (parseInt ("+t+".y), parseInt ("+n+".y));\n  _z1 = Math.min (parseInt ("+t+".z), parseInt ("+n+".z));\n  _x2 = Math.max ("+t+".x, "+n+".x);\n  _y2 = Math.max ("+t+".y, "+n+".y);\n  _z2 = Math.max ("+t+".z, "+n+".z);\n  if (parseInt("+o+".location.x) >= _x1) {\n    if (parseInt("+o+".location.y) >= _y1) {\n      if (parseInt("+o+".location.z) >= _z1) {\n        if (parseInt("+o+".location.x) <= _x2) {\n          if (parseInt("+o+".location.y) <= _y2) {\n            if (parseInt("+o+".location.z) <= _z2) {\n               _inBox = true;\n            }\n          }\n        }\n      }\n    }\n  }\n  return _inBox;}()",vc().Python.ORDER_NONE]},vc().Python.playerpointed=function(e){var t=Rc(vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC));return["("+t+"=== null)?null: "+t+".location.get"+e.getFieldValue("PITCHYAW")+"()",vc().Python.ORDER_NONE]},vc().Python.setinhand=function(e){return Rc(vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC))+".getInventory().setItemInHand ("+Rc(vc().Python.valueToCode(e,"ITEM",vc().Python.ORDER_ATOMIC))+");\n"},vc().Python.playerinsphere=function(e){var t=Rc(vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC)),n=Rc(vc().Python.valueToCode(e,"RADIUS",vc().Python.ORDER_ATOMIC)),o=Rc(vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC));return["function () { _inSphere = false;\n  if (Math.abs("+o+".location.x - "+t+".x) <= "+n+"){ \n     if (Math.abs("+o+".location.y - "+t+".y) <= "+n+"){ \n        if (Math.abs("+o+".location.z - "+t+".z) <= "+n+"){ \n           _inSphere = true;\n        }\n     } \n  }\n  return _inSphere;\n}()",vc().Python.ORDER_NONE]},vc().Python.customizefirework=function(e){var t=Rc(vc().Python.valueToCode(e,"FIREWORK",vc().Python.ORDER_ATOMIC)),n=e.getFieldValue("COLOR"),o=e.getFieldValue("FADE"),i=e.getFieldValue("EFFECT"),r=e.getFieldValue("FLICKER");return"var _meta = org.bukkit.Bukkit.getItemFactory().getItemMeta(org.bukkit.Material.FIREWORK_ROCKET);\n_meta.setPower(0);\n_meta.addEffect(org.bukkit.FireworkEffect.builder()\n                   .withColor(org.bukkit.Color."+n+")\n                   .withFade(org.bukkit.Color."+o+")\n                   .with(org.bukkit.FireworkEffect.Type."+i+")\n                   .trail(false)\n                   .flicker("+(r="TRUE"===r)+")\n                   .build());\n"+t+".setFireworkMeta(_meta);\n"},vc().Python.locationtovector=function(e){var t=vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+".getDirection().normalize()",vc().Python.ORDER_NONE]},vc().Python.spawnarrow=function(e){var t=Rc(vc().Python.valueToCode(e,"LOCATION",vc().Python.ORDER_ATOMIC)),n=Rc(vc().Python.valueToCode(e,"VECTOR",vc().Python.ORDER_ATOMIC));return["server.worlds[0].spawnArrow("+t+","+n+","+n+".length(),"+e.getFieldValue("SPREAD")+");\n",vc().Python.ORDER_NONE]},vc().Python.equipmentslot=function(e){return["org.bukkit.inventory.EquipmentSlot."+e.getFieldValue("SLOT"),vc().Python.ORDER_NONE]},vc().Python.normalizevector=function(e){return[Rc(vc().Python.valueToCode(e,"VECTOR",vc().Python.ORDER_ATOMIC))+".normalize()",vc().Python.ORDER_NONE]},vc().Python.playeronground=function(e){return[Rc(vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC))+".isOnGround()",vc().Python.ORDER_NONE]},vc().Python.getdurability=function(e){var t=Rc(vc().Python.valueToCode(e,"ITEM",vc().Python.ORDER_ATOMIC));return["("+t+"===null)?-1:("+t+".getDurability === null)?-1:"+t+".getDurability()",vc().Python.ORDER_NONE]},vc().Python.stackinoffhand=function(e){var t=vc().Python.valueToCode(e,"PLAYER",vc().Python.ORDER_ATOMIC);return["("+(t=Rc(t))+"=== null) ? null : ( "+t+".getInventory().getItemInOffHand === null) ? null : "+t+".getInventory().getItemInOffHand()",vc().Python.ORDER_NONE]},vc().Python.stacklength=function(e){var t=vc().Python.valueToCode(e,"STACK",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+".getAmount()",vc().Python.ORDER_NONE]},vc().Python.decrementstack=function(e){var t=vc().Python.valueToCode(e,"STACK",vc().Python.ORDER_ATOMIC);return"if ("+(t=Rc(t))+".getAmount() > 0) {\n  "+t+".setAmount("+t+".getAmount ()-1); \n}\n"},vc().Python.randomlistitem=function(e){var t=vc().Python.valueToCode(e,"LIST",vc().Python.ORDER_ATOMIC);return["function () {\n  var index=parseInt(Math.random()*"+(t=Rc(t))+".length);\n  return "+t+"[index];\n}()",vc().Python.ORDER_NONE]},vc().Python.cakeslicesremaining=function(e){return["function () {\n   var remaining=-1;\n   var data;\n   var ind;\n   if ("+(e=Rc(e=vc().Python.valueToCode(e,"BLOCK",vc().Python.ORDER_ATOMIC)))+"!= null) {\n      if ("+e+".getState != null) {\n         if ("+e+".getState().getData != null) {\n            data = "+e+'.getState().getData().toString();\n            ind = data.indexOf ( "(") + 1;\n            remaining = 6 - parseInt (data.toString ().substring (ind));\n         }\n      }\n   }\n   return remaining;\n}()',vc().Python.ORDER_NONE]},vc().Python.getnamestructure=function(e){var t=vc().Python.valueToCode(e,"STRUCTURE",vc().Python.ORDER_ATOMIC);return[(t=Rc(t))+"."+e.getFieldValue("ELEMENT"),vc().Python.ORDER_NONE]},vc().Python.namevaluevariable=function(e){var t=e.getFieldValue("VARNAME"),n=vc().Python.valueToCode(e,"VALUE",vc().Python.ORDER_ATOMIC);return t+":"+(n=Rc(n))+","},vc().Python.namevaluestructure=function(e){var t=e.getFieldValue("NAME"),n=vc().Python.valueToCode(e,"VALUE",vc().Python.ORDER_ATOMIC);n=Rc(n);var o=vc().Python.valueToCode(e,"STRUCTURE",vc().Python.ORDER_ATOMIC);return(o=Rc(o))+"."+t+"="+n+";\n"},vc().Python.functioncallreturn=function(e){var t=e.getFieldValue("FUNCTIONNAME");return-1===t.indexOf("(")?t+="()":-1===t.indexOf(")")&&(t+=")"),[t,vc().Python.ORDER_NONE]},vc().Python.setdurability=function(e){var t=Rc(vc().Python.valueToCode(e,"ITEM",vc().Python.ORDER_ATOMIC));return"var meta = "+t+".getItemMeta();\nmeta.setDamage ("+Rc(vc().Python.valueToCode(e,"VALUE",vc().Python.ORDER_ATOMIC))+");\n"+t+".setItemMeta (meta);\n"};var Ac=function(){return Ac=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ac.apply(this,arguments)};var xc=function(t){var n=t.ref,o=t.initialXml,i=t.toolboxConfiguration,r=t.workspaceConfiguration,s=t.onWorkspaceChange,l=t.onImportXmlError,a=t.onInject,c=t.onDispose,u=e.useState(null),p=u[0],h=u[1],d=e.useState(o),f=d[0],g=d[1],_=e.useState(!1),m=_[0],y=_[1],v=e.useState(!1),T=v[0],E=v[1],k=e.useRef(r);e.useEffect((function(){k.current=r}),[r]);var b=e.useRef(i);e.useEffect((function(){b.current=i,i&&p&&p.updateToolbox(i)}),[i,p]);var C=e.useRef(a),S=e.useRef(c);e.useEffect((function(){C.current=a}),[a]),e.useEffect((function(){S.current=c}),[c]);var I=e.useCallback((function(e){s&&s(e)}),[s]);return e.useEffect((function(){if(n.current){var e=vc().inject(n.current,Ac(Ac({},k.current),{toolbox:b.current}));h(e),y(!1),E(!1),C.current&&C.current(e);var t=S.current;return function(){e.dispose(),t&&t(e)}}}),[n]),e.useEffect((function(){p&&!T&&I(p)}),[I,T,p]),e.useEffect((function(){if(null!=p){var e=function(){I(p)};return p.addChangeListener(e),function(){p.removeChangeListener(e)}}}),[p,I]),e.useEffect((function(){if(null!=p){var e=function(e,t){var n=null,o=null;return[function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];o=function(){n=null,e.apply(void 0,i)},clearTimeout(n),n=setTimeout(o,t)},function(){null!==n&&(clearTimeout(n),o())}]}((function(){var e=vc().Xml.domToText(vc().Xml.workspaceToDom(p));e!==f&&g(e)}),200),t=e[0],n=e[1];return p.addChangeListener(t),function(){p.removeChangeListener(t),n()}}}),[p,f]),e.useEffect((function(){if(f&&p&&!m){var e=function(e,t,n){try{return vc().Xml.domToWorkspace(vc().Xml.textToDom(e),t),!0}catch(o){return n&&n(o),!1}}(f,p,l);e||g(null),y(!0)}}),[f,p,m,l]),{workspace:p,xml:f}},Nc=n(6417),Dc=n(5192),Mc=n.n(Dc),Pc={initialXml:Mc().string,toolboxConfiguration:Mc().object,workspaceConfiguration:Mc().object,className:Mc().string,onWorkspaceChange:Mc().func,onImportXmlError:Mc().func,onXmlChange:Mc().func,onInject:Mc().func,onDispose:Mc().func};function Lc(t){var n=t.initialXml,o=t.toolboxConfiguration,i=t.workspaceConfiguration,r=t.className,s=t.onWorkspaceChange,l=t.onXmlChange,a=t.onImportXmlError,c=t.onInject,u=t.onDispose,p=e.useRef(null),h=xc({ref:p,initialXml:n,toolboxConfiguration:o,workspaceConfiguration:i,onWorkspaceChange:s,onImportXmlError:a,onInject:c,onDispose:u}).xml,d=e.useRef(l);return e.useEffect((function(){d.current=l}),[l]),e.useEffect((function(){d.current&&h&&d.current(h)}),[h]),(0,Nc.jsx)("div",{className:r,ref:p},void 0)}Lc.propTypes=Pc,Lc.defaultProps={initialXml:null,toolboxConfiguration:null,workspaceConfiguration:null,className:null,onWorkspaceChange:null,onImportXmlError:null,onXmlChange:null,onInject:null,onDispose:null};var Fc,$c=Lc,Uc=n(3318),Hc=n.n(Uc),Vc={kind:"categoryToolbox",contents:[{kind:"category",name:"World",colour:120,contents:[{kind:"block",type:"direction"},{kind:"block",type:"starttimer"},{kind:"block",type:"elapsedtime"},{kind:"block",type:"millis"},{kind:"block",type:"copyFile"},{kind:"category",name:"Scoreboard",contents:[{kind:"block",type:"getnewboard"},{kind:"block",type:"scoreboardtitle"},{kind:"block",type:"setscore"}]},{kind:"category",name:"Blocks",contents:[{kind:"block",type:"lookingat"},{kind:"block",type:"clickedBlock"},{kind:"block",type:"blocktype"},{kind:"block",type:"getblocktype"},{kind:"block",type:"changeBlock"},{kind:"block",type:"blockfacingdirection"},{kind:"block",type:"blockfacing"},{kind:"block",type:"setblockface"},{kind:"block",type:"blockface"},{kind:"block",type:"reverseface"},{kind:"block",type:"blocksradius"},{kind:"block",type:"isopen"},{kind:"category",name:"Location",contents:[{kind:"block",type:"getBlock"},{kind:"block",type:"spawnblock"},{kind:"block",type:"fill"},{kind:"block",type:"blockatlocation"},{kind:"block",type:"blockinradius"}]},{kind:"category",name:"Command Block",contents:[{kind:"block",type:"setblockcommand"},{kind:"block",type:"setconditional"}]},{kind:"category",name:"Sign",contents:[{kind:"block",type:"signtext"},{kind:"block",type:"getsignline"},{kind:"block",type:"signfacing"}]},{kind:"category",name:"Structures",contents:[{kind:"block",type:"structures"},{kind:"block",type:"buildstructure"}]},{kind:"category",name:"Door",contents:[{kind:"block",type:"setdoor"}]},{kind:"category",name:"Cake",contents:[{kind:"block",type:"cakeslicesremaining"}]}]},{kind:"category",name:"Location",contents:[{kind:"block",type:"absolutelocation"},{kind:"block",type:"locationadd"},{kind:"block",type:"modplayerlocation"},{kind:"block",type:"changelocation"},{kind:"block",type:"updatelocation"},{kind:"block",type:"snaplocation"},{kind:"block",type:"distancebetweenlocations"},{kind:"block",type:"locationof"},{kind:"block",type:"islocation"}]},{kind:"category",name:"Events",colour:40,contents:[{kind:"block",type:"actiontype"},{kind:"block",type:"eventlistener"},{kind:"block",type:"eventinfo"},{kind:"block",type:"eventcancel"},{kind:"block",type:"cancelfriendlydamage"},{kind:"block",type:"isjumping"}]},{kind:"category",name:"Effects",colour:120,contents:[{kind:"block",type:"killplayer"},{kind:"block",type:"lightning"},{kind:"block",type:"instantteleport"},{kind:"block",type:"teleport"},{kind:"block",type:"moveto"},{kind:"block",type:"settime"},{kind:"block",type:"gettime"},{kind:"block",type:"setstorm"},{kind:"block",type:"fireworks"},{kind:"block",type:"ability"}]},{kind:"category",name:"Vector",colour:40,contents:[{kind:"block",type:"createvector"},{kind:"block",type:"vector2points"},{kind:"block",type:"multiplyvector"},{kind:"block",type:"getvectorvelocity"},{kind:"block",type:"setvectorvelocity"},{kind:"block",type:"vectortoyaw"},{kind:"block",type:"locationtovector"},{kind:"block",type:"normalizevector"}]},{kind:"category",name:"Server",contents:[{kind:"block",type:"bordercenter"},{kind:"block",type:"bordersize"},{kind:"block",type:"servercommand"},{kind:"block",type:"setgamemode"},{kind:"block",type:"spawnarea"}]}]},{kind:"category",name:"Entities",colour:0,contents:[{kind:"block",type:"whichplayer"},{kind:"block",type:"getentitytype"},{kind:"block",type:"islivingentity"},{kind:"block",type:"entitydead"},{kind:"block",type:"allentities"},{kind:"block",type:"spawnentity"},{kind:"block",type:"spawnarrow"},{kind:"block",type:"entityname"},{kind:"block",type:"tameentity"},{kind:"block",type:"attackentity"},{kind:"block",type:"nearbyentities"},{kind:"block",type:"findentitybyname"},{kind:"block",type:"findentitybycustomname"},{kind:"block",type:"findcustomname"},{kind:"block",type:"findentitybylocation"},{kind:"block",type:"assigndamage"},{kind:"category",name:"AllPlayers",contents:[{kind:"block",type:"allplayers"},{kind:"block",type:"removeplayersdata"},{kind:"block",type:"removeplayersgear"},{kind:"block",type:"allplayerssetscore"},{kind:"block",type:"allplayersmessage"},{kind:"block",type:"playernearby"},{kind:"block",type:"activeteams"}]},{kind:"category",name:"Effects",contents:[{kind:"block",type:"entityeffect"},{kind:"block",type:"playeffect"},{kind:"block",type:"soundeffect"},{kind:"block",type:"playsound"}]},{kind:"category",name:"Player",contents:[{kind:"block",type:"setplayerhealth"},{kind:"block",type:"healthofplayer"},{kind:"block",type:"iteminhandis"},{kind:"block",type:"playerhas"},{kind:"block",type:"isplayer"},{kind:"block",type:"isspectator"},{kind:"block",type:"updateplayersinventory"},{kind:"block",type:"playerpointed"},{kind:"block",type:"setinhand"},{kind:"block",type:"invincibility"},{kind:"block",type:"playerinbox"},{kind:"block",type:"playerinsphere"},{kind:"block",type:"playeronground"},{kind:"category",name:"Hotbar",contents:[{kind:"block",type:"counthotbar"},{kind:"block",type:"clearhotbar"},{kind:"block",type:"sethotbar"},{kind:"block",type:"removeitemhotbar"}]}]},{kind:"category",name:"Projectiles",contents:[{kind:"block",type:"projectileentity"},{kind:"block",type:"isarrow"},{kind:"block",type:"issnowball"},{kind:"block",type:"launchprojectile"},{kind:"block",type:"customizefirework"},{kind:"block",type:"setprojectilespeed"},{kind:"block",type:"getshooter"}]},{kind:"category",name:"Creatures",contents:[{kind:"block",type:"entity"},{kind:"block",type:"entityType"},{kind:"block",type:"tocreature"},{kind:"block",type:"modifyEntity"},{kind:"block",type:"setName"},{kind:"block",type:"entityProfession"},{kind:"block",type:"entityArmor"},{kind:"block",type:"baby"},{kind:"block",type:"setpassenger"},{kind:"block",type:"offai"}]}]},{kind:"category",name:"Data",contents:[{kind:"category",name:"Global",contents:[{kind:"block",type:"setglobal"},{kind:"block",type:"globalvariable"}]},{kind:"category",name:"Block",contents:[{kind:"block",type:"setblockdata"},{kind:"block",type:"getblockdata"},{kind:"block",type:"existsblockdata"}]},{kind:"category",name:"Entity",contents:[{kind:"block",type:"setallplayersdata"},{kind:"block",type:"existsplayerdata"},{kind:"block",type:"setplayerdata"},{kind:"block",type:"getplayerdata2"},{kind:"block",type:"playerdataeq"},{kind:"block",type:"removeplayerdata"}]},{kind:"block",type:"dataexpression"},{kind:"block",type:"datavalue"},{kind:"block",type:"namevalue"},{kind:"block",type:"namevaluevariable"},{kind:"block",type:"getnamestructure"},{kind:"block",type:"namevaluestructure"}]},{kind:"category",name:"Items",colour:"320",contents:[{kind:"block",type:"updateinventory"},{kind:"block",type:"clearinventory"},{kind:"block",type:"nameofitem"},{kind:"block",type:"materialtype"},{kind:"block",type:"eggtype"},{kind:"block",type:"randomizechests"},{kind:"block",type:"playerinventory"},{kind:"block",type:"getdurability"},{kind:"block",type:"setdurability"},{kind:"category",name:"Stack",contents:[{kind:"block",type:"itemstack"},{kind:"block",type:"setstackname"},{kind:"block",type:"namethestack"},{kind:"block",type:"nameofstack"},{kind:"block",type:"materialdata"},{kind:"block",type:"dropitem"},{kind:"block",type:"stackinoffhand"},{kind:"block",type:"stacklength"},{kind:"block",type:"decrementstack"}]},{kind:"category",name:"Potions",contents:[{kind:"block",type:"addeffecttopotion"},{kind:"block",type:"addpotioneffect"},{kind:"block",type:"whicheffect"},{kind:"block",type:"randompotioneffect"},{kind:"block",type:"potionname"},{kind:"block",type:"giverandompotion"}]},{kind:"category",name:"Area Effect Cloud",contents:[{kind:"block",type:"addcustomeffect"},{kind:"block",type:"setduration"},{kind:"block",type:"setcloudradius"}]},{kind:"category",name:"Gear",contents:[{kind:"block",type:"equipmentname"},{kind:"block",type:"getcolor"},{kind:"block",type:"playerinventory"},{kind:"block",type:"getplayerarmor"},{kind:"block",type:"removearmor"},{kind:"block",type:"removeallarmor"},{kind:"block",type:"getequipmentname"},{kind:"block",type:"givearmor"},{kind:"block",type:"armorset"},{kind:"block",type:"equipmentslot"}]},{kind:"category",name:"Special Weapons",contents:[{kind:"block",type:"m1garand"},{kind:"block",type:"minigun"}]},{kind:"category",name:"Recipes",contents:[{kind:"block",type:"addingredient"},{kind:"block",type:"recipe"}]},{kind:"category",name:"Map",contents:[{kind:"block",type:"basicrenderfunction"},{kind:"block",type:"mapRenderer"},{kind:"block",type:"drawImage"},{kind:"block",type:"drawText"}]},{kind:"category",name:"Playing Cards",contents:[{kind:"block",type:"createdeck"},{kind:"block",type:"dealcard"},{kind:"block",type:"sumcards"},{kind:"block",type:"blackjackdealer"}]}]},{kind:"category",name:"Output",colour:160,contents:[{kind:"block",type:"consolelog"},{kind:"block",type:"echowidget"},{kind:"block",type:"sendmessage"},{kind:"block",type:"title"},{kind:"block",type:"sendUdpMessage"}]},{kind:"category",name:"Scriptcraft Coding",colour:"120",contents:[{kind:"block",type:"scriptcraftexpression"},{kind:"category",name:"Functions",contents:[{kind:"block",type:"scriptcraftfunction"},{kind:"block",type:"functionCall"},{kind:"block",type:"functioncallreturn"},{kind:"block",type:"repeatexecution"},{kind:"block",type:"delayedexecution"},{kind:"block",type:"hasfunction"},{kind:"block",type:"returnVariable"}]},{kind:"category",name:"".concat(vc().Msg.catVariables),contents:[{kind:"block",type:"varname"},{kind:"block",type:"setvariable"},{kind:"block",type:"setvariablevalue"},{kind:"block",type:"runexpression"}]},{kind:"category",name:"".concat(vc().Msg.catLoops),contents:[{kind:"block",type:"foreachloop"},{kind:"block",blockxml:'\n                            <block type="controls_repeat_ext">\n                                <value name="TIMES">\n                                <shadow type="math_number">\n                                    <field name="NUM">10</field>\n                                </shadow>\n                                </value>\n                            </block>\n                        '},{kind:"block",type:"controls_whileUntil"},{kind:"block",type:"forlistdo"},{kind:"block",type:"forchinstring"},{kind:"block",type:"breakoutofloop"}]},{kind:"category",name:"File I/O",contents:[{kind:"block",type:"fileExists"}]}]},{kind:"category",name:"".concat(vc().Msg.catText),colour:160,contents:[{kind:"block",type:"text"},{kind:"block",type:"tostring"},{kind:"block",type:"text_join"},{kind:"block",blockxml:'\n                    <block type="text_append">\n                        <value name="TEXT">\n                        <shadow type="text"></shadow>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'\n                    <block type="text_isEmpty">\n                        <value name="VALUE">\n                        <shadow type="text">\n                            <field name="TEXT"></field>\n                        </shadow>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'\n                    <block type="text_indexOf">\n                        <value name="VALUE">\n                        <block type="variables_get">\n                            <field name="VAR">{textVariable}</field>\n                        </block>\n                        </value>\n                        <value name="FIND">\n                        <shadow type="text">\n                            <field name="TEXT">abc</field>\n                        </shadow>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'\n                    <block type="text_charAt">\n                        <value name="VALUE">\n                        <block type="variables_get">\n                            <field name="VAR">{textVariable}</field>\n                        </block>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'\n                    <block type="text_getSubstring">\n                        <value name="STRING">\n                        <block type="variables_get">\n                            <field name="VAR">{textVariable}</field>\n                        </block>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'\n                    <block type="text_changeCase">\n                        <value name="TEXT">\n                        <shadow type="text">\n                            <field name="TEXT">abc</field>\n                        </shadow>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'\n                    <block type="text_getSubstring">\n                        <value name="STRING">\n                        <block type="variables_get">\n                            <field name="VAR">{textVariable}</field>\n                        </block>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'\n                    <block type="text_trim">\n                        <value name="TEXT">\n                        <shadow type="text">\n                            <field name="TEXT">abc</field>\n                        </shadow>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'\n                    <block type="text_prompt_ext">\n                        <value name="TEXT">\n                        <shadow type="text">\n                            <field name="TEXT">abc</field>\n                        </shadow>\n                        </value>\n                    </block>\n                '}]},{kind:"category",name:"".concat(vc().Msg.catLogic),colour:210,contents:[{kind:"block",type:"controls_if"},{kind:"block",type:"logic_compare"},{kind:"block",type:"logic_operation"},{kind:"block",type:"logic_negate"},{kind:"block",type:"logic_boolean"},{kind:"block",type:"logic_null"},{kind:"block",type:"isnull"}]},{kind:"category",name:"".concat(vc().Msg.catMath),colour:"230",contents:[{kind:"block",type:"math_number"},{kind:"block",type:"randomnumber"},{kind:"block",type:"incrementdecrement"},{kind:"block",blockxml:'\n                    <block type="math_arithmetic">\n                        <value name="A">\n                        <shadow type="math_number">\n                            <field name="NUM">1</field>\n                        </shadow>\n                        </value>\n                        <value name="B">\n                        <shadow type="math_number">\n                            <field name="NUM">1</field>\n                        </shadow>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'\n                    <block type="math_single">\n                        <value name="NUM">\n                        <shadow type="math_number">\n                            <field name="NUM">9</field>\n                        </shadow>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'\n                    <block type="math_trig">\n                        <value name="NUM">\n                        <shadow type="math_number">\n                            <field name="NUM">45</field>\n                        </shadow>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'<block type="math_constant"></block>'},{kind:"block",blockxml:'\n                    <block type="math_number_property">\n                        <value name="NUMBER_TO_CHECK">\n                        <shadow type="math_number">\n                            <field name="NUM">0</field>\n                        </shadow>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'\n                    <block type="math_round">\n                        <value name="NUM">\n                        <shadow type="math_number">\n                            <field name="NUM">3.1</field>\n                        </shadow>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'\n                    <block type="math_on_list"></block>\n                '},{kind:"block",blockxml:'\n                    <block type="math_modulo">\n                        <value name="DIVIDEND">\n                        <shadow type="math_number">\n                            <field name="NUM">64</field>\n                        </shadow>\n                        </value>\n                        <value name="DIVISOR">\n                        <shadow type="math_number">\n                            <field name="NUM">10</field>\n                        </shadow>\n                        </value>\n                    </block>\n                '},{kind:"block",blockxml:'\n                    <block type="math_constrain">\n                        <value name="VALUE">\n                        <shadow type="math_number">\n                            <field name="NUM">50</field>\n                        </shadow>\n                        </value>\n                        <value name="LOW">\n                        <shadow type="math_number">\n                            <field name="NUM">1</field>\n                        </shadow>\n                        </value>\n                        <value name="HIGH">\n                        <shadow type="math_number">\n                            <field name="NUM">100</field>\n                        </shadow>\n                        </value>\n                    </block>\n                '}]},{kind:"category",name:"".concat(vc().Msg.catLists),colour:260,contents:[{kind:"block",type:"countcondition"},{kind:"block",blockxml:'\n                    <block type="lists_create_with">\n                        <mutation items="0"></mutation>\n                    </block>\n                '},{kind:"block",type:"lists_create_with"},{kind:"block",type:"randomlistitem"},{kind:"block",type:"valueinlist"},{kind:"block",blockxml:'\n                    <block type="lists_repeat">\n                        <value name="NUM">\n                        <shadow type="math_number">\n                            <field name="NUM">5</field>\n                        </shadow>\n                        </value>\n                    </block>\n                '},{kind:"block",type:"lists_length"},{kind:"block",type:"lists_isEmpty"},{kind:"block",type:"deletefromlist"},{kind:"block",blockxml:'\n                    <block type="lists_indexOf">\n                        <value name="VALUE">\n                        <block type="variables_get">\n                            <field name="VAR">'.concat(vc().Msg.listVariable,"</field>\n                        </block>\n                        </value>\n                    </block>\n                ")},{kind:"block",type:"pushlist"},{kind:"block",blockxml:'\n                    <block type="lists_getIndex">\n                        <value name="VALUE">\n                        <block type="variables_get">\n                            <field name="VAR">'.concat(vc().Msg.listVariable,"</field>\n                        </block>\n                        </value>\n                    </block>\n                ")},{kind:"block",blockxml:'\n                    <block type="lists_setIndex">\n                        <value name="LIST">\n                        <block type="variables_get">\n                            <field name="VAR">'.concat(vc().Msg.listVariable,"</field>\n                        </block>\n                        </value>\n                    </block>\n                ")},{kind:"block",blockxml:'\n                    <block type="lists_getSublist">\n                        <value name="LIST">\n                        <block type="variables_get">\n                            <field name="VAR">'.concat(vc().Msg.listVariable,"</field>\n                        </block>\n                        </value>\n                    </block>\n                ")},{kind:"block",blockxml:'\n                    <block type="lists_split">\n                        <value name="DELIM">\n                        <shadow type="text">\n                            <field name="TEXT">,</field>\n                        </shadow>\n                        </value>\n                    </block>\n                '}]},{kind:"category",name:"classes",colour:260,contents:[{kind:"category",name:"Class 1 - Listeners, Variables, Messages to Users",contents:[{kind:"block",type:"scriptcraftexpression"},{kind:"block",type:"varname"},{kind:"block",type:"setvariablevalue"},{kind:"block",type:"consolelog"},{kind:"block",type:"eventlistener"},{kind:"block",type:"eventinfo"},{kind:"block",type:"eventcancel"},{kind:"block",type:"sendmessage"},{kind:"block",type:"title"}]}]}]};!function(e){e.JavaScript="JavaScript",e.XML="XML",e.Blockly="Blockly"}(Fc||(Fc={}));var Gc=Fc,Wc=n(658),zc=n.n(Wc),Yc=function(t){me(o,t);var n=Ee(o);function o(){var e;de(this,o);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,o=n.onClose,i=n.noticeKey;o&&o(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return ge(o,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var t=this,n=this.props,o=n.prefixCls,i=n.className,r=n.closable,s=n.closeIcon,l=n.style,a=n.onClick,c=n.children,u=n.holder,p="".concat(o,"-notice"),f=Object.keys(this.props).reduce((function(e,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(e[n]=t.props[n]),e}),{}),g=e.createElement("div",h({className:v()(p,i,d({},"".concat(p,"-closable"),r)),style:l,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:a},f),e.createElement("div",{className:"".concat(p,"-content")},c),r?e.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(p,"-close")},s||e.createElement("span",{className:"".concat(p,"-close-x")})):null);return u?H.createPortal(g,u):g}}]),o}(e.Component);function jc(t){var n=e.useRef({}),o=c(e.useState([]),2),i=o[0],r=o[1];return[function(o){var i=!0;t.add(o,(function(t,o){var s=o.key;if(t&&(!n.current[s]||i)){var l=e.createElement(Yc,h({},o,{holder:t}));n.current[s]=l,r((function(e){var t=e.findIndex((function(e){return e.key===o.key}));if(-1===t)return[].concat(I(e),[l]);var n=I(e);return n[t]=l,n}))}i=!1}))},e.createElement(e.Fragment,null,i)]}Yc.defaultProps={onClose:function(){},duration:1.5};var Xc=0,Kc=Date.now();function Jc(){var e=Xc;return Xc+=1,"rcNotification_".concat(Kc,"_").concat(e)}var qc=function(t){me(o,t);var n=Ee(o);function o(){var e;de(this,o);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var o=t.key||Jc(),i=m(m({},t),{},{key:o}),r=e.props.maxCount;e.setState((function(e){var t=e.notices,s=t.map((function(e){return e.notice.key})).indexOf(o),l=t.concat();return-1!==s?l.splice(s,1,{notice:i,holderCallback:n}):(r&&t.length>=r&&(i.key=l[0].notice.key,i.updateMark=Jc(),i.userPassKey=o,l.shift()),l.push({notice:i,holderCallback:n})),{notices:l}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,o=n.key;return(n.userPassKey||o)!==t}))}}))},e.noticePropsMap={},e}return ge(o,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,o=this.props.transitionName;return!o&&n&&(o="".concat(t,"-").concat(n)),o}},{key:"render",value:function(){var t=this,n=this.state.notices,o=this.props,i=o.prefixCls,r=o.className,s=o.closeIcon,l=o.style,a=[];return n.forEach((function(e,o){var r=e.notice,l=e.holderCallback,c=o===n.length-1?r.updateMark:void 0,u=r.key,p=r.userPassKey,h=m(m(m({prefixCls:i,closeIcon:s},r),r.props),{},{key:u,noticeKey:p||u,updateMark:c,onClose:function(e){var n;t.remove(e),null===(n=r.onClose)||void 0===n||n.call(r)},onClick:r.onClick,children:r.content});a.push(u),t.noticePropsMap[u]={props:h,holderCallback:l}})),e.createElement("div",{className:v()(i,r),style:l},e.createElement(Sn,{keys:a,motionName:this.getTransitionName(),onVisibleChanged:function(e,n){var o=n.key;e||delete t.noticePropsMap[o]}},(function(n){var o=n.key,r=n.className,s=n.style,l=n.visible,a=t.noticePropsMap[o],c=a.props,u=a.holderCallback;return u?e.createElement("div",{key:o,className:v()(r,"".concat(i,"-hook-holder")),style:m({},s),ref:function(e){"undefined"!==typeof o&&(e?(t.hookRefs.set(o,e),u(e,c)):t.hookRefs.delete(o))}}):e.createElement(Yc,h({},c,{className:v()(r,null===c||void 0===c?void 0:c.className),style:m(m({},s),null===c||void 0===c?void 0:c.style),visible:l}))})))}}]),o}(e.Component);qc.newInstance=void 0,qc.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},qc.newInstance=function(t,n){var o=t||{},i=o.getContainer,r=g(o,["getContainer"]),s=document.createElement("div");i?i().appendChild(s):document.body.appendChild(s);var l=!1;H.render(e.createElement(qc,h({},r,{ref:function(e){l||(l=!0,n({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){H.unmountComponentAtNode(s),s.parentNode&&s.parentNode.removeChild(s)},useNotification:function(){return jc(e)}}))}})),s)};var Zc=qc,Qc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},eu=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:Qc}))};eu.displayName="ExclamationCircleFilled";var tu=e.forwardRef(eu),nu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},ou=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:nu}))};ou.displayName="InfoCircleFilled";var iu=e.forwardRef(ou);var ru="RC_FORM_INTERNAL_HOOKS",su=function(){P(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},lu=e.createContext({getFieldValue:su,getFieldsValue:su,getFieldError:su,getFieldWarning:su,getFieldsError:su,isFieldsTouched:su,isFieldTouched:su,isFieldValidating:su,isFieldsValidating:su,resetFields:su,setFields:su,setFieldsValue:su,validateFields:su,submit:su,getInternalHooks:function(){return su(),{dispatch:su,initEntityValue:su,registerField:su,useSubscribe:su,setInitialValues:su,setCallbacks:su,getFields:su,setValidateMessages:su,setPreserve:su,getInitialValue:su}}});function au(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function cu(){return cu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},cu.apply(this,arguments)}function uu(e){return uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uu(e)}function pu(e,t){return pu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pu(e,t)}function hu(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function du(e,t,n){return du=hu()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&pu(i,n.prototype),i},du.apply(null,arguments)}function fu(e){var t="function"===typeof Map?new Map:void 0;return fu=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return du(e,arguments,uu(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),pu(o,e)},fu(e)}var gu=/%[sdj%]/g;function _u(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function mu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=0,r=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var s=e.replace(gu,(function(e){if("%%"===e)return"%";if(i>=r)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return s}return e}function yu(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function vu(e,t,n){var o=0,i=e.length;!function r(s){if(s&&s.length)n(s);else{var l=o;o+=1,l<i?t(e[l],r):n([])}}([])}var Tu=function(e){var t,n;function o(t,n){var o;return(o=e.call(this,"Async Validation Error")||this).errors=t,o.fields=n,o}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,pu(t,n),o}(fu(Error));function Eu(e,t,n,o,i){if(t.first){var r=new Promise((function(t,r){var s=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);vu(s,n,(function(e){return o(e),e.length?r(new Tu(e,_u(e))):t(i)}))}));return r.catch((function(e){return e})),r}var s=!0===t.firstFields?Object.keys(e):t.firstFields||[],l=Object.keys(e),a=l.length,c=0,u=[],p=new Promise((function(t,r){var p=function(e){if(u.push.apply(u,e),++c===a)return o(u),u.length?r(new Tu(u,_u(u))):t(i)};l.length||(o(u),t(i)),l.forEach((function(t){var o=e[t];-1!==s.indexOf(t)?vu(o,n,p):function(e,t,n){var o=[],i=0,r=e.length;function s(e){o.push.apply(o,e||[]),++i===r&&n(o)}e.forEach((function(e){t(e,s)}))}(o,n,p)}))}));return p.catch((function(e){return e})),p}function ku(e,t){return function(n){var o,i;return o=e.fullFields?function(e,t){for(var n=e,o=0;o<t.length;o++){if(void 0==n)return n;n=n[t[o]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=o,n):{message:"function"===typeof n?n():n,fieldValue:o,field:n.field||e.fullField}}}function bu(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];"object"===typeof o&&"object"===typeof e[n]?e[n]=cu({},e[n],o):e[n]=o}return e}var Cu=function(e,t,n,o,i,r){!e.required||n.hasOwnProperty(e.field)&&!yu(t,r||e.type)||o.push(mu(i.messages.required,e.fullField))},Su={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Iu={integer:function(e){return Iu.number(e)&&parseInt(e,10)===e},float:function(e){return Iu.number(e)&&!Iu.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Iu.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(Su.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(Su.url)},hex:function(e){return"string"===typeof e&&!!e.match(Su.hex)}},Ru={required:Cu,whitespace:function(e,t,n,o,i){(/^\s+$/.test(t)||""===t)&&o.push(mu(i.messages.whitespace,e.fullField))},type:function(e,t,n,o,i){if(e.required&&void 0===t)Cu(e,t,n,o,i);else{var r=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(r)>-1?Iu[r](t)||o.push(mu(i.messages.types[r],e.fullField,e.type)):r&&typeof t!==e.type&&o.push(mu(i.messages.types[r],e.fullField,e.type))}},range:function(e,t,n,o,i){var r="number"===typeof e.len,s="number"===typeof e.min,l="number"===typeof e.max,a=t,c=null,u="number"===typeof t,p="string"===typeof t,h=Array.isArray(t);if(u?c="number":p?c="string":h&&(c="array"),!c)return!1;h&&(a=t.length),p&&(a=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),r?a!==e.len&&o.push(mu(i.messages[c].len,e.fullField,e.len)):s&&!l&&a<e.min?o.push(mu(i.messages[c].min,e.fullField,e.min)):l&&!s&&a>e.max?o.push(mu(i.messages[c].max,e.fullField,e.max)):s&&l&&(a<e.min||a>e.max)&&o.push(mu(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,o,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&o.push(mu(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,o,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||o.push(mu(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||o.push(mu(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Ou=function(e,t,n,o,i){var r=e.type,s=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(yu(t,r)&&!e.required)return n();Ru.required(e,t,o,s,i,r),yu(t,r)||Ru.type(e,t,o,s,i)}n(s)},wu={string:function(e,t,n,o,i){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(yu(t,"string")&&!e.required)return n();Ru.required(e,t,o,r,i,"string"),yu(t,"string")||(Ru.type(e,t,o,r,i),Ru.range(e,t,o,r,i),Ru.pattern(e,t,o,r,i),!0===e.whitespace&&Ru.whitespace(e,t,o,r,i))}n(r)},method:function(e,t,n,o,i){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(yu(t)&&!e.required)return n();Ru.required(e,t,o,r,i),void 0!==t&&Ru.type(e,t,o,r,i)}n(r)},number:function(e,t,n,o,i){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(""===t&&(t=void 0),yu(t)&&!e.required)return n();Ru.required(e,t,o,r,i),void 0!==t&&(Ru.type(e,t,o,r,i),Ru.range(e,t,o,r,i))}n(r)},boolean:function(e,t,n,o,i){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(yu(t)&&!e.required)return n();Ru.required(e,t,o,r,i),void 0!==t&&Ru.type(e,t,o,r,i)}n(r)},regexp:function(e,t,n,o,i){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(yu(t)&&!e.required)return n();Ru.required(e,t,o,r,i),yu(t)||Ru.type(e,t,o,r,i)}n(r)},integer:function(e,t,n,o,i){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(yu(t)&&!e.required)return n();Ru.required(e,t,o,r,i),void 0!==t&&(Ru.type(e,t,o,r,i),Ru.range(e,t,o,r,i))}n(r)},float:function(e,t,n,o,i){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(yu(t)&&!e.required)return n();Ru.required(e,t,o,r,i),void 0!==t&&(Ru.type(e,t,o,r,i),Ru.range(e,t,o,r,i))}n(r)},array:function(e,t,n,o,i){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();Ru.required(e,t,o,r,i,"array"),void 0!==t&&null!==t&&(Ru.type(e,t,o,r,i),Ru.range(e,t,o,r,i))}n(r)},object:function(e,t,n,o,i){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(yu(t)&&!e.required)return n();Ru.required(e,t,o,r,i),void 0!==t&&Ru.type(e,t,o,r,i)}n(r)},enum:function(e,t,n,o,i){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(yu(t)&&!e.required)return n();Ru.required(e,t,o,r,i),void 0!==t&&Ru.enum(e,t,o,r,i)}n(r)},pattern:function(e,t,n,o,i){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(yu(t,"string")&&!e.required)return n();Ru.required(e,t,o,r,i),yu(t,"string")||Ru.pattern(e,t,o,r,i)}n(r)},date:function(e,t,n,o,i){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(yu(t,"date")&&!e.required)return n();var s;if(Ru.required(e,t,o,r,i),!yu(t,"date"))s=t instanceof Date?t:new Date(t),Ru.type(e,s,o,r,i),s&&Ru.range(e,s.getTime(),o,r,i)}n(r)},url:Ou,hex:Ou,email:Ou,required:function(e,t,n,o,i){var r=[],s=Array.isArray(t)?"array":typeof t;Ru.required(e,t,o,r,i,s),n(r)},any:function(e,t,n,o,i){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(yu(t)&&!e.required)return n();Ru.required(e,t,o,r,i)}n(r)}};function Bu(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Au=Bu(),xu=function(){function e(e){this.rules=null,this._messages=Au,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var o=e[n];t.rules[n]=Array.isArray(o)?o:[o]}))},t.messages=function(e){return e&&(this._messages=bu(Bu(),e)),this._messages},t.validate=function(t,n,o){var i=this;void 0===n&&(n={}),void 0===o&&(o=function(){});var r=t,s=n,l=o;if("function"===typeof s&&(l=s,s={}),!this.rules||0===Object.keys(this.rules).length)return l&&l(null,r),Promise.resolve(r);if(s.messages){var a=this.messages();a===Au&&(a=Bu()),bu(a,s.messages),s.messages=a}else s.messages=this.messages();var c={};(s.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],o=r[e];n.forEach((function(n){var s=n;"function"===typeof s.transform&&(r===t&&(r=cu({},r)),o=r[e]=s.transform(o)),(s="function"===typeof s?{validator:s}:cu({},s)).validator=i.getValidationMethod(s),s.validator&&(s.field=e,s.fullField=s.fullField||e,s.type=i.getType(s),c[e]=c[e]||[],c[e].push({rule:s,value:o,source:r,field:e}))}))}));var u={};return Eu(c,s,(function(t,n){var o,i=t.rule,l=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function a(e,t){return cu({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(o){void 0===o&&(o=[]);var c=Array.isArray(o)?o:[o];!s.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var p=c.map(ku(i,r));if(s.first&&p.length)return u[i.field]=1,n(p);if(l){if(i.required&&!t.value)return void 0!==i.message?p=[].concat(i.message).map(ku(i,r)):s.error&&(p=[s.error(i,mu(s.messages.required,i.field))]),n(p);var h={};i.defaultField&&Object.keys(t.value).map((function(e){h[e]=i.defaultField})),h=cu({},h,t.rule.fields);var d={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];d[e]=n.map(a.bind(null,e))}));var f=new e(d);f.messages(s.messages),t.rule.options&&(t.rule.options.messages=s.messages,t.rule.options.error=s.error),f.validate(t.value,t.rule.options||s,(function(e){var t=[];p&&p.length&&t.push.apply(t,p),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(p)}l=l&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator?o=i.asyncValidator(i,t.value,c,t.source,s):i.validator&&(!0===(o=i.validator(i,t.value,c,t.source,s))?c():!1===o?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):o instanceof Array?c(o):o instanceof Error&&c(o.message)),o&&o.then&&o.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function o(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)o(e[i]);t.length?(n=_u(t),l(t,n)):l(null,r)}(e)}),r)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!wu.hasOwnProperty(e.type))throw new Error(mu("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?wu.required:wu[this.getType(e)]||void 0},e}();xu.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");wu[e]=t},xu.warning=function(){},xu.messages=Au,xu.validators=wu;var Nu="'${name}' is not a valid ${type}",Du={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Nu,method:Nu,array:Nu,object:Nu,number:Nu,date:Nu,boolean:Nu,integer:Nu,float:Nu,regexp:Nu,email:Nu,url:Nu,hex:Nu},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function Mu(e,t){for(var n=e,o=0;o<t.length;o+=1){if(null===n||void 0===n)return;n=n[t[o]]}return n}function Pu(e,t,n,o){if(!t.length)return n;var i,s,c=r(i=t)||S(i)||l(i)||a(),u=c[0],p=c.slice(1);return s=e||"number"!==typeof u?Array.isArray(e)?I(e):m({},e):[],o&&void 0===n&&1===p.length?delete s[u][p[0]]:s[u]=Pu(s[u],p,n,o),s}function Lu(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&o&&void 0===n&&!Mu(e,t.slice(0,-1))?e:Pu(e,t,n,o)}function Fu(e){return Array.isArray(e)?function(e){return e.map((function(e){return Fu(e)}))}(e):"object"===f(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=Fu(e[n]);return t}return e}(e):e}var $u=Fu;function Uu(e){return au(e)}function Hu(e,t){return Mu(e,t)}function Vu(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Lu(e,t,n,o);return i}function Gu(e,t){var n={};return t.forEach((function(t){var o=Hu(e,t);n=Vu(n,t,o)})),n}function Wu(e,t){return e&&e.some((function(e){return Xu(e,t)}))}function zu(e){return"object"===f(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function Yu(e,t){var n=Array.isArray(e)?I(e):m({},e);return t?(Object.keys(t).forEach((function(e){var o=n[e],i=t[e],r=zu(o)&&zu(i);n[e]=r?Yu(o,i||{}):$u(i)})),n):n}function ju(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return n.reduce((function(e,t){return Yu(e,t)}),e)}function Xu(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function Ku(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===f(t.target)&&e in t.target?t.target[e]:t}function Ju(e,t,n){var o=e.length;if(t<0||t>=o||n<0||n>=o)return e;var i=e[t],r=t-n;return r>0?[].concat(I(e.slice(0,n)),[i],I(e.slice(n,t)),I(e.slice(t+1,o))):r<0?[].concat(I(e.slice(0,t)),I(e.slice(t+1,n+1)),[i],I(e.slice(n+1,o))):e}var qu=xu;function Zu(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}function Qu(e,t,n,o,i){return ep.apply(this,arguments)}function ep(){return ep=i(p().mark((function t(n,o,i,r,s){var l,a,c,u,h,f,g,_;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete(l=m({},i)).ruleIndex,a=null,l&&"array"===l.type&&l.defaultField&&(a=l.defaultField,delete l.defaultField),c=new qu(d({},n,[l])),u=ju({},Du,r.validateMessages),c.messages(u),h=[],t.prev=8,t.next=11,Promise.resolve(c.validate(d({},n,o),m({},r)));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),t.t0.errors?h=t.t0.errors.map((function(t,n){var o=t.message;return e.isValidElement(o)?e.cloneElement(o,{key:"error_".concat(n)}):o})):(console.error(t.t0),h=[u.default]);case 16:if(h.length||!a){t.next=21;break}return t.next=19,Promise.all(o.map((function(e,t){return Qu("".concat(n,".").concat(t),e,a,r,s)})));case 19:return f=t.sent,t.abrupt("return",f.reduce((function(e,t){return[].concat(I(e),I(t))}),[]));case 21:return g=m(m({},i),{},{name:n,enum:(i.enum||[]).join(", ")},s),_=h.map((function(e){return"string"===typeof e?Zu(e,g):e})),t.abrupt("return",_);case 24:case"end":return t.stop()}}),t,null,[[8,13]])}))),ep.apply(this,arguments)}function tp(e,t,n,o,r,s){var l,a=e.join("."),c=n.map((function(e,t){var n=e.validator,o=m(m({},e),{},{ruleIndex:t});return n&&(o.validator=function(e,t,o){var i=!1,r=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){P(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||o.apply(void 0,t)}))}));i=r&&"function"===typeof r.then&&"function"===typeof r.catch,P(i,"`callback` is deprecated. Please return a promise instead."),i&&r.then((function(){o()})).catch((function(e){o(e||" ")}))}),o})).sort((function(e,t){var n=e.warningOnly,o=e.ruleIndex,i=t.warningOnly,r=t.ruleIndex;return!!n===!!i?o-r:n?1:-1}));if(!0===r)l=new Promise(function(){var e=i(p().mark((function e(n,i){var r,l,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<c.length)){e.next=12;break}return l=c[r],e.next=5,Qu(a,t,l,o,s);case 5:if(!(u=e.sent).length){e.next=9;break}return i([{errors:u,rule:l}]),e.abrupt("return");case 9:r+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var u=c.map((function(e){return Qu(a,t,e,o,s).then((function(t){return{errors:t,rule:e}}))}));l=(r?function(e){return op.apply(this,arguments)}(u):function(e){return np.apply(this,arguments)}(u)).then((function(e){return Promise.reject(e)}))}return l.catch((function(e){return e})),l}function np(){return(np=i(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,I(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function op(){return(op=i(p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(o){o.then((function(o){o.errors.length&&e([o]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ip=["name"],rp=[];function sp(e,t,n,o,i,r){return"function"===typeof e?e(t,n,"source"in r?{source:r.source}:{}):o!==i}var lp=function(t){me(o,t);var n=Ee(o);function o(t){var i;(de(this,o),(i=n.call(this,t)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=rp,i.warnings=rp,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,o=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,Uu(o)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(I(void 0===n?[]:n),I(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,o=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(o):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t(m(m({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var o=i.props,r=o.shouldUpdate,s=o.dependencies,l=void 0===s?[]:s,a=o.onReset,c=n.store,u=i.getNamePath(),p=i.getValue(e),h=i.getValue(c),d=t&&Wu(t,u);switch("valueUpdate"===n.type&&"external"===n.source&&p!==h&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=rp,i.warnings=rp,i.triggerMetaEvent()),n.type){case"reset":if(!t||d)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=rp,i.warnings=rp,i.triggerMetaEvent(),null===a||void 0===a||a(),void i.refresh();break;case"remove":if(r)return void i.reRender();break;case"setField":if(d){var f=n.data;return"touched"in f&&(i.touched=f.touched),"validating"in f&&!("originRCField"in f)&&(i.validatePromise=f.validating?Promise.resolve([]):null),"errors"in f&&(i.errors=f.errors||rp),"warnings"in f&&(i.warnings=f.warnings||rp),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(r&&!u.length&&sp(r,e,c,p,h,n))return void i.reRender();break;case"dependenciesUpdate":if(l.map(Uu).some((function(e){return Wu(n.relatedFields,e)})))return void i.reRender();break;default:if(d||(!l.length||u.length||r)&&sp(r,e,c,p,h,n))return void i.reRender()}!0===r&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),o=Promise.resolve().then((function(){if(!i.mounted)return[];var r=i.props,s=r.validateFirst,l=void 0!==s&&s,a=r.messageVariables,c=(e||{}).triggerName,u=i.getRules();c&&(u=u.filter((function(e){var t=e.validateTrigger;return!t||au(t).includes(c)})));var p=tp(t,n,u,e,l,a);return p.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rp;if(i.validatePromise===o){i.validatePromise=null;var t=[],n=[];e.forEach((function(e){var o=e.rule.warningOnly,i=e.errors,r=void 0===i?rp:i;o?n.push.apply(n,I(r)):t.push.apply(t,I(r))})),i.errors=t,i.warnings=n,i.triggerMetaEvent(),i.reRender()}})),p}));return i.validatePromise=o,i.dirty=!0,i.errors=rp,i.warnings=rp,i.triggerMetaEvent(),i.reRender(),o},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(ru).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(t){if("function"===typeof t){var n=i.getMeta();return m(m({},i.getOnlyChild(t(i.getControlled(),n,i.props.fieldContext))),{},{isFunction:!0})}var o=E(t);return 1===o.length&&e.isValidElement(o[0])?{child:o[0],isFunction:!1}:{child:o,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return Hu(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,o=t.validateTrigger,r=t.getValueFromEvent,s=t.normalize,l=t.valuePropName,a=t.getValueProps,c=t.fieldContext,u=void 0!==o?o:c.validateTrigger,p=i.getNamePath(),h=c.getInternalHooks,f=c.getFieldsValue,g=h(ru),_=g.dispatch,y=i.getValue(),v=a||function(e){return d({},l,e)},T=e[n],E=m(m({},e),v(y));E[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e=r?r.apply(void 0,n):Ku.apply(void 0,[l].concat(n)),s&&(e=s(e,y,f(!0))),_({type:"updateValue",namePath:p,value:e}),T&&T.apply(void 0,n)};var k=au(u||[]);return k.forEach((function(e){var t=E[e];E[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&_({type:"validateField",namePath:p,triggerName:e})}})),E},t.fieldContext)&&(0,(0,t.fieldContext.getInternalHooks)(ru).initEntityValue)(ve(i));return i}return ge(o,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var o=(0,n.getInternalHooks)(ru).registerField;this.cancelRegisterFunc=o(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var t,n=this.state.resetCount,o=this.props.children,i=this.getOnlyChild(o),r=i.child;return i.isFunction?t=r:e.isValidElement(r)?t=e.cloneElement(r,this.getControlled(r.props)):(P(!r,"`children` of Field is not validate ReactElement."),t=r),e.createElement(e.Fragment,{key:n},t)}}]),o}(e.Component);lp.contextType=lu,lp.defaultProps={trigger:"onChange",valuePropName:"value"};var ap=function(t){var n=t.name,o=g(t,ip),i=e.useContext(lu),r=void 0!==n?Uu(n):void 0,s="keep";return o.isListField||(s="_".concat((r||[]).join("_"))),e.createElement(lp,h({key:s,name:r},o,{fieldContext:i}))},cp=e.createContext(null),up=function(t){var n=t.name,o=t.initialValue,i=t.children,r=t.rules,s=t.validateTrigger,l=e.useContext(lu),a=e.useRef({keys:[],id:0}).current,c=e.useMemo((function(){var e=Uu(l.prefixName)||[];return[].concat(I(e),I(Uu(n)))}),[l.prefixName,n]),u=e.useMemo((function(){return m(m({},l),{},{prefixName:c})}),[l,c]),p=e.useMemo((function(){return{getKey:function(e){var t=c.length,n=e[t];return[a.keys[n],e.slice(t+1)]}}}),[c]);if("function"!==typeof i)return P(!1,"Form.List only accepts function as children."),null;return e.createElement(cp.Provider,{value:p},e.createElement(lu.Provider,{value:u},e.createElement(ap,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:r,validateTrigger:s,initialValue:o,isList:!0},(function(e,t){var n=e.value,o=void 0===n?[]:n,r=e.onChange,s=l.getFieldValue,u=function(){return s(c||[])||[]},p={add:function(e,t){var n=u();t>=0&&t<=n.length?(a.keys=[].concat(I(a.keys.slice(0,t)),[a.id],I(a.keys.slice(t))),r([].concat(I(n.slice(0,t)),[e],I(n.slice(t))))):(a.keys=[].concat(I(a.keys),[a.id]),r([].concat(I(n),[e]))),a.id+=1},remove:function(e){var t=u(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(a.keys=a.keys.filter((function(e,t){return!n.has(t)})),r(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=u();e<0||e>=n.length||t<0||t>=n.length||(a.keys=Ju(a.keys,e,t),r(Ju(n,e,t)))}}},h=o||[];return Array.isArray(h)||(h=[]),i(h.map((function(e,t){var n=a.keys[t];return void 0===n&&(a.keys[t]=a.id,n=a.keys[t],a.id+=1),{name:t,key:n,isListField:!0}})),p,t)}))))};var pp="__@field_split__";function hp(e){return e.map((function(e){return"".concat(f(e),":").concat(e)})).join(pp)}var dp=function(){function e(){de(this,e),this.kvs=new Map}return ge(e,[{key:"set",value:function(e,t){this.kvs.set(hp(e),t)}},{key:"get",value:function(e){return this.kvs.get(hp(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(hp(e))}},{key:"map",value:function(e){return I(this.kvs.entries()).map((function(t){var n=c(t,2),o=n[0],i=n[1],r=o.split(pp);return e({key:r.map((function(e){var t=c(e.match(/^([^:]*):(.*)$/),3),n=t[1],o=t[2];return"number"===n?Number(o):o})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,o=t.value;return e[n.join(".")]=o,null})),e}}]),e}(),fp=dp,gp=["name","errors"],_p=ge((function e(t){var n=this;de(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===ru?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue}):(P(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=ju({},n.store,e))},this.getInitialValue=function(e){return $u(Hu(n.initialValues,e))},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new fp;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=Uu(e);return t.get(n)||{INVALIDATE_NAME_PATH:Uu(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var o=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return o.forEach((function(n){var o,r="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(o=n.isListField)||void 0===o?void 0:o.call(n)))if(t){var s="getMeta"in n?n.getMeta():null;t(s)&&i.push(r)}else i.push(r)})),Gu(n.store,i.map(Uu))},this.getFieldValue=function(e){n.warningUnhooked();var t=Uu(e);return Hu(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:Uu(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=Uu(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=Uu(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var i,r=t[0],s=t[1],l=!1;0===t.length?i=null:1===t.length?Array.isArray(r)?(i=r.map(Uu),l=!1):(i=null,l=r):(i=r.map(Uu),l=s);var a=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return l?a.every(c):a.some(c);var u=new fp;i.forEach((function(e){u.set(e,[])})),a.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&u.update(n,(function(t){return[].concat(I(t),[e])}))}))}));var p=function(e){return e.some(c)},h=u.map((function(e){return e.value}));return l?h.every(p):h.some(p)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var o=e.map(Uu);return t.some((function(e){var t=e.getNamePath();return Wu(o,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new fp,o=n.getFieldEntities(!0);o.forEach((function(e){var n=e.props.initialValue,o=e.getNamePath();if(void 0!==n){var i=t.get(o)||new Set;i.add({entity:e,value:n}),t.set(o,i)}}));var i,r=function(o){o.forEach((function(o){if(void 0!==o.props.initialValue){var i=o.getNamePath();if(void 0!==n.getInitialValue(i))P(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var r=t.get(i);if(r&&r.size>1)P(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(r){var s=n.getFieldValue(i);e.skipExist&&void 0!==s||(n.store=Vu(n.store,i,I(r)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,o=t.get(e);o&&(n=i).push.apply(n,I(I(o).map((function(e){return e.entity}))))}))):i=o,r(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=ju({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var o=e.map(Uu);o.forEach((function(e){var t=n.getInitialValue(e);n.store=Vu(n.store,e,t)})),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(t,o,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach((function(e){var o=e.name,i=(e.errors,g(e,gp)),r=Uu(o);"value"in i&&(n.store=Vu(n.store,r,i.value)),n.notifyObservers(t,[r],{type:"setField",data:e})}))},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),o=m(m({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(o,"originRCField",{value:!0}),o}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var o=e.getNamePath();void 0===Hu(n.store,o)&&(n.store=Vu(n.store,o,t))}},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var r=void 0!==o?o:n.preserve;if(!1===r&&(!t||i.length>1)){var s=e.getNamePath(),l=t?void 0:n.getInitialValue(s);if(s.length&&n.getFieldValue(s)!==l&&n.fieldEntities.every((function(e){return!Xu(e.getNamePath(),s)}))){var a=n.store;n.store=Vu(a,s,l,!0),n.notifyObservers(a,[s],{type:"remove"}),n.triggerDependenciesUpdate(a,s)}}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,o=e.value;n.updateValue(t,o);break;case"validateField":var i=e.namePath,r=e.triggerName;n.validateFields([i],{triggerName:r})}},this.notifyObservers=function(e,t,o){if(n.subscribable){var i=m(m({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var o=n.getDependencyChildrenFields(t);return o.length&&n.validateFields(o),n.notifyObservers(e,o,{type:"dependenciesUpdate",relatedFields:[t].concat(I(o))}),o},this.updateValue=function(e,t){var o=Uu(e),i=n.store;n.store=Vu(n.store,o,t),n.notifyObservers(i,[o],{type:"valueUpdate",source:"internal"});var r=n.triggerDependenciesUpdate(i,o),s=n.callbacks.onValuesChange;s&&s(Gu(n.store,[o]),n.getFieldsValue());n.triggerOnFieldsChange([o].concat(I(r)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=ju(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,o=[],i=new fp;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=Uu(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(o.push(i),e(i))}}))}(e),o},this.triggerOnFieldsChange=function(e,t){var o=n.callbacks.onFieldsChange;if(o){var i=n.getFields();if(t){var r=new fp;t.forEach((function(e){var t=e.name,n=e.errors;r.set(t,n)})),i.forEach((function(e){e.errors=r.get(e.name)||e.errors}))}o(i.filter((function(t){var n=t.name;return Wu(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var o=!!e,i=o?e.map(Uu):[],r=[];n.getFieldEntities(!0).forEach((function(s){if(o||i.push(s.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&o){var l=s.getNamePath();l.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(l)}if(s.props.rules&&s.props.rules.length){var a=s.getNamePath();if(!o||Wu(i,a)){var c=s.validateRules(m({validateMessages:m(m({},Du),n.validateMessages)},t));r.push(c.then((function(){return{name:a,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var o=e.rule.warningOnly,i=e.errors;o?n.push.apply(n,I(i)):t.push.apply(t,I(i))})),t.length?Promise.reject({name:a,errors:t,warnings:n}):{name:a,errors:t,warnings:n}})))}}}));var s=function(e){var t=!1,n=e.length,o=[];return e.length?new Promise((function(i,r){e.forEach((function(e,s){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,o[s]=e,n>0||(t&&r(o),i(o))}))}))})):Promise.resolve([])}(r);n.lastValidatePromise=s,s.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var l=s.then((function(){return n.lastValidatePromise===s?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==s})}));return l.catch((function(e){return e})),l},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(o){console.error(o)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var mp=function(t){var n=e.useRef(),o=c(e.useState({}),2)[1];if(!n.current)if(t)n.current=t;else{var i=new _p((function(){o({})}));n.current=i.getForm()}return[n.current]},yp=e.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),vp=function(t){var n=t.validateMessages,o=t.onFormChange,i=t.onFormFinish,r=t.children,s=e.useContext(yp),l=e.useRef({});return e.createElement(yp.Provider,{value:m(m({},s),{},{validateMessages:m(m({},s.validateMessages),n),triggerFormChange:function(e,t){o&&o(e,{changedFields:t,forms:l.current}),s.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:l.current}),s.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(l.current=m(m({},l.current),{},d({},e,t))),s.registerForm(e,t)},unregisterForm:function(e){var t=m({},l.current);delete t[e],l.current=t,s.unregisterForm(e)}})},r)},Tp=yp,Ep=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],kp=function(t,n){var o=t.name,i=t.initialValues,r=t.fields,s=t.form,l=t.preserve,a=t.children,u=t.component,p=void 0===u?"form":u,d=t.validateMessages,_=t.validateTrigger,y=void 0===_?"onChange":_,v=t.onValuesChange,T=t.onFieldsChange,E=t.onFinish,k=t.onFinishFailed,b=g(t,Ep),C=e.useContext(Tp),S=c(mp(s),1)[0],R=S.getInternalHooks(ru),O=R.useSubscribe,w=R.setInitialValues,B=R.setCallbacks,A=R.setValidateMessages,x=R.setPreserve;e.useImperativeHandle(n,(function(){return S})),e.useEffect((function(){return C.registerForm(o,S),function(){C.unregisterForm(o)}}),[C,S,o]),A(m(m({},C.validateMessages),d)),B({onValuesChange:v,onFieldsChange:function(e){if(C.triggerFormChange(o,e),T){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];T.apply(void 0,[e].concat(n))}},onFinish:function(e){C.triggerFormFinish(o,e),E&&E(e)},onFinishFailed:k}),x(l);var N=e.useRef(null);w(i,!N.current),N.current||(N.current=!0);var D=a,M="function"===typeof a;M&&(D=a(S.getFieldsValue(!0),S));O(!M);var P=e.useRef();e.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==f(e)||"object"!==f(t))return!1;var n=Object.keys(e),o=Object.keys(t),i=new Set([].concat(I(n),I(o)));return I(i).every((function(n){var o=e[n],i=t[n];return"function"===typeof o&&"function"===typeof i||o===i}))})(P.current||[],r||[])||S.setFields(r||[]),P.current=r}),[r,S]);var L=e.useMemo((function(){return m(m({},S),{},{validateTrigger:y})}),[S,y]),F=e.createElement(lu.Provider,{value:L},D);return!1===p?F:e.createElement(p,h({},b,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),S.submit()},onReset:function(e){var t;e.preventDefault(),S.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),F)},bp=e.forwardRef(kp);bp.FormProvider=vp,bp.Field=ap,bp.List=up,bp.useForm=mp;var Cp=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Sp(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(o=e[n],i=t[n],!(o===i||Cp(o)&&Cp(i)))return!1;var o,i;return!0}var Ip=h({},Es.Modal);function Rp(e){Ip=e?h(h({},Ip),e):h({},Es.Modal)}var Op="internalMark",wp=function(t){me(o,t);var n=Ee(o);function o(e){var t;return de(this,o),(t=n.call(this,e)).getMemoizedContextValue=function(e,t){void 0===t&&(t=Sp);var n=null;function o(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var r=e.apply(this,o);return n={lastResult:r,lastArgs:o,lastThis:this},r}return o.clear=function(){n=null},o}((function(e){return h(h({},e),{exist:!0})})),Rp(e.locale&&e.locale.Modal),ms(e._ANT_MARK__===Op,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),t}return ge(o,[{key:"componentDidMount",value:function(){Rp(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&Rp(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){Rp()}},{key:"render",value:function(){var t=this.props,n=t.locale,o=t.children,i=this.getMemoizedContextValue(n);return e.createElement(bs.Provider,{value:i},o)}}]),o}(e.Component);wp.defaultProps={locale:{}};var Bp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},Ap=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:Bp}))};Ap.displayName="CheckCircleOutlined";var xp=e.forwardRef(Ap),Np={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},Dp=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:Np}))};Dp.displayName="CloseCircleOutlined";var Mp=e.forwardRef(Dp),Pp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},Lp=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:Pp}))};Lp.displayName="ExclamationCircleOutlined";var Fp=e.forwardRef(Lp),$p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},Up=function(t,n){return e.createElement(as,m(m({},t),{},{ref:n,icon:$p}))};Up.displayName="InfoCircleOutlined";var Hp,Vp,Gp,Wp={},zp=4.5,Yp=24,jp=24,Xp="",Kp="topRight",Jp=!1;function qp(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yp,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jp;switch(e){case"top":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:n,bottom:"auto"};break;case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottom":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:o};break;case"bottomLeft":t={left:0,top:"auto",bottom:o};break;default:t={right:0,top:"auto",bottom:o}}return t}function Zp(e,t){var n=e.placement,o=void 0===n?Kp:n,i=e.top,r=e.bottom,s=e.getContainer,l=void 0===s?Hp:s,a=e.prefixCls,c=ph(),u=c.getPrefixCls,p=c.getIconPrefixCls,h=u("notification",a||Xp),f=p(),g="".concat(h,"-").concat(o),_=Wp[g];if(_)Promise.resolve(_).then((function(e){t({prefixCls:"".concat(h,"-notice"),iconPrefixCls:f,instance:e})}));else{var m=v()("".concat(h,"-").concat(o),d({},"".concat(h,"-rtl"),!0===Jp));Wp[g]=new Promise((function(e){Zc.newInstance({prefixCls:h,className:m,style:qp(o,i,r),getContainer:l,maxCount:Gp},(function(n){e(n),t({prefixCls:"".concat(h,"-notice"),iconPrefixCls:f,instance:n})}))}))}}var Qp={success:xp,info:e.forwardRef(Up),error:Mp,warning:Fp};function eh(t,n,o){var i=t.duration,r=t.icon,s=t.type,l=t.description,a=t.message,c=t.btn,u=t.onClose,p=t.onClick,h=t.key,f=t.style,g=t.className,_=t.closeIcon,m=void 0===_?Vp:_,y=void 0===i?zp:i,T=null;r?T=e.createElement("span",{className:"".concat(n,"-icon")},t.icon):s&&(T=e.createElement(Qp[s]||null,{className:"".concat(n,"-icon ").concat(n,"-icon-").concat(s)}));var E=e.createElement("span",{className:"".concat(n,"-close-x")},m||e.createElement(_s,{className:"".concat(n,"-close-icon")})),k=!l&&T?e.createElement("span",{className:"".concat(n,"-message-single-line-auto-margin")}):null;return{content:e.createElement(yh,{iconPrefixCls:o},e.createElement("div",{className:T?"".concat(n,"-with-icon"):"",role:"alert"},T,e.createElement("div",{className:"".concat(n,"-message")},k,a),e.createElement("div",{className:"".concat(n,"-description")},l),c?e.createElement("span",{className:"".concat(n,"-btn")},c):null)),duration:y,closable:!0,closeIcon:E,onClose:u,onClick:p,key:h,style:f||{},className:v()(g,d({},"".concat(n,"-").concat(s),!!s))}}var th={open:function(e){Zp(e,(function(t){var n=t.prefixCls,o=t.iconPrefixCls;t.instance.notice(eh(e,n,o))}))},close:function(e){Object.keys(Wp).forEach((function(t){return Promise.resolve(Wp[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,o=e.bottom,i=e.top,r=e.getContainer,s=e.closeIcon,l=e.prefixCls;void 0!==l&&(Xp=l),void 0!==t&&(zp=t),void 0!==n?Kp=n:e.rtl&&(Kp="topLeft"),void 0!==o&&(jp=o),void 0!==i&&(Yp=i),void 0!==r&&(Hp=r),void 0!==s&&(Vp=s),void 0!==e.rtl&&(Jp=e.rtl),void 0!==e.maxCount&&(Gp=e.maxCount)},destroy:function(){Object.keys(Wp).forEach((function(e){Promise.resolve(Wp[e]).then((function(e){e.destroy()})),delete Wp[e]}))}};["success","info","warning","error"].forEach((function(e){th[e]=function(t){return th.open(h(h({},t),{type:e}))}})),th.warn=th.warning,th.useNotification=function(t,n){return function(){var o,i=null,r=c(jc({add:function(e,t){null===i||void 0===i||i.component.add(e,t)}}),2),s=r[0],l=r[1];var a=e.useRef({});return a.current.open=function(e){var r=e.prefixCls,l=o("notification",r);t(h(h({},e),{prefixCls:l}),(function(t){var o=t.prefixCls,r=t.instance;i=r,s(n(e,o))}))},["success","info","warning","error"].forEach((function(e){a.current[e]=function(t){return a.current.open(h(h({},t),{type:e}))}})),[a.current,e.createElement(Ds,{key:"holder"},(function(e){return o=e.getPrefixCls,l}))]}}(Zp,eh);var nh=th,oh=function(){function e(t,n){var o;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=Sr(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(o=n.format)&&void 0!==o?o:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,o=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=fr(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=vr(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=vr(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.v);return 1===this.a?"hsv("+t+", "+n+"%, "+o+"%)":"hsva("+t+", "+n+"%, "+o+"%, "+this.roundA+")"},e.prototype.toHsl=function(){var e=mr(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=mr(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.l);return 1===this.a?"hsl("+t+", "+n+"%, "+o+"%)":"hsla("+t+", "+n+"%, "+o+"%, "+this.roundA+")"},e.prototype.toHex=function(e){return void 0===e&&(e=!1),Tr(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,o,i){var r=[_r(Math.round(e).toString(16)),_r(Math.round(t).toString(16)),_r(Math.round(n).toString(16)),_r(Er(o))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+e+", "+t+", "+n+")":"rgba("+e+", "+t+", "+n+", "+this.roundA+")"},e.prototype.toPercentageRgb=function(){var e=function(e){return Math.round(100*hr(e,255))+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*hr(e,255))};return 1===this.a?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Tr(this.r,this.g,this.b,!1),t=0,n=Object.entries(Cr);t<n.length;t++){var o=n[t],i=o[0];if(e===o[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,o=this.a<1&&this.a>=0;return t||!o||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=dr(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=dr(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=dr(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=dr(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),o=(n.h+t)%360;return n.h=o<0?360+o:o,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var o=this.toRgb(),i=new e(t).toRgb(),r=n/100;return new e({r:(i.r-o.r)*r+o.r,g:(i.g-o.g)*r+o.g,b:(i.b-o.b)*r+o.b,a:(i.a-o.a)*r+o.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var o=this.toHsl(),i=360/n,r=[this];for(o.h=(o.h-(i*t>>1)+720)%360;--t;)o.h=(o.h+i)%360,r.push(new e(o));return r},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),o=n.h,i=n.s,r=n.v,s=[],l=1/t;t--;)s.push(new e({h:o,s:i,v:r})),r=(r+l)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),o=new e(t).toRgb();return new e({r:o.r+(n.r-o.r)*n.a,g:o.g+(n.g-o.g)*n.a,b:o.b+(n.b-o.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),o=n.h,i=[this],r=360/t,s=1;s<t;s++)i.push(new e({h:(o+s*r)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var ih="-ant-".concat(Date.now(),"-").concat(Math.random());function rh(e,t){var n=function(e,t){var n={},o=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},i=function(e,t){var i=new oh(e),r=Fr(i.toRgbString());n["".concat(t,"-color")]=o(i),n["".concat(t,"-color-disabled")]=r[1],n["".concat(t,"-color-hover")]=r[4],n["".concat(t,"-color-active")]=r[7],n["".concat(t,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=r[1],n["".concat(t,"-color-deprecated-border")]=r[3]};if(t.primaryColor){i(t.primaryColor,"primary");var r=new oh(t.primaryColor),s=Fr(r.toRgbString());s.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=o(r,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=o(r,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=o(r,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=o(r,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=o(r,(function(e){return e.setAlpha(.12*e.getAlpha())}));var l=new oh(s[0]);n["primary-color-active-deprecated-f-30"]=o(l,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=o(l,(function(e){return e.darken(2)}))}t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info");var a=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(a.join("\n"),"\n  }\n  ").trim()}(e,t);Pe()?Xr(n,"".concat(ih,"-dynamic-theme")):ms(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}var sh,lh,ah=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"];function ch(){return sh||"ant"}function uh(){return lh||"anticon"}var ph=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(ch(),"-").concat(e):ch())},getIconPrefixCls:uh,getRootPrefixCls:function(e,t){return e||(sh||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):ch()))}}},hh=function(t){var n,o,i=t.children,r=t.csp,s=t.autoInsertSpaceInButton,l=t.form,a=t.locale,c=t.componentSize,u=t.direction,p=t.space,d=t.virtual,f=t.dropdownMatchSelectWidth,g=t.legacyLocale,_=t.parentContext,m=t.iconPrefixCls,y=e.useCallback((function(e,n){var o=t.prefixCls;if(n)return n;var i=o||_.getPrefixCls("");return e?"".concat(i,"-").concat(e):i}),[_.getPrefixCls,t.prefixCls]),v=h(h({},_),{csp:r,autoInsertSpaceInButton:s,locale:a||g,direction:u,space:p,virtual:d,dropdownMatchSelectWidth:f,getPrefixCls:y});ah.forEach((function(e){var n=t[e];n&&(v[e]=n)}));var T=L((function(){return v}),v,(function(e,t){var n=Object.keys(e),o=Object.keys(t);return n.length!==o.length||n.some((function(n){return e[n]!==t[n]}))})),E=e.useMemo((function(){return{prefixCls:m,csp:r}}),[m,r]),k=i,b={};return a&&(b=(null===(n=a.Form)||void 0===n?void 0:n.defaultValidateMessages)||(null===(o=Es.Form)||void 0===o?void 0:o.defaultValidateMessages)||{}),l&&l.validateMessages&&(b=h(h({},b),l.validateMessages)),Object.keys(b).length>0&&(k=e.createElement(vp,{validateMessages:b},i)),a&&(k=e.createElement(wp,{locale:a,_ANT_MARK__:Op},k)),(m||r)&&(k=e.createElement(pr.Provider,{value:E},k)),c&&(k=e.createElement(Ps,{size:c},k)),e.createElement(Ns.Provider,{value:T},k)},dh=function(t){return e.useEffect((function(){t.direction&&(xh.config({rtl:"rtl"===t.direction}),nh.config({rtl:"rtl"===t.direction}))}),[t.direction]),e.createElement(Cs,null,(function(n,o,i){return e.createElement(Ds,null,(function(n){return e.createElement(hh,h({parentContext:n,legacyLocale:i},t))}))}))};dh.ConfigContext=Ns,dh.SizeContext=Ls,dh.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,o=e.theme;void 0!==t&&(sh=t),void 0!==n&&(lh=n),o&&rh(ch(),o)};var fh,gh,_h,mh,yh=dh,vh=3,Th=1,Eh="",kh="move-up",bh=!1,Ch=!1;function Sh(){return Th++}function Ih(e,t){var n=e.prefixCls,o=e.getPopupContainer,i=ph(),r=i.getPrefixCls,s=i.getRootPrefixCls,l=i.getIconPrefixCls,a=r("message",n||Eh),c=s(e.rootPrefixCls,a),u=l();if(fh)t({prefixCls:a,rootPrefixCls:c,iconPrefixCls:u,instance:fh});else{var p={prefixCls:a,transitionName:bh?kh:"".concat(c,"-").concat(kh),style:{top:gh},getContainer:_h||o,maxCount:mh};Zc.newInstance(p,(function(e){fh?t({prefixCls:a,rootPrefixCls:c,iconPrefixCls:u,instance:fh}):(fh=e,t({prefixCls:a,rootPrefixCls:c,iconPrefixCls:u,instance:e}))}))}}var Rh={info:iu,success:Aa,error:Da,warning:tu,loading:ul},Oh=Object.keys(Rh);function wh(t,n,o){var i,r=void 0!==t.duration?t.duration:vh,s=Rh[t.type],l=v()("".concat(n,"-custom-content"),(d(i={},"".concat(n,"-").concat(t.type),t.type),d(i,"".concat(n,"-rtl"),!0===Ch),i));return{key:t.key,duration:r,style:t.style||{},className:t.className,content:e.createElement(yh,{iconPrefixCls:o},e.createElement("div",{className:l},t.icon||s&&e.createElement(s,null),e.createElement("span",null,t.content))),onClose:t.onClose,onClick:t.onClick}}var Bh={open:function(e){var t=e.key||Sh(),n=new Promise((function(n){var o=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};Ih(e,(function(n){var i=n.prefixCls,r=n.iconPrefixCls;n.instance.notice(wh(h(h({},e),{key:t,onClose:o}),i,r))}))})),o=function(){fh&&fh.removeNotice(t)};return o.then=function(e,t){return n.then(e,t)},o.promise=n,o},config:function(e){void 0!==e.top&&(gh=e.top,fh=null),void 0!==e.duration&&(vh=e.duration),void 0!==e.prefixCls&&(Eh=e.prefixCls),void 0!==e.getContainer&&(_h=e.getContainer,fh=null),void 0!==e.transitionName&&(kh=e.transitionName,fh=null,bh=!0),void 0!==e.maxCount&&(mh=e.maxCount,fh=null),void 0!==e.rtl&&(Ch=e.rtl)},destroy:function(e){if(fh)if(e){(0,fh.removeNotice)(e)}else{var t=fh.destroy;t(),fh=null}}};function Ah(e,t){e[t]=function(n,o,i){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(h(h({},n),{type:t})):("function"===typeof o&&(i=o,o=void 0),e.open({content:n,duration:o,type:t,onClose:i}))}}Oh.forEach((function(e){return Ah(Bh,e)})),Bh.warn=Bh.warning,Bh.useMessage=function(t,n){return function(){var o,i,r=null,s=c(jc({add:function(e,t){null===r||void 0===r||r.component.add(e,t)}}),2),l=s[0],a=s[1];var u=e.useRef({});return u.current.open=function(e){var s=e.prefixCls,a=o("message",s),c=o(),u=e.key||Sh(),p=new Promise((function(o){var s=function(){return"function"===typeof e.onClose&&e.onClose(),o(!0)};t(h(h({},e),{prefixCls:a,rootPrefixCls:c,getPopupContainer:i}),(function(t){var o=t.prefixCls,i=t.instance;r=i,l(n(h(h({},e),{key:u,onClose:s}),o))}))})),d=function(){r&&r.removeNotice(u)};return d.then=function(e,t){return p.then(e,t)},d.promise=p,d},Oh.forEach((function(e){return Ah(u.current,e)})),[u.current,e.createElement(Ds,{key:"holder"},(function(e){return o=e.getPrefixCls,i=e.getPopupContainer,a}))]}}(Ih,wh);var xh=Bh,Nh=function(e,t){console.log("save",e,t);var n=new(zc());n.file("project.xml",e),n.file("project.js",t),n.generateAsync({type:"blob"}).then((function(e){!function(e,t){var n=document.createElement("a"),o=window.URL.createObjectURL(e);n.setAttribute("href",o),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),setTimeout((function(){n.remove()}),300)}(e,"project.zip")}))},Dh=function(){var e=i(p().mark((function e(t){var n,o,i,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new(zc()),e.next=4,n.loadAsync(t);case 4:return o=e.sent,i=o.files["project.xml"],e.next=8,i.async("text");case 8:return r=e.sent,xh.success("\u5bfc\u5165\u6210\u529f"),e.abrupt("return",r);case 13:throw e.prev=13,e.t0=e.catch(0),xh.error("\u5bfc\u5165\u5931\u8d25"),Error("\u52a0\u8f7d\u5931\u8d25");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Mh=Us.TabPane;var Ph=function(){var t=c((0,e.useState)(""),2),n=t[0],o=t[1],r=c((0,e.useState)(""),2),s=r[0],l=r[1],a=(0,e.useRef)(null),u=function(){return a.current?vc().JavaScript.workspaceToCode(a.current):s},h=(0,e.useCallback)((function(e){}),[]),d=(0,e.useCallback)(function(){var e=i(p().mark((function e(t){var n,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dh(t);case 2:n=e.sent,o(Hc()(n)),a.current&&(i=vc().Xml.textToDom(n),vc().Xml.domToWorkspace(i,a.current));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),f=(0,e.useCallback)((function(e){a.current=e}),[]);return(0,Nc.jsxs)("div",{className:"app-container",children:[(0,Nc.jsxs)("div",{className:"action-container",children:[(0,Nc.jsx)(mc,{showUploadList:!1,accept:".zip",beforeUpload:d,children:(0,Nc.jsx)(ea,{type:"primary",children:"load project"})}),(0,Nc.jsx)(ea,{type:"primary",onClick:function(){var e=u();l(e),Nh(n,e)},children:"save"})]}),(0,Nc.jsxs)(Us,{defaultActiveKey:Gc.Blockly,onChange:function(e){switch(e){case Gc.XML:case Gc.Blockly:console.log(e);break;case Gc.JavaScript:var t=u();l(t)}},children:[(0,Nc.jsx)(Mh,{tab:Gc.Blockly,children:(0,Nc.jsx)($c,{toolboxConfiguration:Vc,initialXml:'<xml xmlns="http://www.w3.org/1999/xhtml"></xml>',className:"fill-height",workspaceConfiguration:{grid:{spacing:20,length:3,colour:"#ccc",snap:!0},zoom:{controls:!0,wheel:!0,startScale:1,maxScale:2,minScale:.5,scaleSpeed:1.2},media:"https://match-ide.pipacoding.com/cdn/minecraft_blockly/",trashcan:!0,scrollbars:!0},onWorkspaceChange:h,onXmlChange:function(e){o(Hc()(e))},onInject:f})},Gc.Blockly),(0,Nc.jsx)(Mh,{tab:Gc.JavaScript,children:(0,Nc.jsx)("pre",{className:"prettyprint",children:s})},Gc.JavaScript),(0,Nc.jsx)(Mh,{tab:Gc.XML,children:(0,Nc.jsx)("pre",{className:"prettyprint",children:n})},Gc.XML)]})]})},Lh=document.getElementById("root");t.s(Lh).render((0,Nc.jsx)(Ph,{}))}()}();
//# sourceMappingURL=main.bc685370.js.map